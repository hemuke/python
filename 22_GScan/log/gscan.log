开始扫描当前系统安全状态...
主机信息获取
主机名：k8s-ansible
主机IP：192.168.135.158
系统版本：Linux-3.10.0-957.el7.x86_64-x86_64-with-glibc2.10
主机时间：2021-05-14 15:27:38

检测系统初始化扫描
 [1]alias检查                           [ OK  ]

开始文件类安全扫描
 [1]系统重要文件hash对比                [ OK  ]
 [2]系统可执行文件安全扫描              [ OK  ]
 [3]系统临时目录安全扫描                [ OK  ]
 [4]各用户目录安全扫描                  [ 存在风险  ]
 [5]可疑隐藏文件扫描                    [ OK  ]
------------------------------
文件类安全检测
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py", "进程PID": "", "异常时间": "2020-09-29 00:50:20", "所属用户": "root", "异常信息": "反弹shell类： # certain interactive subprocesses, such as bash -i.", "手工排查确认": "[1]rpm -qa /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py [2]strings /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py", "风险级别": "风险", "处理方案": "rm /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py", "进程PID": "", "异常时间": "2020-11-11 09:54:36", "所属用户": "root", "异常信息": "境外ip操作类： http://132.154.8.8:1010/t/tk-abkdehc1n38cCBDHN-cje/more/stuf/like/this.html?q=bar", "手工排查确认": "[1]rpm -qa /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py [2]strings /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py", "风险级别": "风险", "处理方案": "rm /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py", "进程PID": "", "异常时间": "2020-09-29 00:50:20", "所属用户": "root", "异常信息": "反弹shell类： # certain interactive subprocesses, such as bash -i.", "手工排查确认": "[1]rpm -qa /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py [2]strings /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py", "风险级别": "风险", "处理方案": "rm /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "进程PID": "", "异常时间": "2020-08-24 18:48:56", "所属用户": "root", "异常信息": "反弹shell类：\"),0===t.length?e:e.replace(/\\{(\\d+)\\}/g,function(e,n){var r=n[0],s=t[r],o=e;return\"string\"==typeof s?o=s:\"number\"!=typeof s&&\"boolean\"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \"+new Error(\"\").stack):g(e[t],r):f(n)?(console.warn(\"Message \"+n+\" didn't get externalized correctly.\"),g(n,r)):void console.error(\"Broken localize call found. Stacktrace is\\n: \"+new Error(\"\").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return g(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+\"-\"+e.hash+\".json\"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:\"utf8\",flag:\"r\"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if(\"ENOENT\"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log(\"Syntax error parsing message bundle: \"+e.message+\".\"),l.unlink(o,function(e){e&&console.error(\"Deleting corrupted bundle \"+o+\" failed.\")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=m(n).contents,s=m(u.join(t,\"nls.metadata.json\")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+\"/\"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],g=l[f(d)?d:d.key];void 0===g&&(g=c.messages[p]),h.push(g)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:\"utf8\",flag:\"wx\"})}catch(e){if(\"EEXIST\"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=m(u.join(e,\"nls.metadata.json\")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log(\"Generating default bundle from meta data failed.\",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log(\"Load or create bundle failed \",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,\"nls.bundle.\"+t+\".json\");if(l.existsSync(n))return n;var r=t.lastIndexOf(\"-\");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,\"nls.bundle.json\");if(l.existsSync(n))return n}}(t);if(r)try{return m(r)}catch(e){console.log(\"Loading in the box message bundle failed.\",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,\"nls.metadata.header.json\"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,\"utf8\"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error(\"Failed to load nls bundle\",e),o=b(s,null)}}catch(e){console.error(\"Failed to read header file\",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\\\/g,\"/\"),g=o.nlsBundle[f];return void 0===g?(console.error(\"Messages for file \"+e+\" not found. See console for details.\"),function(){return\"Messages not found.\"}):_(g)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=m(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=\".nls.json\";else for(var n=a.language;n;){var r=\".nls.\"+n+\".json\";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf(\"-\");s>0?n=n.substring(0,s):(t=\".nls.json\",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error(\"String bundle '\"+e+\"' uses an unsupported format.\"),function(){return\"File bundle has unsupported format. See console for details\"})}catch(e){\"ENOENT\"!==e.code&&console.error(\"Failed to load single file bundle\",e)}return console.error(\"Failed to load message bundle for file \"+e),function(){return\"Failed to load message bundle. See console for details.\"}}!function(e){e.file=\"file\",e.bundle=\"bundle\",e.both=\"both\"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone=\"standalone\",e.languagePack=\"languagePack\"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages[\"*\"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:\"en\"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=m(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,\"corrupted\",\"utf8\",function(e){console.error(e)})}}}catch(e){}c=\"pseudo\"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c=\"pseudo\"===a.locale,R}},function(e,t){e.exports=require(\"child_process\")},function(e,t){e.exports=require(\"util\")},function(e,t){e.exports=require(\"url\")},,function(e,t){e.exports=require(\"net\")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('\"'+t+'\" is a required argument.')};var n=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/,r=/^data:.+\\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t=\"\";return e.scheme&&(t+=e.scheme+\":\"),t+=\"//\",e.auth&&(t+=e.auth+\"@\"),e.host&&(t+=e.host),e.port&&(t+=\":\"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\\/+/),u=0,l=c.length-1;l>=0;l--)\".\"===(i=c[l])?c.splice(l,1):\"..\"===i?u++:u>0&&(\"\"===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return\"\"===(n=c.join(\"/\"))&&(n=a?\"/\":\".\"),r?(r.path=n,o(r)):n}function a(e,t){\"\"===e&&(e=\".\"),\"\"===t&&(t=\".\");var n=s(t),a=s(e);if(a&&(e=a.path||\"/\"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c=\"/\"===t.charAt(0)?t:i(e.replace(/\\/+$/,\"\")+\"/\"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return\"/\"===e.charAt(0)||n.test(e)},t.relative=function(e,t){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var n=0;0!==t.indexOf(e+\"/\");){var r=e.lastIndexOf(\"/\");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\\/]+:\\/)?\\/*$/))return t;++n}return Array(n+1).join(\"../\")+t.substr(e.length+1)};var c=!(\"__proto__\"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?\"$\"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\\)]}'[^\\n]*\\n/,\"\"))},t.computeSourceURL=function(e,t,n){if(t=t||\"\",e&&(\"/\"!==e[e.length-1]&&\"/\"!==t[0]&&(e+=\"/\"),t=e+t),n){var r=s(n);if(!r)throw new Error(\"sourceMapURL could not be parsed\");if(r.path){var c=r.path.lastIndexOf(\"/\");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require(\"events\")},function(e,t,n){e.exports=f,f.Minimatch=m;var r={sep:\"/\"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=m.GLOBSTAR={},o=n(77),i={\"!\":{open:\"(?:(?!(?:\",close:\"))[^/]*?)\"},\"?\":{open:\"(?:\",close:\")?\"},\"+\":{open:\"(?:\",close:\")+\"},\"*\":{open:\"(?:\",close:\")*\"},\"@\":{open:\"(?:\",close:\")\"}},a=\"[^/]\",c=a+\"*?\",u=\"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\",l=\"(?:(?!(?:\\\\/|^)\\\\.).)*?\",h=\"().*{}+?[]^$\\\\!\".split(\"\").reduce(function(e,t){return e[t]=!0,e},{});var p=/\\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if(\"string\"!=typeof t)throw new TypeError(\"glob pattern string required\");return n||(n={}),!(!n.nocomment&&\"#\"===t.charAt(0))&&(\"\"===t.trim()?\"\"===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if(\"string\"!=typeof e)throw new TypeError(\"glob pattern string required\");t||(t={}),e=e.trim(),\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError(\"undefined pattern\");return t.nobrace||!e.match(/\\{.*\\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&\"#\"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&\"!\"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError(\"pattern is too long\");var n=this.options;if(!n.noglobstar&&\"**\"===e)return s;if(\"\"===e)return\"\";var r,o=\"\",u=!!n.nocase,l=!1,p=[],d=[],f=!1,m=-1,g=-1,v=\".\"===e.charAt(0)?\"\":n.dot?\"(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))\":\"(?!\\\\.)\",b=this;function y(){if(r){switch(r){case\"*\":o+=c,u=!0;break;case\"?\":o+=a,u=!0;break;default:o+=\"\\\\\"+r}b.debug(\"clearStateChar %j %j\",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug(\"%s\\t%s %s %j\",e,S,o,E),l&&h[E])o+=\"\\\\\"+E,l=!1;else switch(E){case\"/\":return!1;case\"\\\\\":y(),l=!0;continue;case\"?\":case\"*\":case\"+\":case\"@\":case\"!\":if(this.debug(\"%s\\t%s %s %j <-- stateChar\",e,S,o,E),f){this.debug(\" in class\"),\"!\"===E&&S===g+1&&(E=\"^\"),o+=E;continue}b.debug(\"call clearStateChar %j\",r),y(),r=E,n.noext&&y();continue;case\"(\":if(f){o+=\"(\";continue}if(!r){o+=\"\\\\(\";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+=\"!\"===r?\"(?:(?!(?:\":\"(?:\",this.debug(\"plType %j %j\",r,o),r=!1;continue;case\")\":if(f||!p.length){o+=\"\\\\)\";continue}y(),u=!0;var C=p.pop();o+=C.close,\"!\"===C.type&&d.push(C),C.reEnd=o.length;continue;case\"|\":if(f||!p.length||l){o+=\"\\\\|\",l=!1;continue}y(),o+=\"|\";continue;case\"[\":if(y(),f){o+=\"\\\\\"+E;continue}f=!0,g=S,m=o.length,o+=E;continue;case\"]\":if(S===g+1||!f){o+=\"\\\\\"+E,l=!1;continue}if(f){var w=e.substring(g+1,S);try{RegExp(\"[\"+w+\"]\")}catch(e){var O=this.parse(w,_);o=o.substr(0,m)+\"\\\\[\"+O[0]+\"\\\\]\",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||\"^\"===E&&f||(o+=\"\\\\\"),o+=E}f&&(w=e.substr(g+1),O=this.parse(w,_),o=o.substr(0,m)+\"\\\\[\"+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug(\"setting tail\",o,C),x=x.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g,function(e,t,n){return n||(n=\"\\\\\"),t+t+n+\"|\"}),this.debug(\"tail=%j\\n %s\",x,x,C,o);var k=\"*\"===C.type?c:\"?\"===C.type?a:\"\\\\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+\"\\\\(\"+x}y(),l&&(o+=\"\\\\\\\\\");var A=!1;switch(o.charAt(0)){case\".\":case\"[\":case\"(\":A=!0}for(var T=d.length-1;T>-1;T--){var P=d[T],L=o.slice(0,P.reStart),F=o.slice(P.reStart,P.reEnd-8),M=o.slice(P.reEnd-8,P.reEnd),I=o.slice(P.reEnd);M+=I;var N=L.split(\"(\").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\\)[+*?]?/,\"\");var D=\"\";\"\"===(I=j)&&t!==_&&(D=\"$\"),o=L+F+I+D+M}\"\"!==o&&u&&(o=\"(?=.)\"+o);A&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\\\(.)/g,\"$1\")}(e);var q=n.nocase?\"i\":\"\";try{var $=new RegExp(\"^\"+o+\"$\",q)}catch(e){return new RegExp(\"$.\")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?\"i\":\"\",o=e.map(function(e){return e.map(function(e){return e===s?n:\"string\"==typeof e?function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}(e):e._src}).join(\"\\\\/\")}).join(\"|\");o=\"^(?:\"+o+\")$\",this.negate&&(o=\"^(?!\"+o+\").*$\");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug(\"match\",e,this.pattern),this.comment)return!1;if(this.empty)return\"\"===e;if(\"/\"===e&&t)return!0;var n=this.options;\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\"));e=e.split(p),this.debug(this.pattern,\"split\",e);var s,o,i=this.set;for(this.debug(this.pattern,\"set\",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug(\"matchOne\",{this:this,file:e,pattern:t}),this.debug(\"matchOne\",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug(\"matchOne loop\");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug(\"GLOBSTAR\",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug(\"** at the end\");o<a;o++)if(\".\"===e[o]||\"..\"===e[o]||!r.dot&&\".\"===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(\"\\nglobstar while\",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug(\"globstar found match!\",p,a,f),!0;if(\".\"===f||\"..\"===f||!r.dot&&\".\"===f.charAt(0)){this.debug(\"dot detected!\",e,p,t,d);break}this.debug(\"globstar swallow a segment, and continue\"),p++}return!(!n||(this.debug(\"\\n>>> no match, partial?\",e,p,t,d),p!==a))}if(\"string\"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug(\"string match\",l,h,u)):(u=h.match(l),this.debug(\"pattern match\",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&\"\"===e[o];throw new Error(\"wtf?\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=\"win32\"===process.platform,a=\"x64\"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",t=r.join(e,\"Sysnative\",\"bash.exe\"),n=r.join(e,\"System32\",\"bash.exe\"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\\\/g,\"/\")}`:e.replace(/\\\\/g,\"/\")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",c=r.join(e,\"Sysnative\",\"bash.exe\"),l=r.join(e,\"System32\",\"bash.exe\"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\\\/g,\"/\")),e.indexOf(\" \")>0?`'${e}'`:e)).join(\" \");return{cwd:n,executable:p,args:[\"-c\",d],combined:[p].concat([\"-c\",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(44),s=n(15),o=n(7),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||\"Thread #\"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,\"number\"==typeof s&&(this.namedVariables=s),\"number\"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;\"number\"==typeof t&&(s.line=t),\"number\"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super(\"stopped\"),this.body={reason:e},\"number\"==typeof t&&(this.body.threadId=t),\"string\"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super(\"continued\"),this.body={threadId:e},\"boolean\"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super(\"initialized\")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super(\"terminated\"),\"boolean\"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t=\"console\",n){super(\"output\"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super(\"thread\"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super(\"breakpoint\"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super(\"module\"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super(\"loadedSource\"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super(\"capabilities\"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super(\"progressStart\"),this.body={progressId:e,title:t},\"string\"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super(\"progressUpdate\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}};var a;t.ProgressEndEvent=class extends s.Event{constructor(e,t){super(\"progressEnd\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}},function(e){e[e.User=1]=\"User\",e[e.Telemetry=2]=\"Telemetry\"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n=\"boolean\"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=\"boolean\"==typeof t&&t,this.on(\"close\",()=>{this.shutdown()}),this.on(\"error\",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=\"path\"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach(function(e,n,r){const s=/^--server=(\\d{4,5})$/.exec(e);s&&(t=parseInt(s[1],10))}),t>0)console.error(`waiting for debug protocol on port ${t}`),o.createServer(t=>{console.error(\">> accepted connection from client\"),t.on(\"end\",()=>{console.error(\">> client connection closed\\n\")});const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)}).listen(t);else{const t=new e(!1);process.on(\"SIGTERM\",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;\"number\"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest(\"runInTerminal\",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if(\"initialize\"===e.command){var n=e.arguments;if(\"boolean\"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),\"boolean\"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),\"path\"!==n.pathFormat)this.sendErrorResponse(t,2018,\"debug adapter only supports native paths\",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else\"launch\"===e.command?this.launchRequest(t,e.arguments,e):\"attach\"===e.command?this.attachRequest(t,e.arguments,e):\"disconnect\"===e.command?this.disconnectRequest(t,e.arguments,e):\"terminate\"===e.command?this.terminateRequest(t,e.arguments,e):\"restart\"===e.command?this.restartRequest(t,e.arguments,e):\"setBreakpoints\"===e.command?this.setBreakPointsRequest(t,e.arguments,e):\"setFunctionBreakpoints\"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):\"setExceptionBreakpoints\"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):\"configurationDone\"===e.command?this.configurationDoneRequest(t,e.arguments,e):\"continue\"===e.command?this.continueRequest(t,e.arguments,e):\"next\"===e.command?this.nextRequest(t,e.arguments,e):\"stepIn\"===e.command?this.stepInRequest(t,e.arguments,e):\"stepOut\"===e.command?this.stepOutRequest(t,e.arguments,e):\"stepBack\"===e.command?this.stepBackRequest(t,e.arguments,e):\"reverseContinue\"===e.command?this.reverseContinueRequest(t,e.arguments,e):\"restartFrame\"===e.command?this.restartFrameRequest(t,e.arguments,e):\"goto\"===e.command?this.gotoRequest(t,e.arguments,e):\"pause\"===e.command?this.pauseRequest(t,e.arguments,e):\"stackTrace\"===e.command?this.stackTraceRequest(t,e.arguments,e):\"scopes\"===e.command?this.scopesRequest(t,e.arguments,e):\"variables\"===e.command?this.variablesRequest(t,e.arguments,e):\"setVariable\"===e.command?this.setVariableRequest(t,e.arguments,e):\"setExpression\"===e.command?this.setExpressionRequest(t,e.arguments,e):\"source\"===e.command?this.sourceRequest(t,e.arguments,e):\"threads\"===e.command?this.threadsRequest(t,e):\"terminateThreads\"===e.command?this.terminateThreadsRequest(t,e.arguments,e):\"evaluate\"===e.command?this.evaluateRequest(t,e.arguments,e):\"stepInTargets\"===e.command?this.stepInTargetsRequest(t,e.arguments,e):\"gotoTargets\"===e.command?this.gotoTargetsRequest(t,e.arguments,e):\"completions\"===e.command?this.completionsRequest(t,e.arguments,e):\"exceptionInfo\"===e.command?this.exceptionInfoRequest(t,e.arguments,e):\"loadedSources\"===e.command?this.loadedSourcesRequest(t,e.arguments,e):\"dataBreakpointInfo\"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):\"setDataBreakpoints\"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):\"readMemory\"===e.command?this.readMemoryRequest(t,e.arguments,e):\"disassemble\"===e.command?this.disassembleRequest(t,e.arguments,e):\"cancel\"===e.command?this.cancelRequest(t,e.arguments,e):\"breakpointLocations\"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):\"setInstructionBreakpoints\"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,\"{_stack}\",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,\"unrecognized request\",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){\"win32\"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\\\/g,\"/\")),e=encodeURI(e);let t=new i.URL(\"file:\");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return\"win32\"===process.platform&&(/^\\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\\//g,\"\\\\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&\"_\"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}c._formatPIIRegexp=/{([^}]+)}/g,t.DebugSession=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super(\"response\"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super(\"event\"),this.event=e,t&&(this.body=t)}}},function(e,t){e.exports=require(\"assert\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\\:[\\\\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\\\/g,\"/\"),/^[a-zA-Z]\\:\\//.test(e)&&(e=\"/\"+e),e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i=\"\";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\\\/g,\"/\"),\"win32\"!==process.platform&&\"darwin\"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return\"win32\"===process.platform&&(e=e.replace(/\\//g,\"\\\\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\\:\\\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if(\"win32\"===process.platform){const e=n.WINDIR||\"C:\\\\Windows\";i=r.join(e,\"System32\",\"where.exe\")}else i=\"/usr/bin/which\";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\\r?\\n/);if(\"win32\"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+\";\")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if(\"win32\"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(\";\");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if(\"/\"===e.charAt(0))return!0;if(/^[a-zA-Z]\\:[\\\\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\\/[a-zA-Z]\\:\\//.test(e)&&(e=e.substr(1)),e=e.replace(/\\//g,\"\\\\\")},t.join=function(e,t){return e=u(e),t=u(t),\"/\"===e.charAt(e.length-1)?e+=t:e=e+\"/\"+t,e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split(\"/\"),r=t.substr(1).split(\"/\");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(\"..\"),s--;return r.join(\"/\")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>\"!\"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==(\"!\"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&\"\\ufeff\"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){\"use strict\";function r(e){return\"/\"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/.exec(e),n=t[1]||\"\",r=Boolean(n&&\":\"!==n.charAt(1));return Boolean(t[2]||r)}e.exports=\"win32\"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(1),o=n(0),i=n(46),a=n(14);var c;!function(e){e[e.Verbose=0]=\"Verbose\",e[e.Log=1]=\"Log\",e[e.Warn=2]=\"Warn\",e[e.Error=3]=\"Error\",e[e.Stop=4]=\"Stop\"}(c=t.LogLevel||(t.LogLevel={}));class u{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+=\"\\n\",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+=\"\",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r=\"string\"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new l(e,n),this._logFilePathFromInit=t}}t.Logger=u,t.logger=new u;class l{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return r(this,void 0,void 0,function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(o.isAbsolute(e.logFilePath)){const n=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\\n`,c.Error);try{yield(t=o.dirname(e.logFilePath),new Promise((e,n)=>{i(t,t=>{t?n(t):e()})})),this.log(\"Verbose logs are written to:\\n\",c.Warn),this.log(e.logFilePath+\"\\n\",c.Warn),this._logFileStream=s.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on(\"error\",e=>{n(e)})}catch(e){n(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,c.Error);var t})}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+\"-\"+`${e.getUTCMonth()+1}`+\"-\"+e.getUTCDate()+\", \"+d();this.log(t+\"\\n\",c.Verbose,!1)}setupShutdownListeners(){process.addListener(\"beforeExit\",this.beforeExitCallback),process.addListener(\"SIGTERM\",this.disposeCallback),process.addListener(\"SIGINT\",this.disposeCallback)}removeShutdownListeners(){process.removeListener(\"beforeExit\",this.beforeExitCallback),process.removeListener(\"SIGTERM\",this.disposeCallback),process.removeListener(\"SIGINT\",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,n=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===c.Error?console.error:t===c.Warn?console.warn:null;n&&n(p(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&n&&(e=\"[\"+d()+\"] \"+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\\n|\\r\\n)$/);e=e.substr(0,1500)+\"[...]\",t&&(e+=\"\\n\")}if(this._logCallback){const n=new h(e,t);this._logCallback(n)}}}class h extends a.OutputEvent{constructor(e,t){super(e,t===c.Error?\"stderr\":t===c.Warn?\"console\":\"stdout\")}}function p(e){return e.replace(/(\\n|\\r\\n)$/,\"\")}function d(){let e=new Date;return f(2,String(e.getUTCHours()))+\":\"+f(2,String(e.getUTCMinutes()))+\":\"+f(2,String(e.getUTCSeconds()))+\".\"+f(3,String(e.getUTCMilliseconds()))+\" UTC\"}function f(e,t){return t.length>=e?t:String(\"0\".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=p},function(e,t){e.exports=require(\"os\")},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";n(54);const r=n(4).inherits,s=n(55),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;\"function\"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host=\"localhost\"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit(\"error\",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A \"socket\" was not created for HTTP request before '+a+\"ms\");e.code=\"ETIMEOUT\",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&\"function\"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on(\"free\",function(){c(t,r)}),e.onSocket(t)}else{u(new Error(\"no Duplex stream was returned to agent-base for `\"+e.method+\" \"+e.path+\"`\"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if(\"%%\"===n)return n;c++;var s=t.formatters[r];if(\"function\"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,\"function\"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&(\"-\"===(e=r[n].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(60),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){e.exports=require(\"tty\")},function(e,t,n){\"use strict\";const r=n(24),s=n(62),{env:o}=process;let i;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(s(\"color=16m\")||s(\"color=full\")||s(\"color=truecolor\"))return 3;if(s(\"color=256\"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if(\"dumb\"===o.TERM)return t;if(\"win32\"===process.platform){const e=r.release().split(\".\");return Number(process.versions.node.split(\".\")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in o)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\"].some(e=>e in o)||\"codeship\"===o.CI_NAME?1:t;if(\"TEAMCITY_VERSION\"in o)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(o.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===o.COLORTERM)return 3;if(\"TERM_PROGRAM\"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(o.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:\"COLORTERM\"in o?1:t}(e))}s(\"no-color\")||s(\"no-colors\")||s(\"color=false\")?i=0:(s(\"color\")||s(\"colors\")||s(\"color=true\")||s(\"color=always\"))&&(i=1),\"FORCE_COLOR\"in o&&(i=!0===o.FORCE_COLOR||\"true\"===o.FORCE_COLOR?1:!1===o.FORCE_COLOR||\"false\"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){\"use strict\";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if(\"%%\"===e)return e;u++;var s=r.formatters[n];if(\"function\"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,\"function\"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?\":\":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable(\"\")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(66),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(71).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,\"file\",null),this._sourceRoot=s.getArg(e,\"sourceRoot\",null),this._skipValidation=s.getArg(e,\"skipValidation\",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,\"generated\"),n=s.getArg(e,\"original\",null),r=s.getArg(e,\"source\",null),o=s.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p=\"\",d=this._mappings.toArray(),f=0,m=d.length;f<m;f++){if(e=\"\",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=\";\",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=\",\"}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(70);t.encode=function(e){var t,n=\"\",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o=\"undefined\"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(80)),a=n(10).EventEmitter,c=n(0),u=n(16),l=n(18),h=n(82),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,m=n(83),g=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if(\"function\"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),\"function\"==typeof n&&(n=v(n),this.on(\"error\",n),this.on(\"end\",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||\"object\"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if(\"string\"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit(\"end\",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?\"stat\"===r.syscall?a[n]=!0:o.emit(\"error\",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit(\"abort\")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit(\"pause\"))},E.prototype.resume=function(){if(this.paused){if(this.emit(\"resume\"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u(\"function\"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;\"string\"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join(\"/\"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join(\"/\")}var a,c=e.slice(i);null===s?a=\".\":l(s)||l(e.join(\"/\"))?(s&&l(s)||(s=\"/\"+s),a=s):a=s;var h=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||\".\"===h.charAt(0),d=[],f=0;f<i.length;f++){if(\".\"!==(g=i[f]).charAt(0)||p)(l&&!e?!g.match(u):g.match(u))&&d.push(g)}var m=d.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<m;f++){var g=d[f];e&&(g=\"/\"!==e?e+\"/\"+g:e+g),\"/\"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(s,g)}return a()}r.shift();for(f=0;f<m;f++){g=d[f];e&&(g=\"/\"!==e?e+\"/\"+g:e+g),this._process([g].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(\"DIR\"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit(\"stat\",t,s),this.emit(\"match\",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=m(\"lstat\\0\"+e,function(r,s){if(r&&\"ENOENT\"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]=\"FILE\",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m(\"readdir\\0\"+e+\"\\0\"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||\"FILE\"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s=\"/\"===e?e+s:e+\"/\"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case\"ENOTSUP\":case\"ENOTDIR\":var r=this._makeAbs(e);if(this.cache[r]=\"FILE\",r===this.cwdAbs){var s=new Error(t.code+\" invalid cwd \"+this.cwd);s.path=this.cwd,s.code=t.code,this.emit(\"error\",s),this.abort()}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit(\"error\",t),this.abort()),this.silent||console.error(\"glob error\",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if(\".\"!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var m=u.concat(i[d],r);this._process(m,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\\/\\\\]$/.test(e);\"/\"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+=\"/\"))}\"win32\"===process.platform&&(e=e.replace(/\\\\/g,\"/\")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s=\"/\"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o=\"DIR\"),!s||\"DIR\"===o)return t(null,o);if(s&&\"FILE\"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?\"DIR\":\"FILE\";return s&&\"FILE\"===a?t():t(null,a,i)}var c=this,u=m(\"stat\\0\"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&(\"ENOENT\"===n.code||\"ENOTDIR\"===n.code))return this.statCache[t]=!1,s();var o=\"/\"===e.slice(-1);if(this.statCache[t]=r,\"/\"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?\"DIR\":\"FILE\"),this.cache[t]=this.cache[t]||i,o&&\"FILE\"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\\./.test(i),c=n(76);function u(e){return e&&\"realpath\"===e.syscall&&(\"ELOOP\"===e.code||\"ENOMEM\"===e.code||\"ENAMETOOLONG\"===e.code)}function l(e,t,n){if(a)return s(e,t,n);\"function\"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf(\"/\")){if(n.noglobstar)throw new Error(\"base matching requires globstar\");t=\"**/\"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,\"cwd\")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,\"/\"),e.root=s.resolve(e.root),\"win32\"===process.platform&&(e.root=e.root.replace(/\\\\/g,\"/\"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),\"win32\"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\\\/g,\"/\"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n=\"DIR\"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o=\"DIR\"===r||Array.isArray(r),i=\"/\"===t.slice(-1);if(o&&!i?s+=\"/\":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(18),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if(\"/**\"===e.slice(-3)){var n=e.replace(/(\\/\\*\\*)+$/,\"\");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n=\"/\"===t.charAt(0)?s.join(e.root,t):i(t)||\"\"===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),\"win32\"===process.platform&&(n=n.replace(/\\\\/g,\"/\")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return\"function\"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(43),o=n(48),i=n(49),a=n(17),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let m=f.loadMessageBundle(n(0).join(__dirname,\"node/nodeDebug.ts\"));class g{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}t.Expander=g,g.SET_VALUE_ERROR=m(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return\"named\"===t?e._createProperties(this._evalName,this._object,\"named\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t):\"number\"==typeof n&&\"number\"==typeof r?e._createProperties(this._evalName,this._object,\"indexed\",n,r):e._createProperties(this._evalName,this._object,\"all\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return\"named\"===t?e._createSetMapProperties(this._evalName,this._object):\"set\"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties(\"\",this._object,t).then(t=>this._this?e._createVariable(\"\",\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,\"%%\");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),\"%s\"):\"\"});if(n=n.replace(/'/g,\"\\\\'\"),t.length>0)return`console.log('${n}', ${t.join(\", \")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super(\"node-debug.txt\"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console=\"internalConsole\",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log(\"rc\",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on(\"break\",e=>{this._stopped(\"break\"),this._handleNodeBreakEvent(e.body)}),this._node.on(\"exception\",e=>{this._stopped(\"exception\"),this._handleNodeExceptionEvent(e.body)}),this._node.on(\"afterCompile\",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent(\"new\",e))})}),this._node.on(\"close\",e=>{this._terminated(\"node v8protocol close\")}),this._node.on(\"error\",e=>{this._terminated(\"node v8protocol error\")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command(\"continue\");let t;if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"reject(\")){if(this._skipRejects&&!this._catchRejects)return void this._node.command(\"continue\");t=m(1,null),e.exception.text?e.exception.text=m(2,null,e.exception.text):e.exception.text=m(3,null)}}this._exception=e,this._sendStoppedEvent(\"exception\",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log(\"la\",\"_handleNodeBreakEvent: suppressed stop-on-entry event\"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"debugger\"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent(\"debugger_statement\")}let n=\"step\";this._restartFramePending&&(this._restartFramePending=!1,n=\"frame_entry\"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command(\"continue\",{stepaction:\"in\"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command(\"continue\"):this._sendStoppedEvent(\"breakpoint\")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log(\"ss\",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case\"step\":t=m(4,null);break;case\"breakpoint\":t=m(5,null);break;case\"exception\":t=m(6,null);break;case\"pause\":t=m(7,null);break;case\"entry\":t=m(8,null);break;case\"debugger_statement\":t=m(9,null);break;case\"frame_entry\":t=m(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(\"!\"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,\"\")}_stopped(e){this._stoppedReason=e,this.log(\"la\",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log(\"rc\",\"_stopped: new ref cache\")}_terminated(e){this.log(\"la\",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log(\"la\",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(m=f.config({locale:t.locale})(n(0).join(__dirname,\"node/nodeDebug.ts\"))),\"boolean\"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:m(11,null),filter:\"all\",default:!1},{label:m(12,null),filter:\"uncaught\",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:m(13,null),filter:\"rejects\",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=\"win32\"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&\"number\"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug=\"boolean\"==typeof t.noDebug&&t.noDebug,\"string\"==typeof t.console)switch(t.console){case\"internalConsole\":case\"integratedTerminal\":case\"externalTerminal\":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,m(14,null,t.console))}else\"boolean\"==typeof t.externalConsole&&t.externalConsole&&(this._console=\"externalTerminal\");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,m(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,\"runtimeExecutable\",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(16,null,\"{_runtime}\"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(17,null,\"{_runtime}\"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,\"program\",o);if(!d.existsSync(o)){if(!d.existsSync(o+\".js\"))return void this.sendNotExistErrorResponse(e,\"program\",o);o+=\".js\"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(m(18,null))}if(t.runtimeArgs||this._noDebug||(r=[\"--nolazy\"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,m(20,null,\"{path}\"),{path:o}):this.sendErrorResponse(e,2003,m(21,null,\"{path}\",\"outFiles\"),{path:o})}):void this.sendErrorResponse(e,2002,m(19,null,\"{path}\"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log(\"sm\",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,\"cwd\",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,\"cwd\",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let g=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${g}`):(g=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on(\"listening\",e=>{const t=r.address();\"object\"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on(\"close\",()=>e(n)),r.on(\"error\",e=>t(e)),r.listen(0,\"127.0.0.1\")}),_.push(`--debug-brk=${g}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,\"utf8\")),r={};n.split(\"\\n\").forEach(e=>{const t=e.match(/^\\s*([\\w\\.\\-]+)\\s*=\\s*(.*)?\\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||\"\";n.length>0&&'\"'===n.charAt(0)&&'\"'===n.charAt(n.length-1)&&(n=n.replace(/\\\\n/gm,\"\\n\")),r[e]=n.replace(/(^['\"]|['\"]$)/g,\"\")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,m(22,null,\"{_error}\"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&\"externalTerminal\"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||\"externalTerminal\"!==this._console&&\"integratedTerminal\"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if(\"win32\"===process.platform&&E.executable.indexOf(\" \")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(\" \")>0?(t.push(`\"${n}\"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`\"${E.executable}\"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on(\"error\",t=>{this.sendErrorResponse(e,2017,m(25,null,\"{_error}\"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on(\"exit\",()=>{this._terminated(\"target exited\")}),r.on(\"close\",e=>{this._terminated(\"target closed\")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,g,v,b)}else{const n={kind:\"integratedTerminal\"===this._console?\"integrated\":\"external\",title:m(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated(\"cannot track process\")):this._attach(e,t,g,v,b)):(this.sendErrorResponse(e,2011,m(24,null,\"{_error}\"),{_error:n.message}),this._terminated(\"terminal error: \"+n.message))})}})}_sendLaunchCommandToConsole(e){let t=\"\";for(let n of e)n.indexOf(\" \")>=0?t+=\"'\"+n+\"'\":t+=n,t+=\" \";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stdout\"))}),e.stderr&&e.stderr.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stderr\"))})}_processCommonArgs(e,t){let n=!0;if(\"boolean\"==typeof t.trace?(this._trace=t.trace?[\"all\"]:void 0,this._traceAll=t.trace):\"string\"==typeof t.trace&&(this._trace=t.trace.split(\",\"),this._traceAll=this._trace.indexOf(\"all\")>=0,this._trace.indexOf(\"dap\")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),\"boolean\"==typeof t.stepBack&&(this._stepBack=t.stepBack),\"boolean\"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),\"boolean\"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),\"boolean\"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),\"boolean\"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"localRoot\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"localRoot\",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),\"boolean\"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"outDir\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"outDir\",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&\"localhost\"!==r?r:\"127.0.0.1\",o||(o=R.ATTACH_TIMEOUT),this.log(\"la\",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on(\"connect\",t=>{this.log(\"la\",\"_attach: connected\"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on(\"error\",r=>{if(a)this.sendErrorResponse(e,2010,m(26,null,\"{_error}\"),{_error:r.message});else if(\"ECONNREFUSED\"===r.code||\"ECONNRESET\"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log(\"la\",\"_attach: retry socket.connect\"),c.connect(n,i)},200):\"number\"==typeof t.port?this.sendErrorResponse(e,2033,m(27,null)):this.sendErrorResponse(e,2034,m(28,null))}else this.sendErrorResponse(e,2010,m(29,null,\"{_error}\"),{_error:r.message})}),c.on(\"end\",e=>{this._terminated(\"socket end\")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log(\"la\",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf(\"process is not defined\")>=0&&(this.log(\"la\",\"__initialize: process not defined error; got no pid\"),r.success=!0),r.success)t(r.running);else{if(this.log(\"la\",\"__initialize: retrieving process id from node failed\"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command(\"evaluate\",{expression:\"process.version\",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent(\"nodeVersion\",\"telemetry\",{version:t})),this.log(\"la\",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated(\"node process kill exception\")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),\"utf8\"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log(\"la\",\"_injectDebuggerExtensions: code injection successful\"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log(\"la\",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log(\"la\",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log(\"la\",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log(\"la\",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log(\"la\",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command(\"frame\",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log(\"la\",\"_startInitialize2: fire initialized event\"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log(\"la\",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log(\"la\",\"_startInitialize2: fire stop-on-entry event\"),this._sendStoppedEvent(\"entry\")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log(\"la\",\"_startInitialize2: remember to do a 'Continue' later\"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,\"SIGINT\"),this.log(\"la\",\"terminateRequest: send response\"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log(\"la\",\"disconnectRequest: send response\"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command(\"disconnect\"),this._node.stop();else{this._node.stop(),this.log(\"la\",\"shutdown: kill debugee and sub-processes\");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,\"/bin/kill\",[\"-9\",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log(\"bp\",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||\">=\";\"=\"===e&&(e=\"==\");const r=n[2];t=Function(\"hitcnt\",\"%\"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),\"number\"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:\"boolean\"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=m(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,m(31,null,\"{_module}\"),{_module:o})});else{if(\"number\"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,\"No valid source specified.\",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve(\"\").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log(\"bp\",\"_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap\"),r=\"\"),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case\"scriptId\":n===t.script_id&&r.push(t.number);break;case\"scriptRegExp\":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=m(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:\"scriptId\",target:e,line:n.line,column:n.column,condition:n.condition}:{type:\"scriptRegExp\",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log(\"bp\",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log(\"sm\",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log(\"la\",\"_setBreakpoint2: remember to fire a breakpoint event later\"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\\\.?*()^${}|[\\]])/g,\"\\\\$1\");if(/^[a-zA-Z]:\\\\/.test(e)){const e=t.substring(0,1).toUpperCase();t=\"[\"+e.toLowerCase()+e+\"]\"+t.substring(1)}return\"^(.*[\\\\/\\\\\\\\])?\"+t+\"$\"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:\"function\",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log(\"bp\",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf(\"all\")>=0,r=o.indexOf(\"uncaught\")>=0,this._catchRejects=o.indexOf(\"rejects\")>=0),Promise.all([this._node.setExceptionBreak({type:\"all\",enabled:n}),this._node.setExceptionBreak({type:\"uncaught\",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,\"Configuring exception break options failed ({_nodeError}).\",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n=\"nothing to do\";this._needContinue&&(this._needContinue=!1,n=\"do a 'Continue'\",this._node.command(\"continue\")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n=\"fire breakpoint event\",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n=\"fire debugger statement event\",this._sendStoppedEvent(\"debugger_statement\")),this.log(\"la\",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command(\"threads\",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r=\"number\"==typeof t.startFrame?t.startFrame:0,o=\"number\"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,\"Unexpected thread reference {_thread}.\",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log(\"va\",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error(\"no stack\")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{\"no stack\"===t.message?\"pause\"===this._stoppedReason?this.sendErrorResponse(e,2022,m(33,null)):this.sendErrorResponse(e,2023,m(34,null)):this.sendErrorResponse(e,2018,m(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=m(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if(\"file:\"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=m(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=m(38,null)}if(!c){if(\"number\"!=typeof o.id)throw new Error(\"no script id\");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=m(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=m(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint=\"deemphasize\"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log(\"sm\",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=m(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=m(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\\r\\n/g,\"\\n\"),t=(t=t.replace(/\\r\\n/g,\"\\n\")).replace(/^#!.*\\n/,\"\"),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log(\"ls\",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,\"utf8\",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,\"stack frame not valid\",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a=\"scopes\";this._nodeInjectionAvailable&&(a=\"vscode_scopes\",i.maxLocals=this._maxVariablesPerScope),this.log(\"va\",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&\"number\"==typeof e.body.vscode_locals?(c=!0,a=m(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=m(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=m(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n=\"indexed\"===t.filter||\"named\"===t.filter?t.filter:\"all\";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if(\"number\"==typeof t.vscode_indexedCnt&&\"number\"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2(\"vscode_slice\",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if(\"name\"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case\"all\":o.push(e);break;case\"named\":w(t)||o.push(e);break;case\"indexed\":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&(\"all\"===n||\"named\"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&\"undefined\"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:\"obj\",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log(\"va\",\"_createPropertyVariables: trigger getter\"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,\"undefined\"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='\"\"');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case\"undefined\":case\"null\":return Promise.resolve(this._createVar(o,t,n.type));case\"string\":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case\"number\":if(\"number\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case\"boolean\":if(\"boolean\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case\"set\":case\"map\":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case\"object\":case\"function\":case\"regexp\":case\"promise\":case\"generator\":case\"error\":const i=n;let a=i.className;switch(a){case\"Array\":case\"ArrayBuffer\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":return this._createArrayVariable(e,t,n,r);case\"RegExp\":if(\"string\"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case\"Generator\":case\"Object\":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if(\"promise\"===n.type||\"generator\"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case\"Function\":case\"Error\":default:if(i.text){let e=i.text;if(e.indexOf(\"\\n\")>=0){const t=e.indexOf(\"{\");t>0&&(e=e.substring(0,t)+\"{", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "进程PID": "", "异常时间": "2020-09-05 01:31:06", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(21)},function(e,t,r){\"use strict\";const n=r(0),o=r(22),s=r(23),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let p=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};p=a(n.ignore,e,r)}const l=(r,i=!1)=>{let{isMatch:l,match:c,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:c,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(d),!1===l?(d.isMatch=!1,!!i&&d):p(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):(\"function\"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(l.state=u),l};a.test=(e,t,r,{glob:n,posix:o}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),p=e===n,l=p&&u?u(e):e;return!1===p&&(l=u?u(e):e,p=l===n),!1!==p&&!0!==s.capture||(p=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(l)),{isMatch:!!p,match:p,output:l}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let o,i=t||{},u=i.contains?\"\":\"^\",p=i.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},c=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),c=l.prefix=\"./\"),!1===i.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(l=a.parse(e,t),l.prefix=c+(l.prefix||\"\"),o=l.output),!0===r)return o;let f=`${u}(?:${o})${p}`;l&&!0===l.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=l),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){\"use strict\";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:p,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:c,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:h,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,S=0,x=0,b=!1,m=!1,O=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===c)for(H++;!L()&&(t=N());)if(t!==i)if(t!==c){if(!T&&t===u&&(t=N())===u){b=!0;break}if(!T&&t===a){b=!0;break}if(t===h&&(H--,0===H)){T=!1;break}}else H++;else m=!0,t=N();if(E!==l){if(E===o){b=!0;break}if(E===o||E===g){b=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){b=!0;break}}else m=!0,t=N();if((E===_||E===s||E===p)&&e.charCodeAt(v+1)===f){b=!0;break}if(E!==p||v!==S){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){b=!0;break}}else m=!0,t=N();if(b)break}else O=!0,S++}else{if(r===u&&v===S+1){S+=2;continue}x=v+1}}else m=!0,t=N(),t===c&&(T=!0)}let w=\"\",$=e,I=e,k=\"\";return S>0&&(w=e.slice(0,S),e=e.slice(S),x-=S),I&&!0===b&&x>0?(I=e.slice(0,x),k=e.slice(x)):!0===b?(I=\"\",k=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===i)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),I&&!0===m&&(I=n.removeBackslashes(I))),{prefix:w,input:$,base:I,glob:k,negated:O,isGlob:b}}},function(e,t,r){\"use strict\";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:p}=o,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},c=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,d=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=p[e]||e;let r={...t},d=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},h=[g],A=r.capture?\"\":\"?:\",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:S,ONE_CHAR:x,DOTS_SLASH:b,NO_DOT:m,NO_DOT_SLASH:O,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,$=e=>`(${A}(?:(?!${w}${e.dot?b:C}).)*?)`;let I=r.dot?\"\":m,k=!0===r.bash?$(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:h},B=[],U=[],F=g;const K=()=>D.index===_-1,G=D.peek=(t=1)=>e[D.index+t],j=D.advance=()=>e[++D.index],Q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||\"\"},q=e=>{D[e]++,U.push(e)},W=e=>{D[e]--,U.pop()},X=e=>{if(\"globstar\"===F.type){let t=D.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(D.output=D.output.slice(0,-F.output.length),F.type=\"star\",F.value=\"*\",F.output=k,D.output+=F.output)}B.length&&\"paren\"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&Q(e),F&&\"text\"===F.type&&\"text\"===e.type?F.value+=e.value:(e.prev=F,h.push(e),F=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:\"\"};n.prev=F,n.parens=D.parens,n.output=D.output;let o=(r.capture?\"(\":\"\")+n.open;X({type:e,value:t,output:D.output?\"\":x}),X({type:\"paren\",extglob:!0,value:j(),output:o}),q(\"parens\"),B.push(n)},V=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(o=$(r)),(o!==k||K()||/^\\)+$/.test(e.slice(D.index+1)))&&(n=t.close=\")$))\"+o),\"bos\"===t.prev.type&&K()&&(D.negatedExtglob=!0)}X({type:\"paren\",extglob:!0,value:M,output:n}),W(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>\"\\\\\"===o?(t=!0,e):\"?\"===o?r?r+o+(s?T.repeat(s.length):\"\"):0===i?P+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===o?C.repeat(n.length):\"*\"===o?r?r+o+(s?k:\"\"):k:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),D.output=n,D}for(;!K();){if(M=j(),\"\\0\"===M)continue;if(\"\\\\\"===M){let t=G();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){M+=\"\\\\\",X({type:\"text\",value:M});continue}let n=/^\\\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+=\"\\\\\")),!0===r.unescape?M=j()||\"\":M+=j()||\"\",0===D.brackets){X({type:\"text\",value:M});continue}}if(D.brackets>0&&(\"]\"!==M||\"[\"===F.value||\"[^\"===F.value)){if(!1!==r.posix&&\":\"===M){let e=F.value.slice(1);if(e.includes(\"[\")&&(F.posix=!0,e.includes(\":\"))){let e=F.value.lastIndexOf(\"[\"),t=F.value.slice(0,e),r=F.value.slice(e+2),n=i[r];if(n){F.value=t+n,D.backtrack=!0,j(),g.output||1!==h.indexOf(F)||(g.output=x);continue}}}(\"[\"===M&&\":\"!==G()||\"-\"===M&&\"]\"===G())&&(M=\"\\\\\"+M),\"]\"!==M||\"[\"!==F.value&&\"[^\"!==F.value||(M=\"\\\\\"+M),!0===r.posix&&\"!\"===M&&\"[\"===F.value&&(M=\"^\"),F.value+=M,Q({value:M});continue}if(1===D.quotes&&'\"'!==M){M=n.escapeRegex(M),F.value+=M,Q({value:M});continue}if('\"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:\"text\",value:M});continue}if(\"(\"===M){X({type:\"paren\",value:M}),q(\"parens\");continue}if(\")\"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"(\"));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:\"paren\",value:M,output:D.parens?\")\":\"\\\\)\"}),W(\"parens\");continue}if(\"[\"===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes(\"]\"))q(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));M=\"\\\\\"+M}X({type:\"bracket\",value:M});continue}if(\"]\"===M){if(!0===r.nobracket||F&&\"bracket\"===F.type&&1===F.value.length){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"[\"));X({type:\"text\",value:M,output:\"\\\\\"+M});continue}W(\"brackets\");let e=F.value.slice(1);if(!0===F.posix||\"^\"!==e[0]||e.includes(\"/\")||(M=\"/\"+M),F.value+=M,Q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(F.value);if(D.output=D.output.slice(0,-F.value.length),!0===r.literalBrackets){D.output+=t,F.value=t;continue}F.value=`(${A}${t}|${F.value})`,D.output+=F.value;continue}if(\"{\"===M&&!0!==r.nobrace){X({type:\"brace\",value:M,output:\"(\"}),q(\"braces\");continue}if(\"}\"===M){if(!0===r.nobrace||0===D.braces){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}let e=\")\";if(!0===D.dots){let t=h.slice(),n=[];for(let e=t.length-1;e>=0&&(h.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),D.backtrack=!0}X({type:\"brace\",value:M,output:e}),W(\"braces\");continue}if(\"|\"===M){B.length>0&&B[B.length-1].conditions++,X({type:\"text\",value:M});continue}if(\",\"===M){let e=M;D.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),X({type:\"comma\",value:M,output:e});continue}if(\"/\"===M){if(\"dot\"===F.type&&1===D.index){D.start=D.index+1,D.consumed=\"\",D.output=\"\",h.pop(),F=g;continue}X({type:\"slash\",value:M,output:S});continue}if(\".\"===M){if(D.braces>0&&\"dot\"===F.type){\".\"===F.value&&(F.output=C),F.type=\"dots\",F.output+=M,F.value+=M,D.dots=!0;continue}X({type:\"dot\",value:M,output:C});continue}if(\"?\"===M){if(F&&\"paren\"===F.type){let e=G(),t=M;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===F.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(G(2)))&&(t=\"\\\\\"+M),X({type:\"text\",value:M,output:t});continue}if(!0!==r.noextglob&&\"(\"===G()&&\"?\"!==G(2)){Z(\"qmark\",M);continue}if(!0!==r.dot&&(\"slash\"===F.type||\"bos\"===F.type)){X({type:\"qmark\",value:M,output:L});continue}X({type:\"qmark\",value:M,output:T});continue}if(\"!\"===M){if(!0!==r.noextglob&&\"(\"===G()&&(\"?\"!==G(2)||!/[!=<:]/.test(G(3)))){Z(\"negate\",M);continue}if(!0!==r.nonegate&&0===D.index){c(D);continue}}if(\"+\"===M){if(!0!==r.noextglob&&\"(\"===G()&&\"?\"!==G(2)){Z(\"plus\",M);continue}if(F&&(\"bracket\"===F.type||\"paren\"===F.type||\"brace\"===F.type)){let e=!0===F.extglob?\"\\\\\"+M:M;X({type:\"plus\",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:\"plus\",value:M});continue}X({type:\"plus\",value:v});continue}if(\"@\"===M){if(!0!==r.noextglob&&\"(\"===G()&&\"?\"!==G(2)){X({type:\"at\",value:M,output:\"\"});continue}X({type:\"text\",value:M});continue}if(\"*\"!==M){\"$\"!==M&&\"^\"!==M||(M=\"\\\\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:\"text\",value:M});continue}if(F&&(\"globstar\"===F.type||!0===F.star)){F.type=\"star\",F.star=!0,F.value+=M,F.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&\"(\"===G()&&\"?\"!==G(2)){Z(\"star\",M);continue}if(\"star\"===F.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=F.prev,n=t.prev,o=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!o||!K()&&\"/\"!==G())){X({type:\"star\",value:M,output:\"\"});continue}let i=D.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!o&&\"paren\"!==t.type&&!i&&!a){X({type:\"star\",value:M,output:\"\"});continue}for(;\"/**\"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&\"/\"!==t)break;D.consumed+=\"/**\",D.index+=3}if(\"bos\"===t.type&&K()){F.type=\"globstar\",F.value+=M,F.output=$(r),D.output=F.output,D.consumed+=M;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&K()){D.output=D.output.slice(0,-(t.output+F.output).length),t.output=\"(?:\"+t.output,F.type=\"globstar\",F.output=$(r)+\"|$)\",F.value+=M,D.output+=t.output+F.output,D.consumed+=M;continue}let u=G();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===u){let e=void 0!==G(2)?\"|$\":\"\";D.output=D.output.slice(0,-(t.output+F.output).length),t.output=\"(?:\"+t.output,F.type=\"globstar\",F.output=`${$(r)}${S}|${S}${e})`,F.value+=M,D.output+=t.output+F.output,D.consumed+=M+j(),X({type:\"slash\",value:M,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===u){F.type=\"globstar\",F.value+=M,F.output=`(?:^|${S}|${$(r)}${S})`,D.output=F.output,D.consumed+=M+j(),X({type:\"slash\",value:M,output:\"\"});continue}D.output=D.output.slice(0,-F.output.length),F.type=\"globstar\",F.output=$(r),F.value+=M,D.output+=F.output,D.consumed+=M;continue}let t={type:\"star\",value:M,output:k};!0!==r.bash?!F||\"bracket\"!==F.type&&\"paren\"!==F.type||!0!==r.regex?(D.index!==D.start&&\"slash\"!==F.type&&\"dot\"!==F.type||(\"dot\"===F.type?(D.output+=O,F.output+=O):!0===r.dot?(D.output+=H,F.output+=H):(D.output+=I,F.output+=I),\"*\"!==G()&&(D.output+=x,F.output+=x)),X(t)):(t.output=M,X(t)):(t.output=\".*?\",\"bos\"!==F.type&&\"slash\"!==F.type||(t.output=I+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));D.output=n.escapeLast(D.output,\"[\"),W(\"brackets\")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\")\"));D.output=n.escapeLast(D.output,\"(\"),W(\"parens\")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"}\"));D.output=n.escapeLast(D.output,\"{\"),W(\"braces\")}if(!0===r.strictSlashes||\"star\"!==F.type&&\"bracket\"!==F.type||X({type:\"maybe_slash\",value:\"\",output:`${S}?`}),!0===D.backtrack){D.output=\"\";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=p[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:c,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:g,NO_DOTS_SLASH:h,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?\"\":\"?:\",y=!0===r.bash?\".*?\":A,C=r.dot?g:_,v=r.dot?h:_;r.capture&&(y=`(${y})`);const S=e=>`(${E}(?:(?!${R}${e.dot?d:l}).)*?)`,x=e=>{switch(e){case\"*\":return`${C}${f}${y}`;case\".*\":return`${l}${f}${y}`;case\"*.*\":return`${C}${y}${l}${f}${y}`;case\"*/*\":return`${C}${y}${c}${f}${v}${y}`;case\"**\":return C+S(r);case\"**/*\":return`(?:${C}${S(r)}${c})?${v}${f}${y}`;case\"**/*.*\":return`(?:${C}${S(r)}${c})?${v}${y}${l}${f}${y}`;case\"**/.*\":return`(?:${C}${S(r)}${c})?${l}${f}${y}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let b=x(e);return b&&!0!==r.strictSlashes&&(b+=`${c}?`),b},e.exports=d},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=new Set([\"node_modules/mocha\",\"node_modules/jest\",\"node_modules/jest-cli\",\"node_modules/ava\",\"node_modules/tape\",\"node_modules/tap\",\"node_modules/ts-node\",\"babel-node\"]);t.knownToolToken=\"$KNOWN_TOOLS$\",t.knownToolGlob=`{${[...n].join(\",\")}}`},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.variableDelimiter=\":::\";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(27),logger_1=__webpack_require__(8);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to lack of IPC server\"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to invalid lease file\"),!1)},exports.checkNotElectron=()=>{try{return eval(\"window\"),logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling in Electron (window is set)\"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r=\"\";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||\"\").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to not matching pattern\",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkReentrant=e=>e.ppid!==process.pid||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to a duplicate bootloader\"),!1),exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&\"npm-cli.js\"===path_1.basename(e[1])&&\"prefix\"===e[2]&&\"-g\"===e[3])};const allChecks=[exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkReentrant,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){\"use strict\";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,\"__esModule\",{value:!0});const o=r(28),s=r(5),i=r(29),a=n(r(0));class u{constructor(){this.disposed=!1,this.path=a.join(i.tmpdir(),`node-debug-callback-${o.randomBytes(8).toString(\"hex\")}`),this.file=s.promises.open(this.path,\"w\")}static isValid(e){try{const t=s.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-u.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),u.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await s.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=u,u.updateInterval=1e3,u.recencyDeadline=2e3},function(e,t){e.exports=require(\"crypto\")},function(e,t){e.exports=require(\"os\")},function(e,t){function r(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(0);t.watchdogPath=n.join(__dirname,\"watchdog.bundle.js\"),t.bootloaderDefaultPath=n.join(__dirname,\"bootloader.bundle.js\")}]);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js", "进程PID": "", "异常时间": "2020-09-05 01:31:06", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(372)},function(e,t,r){\"use strict\";const n=r(0),i=r(373),a=r(374),o=r(77),s=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>s(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},i=o.isWindows(t),a=s.makeRe(e,t,!1,!0),c=a.state;delete a.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=s(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:d,output:p}=s.test(r,a,t,{glob:e,posix:i}),f={glob:e,state:c,regex:a,posix:i,input:r,output:p,match:d,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(f),!1===l?(f.isMatch=!1,!!o&&f):u(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!o&&f):(\"function\"==typeof n.onMatch&&n.onMatch(f),!o||f)};return r&&(l.state=c),l};s.test=(e,t,r,{glob:n,posix:i}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let a=r||{},c=a.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==a.capture||(u=!0===a.matchBase||!0===a.basename?s.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},s.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:s.makeRe(t,r)).test(n.basename(e)),s.isMatch=(e,t,r)=>s(t,r)(e),s.parse=(e,t)=>a(e,t),s.scan=(e,t)=>i(e,t),s.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let i,o=t||{},c=o.contains?\"\":\"^\",u=o.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},d=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),d=l.prefix=\"./\"),!1===o.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(i=a.fastpaths(e,t)),void 0===i&&(l=s.parse(e,t),l.prefix=d+(l.prefix||\"\"),i=l.output),!0===r)return i;let p=`${c}(?:${i})${u}`;l&&!0===l.negated&&(p=`^(?!${p}).*$`);let f=s.toRegex(p,t);return!0===n&&(f.state=l),f},s.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},s.constants=r(78),e.exports=s},function(e,t,r){\"use strict\";const n=r(77),{CHAR_ASTERISK:i,CHAR_AT:a,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:s,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:_,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:h,CHAR_RIGHT_SQUARE_BRACKET:y}=r(78);e.exports=(e,t)=>{let r,v,b=t||{},x=e.length-1,S=-1,w=0,k=0,C=!1,D=!1,T=!1,E=0,P=!1,A=()=>S>=x,N=()=>(r=v,e.charCodeAt(++S));for(;S<x;){let t;if(v=N(),v!==o){if(!0===P||v===d)for(E++;!A()&&(t=N());)if(t!==o)if(t!==d){if(!P&&t===c&&(t=N())===c){C=!0;break}if(!P&&t===s){C=!0;break}if(t===m&&(E--,0===E)){P=!1;break}}else E++;else D=!0,t=N();if(v!==l){if(v===i){C=!0;break}if(v===i||v===g){C=!0;break}if(v===f)for(;!A()&&(t=N());)if(t!==o){if(t===y){C=!0;break}}else D=!0,t=N();if((v===_||v===a||v===u)&&e.charCodeAt(S+1)===p){C=!0;break}if(v!==u||S!==w){if(v===p)for(;!A()&&(t=N());)if(t!==o){if(t===h){C=!0;break}}else D=!0,t=N();if(C)break}else T=!0,w++}else{if(r===c&&S===w+1){w+=2;continue}k=S+1}}else D=!0,t=N(),t===d&&(P=!0)}let F=\"\",O=e,I=e,M=\"\";return w>0&&(F=e.slice(0,w),e=e.slice(w),k-=w),I&&!0===C&&k>0?(I=e.slice(0,k),M=e.slice(k)):!0===C?(I=\"\",M=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===b.unescape&&(M&&(M=n.removeBackslashes(M)),I&&!0===D&&(I=n.removeBackslashes(I))),{prefix:F,input:O,base:I,glob:M,negated:T,isGlob:C}}},function(e,t,r){\"use strict\";const n=r(77),i=r(78),{MAX_LENGTH:a,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:s,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},d=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},p=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,f=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=u[e]||e;let r={...t},f=\"number\"==typeof r.maxLength?Math.min(a,r.maxLength):a,_=e.length;if(_>f)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${f}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},m=[g],h=r.capture?\"\":\"?:\",y=n.isWindows(t);const v=i.globChars(y),b=i.extglobChars(v),{DOT_LITERAL:x,PLUS_LITERAL:S,SLASH_LITERAL:w,ONE_CHAR:k,DOTS_SLASH:C,NO_DOT:D,NO_DOT_SLASH:T,NO_DOTS_SLASH:E,QMARK:P,QMARK_NO_DOT:A,STAR:N,START_ANCHOR:F}=v,O=e=>`(${h}(?:(?!${F}${e.dot?C:x}).)*?)`;let I=r.dot?\"\":D,M=!0===r.bash?O(r):N,R=r.dot?P:A;r.capture&&(M=`(${M})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let L,j={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],q=g;const V=()=>j.index===_-1,z=j.peek=(t=1)=>e[j.index+t],W=j.advance=()=>e[++j.index],J=e=>{j.output+=null!=e.output?e.output:e.value,j.consumed+=e.value||\"\"},H=e=>{j[e]++,U.push(e)},K=e=>{j[e]--,U.pop()},G=e=>{if(\"globstar\"===q.type){let t=j.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(j.output=j.output.slice(0,-q.output.length),q.type=\"star\",q.value=\"*\",q.output=M,j.output+=q.output)}B.length&&\"paren\"!==e.type&&!b[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&J(e),q&&\"text\"===q.type&&\"text\"===e.type?q.value+=e.value:(e.prev=q,m.push(e),q=e)},$=(e,t)=>{let n={...b[t],conditions:1,inner:\"\"};n.prev=q,n.parens=j.parens,n.output=j.output;let i=(r.capture?\"(\":\"\")+n.open;G({type:e,value:t,output:j.output?\"\":k}),G({type:\"paren\",extglob:!0,value:W(),output:i}),H(\"parens\"),B.push(n)},Q=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let i=M;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(i=O(r)),(i!==M||V()||/^\\)+$/.test(e.slice(j.index+1)))&&(n=t.close=\")$))\"+i),\"bos\"===t.prev.type&&V()&&(j.negatedExtglob=!0)}G({type:\"paren\",extglob:!0,value:L,output:n}),K(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,a,o)=>\"\\\\\"===i?(t=!0,e):\"?\"===i?r?r+i+(a?P.repeat(a.length):\"\"):0===o?R+(a?P.repeat(a.length):\"\"):P.repeat(n.length):\".\"===i?x.repeat(n.length):\"*\"===i?r?r+i+(a?M:\"\"):M:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),j.output=n,j}for(;!V();){if(L=W(),\"\\0\"===L)continue;if(\"\\\\\"===L){let t=z();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){L+=\"\\\\\",G({type:\"text\",value:L});continue}let n=/^\\\\+/.exec(e.slice(j.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,j.index+=i,i%2!=0&&(L+=\"\\\\\")),!0===r.unescape?L=W()||\"\":L+=W()||\"\",0===j.brackets){G({type:\"text\",value:L});continue}}if(j.brackets>0&&(\"]\"!==L||\"[\"===q.value||\"[^\"===q.value)){if(!1!==r.posix&&\":\"===L){let e=q.value.slice(1);if(e.includes(\"[\")&&(q.posix=!0,e.includes(\":\"))){let e=q.value.lastIndexOf(\"[\"),t=q.value.slice(0,e),r=q.value.slice(e+2),n=o[r];if(n){q.value=t+n,j.backtrack=!0,W(),g.output||1!==m.indexOf(q)||(g.output=k);continue}}}(\"[\"===L&&\":\"!==z()||\"-\"===L&&\"]\"===z())&&(L=\"\\\\\"+L),\"]\"!==L||\"[\"!==q.value&&\"[^\"!==q.value||(L=\"\\\\\"+L),!0===r.posix&&\"!\"===L&&\"[\"===q.value&&(L=\"^\"),q.value+=L,J({value:L});continue}if(1===j.quotes&&'\"'!==L){L=n.escapeRegex(L),q.value+=L,J({value:L});continue}if('\"'===L){j.quotes=1===j.quotes?0:1,!0===r.keepQuotes&&G({type:\"text\",value:L});continue}if(\"(\"===L){G({type:\"paren\",value:L}),H(\"parens\");continue}if(\")\"===L){if(0===j.parens&&!0===r.strictBrackets)throw new SyntaxError(p(\"opening\",\"(\"));let e=B[B.length-1];if(e&&j.parens===e.parens+1){Q(B.pop());continue}G({type:\"paren\",value:L,output:j.parens?\")\":\"\\\\)\"}),K(\"parens\");continue}if(\"[\"===L){if(!0!==r.nobracket&&e.slice(j.index+1).includes(\"]\"))H(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(p(\"closing\",\"]\"));L=\"\\\\\"+L}G({type:\"bracket\",value:L});continue}if(\"]\"===L){if(!0===r.nobracket||q&&\"bracket\"===q.type&&1===q.value.length){G({type:\"text\",value:L,output:\"\\\\\"+L});continue}if(0===j.brackets){if(!0===r.strictBrackets)throw new SyntaxError(p(\"opening\",\"[\"));G({type:\"text\",value:L,output:\"\\\\\"+L});continue}K(\"brackets\");let e=q.value.slice(1);if(!0===q.posix||\"^\"!==e[0]||e.includes(\"/\")||(L=\"/\"+L),q.value+=L,J({value:L}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(q.value);if(j.output=j.output.slice(0,-q.value.length),!0===r.literalBrackets){j.output+=t,q.value=t;continue}q.value=`(${h}${t}|${q.value})`,j.output+=q.value;continue}if(\"{\"===L&&!0!==r.nobrace){G({type:\"brace\",value:L,output:\"(\"}),H(\"braces\");continue}if(\"}\"===L){if(!0===r.nobrace||0===j.braces){G({type:\"text\",value:L,output:\"\\\\\"+L});continue}let e=\")\";if(!0===j.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),j.backtrack=!0}G({type:\"brace\",value:L,output:e}),K(\"braces\");continue}if(\"|\"===L){B.length>0&&B[B.length-1].conditions++,G({type:\"text\",value:L});continue}if(\",\"===L){let e=L;j.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),G({type:\"comma\",value:L,output:e});continue}if(\"/\"===L){if(\"dot\"===q.type&&1===j.index){j.start=j.index+1,j.consumed=\"\",j.output=\"\",m.pop(),q=g;continue}G({type:\"slash\",value:L,output:w});continue}if(\".\"===L){if(j.braces>0&&\"dot\"===q.type){\".\"===q.value&&(q.output=x),q.type=\"dots\",q.output+=L,q.value+=L,j.dots=!0;continue}G({type:\"dot\",value:L,output:x});continue}if(\"?\"===L){if(q&&\"paren\"===q.type){let e=z(),t=L;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===q.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(z(2)))&&(t=\"\\\\\"+L),G({type:\"text\",value:L,output:t});continue}if(!0!==r.noextglob&&\"(\"===z()&&\"?\"!==z(2)){$(\"qmark\",L);continue}if(!0!==r.dot&&(\"slash\"===q.type||\"bos\"===q.type)){G({type:\"qmark\",value:L,output:A});continue}G({type:\"qmark\",value:L,output:P});continue}if(\"!\"===L){if(!0!==r.noextglob&&\"(\"===z()&&(\"?\"!==z(2)||!/[!=<:]/.test(z(3)))){$(\"negate\",L);continue}if(!0!==r.nonegate&&0===j.index){d(j);continue}}if(\"+\"===L){if(!0!==r.noextglob&&\"(\"===z()&&\"?\"!==z(2)){$(\"plus\",L);continue}if(q&&(\"bracket\"===q.type||\"paren\"===q.type||\"brace\"===q.type)){let e=!0===q.extglob?\"\\\\\"+L:L;G({type:\"plus\",value:L,output:e});continue}if(j.parens>0&&!1!==r.regex){G({type:\"plus\",value:L});continue}G({type:\"plus\",value:S});continue}if(\"@\"===L){if(!0!==r.noextglob&&\"(\"===z()&&\"?\"!==z(2)){G({type:\"at\",value:L,output:\"\"});continue}G({type:\"text\",value:L});continue}if(\"*\"!==L){\"$\"!==L&&\"^\"!==L||(L=\"\\\\\"+L);let t=s.exec(e.slice(j.index+1));t&&(L+=t[0],j.index+=t[0].length),G({type:\"text\",value:L});continue}if(q&&(\"globstar\"===q.type||!0===q.star)){q.type=\"star\",q.star=!0,q.value+=L,q.output=M,j.backtrack=!0,j.consumed+=L;continue}if(!0!==r.noextglob&&\"(\"===z()&&\"?\"!==z(2)){$(\"star\",L);continue}if(\"star\"===q.type){if(!0===r.noglobstar){j.consumed+=L;continue}let t=q.prev,n=t.prev,i=\"slash\"===t.type||\"bos\"===t.type,a=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!i||!V()&&\"/\"!==z())){G({type:\"star\",value:L,output:\"\"});continue}let o=j.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),s=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!i&&\"paren\"!==t.type&&!o&&!s){G({type:\"star\",value:L,output:\"\"});continue}for(;\"/**\"===e.slice(j.index+1,j.index+4);){let t=e[j.index+4];if(t&&\"/\"!==t)break;j.consumed+=\"/**\",j.index+=3}if(\"bos\"===t.type&&V()){q.type=\"globstar\",q.value+=L,q.output=O(r),j.output=q.output,j.consumed+=L;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!a&&V()){j.output=j.output.slice(0,-(t.output+q.output).length),t.output=\"(?:\"+t.output,q.type=\"globstar\",q.output=O(r)+\"|$)\",q.value+=L,j.output+=t.output+q.output,j.consumed+=L;continue}let c=z();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==z(2)?\"|$\":\"\";j.output=j.output.slice(0,-(t.output+q.output).length),t.output=\"(?:\"+t.output,q.type=\"globstar\",q.output=`${O(r)}${w}|${w}${e})`,q.value+=L,j.output+=t.output+q.output,j.consumed+=L+W(),G({type:\"slash\",value:L,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){q.type=\"globstar\",q.value+=L,q.output=`(?:^|${w}|${O(r)}${w})`,j.output=q.output,j.consumed+=L+W(),G({type:\"slash\",value:L,output:\"\"});continue}j.output=j.output.slice(0,-q.output.length),q.type=\"globstar\",q.output=O(r),q.value+=L,j.output+=q.output,j.consumed+=L;continue}let t={type:\"star\",value:L,output:M};!0!==r.bash?!q||\"bracket\"!==q.type&&\"paren\"!==q.type||!0!==r.regex?(j.index!==j.start&&\"slash\"!==q.type&&\"dot\"!==q.type||(\"dot\"===q.type?(j.output+=T,q.output+=T):!0===r.dot?(j.output+=E,q.output+=E):(j.output+=I,q.output+=I),\"*\"!==z()&&(j.output+=k,q.output+=k)),G(t)):(t.output=L,G(t)):(t.output=\".*?\",\"bos\"!==q.type&&\"slash\"!==q.type||(t.output=I+t.output),G(t))}for(;j.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(p(\"closing\",\"]\"));j.output=n.escapeLast(j.output,\"[\"),K(\"brackets\")}for(;j.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(p(\"closing\",\")\"));j.output=n.escapeLast(j.output,\"(\"),K(\"parens\")}for(;j.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(p(\"closing\",\"}\"));j.output=n.escapeLast(j.output,\"{\"),K(\"braces\")}if(!0===r.strictSlashes||\"star\"!==q.type&&\"bracket\"!==q.type||G({type:\"maybe_slash\",value:\"\",output:`${w}?`}),!0===j.backtrack){j.output=\"\";for(let e of j.tokens)j.output+=null!=e.output?e.output:e.value,e.suffix&&(j.output+=e.suffix)}return j};f.fastpaths=(e,t)=>{let r={...t},o=\"number\"==typeof r.maxLength?Math.min(a,r.maxLength):a,s=e.length;if(s>o)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:_,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:h,START_ANCHOR:y}=i.globChars(c);let v=r.capture?\"\":\"?:\",b=!0===r.bash?\".*?\":h,x=r.dot?g:_,S=r.dot?m:_;r.capture&&(b=`(${b})`);const w=e=>`(${v}(?:(?!${y}${e.dot?f:l}).)*?)`,k=e=>{switch(e){case\"*\":return`${x}${p}${b}`;case\".*\":return`${l}${p}${b}`;case\"*.*\":return`${x}${b}${l}${p}${b}`;case\"*/*\":return`${x}${b}${d}${p}${S}${b}`;case\"**\":return x+w(r);case\"**/*\":return`(?:${x}${w(r)}${d})?${S}${p}${b}`;case\"**/*.*\":return`(?:${x}${w(r)}${d})?${S}${b}${l}${p}${b}`;case\"**/.*\":return`(?:${x}${w(r)}${d})?${l}${p}${b}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=k(r[1],t);if(!n)return;return n+l+r[2]}}};let C=k(e);return C&&!0!==r.strictSlashes&&(C+=`${d}?`),C},e.exports=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(33);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?\"variable\":\"property\",i=(e,t,i)=>{if(\"function\"!==t)return n;if(\"constructor\"===e)return\"class\";const a=String(i);return a.startsWith(\"class \")||a.includes(\"[native code]\")&&/^[A-Z]/.test(e)?\"class\":r?\"function\":\"method\"},a=[],o=new Set;let s=\"~\",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){s+=\"~\";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}a.push({label:t,sortText:s+t.replace(/^_+/,e=>\"{\".repeat(e.length)),type:r})}r=!1}return{result:a,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){\"use strict\";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,\"__esModule\",{value:!0});const i=n(r(4)),a=r(61),o=r(384),s=i.loadMessageBundle(r(0).join(__dirname,\"adapter/console/queryObjectsMessage.js\"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:\"stderr\",output:s(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:\"console\"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:\"stderr\",output:s(1,null)};let r;try{r=await o.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:\"console\",generatePreview:!0})}catch(e){return{category:\"stderr\",output:s(2,null,e.message)}}const n=\"", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md", "进程PID": "", "异常时间": "2020-09-04 13:05:07", "所属用户": "root", "异常信息": "境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md", "进程PID": "", "异常时间": "2020-09-04 13:05:05", "所属用户": "root", "异常信息": "境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md", "进程PID": "", "异常时间": "2020-09-04 13:05:06", "所属用户": "root", "异常信息": "境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "进程PID": "", "异常时间": "2021-02-25 18:53:48", "所属用户": "root", "异常信息": "反弹shell类：\"),0===t.length?e:e.replace(/\\{(\\d+)\\}/g,function(e,n){var r=n[0],s=t[r],o=e;return\"string\"==typeof s?o=s:\"number\"!=typeof s&&\"boolean\"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \"+new Error(\"\").stack):m(e[t],r):f(n)?(console.warn(\"Message \"+n+\" didn't get externalized correctly.\"),m(n,r)):void console.error(\"Broken localize call found. Stacktrace is\\n: \"+new Error(\"\").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+\"-\"+e.hash+\".json\"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:\"utf8\",flag:\"r\"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if(\"ENOENT\"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log(\"Syntax error parsing message bundle: \"+e.message+\".\"),l.unlink(o,function(e){e&&console.error(\"Deleting corrupted bundle \"+o+\" failed.\")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,s=g(u.join(t,\"nls.metadata.json\")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+\"/\"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[f(d)?d:d.key];void 0===m&&(m=c.messages[p]),h.push(m)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:\"utf8\",flag:\"wx\"})}catch(e){if(\"EEXIST\"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=g(u.join(e,\"nls.metadata.json\")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log(\"Generating default bundle from meta data failed.\",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log(\"Load or create bundle failed \",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,\"nls.bundle.\"+t+\".json\");if(l.existsSync(n))return n;var r=t.lastIndexOf(\"-\");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,\"nls.bundle.json\");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log(\"Loading in the box message bundle failed.\",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,\"nls.metadata.header.json\"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,\"utf8\"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error(\"Failed to load nls bundle\",e),o=b(s,null)}}catch(e){console.error(\"Failed to read header file\",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\\\/g,\"/\"),m=o.nlsBundle[f];return void 0===m?(console.error(\"Messages for file \"+e+\" not found. See console for details.\"),function(){return\"Messages not found.\"}):_(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=\".nls.json\";else for(var n=a.language;n;){var r=\".nls.\"+n+\".json\";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf(\"-\");s>0?n=n.substring(0,s):(t=\".nls.json\",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error(\"String bundle '\"+e+\"' uses an unsupported format.\"),function(){return\"File bundle has unsupported format. See console for details\"})}catch(e){\"ENOENT\"!==e.code&&console.error(\"Failed to load single file bundle\",e)}return console.error(\"Failed to load message bundle for file \"+e),function(){return\"Failed to load message bundle. See console for details.\"}}!function(e){e.file=\"file\",e.bundle=\"bundle\",e.both=\"both\"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone=\"standalone\",e.languagePack=\"languagePack\"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages[\"*\"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:\"en\"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,\"corrupted\",\"utf8\",function(e){console.error(e)})}}}catch(e){}c=\"pseudo\"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c=\"pseudo\"===a.locale,R}},function(e,t){e.exports=require(\"child_process\")},function(e,t){e.exports=require(\"util\")},function(e,t){e.exports=require(\"url\")},,function(e,t){e.exports=require(\"net\")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('\"'+t+'\" is a required argument.')};var n=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/,r=/^data:.+\\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t=\"\";return e.scheme&&(t+=e.scheme+\":\"),t+=\"//\",e.auth&&(t+=e.auth+\"@\"),e.host&&(t+=e.host),e.port&&(t+=\":\"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\\/+/),u=0,l=c.length-1;l>=0;l--)\".\"===(i=c[l])?c.splice(l,1):\"..\"===i?u++:u>0&&(\"\"===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return\"\"===(n=c.join(\"/\"))&&(n=a?\"/\":\".\"),r?(r.path=n,o(r)):n}function a(e,t){\"\"===e&&(e=\".\"),\"\"===t&&(t=\".\");var n=s(t),a=s(e);if(a&&(e=a.path||\"/\"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c=\"/\"===t.charAt(0)?t:i(e.replace(/\\/+$/,\"\")+\"/\"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return\"/\"===e.charAt(0)||n.test(e)},t.relative=function(e,t){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var n=0;0!==t.indexOf(e+\"/\");){var r=e.lastIndexOf(\"/\");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\\/]+:\\/)?\\/*$/))return t;++n}return Array(n+1).join(\"../\")+t.substr(e.length+1)};var c=!(\"__proto__\"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?\"$\"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\\)]}'[^\\n]*\\n/,\"\"))},t.computeSourceURL=function(e,t,n){if(t=t||\"\",e&&(\"/\"!==e[e.length-1]&&\"/\"!==t[0]&&(e+=\"/\"),t=e+t),n){var r=s(n);if(!r)throw new Error(\"sourceMapURL could not be parsed\");if(r.path){var c=r.path.lastIndexOf(\"/\");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require(\"events\")},function(e,t,n){e.exports=f,f.Minimatch=g;var r={sep:\"/\"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=g.GLOBSTAR={},o=n(79),i={\"!\":{open:\"(?:(?!(?:\",close:\"))[^/]*?)\"},\"?\":{open:\"(?:\",close:\")?\"},\"+\":{open:\"(?:\",close:\")+\"},\"*\":{open:\"(?:\",close:\")*\"},\"@\":{open:\"(?:\",close:\")\"}},a=\"[^/]\",c=a+\"*?\",u=\"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\",l=\"(?:(?!(?:\\\\/|^)\\\\.).)*?\",h=\"().*{}+?[]^$\\\\!\".split(\"\").reduce(function(e,t){return e[t]=!0,e},{});var p=/\\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if(\"string\"!=typeof t)throw new TypeError(\"glob pattern string required\");return n||(n={}),!(!n.nocomment&&\"#\"===t.charAt(0))&&(\"\"===t.trim()?\"\"===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if(\"string\"!=typeof e)throw new TypeError(\"glob pattern string required\");t||(t={}),e=e.trim(),\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError(\"undefined pattern\");return t.nobrace||!e.match(/\\{.*\\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&\"#\"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&\"!\"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError(\"pattern is too long\");var n=this.options;if(!n.noglobstar&&\"**\"===e)return s;if(\"\"===e)return\"\";var r,o=\"\",u=!!n.nocase,l=!1,p=[],d=[],f=!1,g=-1,m=-1,v=\".\"===e.charAt(0)?\"\":n.dot?\"(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))\":\"(?!\\\\.)\",b=this;function y(){if(r){switch(r){case\"*\":o+=c,u=!0;break;case\"?\":o+=a,u=!0;break;default:o+=\"\\\\\"+r}b.debug(\"clearStateChar %j %j\",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug(\"%s\\t%s %s %j\",e,S,o,E),l&&h[E])o+=\"\\\\\"+E,l=!1;else switch(E){case\"/\":return!1;case\"\\\\\":y(),l=!0;continue;case\"?\":case\"*\":case\"+\":case\"@\":case\"!\":if(this.debug(\"%s\\t%s %s %j <-- stateChar\",e,S,o,E),f){this.debug(\" in class\"),\"!\"===E&&S===m+1&&(E=\"^\"),o+=E;continue}b.debug(\"call clearStateChar %j\",r),y(),r=E,n.noext&&y();continue;case\"(\":if(f){o+=\"(\";continue}if(!r){o+=\"\\\\(\";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+=\"!\"===r?\"(?:(?!(?:\":\"(?:\",this.debug(\"plType %j %j\",r,o),r=!1;continue;case\")\":if(f||!p.length){o+=\"\\\\)\";continue}y(),u=!0;var C=p.pop();o+=C.close,\"!\"===C.type&&d.push(C),C.reEnd=o.length;continue;case\"|\":if(f||!p.length||l){o+=\"\\\\|\",l=!1;continue}y(),o+=\"|\";continue;case\"[\":if(y(),f){o+=\"\\\\\"+E;continue}f=!0,m=S,g=o.length,o+=E;continue;case\"]\":if(S===m+1||!f){o+=\"\\\\\"+E,l=!1;continue}if(f){var w=e.substring(m+1,S);try{RegExp(\"[\"+w+\"]\")}catch(e){var O=this.parse(w,_);o=o.substr(0,g)+\"\\\\[\"+O[0]+\"\\\\]\",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||\"^\"===E&&f||(o+=\"\\\\\"),o+=E}f&&(w=e.substr(m+1),O=this.parse(w,_),o=o.substr(0,g)+\"\\\\[\"+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug(\"setting tail\",o,C),x=x.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g,function(e,t,n){return n||(n=\"\\\\\"),t+t+n+\"|\"}),this.debug(\"tail=%j\\n %s\",x,x,C,o);var k=\"*\"===C.type?c:\"?\"===C.type?a:\"\\\\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+\"\\\\(\"+x}y(),l&&(o+=\"\\\\\\\\\");var P=!1;switch(o.charAt(0)){case\".\":case\"[\":case\"(\":P=!0}for(var A=d.length-1;A>-1;A--){var T=d[A],L=o.slice(0,T.reStart),F=o.slice(T.reStart,T.reEnd-8),M=o.slice(T.reEnd-8,T.reEnd),I=o.slice(T.reEnd);M+=I;var N=L.split(\"(\").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\\)[+*?]?/,\"\");var D=\"\";\"\"===(I=j)&&t!==_&&(D=\"$\"),o=L+F+I+D+M}\"\"!==o&&u&&(o=\"(?=.)\"+o);P&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\\\(.)/g,\"$1\")}(e);var q=n.nocase?\"i\":\"\";try{var $=new RegExp(\"^\"+o+\"$\",q)}catch(e){return new RegExp(\"$.\")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?\"i\":\"\",o=e.map(function(e){return e.map(function(e){return e===s?n:\"string\"==typeof e?function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}(e):e._src}).join(\"\\\\/\")}).join(\"|\");o=\"^(?:\"+o+\")$\",this.negate&&(o=\"^(?!\"+o+\").*$\");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug(\"match\",e,this.pattern),this.comment)return!1;if(this.empty)return\"\"===e;if(\"/\"===e&&t)return!0;var n=this.options;\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\"));e=e.split(p),this.debug(this.pattern,\"split\",e);var s,o,i=this.set;for(this.debug(this.pattern,\"set\",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug(\"matchOne\",{this:this,file:e,pattern:t}),this.debug(\"matchOne\",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug(\"matchOne loop\");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug(\"GLOBSTAR\",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug(\"** at the end\");o<a;o++)if(\".\"===e[o]||\"..\"===e[o]||!r.dot&&\".\"===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(\"\\nglobstar while\",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug(\"globstar found match!\",p,a,f),!0;if(\".\"===f||\"..\"===f||!r.dot&&\".\"===f.charAt(0)){this.debug(\"dot detected!\",e,p,t,d);break}this.debug(\"globstar swallow a segment, and continue\"),p++}return!(!n||(this.debug(\"\\n>>> no match, partial?\",e,p,t,d),p!==a))}if(\"string\"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug(\"string match\",l,h,u)):(u=h.match(l),this.debug(\"pattern match\",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&\"\"===e[o];throw new Error(\"wtf?\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=\"win32\"===process.platform,a=\"x64\"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",t=r.join(e,\"Sysnative\",\"bash.exe\"),n=r.join(e,\"System32\",\"bash.exe\"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\\\/g,\"/\")}`:e.replace(/\\\\/g,\"/\")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",c=r.join(e,\"Sysnative\",\"bash.exe\"),l=r.join(e,\"System32\",\"bash.exe\"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\\\/g,\"/\")),e.indexOf(\" \")>0?`'${e}'`:e)).join(\" \");return{cwd:n,executable:p,args:[\"-c\",d],combined:[p].concat([\"-c\",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(44),s=n(15),o=n(45),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||\"Thread #\"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,\"number\"==typeof s&&(this.namedVariables=s),\"number\"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;\"number\"==typeof t&&(s.line=t),\"number\"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super(\"stopped\"),this.body={reason:e},\"number\"==typeof t&&(this.body.threadId=t),\"string\"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super(\"continued\"),this.body={threadId:e},\"boolean\"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super(\"initialized\")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super(\"terminated\"),\"boolean\"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t=\"console\",n){super(\"output\"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super(\"thread\"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super(\"breakpoint\"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super(\"module\"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super(\"loadedSource\"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super(\"capabilities\"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super(\"progressStart\"),this.body={progressId:e,title:t},\"string\"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super(\"progressUpdate\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}};t.ProgressEndEvent=class extends s.Event{constructor(e,t){super(\"progressEnd\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}};var a;t.InvalidatedEvent=class extends s.Event{constructor(e,t,n){super(\"invalidated\"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}},function(e){e[e.User=1]=\"User\",e[e.Telemetry=2]=\"Telemetry\"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n=\"boolean\"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=\"boolean\"==typeof t&&t,this.on(\"close\",()=>{this.shutdown()}),this.on(\"error\",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=\"path\"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;\"number\"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest(\"runInTerminal\",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if(\"initialize\"===e.command){var n=e.arguments;if(\"boolean\"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),\"boolean\"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),\"path\"!==n.pathFormat)this.sendErrorResponse(t,2018,\"debug adapter only supports native paths\",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else\"launch\"===e.command?this.launchRequest(t,e.arguments,e):\"attach\"===e.command?this.attachRequest(t,e.arguments,e):\"disconnect\"===e.command?this.disconnectRequest(t,e.arguments,e):\"terminate\"===e.command?this.terminateRequest(t,e.arguments,e):\"restart\"===e.command?this.restartRequest(t,e.arguments,e):\"setBreakpoints\"===e.command?this.setBreakPointsRequest(t,e.arguments,e):\"setFunctionBreakpoints\"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):\"setExceptionBreakpoints\"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):\"configurationDone\"===e.command?this.configurationDoneRequest(t,e.arguments,e):\"continue\"===e.command?this.continueRequest(t,e.arguments,e):\"next\"===e.command?this.nextRequest(t,e.arguments,e):\"stepIn\"===e.command?this.stepInRequest(t,e.arguments,e):\"stepOut\"===e.command?this.stepOutRequest(t,e.arguments,e):\"stepBack\"===e.command?this.stepBackRequest(t,e.arguments,e):\"reverseContinue\"===e.command?this.reverseContinueRequest(t,e.arguments,e):\"restartFrame\"===e.command?this.restartFrameRequest(t,e.arguments,e):\"goto\"===e.command?this.gotoRequest(t,e.arguments,e):\"pause\"===e.command?this.pauseRequest(t,e.arguments,e):\"stackTrace\"===e.command?this.stackTraceRequest(t,e.arguments,e):\"scopes\"===e.command?this.scopesRequest(t,e.arguments,e):\"variables\"===e.command?this.variablesRequest(t,e.arguments,e):\"setVariable\"===e.command?this.setVariableRequest(t,e.arguments,e):\"setExpression\"===e.command?this.setExpressionRequest(t,e.arguments,e):\"source\"===e.command?this.sourceRequest(t,e.arguments,e):\"threads\"===e.command?this.threadsRequest(t,e):\"terminateThreads\"===e.command?this.terminateThreadsRequest(t,e.arguments,e):\"evaluate\"===e.command?this.evaluateRequest(t,e.arguments,e):\"stepInTargets\"===e.command?this.stepInTargetsRequest(t,e.arguments,e):\"gotoTargets\"===e.command?this.gotoTargetsRequest(t,e.arguments,e):\"completions\"===e.command?this.completionsRequest(t,e.arguments,e):\"exceptionInfo\"===e.command?this.exceptionInfoRequest(t,e.arguments,e):\"loadedSources\"===e.command?this.loadedSourcesRequest(t,e.arguments,e):\"dataBreakpointInfo\"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):\"setDataBreakpoints\"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):\"readMemory\"===e.command?this.readMemoryRequest(t,e.arguments,e):\"disassemble\"===e.command?this.disassembleRequest(t,e.arguments,e):\"cancel\"===e.command?this.cancelRequest(t,e.arguments,e):\"breakpointLocations\"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):\"setInstructionBreakpoints\"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,\"{_stack}\",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,\"unrecognized request\",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){\"win32\"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\\\/g,\"/\")),e=encodeURI(e);let t=new i.URL(\"file:\");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return\"win32\"===process.platform&&(/^\\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\\//g,\"\\\\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&\"_\"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}t.DebugSession=c,c._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super(\"response\"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super(\"event\"),this.event=e,t&&(this.body=t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(47),s=n(14);var o;!function(e){e[e.Verbose=0]=\"Verbose\",e[e.Log=1]=\"Log\",e[e.Warn=2]=\"Warn\",e[e.Error=3]=\"Error\",e[e.Stop=4]=\"Stop\"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+=\"\\n\",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+=\"\",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r=\"string\"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;t.LogOutputEvent=class extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?\"stderr\":t===o.Warn?\"console\":\"stdout\")}},t.trimLastNewline=function(e){return e.replace(/(\\n|\\r\\n)$/,\"\")}},function(e,t){e.exports=require(\"tty\")},function(e,t){e.exports=require(\"assert\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\\:[\\\\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\\\/g,\"/\"),/^[a-zA-Z]\\:\\//.test(e)&&(e=\"/\"+e),e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i=\"\";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\\\/g,\"/\"),\"win32\"!==process.platform&&\"darwin\"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return\"win32\"===process.platform&&(e=e.replace(/\\//g,\"\\\\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\\:\\\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if(\"win32\"===process.platform){const e=n.WINDIR||\"C:\\\\Windows\";i=r.join(e,\"System32\",\"where.exe\")}else i=\"/usr/bin/which\";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\\r?\\n/);if(\"win32\"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+\";\")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if(\"win32\"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(\";\");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if(\"/\"===e.charAt(0))return!0;if(/^[a-zA-Z]\\:[\\\\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\\/[a-zA-Z]\\:\\//.test(e)&&(e=e.substr(1)),e=e.replace(/\\//g,\"\\\\\")},t.join=function(e,t){return e=u(e),t=u(t),\"/\"===e.charAt(e.length-1)?e+=t:e=e+\"/\"+t,e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split(\"/\"),r=t.substr(1).split(\"/\");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(\"..\"),s--;return r.join(\"/\")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>\"!\"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==(\"!\"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&\"\\ufeff\"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){\"use strict\";function r(e){return\"/\"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/.exec(e),n=t[1]||\"\",r=Boolean(n&&\":\"!==n.charAt(1));return Boolean(t[2]||r)}e.exports=\"win32\"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require(\"os\")},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";n(56);const r=n(4).inherits,s=n(57),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;\"function\"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host=\"localhost\"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit(\"error\",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A \"socket\" was not created for HTTP request before '+a+\"ms\");e.code=\"ETIMEOUT\",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&\"function\"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on(\"free\",function(){c(t,r)}),e.onSocket(t)}else{u(new Error(\"no Duplex stream was returned to agent-base for `\"+e.method+\" \"+e.path+\"`\"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if(\"%%\"===n)return n;c++;var s=t.formatters[r];if(\"function\"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,\"function\"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&(\"-\"===(e=r[n].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(62),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){\"use strict\";const r=n(25),s=n(17),o=n(64),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o(\"color=16m\")||o(\"color=full\")||o(\"color=truecolor\"))return 3;if(o(\"color=256\"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if(\"dumb\"===i.TERM)return n;if(\"win32\"===process.platform){const e=r.release().split(\".\");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in i)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\",\"GITHUB_ACTIONS\",\"BUILDKITE\"].some(e=>e in i)||\"codeship\"===i.CI_NAME?1:n;if(\"TEAMCITY_VERSION\"in i)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(i.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===i.COLORTERM)return 3;if(\"TERM_PROGRAM\"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(i.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:\"COLORTERM\"in i?1:n}o(\"no-color\")||o(\"no-colors\")||o(\"color=false\")||o(\"color=never\")?a=0:(o(\"color\")||o(\"colors\")||o(\"color=true\")||o(\"color=always\"))&&(a=1),\"FORCE_COLOR\"in i&&(a=\"true\"===i.FORCE_COLOR?1:\"false\"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){\"use strict\";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if(\"%%\"===e)return e;u++;var s=r.formatters[n];if(\"function\"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,\"function\"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?\":\":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable(\"\")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(68),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(73).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,\"file\",null),this._sourceRoot=s.getArg(e,\"sourceRoot\",null),this._skipValidation=s.getArg(e,\"skipValidation\",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,\"generated\"),n=s.getArg(e,\"original\",null),r=s.getArg(e,\"source\",null),o=s.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p=\"\",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e=\"\",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=\";\",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=\",\"}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(72);t.encode=function(e){var t,n=\"\",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o=\"undefined\"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(82)),a=n(10).EventEmitter,c=n(0),u=n(18),l=n(20),h=n(84),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(85),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if(\"function\"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),\"function\"==typeof n&&(n=v(n),this.on(\"error\",n),this.on(\"end\",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||\"object\"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if(\"string\"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit(\"end\",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?\"stat\"===r.syscall?a[n]=!0:o.emit(\"error\",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit(\"abort\")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit(\"pause\"))},E.prototype.resume=function(){if(this.paused){if(this.emit(\"resume\"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u(\"function\"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;\"string\"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join(\"/\"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join(\"/\")}var a,c=e.slice(i);null===s?a=\".\":l(s)||l(e.join(\"/\"))?(s&&l(s)||(s=\"/\"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||\".\"===h.charAt(0),d=[],f=0;f<i.length;f++){if(\".\"!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),\"/\"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(\"DIR\"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit(\"stat\",t,s),this.emit(\"match\",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g(\"lstat\\0\"+e,function(r,s){if(r&&\"ENOENT\"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]=\"FILE\",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g(\"readdir\\0\"+e+\"\\0\"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||\"FILE\"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s=\"/\"===e?e+s:e+\"/\"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case\"ENOTSUP\":case\"ENOTDIR\":var r=this._makeAbs(e);if(this.cache[r]=\"FILE\",r===this.cwdAbs){var s=new Error(t.code+\" invalid cwd \"+this.cwd);s.path=this.cwd,s.code=t.code,this.emit(\"error\",s),this.abort()}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit(\"error\",t),this.abort()),this.silent||console.error(\"glob error\",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if(\".\"!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\\/\\\\]$/.test(e);\"/\"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+=\"/\"))}\"win32\"===process.platform&&(e=e.replace(/\\\\/g,\"/\")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s=\"/\"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o=\"DIR\"),!s||\"DIR\"===o)return t(null,o);if(s&&\"FILE\"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?\"DIR\":\"FILE\";return s&&\"FILE\"===a?t():t(null,a,i)}var c=this,u=g(\"stat\\0\"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&(\"ENOENT\"===n.code||\"ENOTDIR\"===n.code))return this.statCache[t]=!1,s();var o=\"/\"===e.slice(-1);if(this.statCache[t]=r,\"/\"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?\"DIR\":\"FILE\"),this.cache[t]=this.cache[t]||i,o&&\"FILE\"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\\./.test(i),c=n(78);function u(e){return e&&\"realpath\"===e.syscall&&(\"ELOOP\"===e.code||\"ENOMEM\"===e.code||\"ENAMETOOLONG\"===e.code)}function l(e,t,n){if(a)return s(e,t,n);\"function\"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf(\"/\")){if(n.noglobstar)throw new Error(\"base matching requires globstar\");t=\"**/\"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,\"cwd\")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,\"/\"),e.root=s.resolve(e.root),\"win32\"===process.platform&&(e.root=e.root.replace(/\\\\/g,\"/\"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),\"win32\"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\\\/g,\"/\"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n=\"DIR\"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o=\"DIR\"===r||Array.isArray(r),i=\"/\"===t.slice(-1);if(o&&!i?s+=\"/\":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(20),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if(\"/**\"===e.slice(-3)){var n=e.replace(/(\\/\\*\\*)+$/,\"\");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n=\"/\"===t.charAt(0)?s.join(e.root,t):i(t)||\"\"===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),\"win32\"===process.platform&&(n=n.replace(/\\\\/g,\"/\")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return\"function\"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(43),o=n(50),i=n(51),a=n(19),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,\"node/nodeDebug.ts\"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return\"named\"===t?e._createProperties(this._evalName,this._object,\"named\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t):\"number\"==typeof n&&\"number\"==typeof r?e._createProperties(this._evalName,this._object,\"indexed\",n,r):e._createProperties(this._evalName,this._object,\"all\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return\"named\"===t?e._createSetMapProperties(this._evalName,this._object):\"set\"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties(\"\",this._object,t).then(t=>this._this?e._createVariable(\"\",\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,\"%%\");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),\"%s\"):\"\"});if(n=n.replace(/'/g,\"\\\\'\"),t.length>0)return`console.log('${n}', ${t.join(\", \")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super(\"node-debug.txt\"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console=\"internalConsole\",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log(\"rc\",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on(\"break\",e=>{this._stopped(\"break\"),this._handleNodeBreakEvent(e.body)}),this._node.on(\"exception\",e=>{this._stopped(\"exception\"),this._handleNodeExceptionEvent(e.body)}),this._node.on(\"afterCompile\",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent(\"new\",e))})}),this._node.on(\"close\",e=>{this._terminated(\"node v8protocol close\")}),this._node.on(\"error\",e=>{this._terminated(\"node v8protocol error\")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command(\"continue\");let t;if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"reject(\")){if(this._skipRejects&&!this._catchRejects)return void this._node.command(\"continue\");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent(\"exception\",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log(\"la\",\"_handleNodeBreakEvent: suppressed stop-on-entry event\"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"debugger\"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent(\"debugger_statement\")}let n=\"step\";this._restartFramePending&&(this._restartFramePending=!1,n=\"frame_entry\"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command(\"continue\",{stepaction:\"in\"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command(\"continue\"):this._sendStoppedEvent(\"breakpoint\")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log(\"ss\",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case\"step\":t=g(4,null);break;case\"breakpoint\":t=g(5,null);break;case\"exception\":t=g(6,null);break;case\"pause\":t=g(7,null);break;case\"entry\":t=g(8,null);break;case\"debugger_statement\":t=g(9,null);break;case\"frame_entry\":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(\"!\"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,\"\")}_stopped(e){this._stoppedReason=e,this.log(\"la\",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log(\"rc\",\"_stopped: new ref cache\")}_terminated(e){this.log(\"la\",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log(\"la\",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,\"node/nodeDebug.ts\"))),\"boolean\"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:\"all\",default:!1},{label:g(12,null),filter:\"uncaught\",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:\"rejects\",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=\"win32\"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&\"number\"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug=\"boolean\"==typeof t.noDebug&&t.noDebug,\"string\"==typeof t.console)switch(t.console){case\"internalConsole\":case\"integratedTerminal\":case\"externalTerminal\":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else\"boolean\"==typeof t.externalConsole&&t.externalConsole&&(this._console=\"externalTerminal\");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,\"runtimeExecutable\",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,\"{_runtime}\"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,\"{_runtime}\"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,\"program\",o);if(!d.existsSync(o)){if(!d.existsSync(o+\".js\"))return void this.sendNotExistErrorResponse(e,\"program\",o);o+=\".js\"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=[\"--nolazy\"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,\"{path}\"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,\"{path}\",\"outFiles\"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,\"{path}\"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log(\"sm\",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,\"cwd\",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,\"cwd\",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${m}`):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on(\"listening\",e=>{const t=r.address();\"object\"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on(\"close\",()=>e(n)),r.on(\"error\",e=>t(e)),r.listen(0,\"127.0.0.1\")}),_.push(`--debug-brk=${m}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,\"utf8\")),r={};n.split(\"\\n\").forEach(e=>{const t=e.match(/^\\s*([\\w\\.\\-]+)\\s*=\\s*(.*)?\\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||\"\";n.length>0&&'\"'===n.charAt(0)&&'\"'===n.charAt(n.length-1)&&(n=n.replace(/\\\\n/gm,\"\\n\")),r[e]=n.replace(/(^['\"]|['\"]$)/g,\"\")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,\"{_error}\"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&\"externalTerminal\"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||\"externalTerminal\"!==this._console&&\"integratedTerminal\"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if(\"win32\"===process.platform&&E.executable.indexOf(\" \")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(\" \")>0?(t.push(`\"${n}\"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`\"${E.executable}\"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on(\"error\",t=>{this.sendErrorResponse(e,2017,g(25,null,\"{_error}\"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on(\"exit\",()=>{this._terminated(\"target exited\")}),r.on(\"close\",e=>{this._terminated(\"target closed\")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:\"integratedTerminal\"===this._console?\"integrated\":\"external\",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated(\"cannot track process\")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,\"{_error}\"),{_error:n.message}),this._terminated(\"terminal error: \"+n.message))})}})}_sendLaunchCommandToConsole(e){let t=\"\";for(let n of e)n.indexOf(\" \")>=0?t+=\"'\"+n+\"'\":t+=n,t+=\" \";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stdout\"))}),e.stderr&&e.stderr.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stderr\"))})}_processCommonArgs(e,t){let n=!0;if(\"boolean\"==typeof t.trace?(this._trace=t.trace?[\"all\"]:void 0,this._traceAll=t.trace):\"string\"==typeof t.trace&&(this._trace=t.trace.split(\",\"),this._traceAll=this._trace.indexOf(\"all\")>=0,this._trace.indexOf(\"dap\")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),\"boolean\"==typeof t.stepBack&&(this._stepBack=t.stepBack),\"boolean\"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),\"boolean\"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),\"boolean\"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),\"boolean\"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"localRoot\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"localRoot\",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),\"boolean\"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"outDir\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"outDir\",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&\"localhost\"!==r?r:\"127.0.0.1\",o||(o=R.ATTACH_TIMEOUT),this.log(\"la\",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on(\"connect\",t=>{this.log(\"la\",\"_attach: connected\"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on(\"error\",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,\"{_error}\"),{_error:r.message});else if(\"ECONNREFUSED\"===r.code||\"ECONNRESET\"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log(\"la\",\"_attach: retry socket.connect\"),c.connect(n,i)},200):\"number\"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,\"{_error}\"),{_error:r.message})}),c.on(\"end\",e=>{this._terminated(\"socket end\")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log(\"la\",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf(\"process is not defined\")>=0&&(this.log(\"la\",\"__initialize: process not defined error; got no pid\"),r.success=!0),r.success)t(r.running);else{if(this.log(\"la\",\"__initialize: retrieving process id from node failed\"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command(\"evaluate\",{expression:\"process.version\",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent(\"nodeVersion\",\"telemetry\",{version:t})),this.log(\"la\",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated(\"node process kill exception\")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),\"utf8\"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log(\"la\",\"_injectDebuggerExtensions: code injection successful\"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log(\"la\",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log(\"la\",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log(\"la\",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log(\"la\",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log(\"la\",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command(\"frame\",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log(\"la\",\"_startInitialize2: fire initialized event\"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log(\"la\",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log(\"la\",\"_startInitialize2: fire stop-on-entry event\"),this._sendStoppedEvent(\"entry\")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log(\"la\",\"_startInitialize2: remember to do a 'Continue' later\"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,\"SIGINT\"),this.log(\"la\",\"terminateRequest: send response\"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log(\"la\",\"disconnectRequest: send response\"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command(\"disconnect\"),this._node.stop();else{this._node.stop(),this.log(\"la\",\"shutdown: kill debugee and sub-processes\");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,\"/bin/kill\",[\"-9\",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log(\"bp\",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||\">=\";\"=\"===e&&(e=\"==\");const r=n[2];t=Function(\"hitcnt\",\"%\"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),\"number\"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:\"boolean\"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,\"{_module}\"),{_module:o})});else{if(\"number\"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,\"No valid source specified.\",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve(\"\").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log(\"bp\",\"_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap\"),r=\"\"),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case\"scriptId\":n===t.script_id&&r.push(t.number);break;case\"scriptRegExp\":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:\"scriptId\",target:e,line:n.line,column:n.column,condition:n.condition}:{type:\"scriptRegExp\",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log(\"bp\",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log(\"sm\",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log(\"la\",\"_setBreakpoint2: remember to fire a breakpoint event later\"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\\\.?*()^${}|[\\]])/g,\"\\\\$1\");if(/^[a-zA-Z]:\\\\/.test(e)){const e=t.substring(0,1).toUpperCase();t=\"[\"+e.toLowerCase()+e+\"]\"+t.substring(1)}return\"^(.*[\\\\/\\\\\\\\])?\"+t+\"$\"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:\"function\",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log(\"bp\",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf(\"all\")>=0,r=o.indexOf(\"uncaught\")>=0,this._catchRejects=o.indexOf(\"rejects\")>=0),Promise.all([this._node.setExceptionBreak({type:\"all\",enabled:n}),this._node.setExceptionBreak({type:\"uncaught\",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,\"Configuring exception break options failed ({_nodeError}).\",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n=\"nothing to do\";this._needContinue&&(this._needContinue=!1,n=\"do a 'Continue'\",this._node.command(\"continue\")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n=\"fire breakpoint event\",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n=\"fire debugger statement event\",this._sendStoppedEvent(\"debugger_statement\")),this.log(\"la\",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command(\"threads\",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r=\"number\"==typeof t.startFrame?t.startFrame:0,o=\"number\"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,\"Unexpected thread reference {_thread}.\",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log(\"va\",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error(\"no stack\")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{\"no stack\"===t.message?\"pause\"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if(\"file:\"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if(\"number\"!=typeof o.id)throw new Error(\"no script id\");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint=\"deemphasize\"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log(\"sm\",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\\r\\n/g,\"\\n\"),t=(t=t.replace(/\\r\\n/g,\"\\n\")).replace(/^#!.*\\n/,\"\"),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log(\"ls\",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,\"utf8\",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,\"stack frame not valid\",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a=\"scopes\";this._nodeInjectionAvailable&&(a=\"vscode_scopes\",i.maxLocals=this._maxVariablesPerScope),this.log(\"va\",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&\"number\"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n=\"indexed\"===t.filter||\"named\"===t.filter?t.filter:\"all\";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if(\"number\"==typeof t.vscode_indexedCnt&&\"number\"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2(\"vscode_slice\",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if(\"name\"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case\"all\":o.push(e);break;case\"named\":w(t)||o.push(e);break;case\"indexed\":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&(\"all\"===n||\"named\"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&\"undefined\"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:\"obj\",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log(\"va\",\"_createPropertyVariables: trigger getter\"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,\"undefined\"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='\"\"');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case\"undefined\":case\"null\":return Promise.resolve(this._createVar(o,t,n.type));case\"string\":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case\"number\":if(\"number\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case\"boolean\":if(\"boolean\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case\"set\":case\"map\":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case\"object\":case\"function\":case\"regexp\":case\"promise\":case\"generator\":case\"error\":const i=n;let a=i.className;switch(a){case\"Array\":case\"ArrayBuffer\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":return this._createArrayVariable(e,t,n,r);case\"RegExp\":if(\"string\"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case\"Generator\":case\"Object\":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if(\"promise\"===n.type||\"generator\"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case\"Function\":case\"Error\":default:if(i.text){let e=i.text;if(e.indexOf(\"\\n\")>=0){const t=e.indexOf(\"{\");t>0&&(e=e.substring(0,t)+\"{", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "进程PID": "", "异常时间": "2021-02-25 07:29:04", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(22)},function(e,t,r){\"use strict\";const n=r(0),o=r(23),s=r(24),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const p=(r,i=!1)=>{let{isMatch:p,match:l,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:l,isMatch:p};return\"function\"==typeof n.onResult&&n.onResult(d),!1===p?(d.isMatch=!1,!!i&&d):c(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):(\"function\"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(p.state=u),p};a.test=(e,t,r,{glob:n,posix:o}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,p=c&&u?u(e):e;return!1===c&&(p=u?u(e):e,c=p===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(p)),{isMatch:!!c,match:c,output:p}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let o,i=t||{},u=i.contains?\"\":\"^\",c=i.contains?\"\":\"$\",p={negated:!1,fastpaths:!0},l=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),l=p.prefix=\"./\"),!1===i.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(p=a.parse(e,t),p.prefix=l+(p.prefix||\"\"),o=p.output),!0===r)return o;let f=`${u}(?:${o})${c}`;p&&!0===p.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=p),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){\"use strict\";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,b=0,x=0,S=!1,O=!1,m=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===l)for(H++;!L()&&(t=N());)if(t!==i)if(t!==l){if(!T&&t===u&&(t=N())===u){S=!0;break}if(!T&&t===a){S=!0;break}if(t===g&&(H--,0===H)){T=!1;break}}else H++;else O=!0,t=N();if(E!==p){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else O=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(v+1)===f){S=!0;break}if(E!==c||v!==b){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else O=!0,t=N();if(S)break}else m=!0,b++}else{if(r===u&&v===b+1){b+=2;continue}x=v+1}}else O=!0,t=N(),t===l&&(T=!0)}let w=\"\",I=e,$=e,k=\"\";return b>0&&(w=e.slice(0,b),e=e.slice(b),x-=b),$&&!0===S&&x>0?($=e.slice(0,x),k=e.slice(x)):!0===S?($=\"\",k=e):$=e,$&&\"\"!==$&&\"/\"!==$&&$!==e&&(e=>e===p||e===i)($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),$&&!0===O&&($=n.removeBackslashes($))),{prefix:w,input:I,base:$,glob:k,negated:m,isGlob:S}}},function(e,t,r){\"use strict\";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,p=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},l=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,d=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=c[e]||e;let r={...t},d=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:\"bos\",value:\"\",output:r.prepend||\"\"},g=[h],A=r.capture?\"\":\"?:\",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:b,ONE_CHAR:x,DOTS_SLASH:S,NO_DOT:O,NO_DOT_SLASH:m,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,I=e=>`(${A}(?:(?!${w}${e.dot?S:C}).)*?)`;let $=r.dot?\"\":O,k=!0===r.bash?I(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],F=[],K=h;const j=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],Q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||\"\"},q=e=>{D[e]++,F.push(e)},W=e=>{D[e]--,F.pop()},X=e=>{if(\"globstar\"===K.type){let t=D.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(D.output=D.output.slice(0,-K.output.length),K.type=\"star\",K.value=\"*\",K.output=k,D.output+=K.output)}B.length&&\"paren\"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&Q(e),K&&\"text\"===K.type&&\"text\"===e.type?K.value+=e.value:(e.prev=K,g.push(e),K=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:\"\"};n.prev=K,n.parens=D.parens,n.output=D.output;let o=(r.capture?\"(\":\"\")+n.open;X({type:e,value:t,output:D.output?\"\":x}),X({type:\"paren\",extglob:!0,value:G(),output:o}),q(\"parens\"),B.push(n)},V=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(o=I(r)),(o!==k||j()||/^\\)+$/.test(e.slice(D.index+1)))&&(n=t.close=\")$))\"+o),\"bos\"===t.prev.type&&j()&&(D.negatedExtglob=!0)}X({type:\"paren\",extglob:!0,value:M,output:n}),W(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>\"\\\\\"===o?(t=!0,e):\"?\"===o?r?r+o+(s?T.repeat(s.length):\"\"):0===i?P+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===o?C.repeat(n.length):\"*\"===o?r?r+o+(s?k:\"\"):k:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),D.output=n,D}for(;!j();){if(M=G(),\"\\0\"===M)continue;if(\"\\\\\"===M){let t=U();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){M+=\"\\\\\",X({type:\"text\",value:M});continue}let n=/^\\\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+=\"\\\\\")),!0===r.unescape?M=G()||\"\":M+=G()||\"\",0===D.brackets){X({type:\"text\",value:M});continue}}if(D.brackets>0&&(\"]\"!==M||\"[\"===K.value||\"[^\"===K.value)){if(!1!==r.posix&&\":\"===M){let e=K.value.slice(1);if(e.includes(\"[\")&&(K.posix=!0,e.includes(\":\"))){let e=K.value.lastIndexOf(\"[\"),t=K.value.slice(0,e),r=K.value.slice(e+2),n=i[r];if(n){K.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(K)||(h.output=x);continue}}}(\"[\"===M&&\":\"!==U()||\"-\"===M&&\"]\"===U())&&(M=\"\\\\\"+M),\"]\"!==M||\"[\"!==K.value&&\"[^\"!==K.value||(M=\"\\\\\"+M),!0===r.posix&&\"!\"===M&&\"[\"===K.value&&(M=\"^\"),K.value+=M,Q({value:M});continue}if(1===D.quotes&&'\"'!==M){M=n.escapeRegex(M),K.value+=M,Q({value:M});continue}if('\"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:\"text\",value:M});continue}if(\"(\"===M){X({type:\"paren\",value:M}),q(\"parens\");continue}if(\")\"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"(\"));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:\"paren\",value:M,output:D.parens?\")\":\"\\\\)\"}),W(\"parens\");continue}if(\"[\"===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes(\"]\"))q(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));M=\"\\\\\"+M}X({type:\"bracket\",value:M});continue}if(\"]\"===M){if(!0===r.nobracket||K&&\"bracket\"===K.type&&1===K.value.length){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"[\"));X({type:\"text\",value:M,output:\"\\\\\"+M});continue}W(\"brackets\");let e=K.value.slice(1);if(!0===K.posix||\"^\"!==e[0]||e.includes(\"/\")||(M=\"/\"+M),K.value+=M,Q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(K.value);if(D.output=D.output.slice(0,-K.value.length),!0===r.literalBrackets){D.output+=t,K.value=t;continue}K.value=`(${A}${t}|${K.value})`,D.output+=K.value;continue}if(\"{\"===M&&!0!==r.nobrace){X({type:\"brace\",value:M,output:\"(\"}),q(\"braces\");continue}if(\"}\"===M){if(!0===r.nobrace||0===D.braces){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}let e=\")\";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=p(n,r),D.backtrack=!0}X({type:\"brace\",value:M,output:e}),W(\"braces\");continue}if(\"|\"===M){B.length>0&&B[B.length-1].conditions++,X({type:\"text\",value:M});continue}if(\",\"===M){let e=M;D.braces>0&&\"braces\"===F[F.length-1]&&(e=\"|\"),X({type:\"comma\",value:M,output:e});continue}if(\"/\"===M){if(\"dot\"===K.type&&1===D.index){D.start=D.index+1,D.consumed=\"\",D.output=\"\",g.pop(),K=h;continue}X({type:\"slash\",value:M,output:b});continue}if(\".\"===M){if(D.braces>0&&\"dot\"===K.type){\".\"===K.value&&(K.output=C),K.type=\"dots\",K.output+=M,K.value+=M,D.dots=!0;continue}X({type:\"dot\",value:M,output:C});continue}if(\"?\"===M){if(K&&\"paren\"===K.type){let e=U(),t=M;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===K.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(U(2)))&&(t=\"\\\\\"+M),X({type:\"text\",value:M,output:t});continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"qmark\",M);continue}if(!0!==r.dot&&(\"slash\"===K.type||\"bos\"===K.type)){X({type:\"qmark\",value:M,output:L});continue}X({type:\"qmark\",value:M,output:T});continue}if(\"!\"===M){if(!0!==r.noextglob&&\"(\"===U()&&(\"?\"!==U(2)||!/[!=<:]/.test(U(3)))){Z(\"negate\",M);continue}if(!0!==r.nonegate&&0===D.index){l(D);continue}}if(\"+\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"plus\",M);continue}if(K&&(\"bracket\"===K.type||\"paren\"===K.type||\"brace\"===K.type)){let e=!0===K.extglob?\"\\\\\"+M:M;X({type:\"plus\",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:\"plus\",value:M});continue}X({type:\"plus\",value:v});continue}if(\"@\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){X({type:\"at\",value:M,output:\"\"});continue}X({type:\"text\",value:M});continue}if(\"*\"!==M){\"$\"!==M&&\"^\"!==M||(M=\"\\\\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:\"text\",value:M});continue}if(K&&(\"globstar\"===K.type||!0===K.star)){K.type=\"star\",K.star=!0,K.value+=M,K.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"star\",M);continue}if(\"star\"===K.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=K.prev,n=t.prev,o=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!o||!j()&&\"/\"!==U())){X({type:\"star\",value:M,output:\"\"});continue}let i=D.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!o&&\"paren\"!==t.type&&!i&&!a){X({type:\"star\",value:M,output:\"\"});continue}for(;\"/**\"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&\"/\"!==t)break;D.consumed+=\"/**\",D.index+=3}if(\"bos\"===t.type&&j()){K.type=\"globstar\",K.value+=M,K.output=I(r),D.output=K.output,D.consumed+=M;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&j()){D.output=D.output.slice(0,-(t.output+K.output).length),t.output=\"(?:\"+t.output,K.type=\"globstar\",K.output=I(r)+\"|$)\",K.value+=M,D.output+=t.output+K.output,D.consumed+=M;continue}let u=U();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===u){let e=void 0!==U(2)?\"|$\":\"\";D.output=D.output.slice(0,-(t.output+K.output).length),t.output=\"(?:\"+t.output,K.type=\"globstar\",K.output=`${I(r)}${b}|${b}${e})`,K.value+=M,D.output+=t.output+K.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===u){K.type=\"globstar\",K.value+=M,K.output=`(?:^|${b}|${I(r)}${b})`,D.output=K.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}D.output=D.output.slice(0,-K.output.length),K.type=\"globstar\",K.output=I(r),K.value+=M,D.output+=K.output,D.consumed+=M;continue}let t={type:\"star\",value:M,output:k};!0!==r.bash?!K||\"bracket\"!==K.type&&\"paren\"!==K.type||!0!==r.regex?(D.index!==D.start&&\"slash\"!==K.type&&\"dot\"!==K.type||(\"dot\"===K.type?(D.output+=m,K.output+=m):!0===r.dot?(D.output+=H,K.output+=H):(D.output+=$,K.output+=$),\"*\"!==U()&&(D.output+=x,K.output+=x)),X(t)):(t.output=M,X(t)):(t.output=\".*?\",\"bos\"!==K.type&&\"slash\"!==K.type||(t.output=$+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));D.output=n.escapeLast(D.output,\"[\"),W(\"brackets\")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\")\"));D.output=n.escapeLast(D.output,\"(\"),W(\"parens\")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"}\"));D.output=n.escapeLast(D.output,\"{\"),W(\"braces\")}if(!0===r.strictSlashes||\"star\"!==K.type&&\"bracket\"!==K.type||X({type:\"maybe_slash\",value:\"\",output:`${b}?`}),!0===D.backtrack){D.output=\"\";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:p,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?\"\":\"?:\",y=!0===r.bash?\".*?\":A,C=r.dot?h:_,v=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${R}${e.dot?d:p}).)*?)`,x=e=>{switch(e){case\"*\":return`${C}${f}${y}`;case\".*\":return`${p}${f}${y}`;case\"*.*\":return`${C}${y}${p}${f}${y}`;case\"*/*\":return`${C}${y}${l}${f}${v}${y}`;case\"**\":return C+b(r);case\"**/*\":return`(?:${C}${b(r)}${l})?${v}${f}${y}`;case\"**/*.*\":return`(?:${C}${b(r)}${l})?${v}${y}${p}${f}${y}`;case\"**/.*\":return`(?:${C}${b(r)}${l})?${p}${f}${y}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+p+r[2]}}};let S=x(e);return S&&!0!==r.strictSlashes&&(S+=`${l}?`),S},e.exports=d},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set([\"mocha\",\"jest\",\"jest-cli\",\"ava\",\"tape\",\"tap\",\"ts-node\",\"babel-node\"]);t.knownToolToken=\"$KNOWN_TOOLS$\",t.knownToolGlob=`{${[...n].join(\",\")}}`},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=\":::\";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(28),logger_1=__webpack_require__(9);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to lack of IPC server\"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to invalid lease file\"),!1)},exports.checkNotElectron=()=>{try{return eval(\"window\"),logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling in Electron (window is set)\"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r=\"\";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||\"\").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to not matching pattern\",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&\"npm-cli.js\"===path_1.basename(e[1])&&\"prefix\"===e[2]&&\"-g\"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&\"node-gyp.js\"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.LeaseFile=void 0;const i=r(8),a=r(5),u=r(29),c=s(r(0));class p{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString(\"hex\")}`),this.file=a.promises.open(this.path,\"w\")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-p.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),p.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=p,p.updateInterval=1e3,p.recencyDeadline=2e3},function(e,t){e.exports=require(\"os\")},function(e,t){function r(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,\"watchdog.bundle.js\"),t.bootloaderDefaultPath=n.join(__dirname,\"bootloader.bundle.js\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createTargetId=void 0;const n=r(8);t.createTargetId=()=>n.randomBytes(12).toString(\"hex\")}]);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js", "进程PID": "", "异常时间": "2021-02-25 07:29:04", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(371)},function(e,t,r){\"use strict\";const n=r(0),i=r(372),s=r(373),o=r(82),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):(\"function\"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let i,o=t||{},c=o.contains?\"\":\"^\",u=o.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=l.prefix=\"./\"),!1===o.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||\"\"),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(83),e.exports=a},function(e,t,r){\"use strict\";const n=r(82),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(83);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A=\"\",R=e,I=e,D=\"\";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I=\"\",D=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){\"use strict\";const n=r(82),i=r(83),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,h=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=u[e]||e;let r={...t},h=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},m=[g],y=r.capture?\"\":\"?:\",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?\"\":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||\"\"},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if(\"globstar\"===$.type){let t=F.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type=\"star\",$.value=\"*\",$.output=D,F.output+=$.output)}B.length&&\"paren\"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&\"text\"===$.type&&\"text\"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:\"\"};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?\"(\":\"\")+n.open;K({type:e,value:t,output:F.output?\"\":x}),K({type:\"paren\",extglob:!0,value:W(),output:i}),G(\"parens\"),B.push(n)},Q=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(i=R(r)),(i!==D||q()||/^\\)+$/.test(e.slice(F.index+1)))&&(n=t.close=\")$))\"+i),\"bos\"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:\"paren\",extglob:!0,value:N,output:n}),z(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>\"\\\\\"===i?(t=!0,e):\"?\"===i?r?r+i+(s?T.repeat(s.length):\"\"):0===o?L+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===i?_.repeat(n.length):\"*\"===i?r?r+i+(s?D:\"\"):D:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),F.output=n,F}for(;!q();){if(N=W(),\"\\0\"===N)continue;if(\"\\\\\"===N){let t=V();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){N+=\"\\\\\",K({type:\"text\",value:N});continue}let n=/^\\\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+=\"\\\\\")),!0===r.unescape?N=W()||\"\":N+=W()||\"\",0===F.brackets){K({type:\"text\",value:N});continue}}if(F.brackets>0&&(\"]\"!==N||\"[\"===$.value||\"[^\"===$.value)){if(!1!==r.posix&&\":\"===N){let e=$.value.slice(1);if(e.includes(\"[\")&&($.posix=!0,e.includes(\":\"))){let e=$.value.lastIndexOf(\"[\"),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}(\"[\"===N&&\":\"!==V()||\"-\"===N&&\"]\"===V())&&(N=\"\\\\\"+N),\"]\"!==N||\"[\"!==$.value&&\"[^\"!==$.value||(N=\"\\\\\"+N),!0===r.posix&&\"!\"===N&&\"[\"===$.value&&(N=\"^\"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'\"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('\"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:\"text\",value:N});continue}if(\"(\"===N){K({type:\"paren\",value:N}),G(\"parens\");continue}if(\")\"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"(\"));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:\"paren\",value:N,output:F.parens?\")\":\"\\\\)\"}),z(\"parens\");continue}if(\"[\"===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes(\"]\"))G(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));N=\"\\\\\"+N}K({type:\"bracket\",value:N});continue}if(\"]\"===N){if(!0===r.nobracket||$&&\"bracket\"===$.type&&1===$.value.length){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"[\"));K({type:\"text\",value:N,output:\"\\\\\"+N});continue}z(\"brackets\");let e=$.value.slice(1);if(!0===$.posix||\"^\"!==e[0]||e.includes(\"/\")||(N=\"/\"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if(\"{\"===N&&!0!==r.nobrace){K({type:\"brace\",value:N,output:\"(\"}),G(\"braces\");continue}if(\"}\"===N){if(!0===r.nobrace||0===F.braces){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}let e=\")\";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:\"brace\",value:N,output:e}),z(\"braces\");continue}if(\"|\"===N){B.length>0&&B[B.length-1].conditions++,K({type:\"text\",value:N});continue}if(\",\"===N){let e=N;F.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),K({type:\"comma\",value:N,output:e});continue}if(\"/\"===N){if(\"dot\"===$.type&&1===F.index){F.start=F.index+1,F.consumed=\"\",F.output=\"\",m.pop(),$=g;continue}K({type:\"slash\",value:N,output:k});continue}if(\".\"===N){if(F.braces>0&&\"dot\"===$.type){\".\"===$.value&&($.output=_),$.type=\"dots\",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:\"dot\",value:N,output:_});continue}if(\"?\"===N){if($&&\"paren\"===$.type){let e=V(),t=N;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===$.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(V(2)))&&(t=\"\\\\\"+N),K({type:\"text\",value:N,output:t});continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"qmark\",N);continue}if(!0!==r.dot&&(\"slash\"===$.type||\"bos\"===$.type)){K({type:\"qmark\",value:N,output:j});continue}K({type:\"qmark\",value:N,output:T});continue}if(\"!\"===N){if(!0!==r.noextglob&&\"(\"===V()&&(\"?\"!==V(2)||!/[!=<:]/.test(V(3)))){J(\"negate\",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if(\"+\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"plus\",N);continue}if($&&(\"bracket\"===$.type||\"paren\"===$.type||\"brace\"===$.type)){let e=!0===$.extglob?\"\\\\\"+N:N;K({type:\"plus\",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:\"plus\",value:N});continue}K({type:\"plus\",value:S});continue}if(\"@\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){K({type:\"at\",value:N,output:\"\"});continue}K({type:\"text\",value:N});continue}if(\"*\"!==N){\"$\"!==N&&\"^\"!==N||(N=\"\\\\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:\"text\",value:N});continue}if($&&(\"globstar\"===$.type||!0===$.star)){$.type=\"star\",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"star\",N);continue}if(\"star\"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!i||!q()&&\"/\"!==V())){K({type:\"star\",value:N,output:\"\"});continue}let o=F.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!i&&\"paren\"!==t.type&&!o&&!a){K({type:\"star\",value:N,output:\"\"});continue}for(;\"/**\"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&\"/\"!==t)break;F.consumed+=\"/**\",F.index+=3}if(\"bos\"===t.type&&q()){$.type=\"globstar\",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=R(r)+\"|$)\",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==V(2)?\"|$\":\"\";F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){$.type=\"globstar\",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}F.output=F.output.slice(0,-$.output.length),$.type=\"globstar\",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:\"star\",value:N,output:D};!0!==r.bash?!$||\"bracket\"!==$.type&&\"paren\"!==$.type||!0!==r.regex?(F.index!==F.start&&\"slash\"!==$.type&&\"dot\"!==$.type||(\"dot\"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),\"*\"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=\".*?\",\"bos\"!==$.type&&\"slash\"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));F.output=n.escapeLast(F.output,\"[\"),z(\"brackets\")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\")\"));F.output=n.escapeLast(F.output,\"(\"),z(\"parens\")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"}\"));F.output=n.escapeLast(F.output,\"{\"),z(\"braces\")}if(!0===r.strictSlashes||\"star\"!==$.type&&\"bracket\"!==$.type||K({type:\"maybe_slash\",value:\"\",output:`${k}?`}),!0===F.backtrack){F.output=\"\";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?\"\":\"?:\",w=!0===r.bash?\".*?\":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case\"*\":return`${_}${d}${w}`;case\".*\":return`${l}${d}${w}`;case\"*.*\":return`${_}${w}${l}${d}${w}`;case\"*/*\":return`${_}${w}${p}${d}${S}${w}`;case\"**\":return _+k(r);case\"**/*\":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case\"**/*.*\":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case\"**/.*\":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?\"variable\":\"property\",i=(e,t,i)=>{if(\"function\"!==t)return n;if(\"constructor\"===e)return\"class\";const s=String(i);return s.startsWith(\"class \")||s.includes(\"[native code]\")&&/^[A-Z]/.test(e)?\"class\":r?\"function\":\"method\"},s=[],o=new Set;let a=\"~\",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+=\"~\";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>\"{\".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(61),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,\"adapter/console/queryObjectsMessage.js\"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:\"stderr\",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:\"console\"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:\"stderr\",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:\"console\",generatePreview:!0})}catch(e){return{category:\"stderr\",output:u(2,null,e.message)}}const n=\"", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js", "进程PID": "", "异常时间": "2021-03-05 06:32:37", "所属用户": "root", "异常信息": "反弹shell类：`):n}function L(n){return typeof n.code==\"string\"&&typeof n.errno==\"number\"&&typeof n.syscall==\"string\"?S.localize(1,null,n.message):n.message||S.localize(2,null)}function h(n=null,D=!1){if(!n)return S.localize(3,null);if(Array.isArray(n)){const b=P.coalesce(n),I=h(b[0],D);return b.length>1?S.localize(4,null,I,b.length):I}if(d.isString(n))return n;if(n.detail){const b=n.detail;if(b.error)return y(b.error,D);if(b.exception)return y(b.exception,D)}return n.stack?y(n,D):n.message?n.message:S.localize(5,null)}e.toErrorMessage=h}),define(fe[134],he([9,10]),function(Q,e){return Q.create(\"vs/base/common/jsonErrorMessages\",e)}),define(fe[135],he([0,1,134]),function(Q,e,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getParseErrorMessage=void 0;function d(P){switch(P){case 1:return S.localize(0,null);case 2:return S.localize(1,null);case 3:return S.localize(2,null);case 4:return S.localize(3,null);case 5:return S.localize(4,null);case 6:return S.localize(5,null);case 7:return S.localize(6,null);case 8:return S.localize(7,null);case 9:return S.localize(8,null);default:return\"\"}}e.getParseErrorMessage=d}),define(fe[136],he([9,10]),function(Q,e){return Q.create(\"vs/base/node/processes\",e)}),define(fe[80],he([0,1,2,15,20,32,136,11,19,28,5,74,8]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function E(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(c,r){if(D.isWindows)try{const t={stdio:[\"pipe\",\"pipe\",\"ignore\"]};r&&(t.cwd=r);const i=y.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",c.pid.toString()],t);return new Promise(o=>{i.once(\"error\",a=>{o({success:!1,error:a})}),i.once(\"exit\",(a,s)=>{o(a===0?{success:!0}:{success:!1,code:a!==null?a:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?E(t.status):1})}else if(D.isLinux||D.isMacintosh)try{const t=I.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Q).fsPath;return new Promise(i=>{y.execFile(t,[c.pid.toString()],{encoding:\"utf8\",shell:!0},(o,a,s)=>{i(o?{success:!1,error:o}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else c.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function v(c=process.env){return c.comspec||\"cmd.exe\"}e.getWindowsShell=v;class _{constructor(r,t,i,o){if(t!==void 0&&i!==void 0&&o!==void 0)this.cmd=r,this.args=t,this.shell=i,this.options=o;else{const a=r;this.cmd=a.command,this.shell=a.isShellCommand,this.args=a.args.slice(0),this.options=a.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const a=Object.create(null);Object.keys(process.env).forEach(s=>{a[s]=process.env[s]}),Object.keys(this.options.env).forEach(s=>{a[s]=this.options.env[s]}),this.options.env=a}}getSanitizedCommand(){let r=this.cmd.toLowerCase();const t=r.lastIndexOf(S.sep);return t!==-1&&(r=r.substring(t+1)),_.WellKnowCommands[r]?r:\"other\"}start(r){return D.isWindows&&(this.options&&this.options.cwd&&n.isUNC(this.options.cwd)||!this.options&&n.isUNC(process.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(t=>{let i,o;const a=new Promise((s,g)=>{i=s,o=g});if(t){let s=this.cmd;this.args&&(s=s+\" \"+this.args.join(\" \")),this.childProcess=y.exec(s,this.options,(g,C,R)=>{this.childProcess=null;const p=g;p&&p.killed?o({killed:this.terminateRequested,stdout:C.toString(),stderr:R.toString()}):this.handleExec(i,r,g,C,R)})}else{let s=null;const g=C=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(C,i,r,o);const R={terminated:this.terminateRequested};L.isNumber(C)&&(R.cmdCode=C),i(R)};if(this.shell&&D.isWindows){const C=h.deepClone(this.options);C.windowsVerbatimArguments=!0,C.detached=!1;let R=!1,p=!1;const f=[];let T=this.ensureQuotes(this.cmd);f.push(T.value),R=T.quoted,this.args&&this.args.forEach(H=>{T=this.ensureQuotes(H),f.push(T.value),p=p&&T.quoted});const O=[\"/s\",\"/c\"];R?p?O.push('\"'+f.join(\" \")+'\"'):f.length>1?O.push('\"'+f[0]+'\" '+f.slice(1).join(\" \")):O.push('\"'+f[0]+'\"'):O.push(f.join(\" \")),s=y.spawn(v(),O,C)}else this.cmd&&(s=y.spawn(this.cmd,this.args,this.options));s&&(this.childProcess=s,this.childProcessPromise=Promise.resolve(s),this.pidResolve&&(this.pidResolve(L.isNumber(s.pid)?s.pid:-1),this.pidResolve=void 0),s.on(\"error\",C=>{this.childProcess=null,o({terminated:this.terminateRequested,error:C})}),s.pid&&(this.childProcess.on(\"close\",g),this.handleSpawn(s,i,r,o,!0)))}return a})}handleClose(r,t,i,o){}ensureQuotes(r){return _.regexp.test(r)?{value:'\"'+r+'\"',quoted:!0}:{value:r,quoted:r.length>0&&r[0]==='\"'&&r[r.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(r=>r.pid,r=>-1):new Promise(r=>{this.pidResolve=r})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(r=>(this.terminateRequested=!0,u(r,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),r=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(r=>{if(!this.shell||!D.isWindows)return r(!1);const t=y.spawn(v(),[\"/s\",\"/c\"]);t.on(\"error\",i=>r(!0)),t.on(\"exit\",i=>r(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^\"].* .*[^\"]/;class w extends _{constructor(r,t,i,o){super(r,t,i,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(r,t,i,o,a){[o,a].forEach((s,g)=>{const C=new b.LineDecoder;C.write(s).forEach(f=>{t({line:f,source:g===0?0:1})});const p=C.end();p&&t({line:p,source:g===0?0:1})}),r({terminated:this.terminateRequested,error:i})}handleSpawn(r,t,i,o,a){const s=new b.LineDecoder,g=new b.LineDecoder;r.stdout.on(\"data\",C=>{s.write(C).forEach(p=>i({line:p,source:0}))}),r.stderr.on(\"data\",C=>{g.write(C).forEach(p=>i({line:p,source:1}))}),this.stdoutLineDecoder=s,this.stderrLineDecoder=g}handleClose(r,t,i,o){const a=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;a&&i({line:a,source:0});const s=this.stderrLineDecoder?this.stderrLineDecoder.end():null;s&&i({line:s,source:1})}}e.LineProcess=w;function m(c){let r=[],t=!1;const i=function(o){if(t){r.push(o);return}(!c.send(o,s=>{if(s&&console.error(s),t=!1,r.length>0){const g=r.slice(0);r=[],g.forEach(C=>i(C))}})||D.isWindows)&&(t=!0)};return{send:i}}e.createQueuedSender=m;var l;(function(c){async function r(t,i,o){if(S.isAbsolute(t))return t;if(i===void 0&&(i=process.cwd()),S.dirname(t)!==\".\"||(o===void 0&&L.isString(process.env.PATH)&&(o=process.env.PATH.split(S.delimiter)),o===void 0||o.length===0))return S.join(i,t);async function s(g){return await P.exists(g)?!(await d.promises.stat(g)).isDirectory():!1}for(let g of o){let C;if(S.isAbsolute(g)?C=S.join(g,t):C=S.join(i,g,t),await s(C))return C;let R=C+\".com\";if(await s(R)||(R=C+\".exe\",await s(R)))return R}return S.join(i,t)}c.findExecutable=r})(l=e.win32||(e.win32={}))}),define(fe[81],he([0,1,22,5,123,80]),function(Q,e,S,d,P,y){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(E,u=process.env){return E===3?d.isWindows?b():y.getWindowsShell(u):n(E,u)}e.getSystemShell=k;function L(E,u=process.env){return E===3?d.isWindows?I(u):y.getWindowsShell(u):n(E,u)}e.getSystemShellSync=L;let h=null;function n(E,u){if(d.isLinux&&E===1||d.isMacintosh&&E===2)return\"/bin/bash\";if(!h){let v;if(d.isWindows)v=\"/bin/bash\";else{if(v=u.SHELL,!v)try{v=S.userInfo().shell}catch(_){}v||(v=\"sh\"),v===\"/bin/false\"&&(v=\"/bin/bash\")}h=v}return h}let D=null;async function b(){return D||(D=(await P.getFirstAvailablePowerShellInstallation()).exePath),D}function I(E){if(D)return D;const u=d.isWindows&&parseFloat(S.release())>=10,v=E.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),_=`${E.windir}\\\\${v?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return u?_:y.getWindowsShell(E)}}),define(fe[82],he([0,1,32,4,13,19,6,80,37,114,27,12,18,5]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Client=e.Server=void 0;class u extends h.ChannelServer{constructor(w){super({send:m=>{try{process.send&&process.send(m.buffer.toString(\"base64\"))}catch(l){}},onMessage:k.Event.fromNodeEventEmitter(process,\"message\",m=>I.VSBuffer.wrap(Buffer.from(m,\"base64\")))},w);process.once(\"disconnect\",()=>this.dispose())}}e.Server=u;class v{constructor(w,m){this.modulePath=w,this.options=m,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const l=m&&m.timeout?m.timeout:6e4;this.disposeDelayer=new P.Delayer(l),this.child=null,this._client=null}getChannel(w){const m=this;return{call(l,c,r){return m.requestPromise(w,l,c,r)},listen(l,c){return m.requestEvent(w,l,c)}}}requestPromise(w,m,l,c=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error(\"disposed\"));if(c.isCancellationRequested)return Promise.reject(b.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(w),t=P.createCancelablePromise(a=>r.call(m,l,a)),i=c.onCancellationRequested(()=>t.cancel()),o=d.toDisposable(()=>t.cancel());return this.activeRequests.add(o),t.finally(()=>{i.dispose(),this.activeRequests.delete(o),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(w,m,l){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let c;const r=new k.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(w).listen(m,l)(r.fire,r),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const w=this.options&&this.options.args?this.options.args:[],m=Object.create(null);m.env=Object.assign(Object.assign({},y.deepClone(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(m.env=Object.assign(Object.assign({},m.env),this.options.env)),this.options&&this.options.freshExecArgv&&(m.execArgv=[]),this.options&&typeof this.options.debug==\"number\"&&(m.execArgv=[\"--nolazy\",\"--inspect=\"+this.options.debug]),this.options&&typeof this.options.debugBrk==\"number\"&&(m.execArgv=[\"--nolazy\",\"--inspect-brk=\"+this.options.debugBrk]),m.execArgv===void 0&&(m.execArgv=process.execArgv.filter(s=>!/^--inspect(-brk)?=/.test(s))),E.isMacintosh&&m.env&&delete m.env.DYLD_LIBRARY_PATH,this.child=S.fork(this.modulePath,w,m);const l=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,\"message\",s=>s)(s=>{if(n.isRemoteConsoleLog(s)){n.log(s,`IPC Library: ${this.options.serverName}`);return}l.fire(I.VSBuffer.wrap(Buffer.from(s,\"base64\")))});const r=this.options.useQueue?L.createQueuedSender(this.child):this.child,t=s=>this.child&&this.child.connected&&r.send(s.buffer.toString(\"base64\")),i=l.event,o={send:t,onMessage:i};this._client=new h.ChannelClient(o);const a=()=>this.disposeClient();process.once(\"exit\",a),this.child.on(\"error\",s=>console.warn('IPC \"'+this.options.serverName+'\" errored with '+s)),this.child.on(\"exit\",(s,g)=>{process.removeListener(\"exit\",a),this.activeRequests.forEach(C=>d.dispose(C)),this.activeRequests.clear(),s!==0&&g!==\"SIGTERM\"&&console.warn('IPC \"'+this.options.serverName+'\" crashed with exit code '+s+\" and signal \"+g),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:s,signal:g})})}return this._client}getCachedChannel(w){let m=this.channels.get(w);return m||(m=this.client.getChannel(w),this.channels.set(w,m)),m}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=v}),define(fe[137],he([9,10]),function(Q,e){return Q.create(\"vs/base/node/zip\",e)}),define(fe[138],he([9,10]),function(Q,e){return Q.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(fe[139],he([9,10]),function(Q,e){return Q.create(\"vs/platform/environment/node/argv\",e)}),define(fe[140],he([9,10]),function(Q,e){return Q.create(\"vs/platform/environment/node/argvHelper\",e)}),define(fe[141],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(fe[142],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagementCLIService\",e)}),define(fe[143],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionManagementService\",e)}),define(fe[144],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionManagementUtil\",e)}),define(fe[145],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionsScanner\",e)}),define(fe[146],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensions/common/extensionValidator\",e)}),define(fe[147],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/fileService\",e)}),define(fe[148],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/files\",e)}),define(fe[149],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/io\",e)}),define(fe[150],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/node/diskFileSystemProvider\",e)}),define(fe[151],he([9,10]),function(Q,e){return Q.create(\"vs/platform/markers/common/markers\",e)}),define(fe[152],he([9,10]),function(Q,e){return Q.create(\"vs/platform/request/common/request\",e)}),define(fe[153],he([9,10]),function(Q,e){return Q.create(\"vs/platform/telemetry/common/telemetryService\",e)}),define(fe[154],he([9,10]),function(Q,e){return Q.create(\"vs/platform/terminal/node/terminalProcess\",e)}),define(fe[155],he([9,10]),function(Q,e){return Q.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(fe[156],he([9,10]),function(Q,e){return Q.create(\"vs/server/remoteAgentEnvironmentImpl\",e)}),define(fe[157],he([9,10]),function(Q,e){return Q.create(\"vs/server/serverEnvironmentService\",e)}),define(fe[158],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/common/editor\",e)}),define(fe[159],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/contrib/terminal/common/terminal\",e)}),define(fe[160],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(fe[161],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/services/extensions/node/extensionPoints\",e)}),define(fe[162],he([0,1,6,4]),function(Q,e,S,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class P{constructor(){this._onCloseEmitter=new S.Emitter,this._onReloadEmitter=new S.Emitter,this._onTerminateEmitter=new S.Emitter,this._onAttachEmitter=new S.Emitter}call(L,h,n){switch(h){case\"close\":return Promise.resolve(this._onCloseEmitter.fire({sessionId:n[0]}));case\"reload\":return Promise.resolve(this._onReloadEmitter.fire({sessionId:n[0]}));case\"terminate\":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:n[0]}));case\"attach\":return Promise.resolve(this._onAttachEmitter.fire({sessionId:n[0],port:n[1],subId:n[2]}))}throw new Error(\"Method not implemented.\")}listen(L,h,n){switch(h){case\"close\":return this._onCloseEmitter.event;case\"reload\":return this._onReloadEmitter.event;case\"terminate\":return this._onTerminateEmitter.event;case\"attach\":return this._onAttachEmitter.event}throw new Error(\"Method not implemented.\")}}e.ExtensionHostDebugBroadcastChannel=P,P.ChannelName=\"extensionhostdebugservice\";class y extends d.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call(\"reload\",[L])}get onReload(){return this.channel.listen(\"reload\")}close(L){this.channel.call(\"close\",[L])}get onClose(){return this.channel.listen(\"close\")}attachSession(L,h,n){this.channel.call(\"attach\",[L,h,n])}get onAttachSession(){return this.channel.listen(\"attach\")}terminateSession(L,h){this.channel.call(\"terminate\",[L,h])}get onTerminateSession(){return this.channel.listen(\"terminate\")}openExtensionDevelopmentHostWindow(L,h,n){return this.channel.call(\"openExtensionDevelopmentHostWindow\",[L,h,n])}}e.ExtensionHostDebugChannelClient=y}),define(fe[163],he([0,1,3]),function(Q,e,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class d{constructor(k){this.service=k}listen(k,L,h){throw new Error(\"Invalid listen\")}call(k,L,h){switch(L){case\"download\":return this.service.download(S.URI.revive(h[0]),S.URI.revive(h[1]))}throw new Error(\"Invalid call\")}}e.DownloadServiceChannel=d;class P{constructor(k,L){this.channel=k,this.getUriTransformer=L}async download(k,L){const h=this.getUriTransformer();h&&(k=h.transformOutgoingURI(k),L=h.transformOutgoingURI(L)),await this.channel.call(\"download\",[k,L])}}e.DownloadServiceChannelClient=P}),define(fe[164],he([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var S;(function(k){k[k.ACTIVATE=0]=\"ACTIVATE\",k[k.RESTORE=1]=\"RESTORE\",k[k.PRESERVE=2]=\"PRESERVE\"})(S=e.EditorActivation||(e.EditorActivation={}));var d;(function(k){k[k.PICK=1]=\"PICK\",k[k.DISABLED=2]=\"DISABLED\"})(d=e.EditorOverride||(e.EditorOverride={}));var P;(function(k){k[k.API=0]=\"API\",k[k.USER=1]=\"USER\"})(P=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(k){k[k.Center=0]=\"Center\",k[k.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",k[k.NearTop=2]=\"NearTop\",k[k.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(fe[56],he([0,1,234,139,5]),function(Q,e,S,d,P){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:d.localize(0,null),e:d.localize(1,null),t:d.localize(2,null)};e.OPTIONS={diff:{type:\"boolean\",cat:\"o\",alias:\"d\",args:[\"file\",\"file\"],description:d.localize(3,null)},add:{type:\"boolean\",cat:\"o\",alias:\"a\",args:\"folder\",description:d.localize(4,null)},goto:{type:\"boolean\",cat:\"o\",alias:\"g\",args:\"file:line[:character]\",description:d.localize(5,null)},\"new-window\":{type:\"boolean\",cat:\"o\",alias:\"n\",description:d.localize(6,null)},\"reuse-window\":{type:\"boolean\",cat:\"o\",alias:\"r\",description:d.localize(7,null)},wait:{type:\"boolean\",cat:\"o\",alias:\"w\",description:d.localize(8,null)},waitMarkerFilePath:{type:\"string\"},locale:{type:\"string\",cat:\"o\",args:\"locale\",description:d.localize(9,null)},\"user-data-dir\":{type:\"string\",cat:\"o\",args:\"dir\",description:d.localize(10,null)},help:{type:\"boolean\",cat:\"o\",alias:\"h\",description:d.localize(11,null)},\"extensions-dir\":{type:\"string\",deprecates:\"extensionHomePath\",cat:\"e\",args:\"dir\",description:d.localize(12,null)},\"extensions-download-dir\":{type:\"string\"},\"builtin-extensions-dir\":{type:\"string\"},\"list-extensions\":{type:\"boolean\",cat:\"e\",description:d.localize(13,null)},\"show-versions\":{type:\"boolean\",cat:\"e\",description:d.localize(14,null)},category:{type:\"string\",cat:\"e\",description:d.localize(15,null)},\"install-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id[@version] | path-to-vsix\",description:d.localize(16,null)},\"uninstall-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:d.localize(17,null)},\"enable-proposed-api\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:d.localize(18,null)},version:{type:\"boolean\",cat:\"t\",alias:\"v\",description:d.localize(19,null)},verbose:{type:\"boolean\",cat:\"t\",description:d.localize(20,null)},log:{type:\"string\",cat:\"t\",args:\"level\",description:d.localize(21,null)},status:{type:\"boolean\",alias:\"s\",cat:\"t\",description:d.localize(22,null)},\"prof-startup\":{type:\"boolean\",cat:\"t\",description:d.localize(23,null)},\"prof-append-timers\":{type:\"string\"},\"prof-startup-prefix\":{type:\"string\"},\"prof-v8-extensions\":{type:\"boolean\"},\"disable-extensions\":{type:\"boolean\",deprecates:\"disableExtensions\",cat:\"t\",description:d.localize(24,null)},\"disable-extension\":{type:\"string[]\",cat:\"t\",args:\"extension-id\",description:d.localize(25,null)},sync:{type:\"string\",cat:\"t\",description:d.localize(26,null),args:[\"on\",\"off\"]},\"inspect-extensions\":{type:\"string\",deprecates:\"debugPluginHost\",args:\"port\",cat:\"t\",description:d.localize(27,null)},\"inspect-brk-extensions\":{type:\"string\",deprecates:\"debugBrkPluginHost\",args:\"port\",cat:\"t\",description:d.localize(28,null)},\"disable-gpu\":{type:\"boolean\",cat:\"t\",description:d.localize(29,null)},\"max-memory\":{type:\"string\",cat:\"t\",description:d.localize(30,null)},telemetry:{type:\"boolean\",cat:\"t\",description:d.localize(31,null)},remote:{type:\"string\"},\"folder-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"file-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"locate-extension\":{type:\"string[]\"},extensionDevelopmentPath:{type:\"string[]\"},extensionTestsPath:{type:\"string\"},debugId:{type:\"string\"},debugRenderer:{type:\"boolean\"},\"inspect-search\":{type:\"string\",deprecates:\"debugSearch\"},\"inspect-brk-search\":{type:\"string\",deprecates:\"debugBrkSearch\"},\"export-default-configuration\":{type:\"string\"},\"install-source\":{type:\"string\"},driver:{type:\"string\"},logExtensionHostCommunication:{type:\"boolean\"},\"skip-release-notes\":{type:\"boolean\"},\"disable-telemetry\":{type:\"boolean\"},\"disable-updates\":{type:\"boolean\"},\"disable-keytar\":{type:\"boolean\"},\"disable-crash-reporter\":{type:\"boolean\"},\"crash-reporter-directory\":{type:\"string\"},\"crash-reporter-id\":{type:\"string\"},\"skip-add-to-recently-opened\":{type:\"boolean\"},\"unity-launch\":{type:\"boolean\"},\"open-url\":{type:\"boolean\"},\"file-write\":{type:\"boolean\"},\"file-chmod\":{type:\"boolean\"},\"driver-verbose\":{type:\"boolean\"},\"install-builtin-extension\":{type:\"string[]\"},force:{type:\"boolean\"},\"do-not-sync\":{type:\"boolean\"},trace:{type:\"boolean\"},\"trace-category-filter\":{type:\"string\"},\"trace-options\":{type:\"string\"},\"force-user-env\":{type:\"boolean\"},\"force-disable-user-env\":{type:\"boolean\"},\"open-devtools\":{type:\"boolean\"},__sandbox:{type:\"boolean\"},logsPath:{type:\"string\"},\"no-proxy-server\":{type:\"boolean\"},\"proxy-server\":{type:\"string\"},\"proxy-bypass-list\":{type:\"string\"},\"proxy-pac-url\":{type:\"string\"},\"js-flags\":{type:\"string\"},inspect:{type:\"string\"},\"inspect-brk\":{type:\"string\"},nolazy:{type:\"boolean\"},\"force-device-scale-factor\":{type:\"string\"},\"force-renderer-accessibility\":{type:\"boolean\"},\"ignore-certificate-errors\":{type:\"boolean\"},\"allow-insecure-localhost\":{type:\"boolean\"},\"log-net-log\":{type:\"string\"},_urls:{type:\"string[]\"},_:{type:\"string[]\"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(u,v,_=k){const w={},m=[],l=[];for(let i in v){const o=v[i];o.alias&&(w[i]=o.alias),o.type===\"string\"||o.type===\"string[]\"?(m.push(i),o.deprecates&&m.push(o.deprecates)):o.type===\"boolean\"&&(l.push(i),o.deprecates&&l.push(o.deprecates))}const c=S(u,{string:m,boolean:l,alias:w}),r={},t=c;r._=c._.map(i=>String(i)).filter(i=>i.length>0),delete t._;for(let i in v){const o=v[i];o.alias&&delete t[o.alias];let a=t[i];o.deprecates&&t.hasOwnProperty(o.deprecates)&&(a||(a=t[o.deprecates]),delete t[o.deprecates]),typeof a!=\"undefined\"&&(o.type===\"string[]\"?a&&!Array.isArray(a)&&(a=[a]):o.type===\"string\"&&Array.isArray(a)&&(a=a.pop(),_.onMultipleValues(i,a)),r[i]=a),delete t[i]}for(let i in t)_.onUnknownOption(i);return r}e.parseArgs=L;function h(u,v){let _=\"\";return v.args&&(Array.isArray(v.args)?_=` <${v.args.join(\"> <\")}>`:_=` <${v.args}>`),v.alias?`-${v.alias} --${u}${_}`:`--${u}${_}`}function n(u,v){let _=0,w=[];for(const r in u){const t=u[r],i=h(r,t);_=Math.max(_,i.length),w.push([i,t.description])}let m=_+2+1;if(v-m<25)return w.reduce((r,t)=>r.concat([` ${t[0]}`,` ${t[1]}`]),[]);let l=v-m-1,c=[];for(const r of w){let t=r[0],i=b(r[1],l),o=D(m-t.length-2);c.push(\" \"+t+o+i[0]);for(let a=1;a<i.length;a++)c.push(D(m)+i[a])}return c}e.formatOptions=n;function D(u){return\" \".repeat(u)}function b(u,v){let _=[];for(;u.length;){let w=u.length<v?u.length:u.lastIndexOf(\" \",v),m=u.slice(0,w).trim();u=u.slice(w),_.push(m)}return _}function I(u,v,_,w,m=!0){const l=process.stdout.isTTY&&process.stdout.columns||80;let c=[`${u} ${_}`];c.push(\"\"),c.push(`${d.localize(32,null)}: ${v} [${d.localize(33,null)}][${d.localize(34,null)}...]`),c.push(\"\"),m&&(P.isWindows?c.push(d.localize(35,null,v)):c.push(d.localize(36,null,v)),c.push(\"\"));const r={};for(const t in w){const i=w[t];if(i.description&&i.cat){let o=r[i.cat];o||(r[i.cat]=o={}),o[t]=i}}for(let t in r){const i=t;let o=r[i];o&&(c.push(y[i]),c.push(...n(o,l)),c.push(\"\"))}return c.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js", "进程PID": "", "异常时间": "2021-03-05 06:32:37", "所属用户": "root", "异常信息": "反弹shell类：`):i}function I(i){return typeof i.code==\"string\"&&typeof i.errno==\"number\"&&typeof i.syscall==\"string\"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function y(i=null,T=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const k=R.coalesce(i),p=y(k[0],T);return k.length>1?v.localize(4,null,p,k.length):p}if(D.isString(i))return i;if(i.detail){const k=i.detail;if(k.error)return P(k.error,T);if(k.exception)return P(k.exception,T)}return i.stack?P(i,T):i.message?i.message:v.localize(5,null)}e.toErrorMessage=y}),define(ge[145],pe([17,18]),function(Q,e){return Q.create(\"vs/base/node/processes\",e)}),define(ge[79],pe([0,1,7,29,24,35,145,16,23,31,9,133,13]),function(Q,e,v,D,R,P,C,I,y,i,T,k,p){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function f(u){switch(u){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(u,c){if(T.isWindows)try{const t={stdio:[\"pipe\",\"pipe\",\"ignore\"]};c&&(t.cwd=c);const r=P.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",u.pid.toString()],t);return new Promise(s=>{r.once(\"error\",o=>{s({success:!1,error:o})}),r.once(\"exit\",(o,n)=>{s(o===0?{success:!0}:{success:!1,code:o!==null?o:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?f(t.status):1})}else if(T.isLinux||T.isMacintosh)try{const t=p.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Q).fsPath;return new Promise(r=>{P.execFile(t,[u.pid.toString()],{encoding:\"utf8\",shell:!0},(s,o,n)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else u.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function m(u=process.env){return u.comspec||\"cmd.exe\"}e.getWindowsShell=m;class S{constructor(c,t,r,s){if(t!==void 0&&r!==void 0&&s!==void 0)this.cmd=c,this.args=t,this.shell=r,this.options=s;else{const o=c;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const o=Object.create(null);Object.keys(process.env).forEach(n=>{o[n]=process.env[n]}),Object.keys(this.options.env).forEach(n=>{o[n]=this.options.env[n]}),this.options.env=o}}getSanitizedCommand(){let c=this.cmd.toLowerCase();const t=c.lastIndexOf(v.sep);return t!==-1&&(c=c.substring(t+1)),S.WellKnowCommands[c]?c:\"other\"}start(c){return T.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(process.cwd()))?Promise.reject(new Error(C.localize(0,null))):this.useExec().then(t=>{let r,s;const o=new Promise((n,d)=>{r=n,s=d});if(t){let n=this.cmd;this.args&&(n=n+\" \"+this.args.join(\" \")),this.childProcess=P.exec(n,this.options,(d,_,E)=>{this.childProcess=null;const h=d;h&&h.killed?s({killed:this.terminateRequested,stdout:_.toString(),stderr:E.toString()}):this.handleExec(r,c,d,_,E)})}else{let n=null;const d=_=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(_,r,c,s);const E={terminated:this.terminateRequested};I.isNumber(_)&&(E.cmdCode=_),r(E)};if(this.shell&&T.isWindows){const _=y.deepClone(this.options);_.windowsVerbatimArguments=!0,_.detached=!1;let E=!1,h=!1;const b=[];let A=this.ensureQuotes(this.cmd);b.push(A.value),E=A.quoted,this.args&&this.args.forEach(M=>{A=this.ensureQuotes(M),b.push(A.value),h=h&&A.quoted});const L=[\"/s\",\"/c\"];E?h?L.push('\"'+b.join(\" \")+'\"'):b.length>1?L.push('\"'+b[0]+'\" '+b.slice(1).join(\" \")):L.push('\"'+b[0]+'\"'):L.push(b.join(\" \")),n=P.spawn(m(),L,_)}else this.cmd&&(n=P.spawn(this.cmd,this.args,this.options));n&&(this.childProcess=n,this.childProcessPromise=Promise.resolve(n),this.pidResolve&&(this.pidResolve(I.isNumber(n.pid)?n.pid:-1),this.pidResolve=void 0),n.on(\"error\",_=>{this.childProcess=null,s({terminated:this.terminateRequested,error:_})}),n.pid&&(this.childProcess.on(\"close\",d),this.handleSpawn(n,r,c,s,!0)))}return o})}handleClose(c,t,r,s){}ensureQuotes(c){return S.regexp.test(c)?{value:'\"'+c+'\"',quoted:!0}:{value:c,quoted:c.length>0&&c[0]==='\"'&&c[c.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(c=>c.pid,c=>-1):new Promise(c=>{this.pidResolve=c})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(c=>(this.terminateRequested=!0,l(c,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),c=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(c=>{if(!this.shell||!T.isWindows)return c(!1);const t=P.spawn(m(),[\"/s\",\"/c\"]);t.on(\"error\",r=>c(!0)),t.on(\"exit\",r=>c(!1))})}}e.AbstractProcess=S,S.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},S.regexp=/^[^\"].* .*[^\"]/;class w extends S{constructor(c,t,r,s){super(c,t,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(c,t,r,s,o){[s,o].forEach((n,d)=>{const _=new k.LineDecoder;_.write(n).forEach(b=>{t({line:b,source:d===0?0:1})});const h=_.end();h&&t({line:h,source:d===0?0:1})}),c({terminated:this.terminateRequested,error:r})}handleSpawn(c,t,r,s,o){const n=new k.LineDecoder,d=new k.LineDecoder;c.stdout.on(\"data\",_=>{n.write(_).forEach(h=>r({line:h,source:0}))}),c.stderr.on(\"data\",_=>{d.write(_).forEach(h=>r({line:h,source:1}))}),this.stdoutLineDecoder=n,this.stderrLineDecoder=d}handleClose(c,t,r,s){const o=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;o&&r({line:o,source:0});const n=this.stderrLineDecoder?this.stderrLineDecoder.end():null;n&&r({line:n,source:1})}}e.LineProcess=w;function g(u){let c=[],t=!1;const r=function(s){if(t){c.push(s);return}(!u.send(s,n=>{if(n&&console.error(n),t=!1,c.length>0){const d=c.slice(0);c=[],d.forEach(_=>r(_))}})||T.isWindows)&&(t=!0)};return{send:r}}e.createQueuedSender=g;var a;(function(u){async function c(t,r,s){if(v.isAbsolute(t))return t;if(r===void 0&&(r=process.cwd()),v.dirname(t)!==\".\"||(s===void 0&&I.isString(process.env.PATH)&&(s=process.env.PATH.split(v.delimiter)),s===void 0||s.length===0))return v.join(r,t);async function n(d){return await R.exists(d)?!(await D.promises.stat(d)).isDirectory():!1}for(let d of s){let _;if(v.isAbsolute(d)?_=v.join(d,t):_=v.join(r,d,t),await n(_))return _;let E=_+\".com\";if(await n(E)||(E=_+\".exe\",await n(E)))return E}return v.join(r,t)}u.findExecutable=c})(a=e.win32||(e.win32={}))}),define(ge[146],pe([0,1,39,9,99,79]),function(Q,e,v,D,R,P){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function C(f,l=process.env){return f===3?D.isWindows?k():P.getWindowsShell(l):i(f,l)}e.getSystemShell=C;function I(f,l=process.env){return f===3?D.isWindows?p(l):P.getWindowsShell(l):i(f,l)}e.getSystemShellSync=I;let y=null;function i(f,l){if(D.isLinux&&f===1||D.isMacintosh&&f===2)return\"/bin/bash\";if(!y){let m;if(D.isWindows)m=\"/bin/bash\";else{if(m=l.SHELL,!m)try{m=v.userInfo().shell}catch(S){}m||(m=\"sh\"),m===\"/bin/false\"&&(m=\"/bin/bash\")}y=m}return y}let T=null;async function k(){return T||(T=(await R.getFirstAvailablePowerShellInstallation()).exePath),T}function p(f){if(T)return T;const l=D.isWindows&&parseFloat(v.release())>=10,m=f.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),S=`${f.windir}\\\\${m?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return l?S:P.getWindowsShell(f)}}),define(ge[147],pe([17,18]),function(Q,e){return Q.create(\"vs/editor/common/config/editorOptions\",e)}),define(ge[148],pe([0,1,147,9,104]),function(Q,e,v,D,R){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var P;(function(X){X[X.None=0]=\"None\",X[X.Keep=1]=\"Keep\",X[X.Brackets=2]=\"Brackets\",X[X.Advanced=3]=\"Advanced\",X[X.Full=4]=\"Full\"})(P=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ne){this._values=ne}hasChanged(ne){return this._values[ne]}}e.ConfigurationChangedEvent=C;class I{constructor(){this._values=[]}_read(ne){return this._values[ne]}get(ne){return this._values[ne]}_write(ne,_e){this._values[ne]=_e}}e.ValidatedEditorOptions=I;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class i{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}compute(ne,_e,Ne){return Ne}}class T{constructor(ne,_e=null){this.schema=void 0,this.id=ne,this.name=\"_never_\",this.defaultValue=void 0,this.deps=_e}validate(ne){return this.defaultValue}}class k{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}validate(ne){return typeof ne==\"undefined\"?this.defaultValue:ne}compute(ne,_e,Ne){return Ne}}function p(X,ne){return typeof X==\"undefined\"?ne:X===\"false\"?!1:Boolean(X)}e.boolean=p;class f extends k{constructor(ne,_e,Ne,Be=void 0){typeof Be!=\"undefined\"&&(Be.type=\"boolean\",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return p(ne,this.defaultValue)}}class l extends k{constructor(ne,_e,Ne,Be,We,Je=void 0){typeof Je!=\"undefined\"&&(Je.type=\"integer\",Je.default=Ne,Je.minimum=Be,Je.maximum=We),super(ne,_e,Ne,Je),this.minimum=Be,this.maximum=We}static clampedInt(ne,_e,Ne,Be){if(typeof ne==\"undefined\")return _e;let We=parseInt(ne,10);return isNaN(We)?_e:(We=Math.max(Ne,We),We=Math.min(Be,We),We|0)}validate(ne){return l.clampedInt(ne,this.defaultValue,this.minimum,this.maximum)}}class m extends k{constructor(ne,_e,Ne,Be,We){typeof We!=\"undefined\"&&(We.type=\"number\",We.default=Ne),super(ne,_e,Ne,We),this.validationFn=Be}static clamp(ne,_e,Ne){return ne<_e?_e:ne>Ne?Ne:ne}static float(ne,_e){if(typeof ne==\"number\")return ne;if(typeof ne==\"undefined\")return _e;const Ne=parseFloat(ne);return isNaN(Ne)?_e:Ne}validate(ne){return this.validationFn(m.float(ne,this.defaultValue))}}class S extends k{static string(ne,_e){return typeof ne!=\"string\"?_e:ne}constructor(ne,_e,Ne,Be=void 0){typeof Be!=\"undefined\"&&(Be.type=\"string\",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return S.string(ne,this.defaultValue)}}function w(X,ne,_e){return typeof X!=\"string\"||_e.indexOf(X)===-1?ne:X}e.stringSet=w;class g extends k{constructor(ne,_e,Ne,Be,We=void 0){typeof We!=\"undefined\"&&(We.type=\"string\",We.enum=Be,We.default=Ne),super(ne,_e,Ne,We),this._allowedValues=Be}validate(ne){return w(ne,this.defaultValue,this._allowedValues)}}class a extends i{constructor(ne,_e,Ne,Be,We,Je,G=void 0){typeof G!=\"undefined\"&&(G.type=\"string\",G.enum=We,G.default=Be),super(ne,_e,Ne,G),this._allowedValues=We,this._convert=Je}validate(ne){return typeof ne!=\"string\"?this.defaultValue:this._allowedValues.indexOf(ne)===-1?this.defaultValue:this._convert(ne)}}function u(X){switch(X){case\"none\":return 0;case\"keep\":return 1;case\"brackets\":return 2;case\"advanced\":return 3;case\"full\":return 4}}class c extends i{constructor(){super(2,\"accessibilitySupport\",0,{type:\"string\",enum:[\"auto\",\"on\",\"off\"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:\"auto\",description:v.localize(3,null)})}validate(ne){switch(ne){case\"auto\":return 0;case\"off\":return 1;case\"on\":return 2}return this.defaultValue}compute(ne,_e,Ne){return Ne===0?ne.accessibilitySupport:Ne}}class t extends i{constructor(){const ne={insertSpace:!0,ignoreEmptyLines:!0};super(16,\"comments\",ne,{\"editor.comments.insertSpace\":{type:\"boolean\",default:ne.insertSpace,description:v.localize(4,null)},\"editor.comments.ignoreEmptyLines\":{type:\"boolean\",default:ne.ignoreEmptyLines,description:v.localize(5,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{insertSpace:p(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:p(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var r;(function(X){X[X.Hidden=0]=\"Hidden\",X[X.Blink=1]=\"Blink\",X[X.Smooth=2]=\"Smooth\",X[X.Phase=3]=\"Phase\",X[X.Expand=4]=\"Expand\",X[X.Solid=5]=\"Solid\"})(r=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(X){switch(X){case\"blink\":return 1;case\"smooth\":return 2;case\"phase\":return 3;case\"expand\":return 4;case\"solid\":return 5}}var o;(function(X){X[X.Line=1]=\"Line\",X[X.Block=2]=\"Block\",X[X.Underline=3]=\"Underline\",X[X.LineThin=4]=\"LineThin\",X[X.BlockOutline=5]=\"BlockOutline\",X[X.UnderlineThin=6]=\"UnderlineThin\"})(o=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function n(X){switch(X){case o.Line:return\"line\";case o.Block:return\"block\";case o.Underline:return\"underline\";case o.LineThin:return\"line-thin\";case o.BlockOutline:return\"block-outline\";case o.UnderlineThin:return\"underline-thin\"}}e.cursorStyleToString=n;function d(X){switch(X){case\"line\":return o.Line;case\"block\":return o.Block;case\"underline\":return o.Underline;case\"line-thin\":return o.LineThin;case\"block-outline\":return o.BlockOutline;case\"underline-thin\":return o.UnderlineThin}}class _ extends T{constructor(){super(121,[60,29])}compute(ne,_e,Ne){const Be=[\"monaco-editor\"];return _e.get(29)&&Be.push(_e.get(29)),ne.extraEditorClassName&&Be.push(ne.extraEditorClassName),_e.get(60)===\"default\"?Be.push(\"mouse-default\"):_e.get(60)===\"copy\"&&Be.push(\"mouse-copy\"),_e.get(95)&&Be.push(\"showUnused\"),_e.get(119)&&Be.push(\"showDeprecated\"),Be.join(\" \")}}class E extends f{constructor(){super(28,\"emptySelectionClipboard\",!0,{description:v.localize(6,null)})}compute(ne,_e,Ne){return Ne&&ne.emptySelectionClipboard}}class h extends i{constructor(){const ne={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:\"never\",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,\"find\",ne,{\"editor.find.cursorMoveOnType\":{type:\"boolean\",default:ne.cursorMoveOnType,description:v.localize(7,null)},\"editor.find.seedSearchStringFromSelection\":{type:\"boolean\",default:ne.seedSearchStringFromSelection,description:v.localize(8,null)},\"editor.find.autoFindInSelection\":{type:\"string\",enum:[\"never\",\"always\",\"multiline\"],default:ne.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},\"editor.find.globalFindClipboard\":{type:\"boolean\",default:ne.globalFindClipboard,description:v.localize(13,null),included:D.isMacintosh},\"editor.find.addExtraSpaceOnTop\":{type:\"boolean\",default:ne.addExtraSpaceOnTop,description:v.localize(14,null)},\"editor.find.loop\":{type:\"boolean\",default:ne.loop,description:v.localize(15,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{cursorMoveOnType:p(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:p(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ne.autoFindInSelection==\"boolean\"?ne.autoFindInSelection?\"always\":\"never\":w(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,[\"never\",\"always\",\"multiline\"]),globalFindClipboard:p(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:p(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:p(_e.loop,this.defaultValue.loop)}}}class b extends i{constructor(){super(39,\"fontLigatures\",b.OFF,{anyOf:[{type:\"boolean\",description:v.localize(16,null)},{type:\"string\",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(ne){return typeof ne==\"undefined\"?this.defaultValue:typeof ne==\"string\"?ne===\"false\"?b.OFF:ne===\"true\"?b.ON:ne:Boolean(ne)?b.ON:b.OFF}}e.EditorFontLigatures=b,b.OFF='\"liga\" off, \"calt\" off',b.ON='\"liga\" on, \"calt\" on';class A extends T{constructor(){super(38)}compute(ne,_e,Ne){return ne.fontInfo}}class L extends k{constructor(){super(40,\"fontSize\",e.EDITOR_FONT_DEFAULTS.fontSize,{type:\"number\",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(ne){let _e=m.float(ne,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:m.clamp(_e,6,100)}compute(ne,_e,Ne){return ne.fontInfo.fontSize}}class M extends i{constructor(){super(41,\"fontWeight\",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:\"number\",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:\"string\",pattern:\"^(normal|bold|1000|[1-9][0-9]{0,2})$\"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(ne){return ne===\"normal\"||ne===\"bold\"?ne:String(l.clampedInt(ne,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=[\"normal\",\"bold\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class z extends i{constructor(){const ne={multiple:\"peek\",multipleDefinitions:\"peek\",multipleTypeDefinitions:\"peek\",multipleDeclarations:\"peek\",multipleImplementations:\"peek\",multipleReferences:\"peek\",alternativeDefinitionCommand:\"editor.action.goToReferences\",alternativeTypeDefinitionCommand:\"editor.action.goToReferences\",alternativeDeclarationCommand:\"editor.action.goToReferences\",alternativeImplementationCommand:\"\",alternativeReferenceCommand:\"\"},_e={type:\"string\",enum:[\"peek\",\"gotoAndPeek\",\"goto\"],default:ne.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]};super(45,\"gotoLocation\",ne,{\"editor.gotoLocation.multiple\":{deprecationMessage:v.localize(25,null)},\"editor.gotoLocation.multipleDefinitions\":Object.assign({description:v.localize(26,null)},_e),\"editor.gotoLocation.multipleTypeDefinitions\":Object.assign({description:v.localize(27,null)},_e),\"editor.gotoLocation.multipleDeclarations\":Object.assign({description:v.localize(28,null)},_e),\"editor.gotoLocation.multipleImplementations\":Object.assign({description:v.localize(29,null)},_e),\"editor.gotoLocation.multipleReferences\":Object.assign({description:v.localize(30,null)},_e),\"editor.gotoLocation.alternativeDefinitionCommand\":{type:\"string\",default:ne.alternativeDefinitionCommand,description:v.localize(31,null)},\"editor.gotoLocation.alternativeTypeDefinitionCommand\":{type:\"string\",default:ne.alternativeTypeDefinitionCommand,description:v.localize(32,null)},\"editor.gotoLocation.alternativeDeclarationCommand\":{type:\"string\",default:ne.alternativeDeclarationCommand,description:v.localize(33,null)},\"editor.gotoLocation.alternativeImplementationCommand\":{type:\"string\",default:ne.alternativeImplementationCommand,description:v.localize(34,null)},\"editor.gotoLocation.alternativeReferenceCommand\":{type:\"string\",default:ne.alternativeReferenceCommand,description:v.localize(35,null)}})}validate(ne){var _e,Ne,Be,We,Je;if(!ne||typeof ne!=\"object\")return this.defaultValue;const G=ne;return{multiple:w(G.multiple,this.defaultValue.multiple,[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDefinitions:(_e=G.multipleDefinitions)!==null&&_e!==void 0?_e:w(G.multipleDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleTypeDefinitions:(Ne=G.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:w(G.multipleTypeDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDeclarations:(Be=G.multipleDeclarations)!==null&&Be!==void 0?Be:w(G.multipleDeclarations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleImplementations:(We=G.multipleImplementations)!==null&&We!==void 0?We:w(G.multipleImplementations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleReferences:(Je=G.multipleReferences)!==null&&Je!==void 0?Je:w(G.multipleReferences,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),alternativeDefinitionCommand:S.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends i{constructor(){const ne={enabled:!0,delay:300,sticky:!0};super(48,\"hover\",ne,{\"editor.hover.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(36,null)},\"editor.hover.delay\":{type:\"number\",default:ne.delay,description:v.localize(37,null)},\"editor.hover.sticky\":{type:\"boolean\",default:ne.sticky,description:v.localize(38,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:p(_e.sticky,this.defaultValue.sticky)}}}var W;(function(X){X[X.None=0]=\"None\",X[X.Text=1]=\"Text\",X[X.Blocks=2]=\"Blocks\"})(W=e.RenderMinimap||(e.RenderMinimap={}));class K extends T{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(ne,_e,Ne){return K.computeLayout(_e,{memory:ne.memory,outerWidth:ne.outerWidth,outerHeight:ne.outerHeight,isDominatedByLongLines:ne.isDominatedByLongLines,lineHeight:ne.fontInfo.lineHeight,viewLineCount:ne.viewLineCount,lineNumbersDigitCount:ne.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ne.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ne.fontInfo.maxDigitWidth,pixelRatio:ne.pixelRatio})}static computeContainedMinimapLineCount(ne){const _e=ne.height/ne.lineHeight,Ne=ne.scrollBeyondLastLine?_e-1:0,Be=(ne.viewLineCount+Ne)/(ne.pixelRatio*ne.height),We=Math.floor(ne.viewLineCount/Be);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:Be,minimapLineCount:We}}static _computeMinimapLayout(ne,_e){const Ne=ne.outerWidth,Be=ne.outerHeight,We=ne.pixelRatio;if(!ne.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const Je=_e.stableMinimapLayoutInput,G=Je&&ne.outerHeight===Je.outerHeight&&ne.lineHeight===Je.lineHeight&&ne.typicalHalfwidthCharacterWidth===Je.typicalHalfwidthCharacterWidth&&ne.pixelRatio===Je.pixelRatio&&ne.scrollBeyondLastLine===Je.scrollBeyondLastLine&&ne.minimap.enabled===Je.minimap.enabled&&ne.minimap.side===Je.minimap.side&&ne.minimap.size===Je.minimap.size&&ne.minimap.showSlider===Je.minimap.showSlider&&ne.minimap.renderCharacters===Je.minimap.renderCharacters&&ne.minimap.maxColumn===Je.minimap.maxColumn&&ne.minimap.scale===Je.minimap.scale&&ne.verticalScrollbarWidth===Je.verticalScrollbarWidth&&ne.isViewportWrapping===Je.isViewportWrapping,se=ne.lineHeight,he=ne.typicalHalfwidthCharacterWidth,J=ne.scrollBeyondLastLine,re=ne.minimap.renderCharacters;let de=We>=2?Math.round(ne.minimap.scale*2):ne.minimap.scale;const me=ne.minimap.maxColumn,ye=ne.minimap.size,je=ne.minimap.side,He=ne.verticalScrollbarWidth,qe=ne.viewLineCount,Qe=ne.remainingWidth,Ze=ne.isViewportWrapping,be=re?2:3;let De=Math.floor(We*Be);const ue=De/We;let ee=!1,Fe=!1,xe=be*de,Ye=de/We,Ae=1;if(ye===\"fill\"||ye===\"fit\"){const{typicalViewportLineCount:wt,extraLinesBeyondLastLine:Dt,desiredRatio:yt,minimapLineCount:gt}=K.computeContainedMinimapLineCount({viewLineCount:qe,scrollBeyondLastLine:J,height:Be,lineHeight:se,pixelRatio:We});if(qe/gt>1)ee=!0,Fe=!0,de=1,xe=1,Ye=de/We;else{let ut=!1,_t=de+1;if(ye===\"fit\"){const vt=Math.ceil((qe+Dt)*xe);Ze&&G&&Qe<=_e.stableFitRemainingWidth?(ut=!0,_t=_e.stableFitMaxMinimapScale):(ut=vt>De,Ze&&ut?(_e.stableMinimapLayoutInput=ne,_e.stableFitRemainingWidth=Qe):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye===\"fill\"||ut){ee=!0;const vt=de;xe=Math.min(se*We,Math.max(1,Math.floor(1/yt))),de=Math.min(_t,Math.max(1,Math.floor(xe/be))),de>vt&&(Ae=Math.min(2,de/vt)),Ye=de/We/Ae,De=Math.ceil(Math.max(wt,qe+Dt)*xe),Ze&&ut&&(_e.stableFitMaxMinimapScale=de)}}}const st=Math.floor(me*Ye),rt=Math.min(st,Math.max(0,Math.floor((Qe-He-2)*Ye/(he+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Xe=Math.floor(We*rt);const ct=Xe/We;Xe=Math.floor(Xe*Ae);const dt=re?1:2,ht=je===\"left\"?0:Ne-rt-He;return{renderMinimap:dt,minimapLeft:ht,minimapWidth:rt,minimapHeightIsEditorHeight:ee,minimapIsSampling:Fe,minimapScale:de,minimapLineHeight:xe,minimapCanvasInnerWidth:Xe,minimapCanvasInnerHeight:De,minimapCanvasOuterWidth:ct,minimapCanvasOuterHeight:ue}}static computeLayout(ne,_e){const Ne=_e.outerWidth|0,Be=_e.outerHeight|0,We=_e.lineHeight|0,Je=_e.lineNumbersDigitCount|0,G=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,J=_e.viewLineCount,re=ne.get(116),de=re===\"inherit\"?ne.get(115):re,me=de===\"inherit\"?ne.get(111):de,ye=ne.get(114),je=ne.get(2),He=_e.isDominatedByLongLines,qe=ne.get(44),Qe=ne.get(54).renderType!==0,Ze=ne.get(55),be=ne.get(89),De=ne.get(59),ue=ne.get(87),ee=ue.verticalScrollbarSize,Fe=ue.verticalHasArrows,xe=ue.arrowSize,Ye=ue.horizontalScrollbarSize,Ae=ne.get(52),st=ne.get(33);let rt;if(typeof Ae==\"string\"&&/^\\d+(\\.\\d+)?ch$/.test(Ae)){const It=parseFloat(Ae.substr(0,Ae.length-2));rt=l.clampedInt(It*G,0,0,1e3)}else rt=l.clampedInt(Ae,0,0,1e3);st&&(rt+=16);let Xe=0;if(Qe){const It=Math.max(Je,Ze);Xe=Math.round(It*se)}let ct=0;qe&&(ct=We);let dt=0,ht=dt+ct,wt=ht+Xe,Dt=wt+rt;const yt=Ne-ct-Xe-rt;let gt=!1,mt=!1,ut=-1;je!==2&&(de===\"inherit\"&&He?(gt=!0,mt=!0):me===\"on\"||me===\"bounded\"?mt=!0:me===\"wordWrapColumn\"&&(ut=ye));const _t=K._computeMinimapLayout({outerWidth:Ne,outerHeight:Be,lineHeight:We,typicalHalfwidthCharacterWidth:G,pixelRatio:he,scrollBeyondLastLine:be,minimap:De,verticalScrollbarWidth:ee,viewLineCount:J,remainingWidth:yt,isViewportWrapping:mt},_e.memory||new y);_t.renderMinimap!==0&&_t.minimapLeft===0&&(dt+=_t.minimapWidth,ht+=_t.minimapWidth,wt+=_t.minimapWidth,Dt+=_t.minimapWidth);const vt=yt-_t.minimapWidth,Rt=Math.max(1,Math.floor((vt-ee-2)/G)),Pt=Fe?xe:0;return mt&&(ut=Math.max(1,Rt),me===\"bounded\"&&(ut=Math.min(ut,ye))),{width:Ne,height:Be,glyphMarginLeft:dt,glyphMarginWidth:ct,lineNumbersLeft:ht,lineNumbersWidth:Xe,decorationsLeft:wt,decorationsWidth:rt,contentLeft:Dt,contentWidth:vt,minimap:_t,viewportColumn:Rt,isWordWrapMinified:gt,isViewportWrapping:mt,wrappingColumn:ut,verticalScrollbarWidth:ee,horizontalScrollbarHeight:Ye,overviewRuler:{top:Pt,width:ee,height:Be-2*Pt,right:0}}}}e.EditorLayoutInfoComputer=K;class x extends i{constructor(){const ne={enabled:!0};super(51,\"lightbulb\",ne,{\"editor.lightbulb.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(39,null)}})}validate(ne){return!ne||typeof ne!=\"object\"?this.defaultValue:{enabled:p(ne.enabled,this.defaultValue.enabled)}}}class N extends i{constructor(){const ne={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,\"inlineHints\",ne,{\"editor.inlineHints.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(40,null)},\"editor.inlineHints.fontSize\":{type:\"number\",default:ne.fontSize,description:v.localize(41,null)},\"editor.inlineHints.fontFamily\":{type:\"string\",default:ne.fontFamily,description:v.localize(42,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class U extends l{constructor(){super(53,\"lineHeight\",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(ne,_e,Ne){return ne.fontInfo.lineHeight}}class F extends i{constructor(){const ne={enabled:!0,size:\"proportional\",side:\"right\",showSlider:\"mouseover\",renderCharacters:!0,maxColumn:120,scale:1};super(59,\"minimap\",ne,{\"editor.minimap.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(44,null)},\"editor.minimap.size\":{type:\"string\",enum:[\"proportional\",\"fill\",\"fit\"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:ne.size,description:v.localize(48,null)},\"editor.minimap.side\":{type:\"string\",enum:[\"left\",\"right\"],default:ne.side,description:v.localize(49,null)},\"editor.minimap.showSlider\":{type:\"string\",enum:[\"always\",\"mouseover\"],default:ne.showSlider,description:v.localize(50,null)},\"editor.minimap.scale\":{type:\"number\",default:ne.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},\"editor.minimap.renderCharacters\":{type:\"boolean\",default:ne.renderCharacters,description:v.localize(52,null)},\"editor.minimap.maxColumn\":{type:\"number\",default:ne.maxColumn,description:v.localize(53,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),size:w(_e.size,this.defaultValue.size,[\"proportional\",\"fill\",\"fit\"]),side:w(_e.side,this.defaultValue.side,[\"right\",\"left\"]),showSlider:w(_e.showSlider,this.defaultValue.showSlider,[\"always\",\"mouseover\"]),renderCharacters:p(_e.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(_e.scale,1,1,3),maxColumn:l.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(X){return X===\"ctrlCmd\"?D.isMacintosh?\"metaKey\":\"ctrlKey\":\"altKey\"}class $ extends i{constructor(){super(69,\"padding\",{top:0,bottom:0},{\"editor.padding.top\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},\"editor.padding.bottom\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class q extends i{constructor(){const ne={enabled:!0,cycle:!1};super(70,\"parameterHints\",ne,{\"editor.parameterHints.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(56,null)},\"editor.parameterHints.cycle\":{type:\"boolean\",default:ne.cycle,description:v.localize(57,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),cycle:p(_e.cycle,this.defaultValue.cycle)}}}class Z extends T{constructor(){super(122)}compute(ne,_e,Ne){return ne.pixelRatio}}class ae extends i{constructor(){const ne={other:!0,comments:!1,strings:!1};super(73,\"quickSuggestions\",ne,{anyOf:[{type:\"boolean\"},{type:\"object\",properties:{strings:{type:\"boolean\",default:ne.strings,description:v.localize(58,null)},comments:{type:\"boolean\",default:ne.comments,description:v.localize(59,null)},other:{type:\"boolean\",default:ne.other,description:v.localize(60,null)}}}],default:ne,description:v.localize(61,null)});this.defaultValue=ne}validate(ne){if(typeof ne==\"boolean\")return ne;if(ne&&typeof ne==\"object\"){const _e=ne,Ne={other:p(_e.other,this.defaultValue.other),comments:p(_e.comments,this.defaultValue.comments),strings:p(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var fe;(function(X){X[X.Off=0]=\"Off\",X[X.On=1]=\"On\",X[X.Relative=2]=\"Relative\",X[X.Interval=3]=\"Interval\",X[X.Custom=4]=\"Custom\"})(fe=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Te extends i{constructor(){super(54,\"lineNumbers\",{renderType:1,renderFn:null},{type:\"string\",enum:[\"off\",\"on\",\"relative\",\"interval\"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:\"on\",description:v.localize(66,null)})}validate(ne){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ne!=\"undefined\"&&(typeof ne==\"function\"?(_e=4,Ne=ne):ne===\"interval\"?_e=3:ne===\"relative\"?_e=2:ne===\"on\"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Se(X){const ne=X.get(82);return ne===\"editable\"?X.get(75):ne!==\"on\"}e.filterValidationDecorations=Se;class Le extends i{constructor(){const ne=[],_e={type:\"number\",description:v.localize(67,null)};super(86,\"rulers\",ne,{type:\"array\",items:{anyOf:[_e,{type:[\"object\"],properties:{column:_e,color:{type:\"string\",description:v.localize(68,null),format:\"color-hex\"}}}]},default:ne,description:v.localize(69,null)})}validate(ne){if(Array.isArray(ne)){let _e=[];for(let Ne of ne)if(typeof Ne==\"number\")_e.push({column:l.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne==\"object\"){const Be=Ne;_e.push({column:l.clampedInt(Be.column,0,0,1e4),color:Be.color})}return _e.sort((Ne,Be)=>Ne.column-Be.column),_e}return this.defaultValue}}function H(X,ne){if(typeof X!=\"string\")return ne;switch(X){case\"hidden\":return 2;case\"visible\":return 3;default:return 1}}class Y extends i{constructor(){super(87,\"scrollbar\",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne,Ne=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:H(_e.vertical,this.defaultValue.vertical),horizontal:H(_e.horizontal,this.defaultValue.horizontal),useShadows:p(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:p(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:p(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:p(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:p(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,Be,0,1e3),scrollByPage:p(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ie extends i{constructor(){const ne={insertMode:\"insert\",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,\"suggest\",ne,{\"editor.suggest.insertMode\":{type:\"string\",enum:[\"insert\",\"replace\"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:ne.insertMode,description:v.localize(72,null)},\"editor.suggest.filterGraceful\":{type:\"boolean\",default:ne.filterGraceful,description:v.localize(73,null)},\"editor.suggest.localityBonus\":{type:\"boolean\",default:ne.localityBonus,description:v.localize(74,null)},\"editor.suggest.shareSuggestSelections\":{type:\"boolean\",default:ne.shareSuggestSelections,markdownDescription:v.localize(75,null)},\"editor.suggest.snippetsPreventQuickSuggestions\":{type:\"boolean\",default:ne.snippetsPreventQuickSuggestions,description:v.localize(76,null)},\"editor.suggest.showIcons\":{type:\"boolean\",default:ne.showIcons,description:v.localize(77,null)},\"editor.suggest.showStatusBar\":{type:\"boolean\",default:ne.showStatusBar,description:v.localize(78,null)},\"editor.suggest.showInlineDetails\":{type:\"boolean\",default:ne.showInlineDetails,description:v.localize(79,null)},\"editor.suggest.maxVisibleSuggestions\":{type:\"number\",deprecationMessage:v.localize(80,null)},\"editor.suggest.filteredTypes\":{type:\"object\",deprecationMessage:v.localize(81,null)},\"editor.suggest.showMethods\":{type:\"boolean\",default:!0,markdownDescription:v.localize(82,null)},\"editor.suggest.showFunctions\":{type:\"boolean\",default:!0,markdownDescription:v.localize(83,null)},\"editor.suggest.showConstructors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(84,null)},\"editor.suggest.showFields\":{type:\"boolean\",default:!0,markdownDescription:v.localize(85,null)},\"editor.suggest.showVariables\":{type:\"boolean\",default:!0,markdownDescription:v.localize(86,null)},\"editor.suggest.showClasses\":{type:\"boolean\",default:!0,markdownDescription:v.localize(87,null)},\"editor.suggest.showStructs\":{type:\"boolean\",default:!0,markdownDescription:v.localize(88,null)},\"editor.suggest.showInterfaces\":{type:\"boolean\",default:!0,markdownDescription:v.localize(89,null)},\"editor.suggest.showModules\":{type:\"boolean\",default:!0,markdownDescription:v.localize(90,null)},\"editor.suggest.showProperties\":{type:\"boolean\",default:!0,markdownDescription:v.localize(91,null)},\"editor.suggest.showEvents\":{type:\"boolean\",default:!0,markdownDescription:v.localize(92,null)},\"editor.suggest.showOperators\":{type:\"boolean\",default:!0,markdownDescription:v.localize(93,null)},\"editor.suggest.showUnits\":{type:\"boolean\",default:!0,markdownDescription:v.localize(94,null)},\"editor.suggest.showValues\":{type:\"boolean\",default:!0,markdownDescription:v.localize(95,null)},\"editor.suggest.showConstants\":{type:\"boolean\",default:!0,markdownDescription:v.localize(96,null)},\"editor.suggest.showEnums\":{type:\"boolean\",default:!0,markdownDescription:v.localize(97,null)},\"editor.suggest.showEnumMembers\":{type:\"boolean\",default:!0,markdownDescription:v.localize(98,null)},\"editor.suggest.showKeywords\":{type:\"boolean\",default:!0,markdownDescription:v.localize(99,null)},\"editor.suggest.showWords\":{type:\"boolean\",default:!0,markdownDescription:v.localize(100,null)},\"editor.suggest.showColors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(101,null)},\"editor.suggest.showFiles\":{type:\"boolean\",default:!0,markdownDescription:v.localize(102,null)},\"editor.suggest.showReferences\":{type:\"boolean\",default:!0,markdownDescription:v.localize(103,null)},\"editor.suggest.showCustomcolors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(104,null)},\"editor.suggest.showFolders\":{type:\"boolean\",default:!0,markdownDescription:v.localize(105,null)},\"editor.suggest.showTypeParameters\":{type:\"boolean\",default:!0,markdownDescription:v.localize(106,null)},\"editor.suggest.showSnippets\":{type:\"boolean\",default:!0,markdownDescription:v.localize(107,null)},\"editor.suggest.showUsers\":{type:\"boolean\",default:!0,markdownDescription:v.localize(108,null)},\"editor.suggest.showIssues\":{type:\"boolean\",default:!0,markdownDescription:v.localize(109,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{insertMode:w(_e.insertMode,this.defaultValue.insertMode,[\"insert\",\"replace\"]),filterGraceful:p(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:p(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:p(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:p(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:p(_e.showIcons,this.defaultValue.showIcons),showStatusBar:p(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:p(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:p(_e.showMethods,this.defaultValue.showMethods),showFunctions:p(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:p(_e.showConstructors,this.defaultValue.showConstructors),showFields:p(_e.showFields,this.defaultValue.showFields),showVariables:p(_e.showVariables,this.defaultValue.showVariables),showClasses:p(_e.showClasses,this.defaultValue.showClasses),showStructs:p(_e.showStructs,this.defaultValue.showStructs),showInterfaces:p(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:p(_e.showModules,this.defaultValue.showModules),showProperties:p(_e.showProperties,this.defaultValue.showProperties),showEvents:p(_e.showEvents,this.defaultValue.showEvents),showOperators:p(_e.showOperators,this.defaultValue.showOperators),showUnits:p(_e.showUnits,this.defaultValue.showUnits),showValues:p(_e.showValues,this.defaultValue.showValues),showConstants:p(_e.showConstants,this.defaultValue.showConstants),showEnums:p(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:p(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:p(_e.showKeywords,this.defaultValue.showKeywords),showWords:p(_e.showWords,this.defaultValue.showWords),showColors:p(_e.showColors,this.defaultValue.showColors),showFiles:p(_e.showFiles,this.defaultValue.showFiles),showReferences:p(_e.showReferences,this.defaultValue.showReferences),showFolders:p(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:p(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:p(_e.showSnippets,this.defaultValue.showSnippets),showUsers:p(_e.showUsers,this.defaultValue.showUsers),showIssues:p(_e.showIssues,this.defaultValue.showIssues)}}}class oe extends i{constructor(){super(97,\"smartSelect\",{selectLeadingAndTrailingWhitespace:!0},{\"editor.smartSelect.selectLeadingAndTrailingWhitespace\":{description:v.localize(110,null),default:!0,type:\"boolean\"}})}validate(ne){return!ne||typeof ne!=\"object\"?this.defaultValue:{selectLeadingAndTrailingWhitespace:p(ne.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ve extends T{constructor(){super(123,[75])}compute(ne,_e,Ne){return _e.get(75)?!0:ne.tabFocusMode}}var ke;(function(X){X[X.None=0]=\"None\",X[X.Same=1]=\"Same\",X[X.Indent=2]=\"Indent\",X[X.DeepIndent=3]=\"DeepIndent\"})(ke=e.WrappingIndent||(e.WrappingIndent={}));function Me(X){switch(X){case\"none\":return 0;case\"same\":return 1;case\"indent\":return 2;case\"deepIndent\":return 3}}class we extends T{constructor(){super(125,[124])}compute(ne,_e,Ne){const Be=_e.get(124);return{isDominatedByLongLines:ne.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}const Pe=\"Consolas, 'Courier New', monospace\",Re=\"Menlo, Monaco, 'Courier New', monospace\",Ue=\"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'\";e.EDITOR_FONT_DEFAULTS={fontFamily:D.isMacintosh?Re:D.isLinux?Ue:Pe,fontWeight:\"normal\",fontSize:D.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Ee(X){return e.editorOptionsRegistry[X.id]=X,X}var Ke;(function(X){X[X.acceptSuggestionOnCommitCharacter=0]=\"acceptSuggestionOnCommitCharacter\",X[X.acceptSuggestionOnEnter=1]=\"acceptSuggestionOnEnter\",X[X.accessibilitySupport=2]=\"accessibilitySupport\",X[X.accessibilityPageSize=3]=\"accessibilityPageSize\",X[X.ariaLabel=4]=\"ariaLabel\",X[X.autoClosingBrackets=5]=\"autoClosingBrackets\",X[X.autoClosingOvertype=6]=\"autoClosingOvertype\",X[X.autoClosingQuotes=7]=\"autoClosingQuotes\",X[X.autoIndent=8]=\"autoIndent\",X[X.automaticLayout=9]=\"automaticLayout\",X[X.autoSurround=10]=\"autoSurround\",X[X.codeLens=11]=\"codeLens\",X[X.codeLensFontFamily=12]=\"codeLensFontFamily\",X[X.codeLensFontSize=13]=\"codeLensFontSize\",X[X.colorDecorators=14]=\"colorDecorators\",X[X.columnSelection=15]=\"columnSelection\",X[X.comments=16]=\"comments\",X[X.contextmenu=17]=\"contextmenu\",X[X.copyWithSyntaxHighlighting=18]=\"copyWithSyntaxHighlighting\",X[X.cursorBlinking=19]=\"cursorBlinking\",X[X.cursorSmoothCaretAnimation=20]=\"cursorSmoothCaretAnimation\",X[X.cursorStyle=21]=\"cursorStyle\",X[X.cursorSurroundingLines=22]=\"cursorSurroundingLines\",X[X.cursorSurroundingLinesStyle=23]=\"cursorSurroundingLinesStyle\",X[X.cursorWidth=24]=\"cursorWidth\",X[X.disableLayerHinting=25]=\"disableLayerHinting\",X[X.disableMonospaceOptimizations=26]=\"disableMonospaceOptimizations\",X[X.dragAndDrop=27]=\"dragAndDrop\",X[X.emptySelectionClipboard=28]=\"emptySelectionClipboard\",X[X.extraEditorClassName=29]=\"extraEditorClassName\",X[X.fastScrollSensitivity=30]=\"fastScrollSensitivity\",X[X.find=31]=\"find\",X[X.fixedOverflowWidgets=32]=\"fixedOverflowWidgets\",X[X.folding=33]=\"folding\",X[X.foldingStrategy=34]=\"foldingStrategy\",X[X.foldingHighlight=35]=\"foldingHighlight\",X[X.unfoldOnClickAfterEndOfLine=36]=\"unfoldOnClickAfterEndOfLine\",X[X.fontFamily=37]=\"fontFamily\",X[X.fontInfo=38]=\"fontInfo\",X[X.fontLigatures=39]=\"fontLigatures\",X[X.fontSize=40]=\"fontSize\",X[X.fontWeight=41]=\"fontWeight\",X[X.formatOnPaste=42]=\"formatOnPaste\",X[X.formatOnType=43]=\"formatOnType\",X[X.glyphMargin=44]=\"glyphMargin\",X[X.gotoLocation=45]=\"gotoLocation\",X[X.hideCursorInOverviewRuler=46]=\"hideCursorInOverviewRuler\",X[X.highlightActiveIndentGuide=47]=\"highlightActiveIndentGuide\",X[X.hover=48]=\"hover\",X[X.inDiffEditor=49]=\"inDiffEditor\",X[X.letterSpacing=50]=\"letterSpacing\",X[X.lightbulb=51]=\"lightbulb\",X[X.lineDecorationsWidth=52]=\"lineDecorationsWidth\",X[X.lineHeight=53]=\"lineHeight\",X[X.lineNumbers=54]=\"lineNumbers\",X[X.lineNumbersMinChars=55]=\"lineNumbersMinChars\",X[X.linkedEditing=56]=\"linkedEditing\",X[X.links=57]=\"links\",X[X.matchBrackets=58]=\"matchBrackets\",X[X.minimap=59]=\"minimap\",X[X.mouseStyle=60]=\"mouseStyle\",X[X.mouseWheelScrollSensitivity=61]=\"mouseWheelScrollSensitivity\",X[X.mouseWheelZoom=62]=\"mouseWheelZoom\",X[X.multiCursorMergeOverlapping=63]=\"multiCursorMergeOverlapping\",X[X.multiCursorModifier=64]=\"multiCursorModifier\",X[X.multiCursorPaste=65]=\"multiCursorPaste\",X[X.occurrencesHighlight=66]=\"occurrencesHighlight\",X[X.overviewRulerBorder=67]=\"overviewRulerBorder\",X[X.overviewRulerLanes=68]=\"overviewRulerLanes\",X[X.padding=69]=\"padding\",X[X.parameterHints=70]=\"parameterHints\",X[X.peekWidgetDefaultFocus=71]=\"peekWidgetDefaultFocus\",X[X.definitionLinkOpensInPeek=72]=\"definitionLinkOpensInPeek\",X[X.quickSuggestions=73]=\"quickSuggestions\",X[X.quickSuggestionsDelay=74]=\"quickSuggestionsDelay\",X[X.readOnly=75]=\"readOnly\",X[X.renameOnType=76]=\"renameOnType\",X[X.renderControlCharacters=77]=\"renderControlCharacters\",X[X.renderIndentGuides=78]=\"renderIndentGuides\",X[X.renderFinalNewline=79]=\"renderFinalNewline\",X[X.renderLineHighlight=80]=\"renderLineHighlight\",X[X.renderLineHighlightOnlyWhenFocus=81]=\"renderLineHighlightOnlyWhenFocus\",X[X.renderValidationDecorations=82]=\"renderValidationDecorations\",X[X.renderWhitespace=83]=\"renderWhitespace\",X[X.revealHorizontalRightPadding=84]=\"revealHorizontalRightPadding\",X[X.roundedSelection=85]=\"roundedSelection\",X[X.rulers=86]=\"rulers\",X[X.scrollbar=87]=\"scrollbar\",X[X.scrollBeyondLastColumn=88]=\"scrollBeyondLastColumn\",X[X.scrollBeyondLastLine=89]=\"scrollBeyondLastLine\",X[X.scrollPredominantAxis=90]=\"scrollPredominantAxis\",X[X.selectionClipboard=91]=\"selectionClipboard\",X[X.selectionHighlight=92]=\"selectionHighlight\",X[X.selectOnLineNumbers=93]=\"selectOnLineNumbers\",X[X.showFoldingControls=94]=\"showFoldingControls\",X[X.showUnused=95]=\"showUnused\",X[X.snippetSuggestions=96]=\"snippetSuggestions\",X[X.smartSelect=97]=\"smartSelect\",X[X.smoothScrolling=98]=\"smoothScrolling\",X[X.stickyTabStops=99]=\"stickyTabStops\",X[X.stopRenderingLineAfter=100]=\"stopRenderingLineAfter\",X[X.suggest=101]=\"suggest\",X[X.suggestFontSize=102]=\"suggestFontSize\",X[X.suggestLineHeight=103]=\"suggestLineHeight\",X[X.suggestOnTriggerCharacters=104]=\"suggestOnTriggerCharacters\",X[X.suggestSelection=105]=\"suggestSelection\",X[X.tabCompletion=106]=\"tabCompletion\",X[X.tabIndex=107]=\"tabIndex\",X[X.unusualLineTerminators=108]=\"unusualLineTerminators\",X[X.useTabStops=109]=\"useTabStops\",X[X.wordSeparators=110]=\"wordSeparators\",X[X.wordWrap=111]=\"wordWrap\",X[X.wordWrapBreakAfterCharacters=112]=\"wordWrapBreakAfterCharacters\",X[X.wordWrapBreakBeforeCharacters=113]=\"wordWrapBreakBeforeCharacters\",X[X.wordWrapColumn=114]=\"wordWrapColumn\",X[X.wordWrapOverride1=115]=\"wordWrapOverride1\",X[X.wordWrapOverride2=116]=\"wordWrapOverride2\",X[X.wrappingIndent=117]=\"wrappingIndent\",X[X.wrappingStrategy=118]=\"wrappingStrategy\",X[X.showDeprecated=119]=\"showDeprecated\",X[X.inlineHints=120]=\"inlineHints\",X[X.editorClassName=121]=\"editorClassName\",X[X.pixelRatio=122]=\"pixelRatio\",X[X.tabFocusMode=123]=\"tabFocusMode\",X[X.layoutInfo=124]=\"layoutInfo\",X[X.wrappingInfo=125]=\"wrappingInfo\"})(Ke=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new f(0,\"acceptSuggestionOnCommitCharacter\",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:Ee(new g(1,\"acceptSuggestionOnEnter\",\"on\",[\"on\",\"smart\",\"off\"],{markdownEnumDescriptions:[\"\",v.localize(112,null),\"\"],markdownDescription:v.localize(113,null)})),accessibilitySupport:Ee(new c),accessibilityPageSize:Ee(new l(3,\"accessibilityPageSize\",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:Ee(new S(4,\"ariaLabel\",v.localize(115,null))),autoClosingBrackets:Ee(new g(5,\"autoClosingBrackets\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",v.localize(116,null),v.localize(117,null),\"\"],description:v.localize(118,null)})),autoClosingOvertype:Ee(new g(6,\"autoClosingOvertype\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",v.localize(119,null),\"\"],description:v.localize(120,null)})),autoClosingQuotes:Ee(new g(7,\"autoClosingQuotes\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",v.localize(121,null),v.localize(122,null),\"\"],description:v.localize(123,null)})),autoIndent:Ee(new a(8,\"autoIndent\",4,\"full\",[\"none\",\"keep\",\"brackets\",\"advanced\",\"full\"],u,{enumDescriptions:[v.localize(124,null),v.localize(125,null),v.localize(126,null),v.localize(127,null),v.localize(128,null)],description:v.localize(129,null)})),automaticLayout:Ee(new f(9,\"automaticLayout\",!1)),autoSurround:Ee(new g(10,\"autoSurround\",\"languageDefined\",[\"languageDefined\",\"quotes\",\"brackets\",\"never\"],{enumDescriptions:[v.localize(130,null),v.localize(131,null),v.localize(132,null),\"\"],description:v.localize(133,null)})),stickyTabStops:Ee(new f(99,\"stickyTabStops\",!1,{description:v.localize(134,null)})),codeLens:Ee(new f(11,\"codeLens\",!0,{description:v.localize(135,null)})),codeLensFontFamily:Ee(new S(12,\"codeLensFontFamily\",\"\",{description:v.localize(136,null)})),codeLensFontSize:Ee(new l(13,\"codeLensFontSize\",0,0,100,{type:\"number\",default:0,minimum:0,maximum:100,description:v.localize(137,null)})),colorDecorators:Ee(new f(14,\"colorDecorators\",!0,{description:v.localize(138,null)})),columnSelection:Ee(new f(15,\"columnSelection\",!1,{description:v.localize(139,null)})),comments:Ee(new t),contextmenu:Ee(new f(17,\"contextmenu\",!0)),copyWithSyntaxHighlighting:Ee(new f(18,\"copyWithSyntaxHighlighting\",!0,{description:v.localize(140,null)})),cursorBlinking:Ee(new a(19,\"cursorBlinking\",1,\"blink\",[\"blink\",\"smooth\",\"phase\",\"expand\",\"solid\"],s,{description:v.localize(141,null)})),cursorSmoothCaretAnimation:Ee(new f(20,\"cursorSmoothCaretAnimation\",!1,{description:v.localize(142,null)})),cursorStyle:Ee(new a(21,\"cursorStyle\",o.Line,\"line\",[\"line\",\"block\",\"underline\",\"line-thin\",\"block-outline\",\"underline-thin\"],d,{description:v.localize(143,null)})),cursorSurroundingLines:Ee(new l(22,\"cursorSurroundingLines\",0,0,1073741824,{description:v.localize(144,null)})),cursorSurroundingLinesStyle:Ee(new g(23,\"cursorSurroundingLinesStyle\",\"default\",[\"default\",\"all\"],{enumDescriptions:[v.localize(145,null),v.localize(146,null)],description:v.localize(147,null)})),cursorWidth:Ee(new l(24,\"cursorWidth\",0,0,1073741824,{markdownDescription:v.localize(148,null)})),disableLayerHinting:Ee(new f(25,\"disableLayerHinting\",!1)),disableMonospaceOptimizations:Ee(new f(26,\"disableMonospaceOptimizations\",!1)),dragAndDrop:Ee(new f(27,\"dragAndDrop\",!0,{description:v.localize(149,null)})),emptySelectionClipboard:Ee(new E),extraEditorClassName:Ee(new S(29,\"extraEditorClassName\",\"\")),fastScrollSensitivity:Ee(new m(30,\"fastScrollSensitivity\",5,X=>X<=0?5:X,{markdownDescription:v.localize(150,null)})),find:Ee(new h),fixedOverflowWidgets:Ee(new f(32,\"fixedOverflowWidgets\",!1)),folding:Ee(new f(33,\"folding\",!0,{description:v.localize(151,null)})),foldingStrategy:Ee(new g(34,\"foldingStrategy\",\"auto\",[\"auto\",\"indentation\"],{enumDescriptions:[v.localize(152,null),v.localize(153,null)],description:v.localize(154,null)})),foldingHighlight:Ee(new f(35,\"foldingHighlight\",!0,{description:v.localize(155,null)})),unfoldOnClickAfterEndOfLine:Ee(new f(36,\"unfoldOnClickAfterEndOfLine\",!1,{description:v.localize(156,null)})),fontFamily:Ee(new S(37,\"fontFamily\",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(157,null)})),fontInfo:Ee(new A),fontLigatures2:Ee(new b),fontSize:Ee(new L),fontWeight:Ee(new M),formatOnPaste:Ee(new f(42,\"formatOnPaste\",!1,{description:v.localize(158,null)})),formatOnType:Ee(new f(43,\"formatOnType\",!1,{description:v.localize(159,null)})),glyphMargin:Ee(new f(44,\"glyphMargin\",!0,{description:v.localize(160,null)})),gotoLocation:Ee(new z),hideCursorInOverviewRuler:Ee(new f(46,\"hideCursorInOverviewRuler\",!1,{description:v.localize(161,null)})),highlightActiveIndentGuide:Ee(new f(47,\"highlightActiveIndentGuide\",!0,{description:v.localize(162,null)})),hover:Ee(new V),inDiffEditor:Ee(new f(49,\"inDiffEditor\",!1)),letterSpacing:Ee(new m(50,\"letterSpacing\",e.EDITOR_FONT_DEFAULTS.letterSpacing,X=>m.clamp(X,-5,20),{description:v.localize(163,null)})),lightbulb:Ee(new x),lineDecorationsWidth:Ee(new k(52,\"lineDecorationsWidth\",10)),lineHeight:Ee(new U),lineNumbers:Ee(new Te),lineNumbersMinChars:Ee(new l(55,\"lineNumbersMinChars\",5,1,300)),linkedEditing:Ee(new f(56,\"linkedEditing\",!1,{description:v.localize(164,null)})),links:Ee(new f(57,\"links\",!0,{description:v.localize(165,null)})),matchBrackets:Ee(new g(58,\"matchBrackets\",\"always\",[\"always\",\"near\",\"never\"],{description:v.localize(166,null)})),minimap:Ee(new F),mouseStyle:Ee(new g(60,\"mouseStyle\",\"text\",[\"text\",\"default\",\"copy\"])),mouseWheelScrollSensitivity:Ee(new m(61,\"mouseWheelScrollSensitivity\",1,X=>X===0?1:X,{markdownDescription:v.localize(167,null)})),mouseWheelZoom:Ee(new f(62,\"mouseWheelZoom\",!1,{markdownDescription:v.localize(168,null)})),multiCursorMergeOverlapping:Ee(new f(63,\"multiCursorMergeOverlapping\",!0,{description:v.localize(169,null)})),multiCursorModifier:Ee(new a(64,\"multiCursorModifier\",\"altKey\",\"alt\",[\"ctrlCmd\",\"alt\"],O,{markdownEnumDescriptions:[v.localize(170,null),v.localize(171,null)],markdownDescription:v.localize(172,null)})),multiCursorPaste:Ee(new g(65,\"multiCursorPaste\",\"spread\",[\"spread\",\"full\"],{markdownEnumDescriptions:[v.localize(173,null),v.localize(174,null)],markdownDescription:v.localize(175,null)})),occurrencesHighlight:Ee(new f(66,\"occurrencesHighlight\",!0,{description:v.localize(176,null)})),overviewRulerBorder:Ee(new f(67,\"overviewRulerBorder\",!0,{description:v.localize(177,null)})),overviewRulerLanes:Ee(new l(68,\"overviewRulerLanes\",3,0,3)),padding:Ee(new $),parameterHints:Ee(new q),peekWidgetDefaultFocus:Ee(new g(71,\"peekWidgetDefaultFocus\",\"tree\",[\"tree\",\"editor\"],{enumDescriptions:[v.localize(178,null),v.localize(179,null)],description:v.localize(180,null)})),definitionLinkOpensInPeek:Ee(new f(72,\"definitionLinkOpensInPeek\",!1,{description:v.localize(181,null)})),quickSuggestions:Ee(new ae),quickSuggestionsDelay:Ee(new l(74,\"quickSuggestionsDelay\",10,0,1073741824,{description:v.localize(182,null)})),readOnly:Ee(new f(75,\"readOnly\",!1)),renameOnType:Ee(new f(76,\"renameOnType\",!1,{description:v.localize(183,null),markdownDeprecationMessage:v.localize(184,null)})),renderControlCharacters:Ee(new f(77,\"renderControlCharacters\",!1,{description:v.localize(185,null)})),renderIndentGuides:Ee(new f(78,\"renderIndentGuides\",!0,{description:v.localize(186,null)})),renderFinalNewline:Ee(new f(79,\"renderFinalNewline\",!0,{description:v.localize(187,null)})),renderLineHighlight:Ee(new g(80,\"renderLineHighlight\",\"line\",[\"none\",\"gutter\",\"line\",\"all\"],{enumDescriptions:[\"\",\"\",\"\",v.localize(188,null)],description:v.localize(189,null)})),renderLineHighlightOnlyWhenFocus:Ee(new f(81,\"renderLineHighlightOnlyWhenFocus\",!1,{description:v.localize(190,null)})),renderValidationDecorations:Ee(new g(82,\"renderValidationDecorations\",\"editable\",[\"editable\",\"on\",\"off\"])),renderWhitespace:Ee(new g(83,\"renderWhitespace\",\"selection\",[\"none\",\"boundary\",\"selection\",\"trailing\",\"all\"],{enumDescriptions:[\"\",v.localize(191,null),v.localize(192,null),v.localize(193,null),\"\"],description:v.localize(194,null)})),revealHorizontalRightPadding:Ee(new l(84,\"revealHorizontalRightPadding\",30,0,1e3)),roundedSelection:Ee(new f(85,\"roundedSelection\",!0,{description:v.localize(195,null)})),rulers:Ee(new Le),scrollbar:Ee(new Y),scrollBeyondLastColumn:Ee(new l(88,\"scrollBeyondLastColumn\",5,0,1073741824,{description:v.localize(196,null)})),scrollBeyondLastLine:Ee(new f(89,\"scrollBeyondLastLine\",!0,{description:v.localize(197,null)})),scrollPredominantAxis:Ee(new f(90,\"scrollPredominantAxis\",!0,{description:v.localize(198,null)})),selectionClipboard:Ee(new f(91,\"selectionClipboard\",!0,{description:v.localize(199,null),included:D.isLinux})),selectionHighlight:Ee(new f(92,\"selectionHighlight\",!0,{description:v.localize(200,null)})),selectOnLineNumbers:Ee(new f(93,\"selectOnLineNumbers\",!0)),showFoldingControls:Ee(new g(94,\"showFoldingControls\",\"mouseover\",[\"always\",\"mouseover\"],{enumDescriptions:[v.localize(201,null),v.localize(202,null)],description:v.localize(203,null)})),showUnused:Ee(new f(95,\"showUnused\",!0,{description:v.localize(204,null)})),showDeprecated:Ee(new f(119,\"showDeprecated\",!0,{description:v.localize(205,null)})),inlineHints:Ee(new N),snippetSuggestions:Ee(new g(96,\"snippetSuggestions\",\"inline\",[\"top\",\"bottom\",\"inline\",\"none\"],{enumDescriptions:[v.localize(206,null),v.localize(207,null),v.localize(208,null),v.localize(209,null)],description:v.localize(210,null)})),smartSelect:Ee(new oe),smoothScrolling:Ee(new f(98,\"smoothScrolling\",!1,{description:v.localize(211,null)})),stopRenderingLineAfter:Ee(new l(100,\"stopRenderingLineAfter\",1e4,-1,1073741824)),suggest:Ee(new ie),suggestFontSize:Ee(new l(102,\"suggestFontSize\",0,0,1e3,{markdownDescription:v.localize(212,null)})),suggestLineHeight:Ee(new l(103,\"suggestLineHeight\",0,0,1e3,{markdownDescription:v.localize(213,null)})),suggestOnTriggerCharacters:Ee(new f(104,\"suggestOnTriggerCharacters\",!0,{description:v.localize(214,null)})),suggestSelection:Ee(new g(105,\"suggestSelection\",\"recentlyUsed\",[\"first\",\"recentlyUsed\",\"recentlyUsedByPrefix\"],{markdownEnumDescriptions:[v.localize(215,null),v.localize(216,null),v.localize(217,null)],description:v.localize(218,null)})),tabCompletion:Ee(new g(106,\"tabCompletion\",\"off\",[\"on\",\"off\",\"onlySnippets\"],{enumDescriptions:[v.localize(219,null),v.localize(220,null),v.localize(221,null)],description:v.localize(222,null)})),tabIndex:Ee(new l(107,\"tabIndex\",0,-1,1073741824)),unusualLineTerminators:Ee(new g(108,\"unusualLineTerminators\",\"prompt\",[\"auto\",\"off\",\"prompt\"],{enumDescriptions:[v.localize(223,null),v.localize(224,null),v.localize(225,null)],description:v.localize(226,null)})),useTabStops:Ee(new f(109,\"useTabStops\",!0,{description:v.localize(227,null)})),wordSeparators:Ee(new S(110,\"wordSeparators\",R.USUAL_WORD_SEPARATORS,{description:v.localize(228,null)})),wordWrap:Ee(new g(111,\"wordWrap\",\"off\",[\"off\",\"on\",\"wordWrapColumn\",\"bounded\"],{markdownEnumDescriptions:[v.localize(229,null),v.localize(230,null),v.localize(231,null),v.localize(232,null)],description:v.localize(233,null)})),wordWrapBreakAfterCharacters:Ee(new S(112,\"wordWrapBreakAfterCharacters\",\" })]?|/&.,;\\xA2\\xB0\\u2032\\u2033\\u2030\\u2103\\u3001\\u3002\\uFF61\\uFF64\\uFFE0\\uFF0C\\uFF0E\\uFF1A\\uFF1B\\uFF1F\\uFF01\\uFF05\\u30FB\\uFF65\\u309D\\u309E\\u30FD\\u30FE\\u30FC\\u30A1\\u30A3\\u30A5\\u30A7\\u30A9\\u30C3\\u30E3\\u30E5\\u30E7\\u30EE\\u30F5\\u30F6\\u3041\\u3043\\u3045\\u3047\\u3049\\u3063\\u3083\\u3085\\u3087\\u308E\\u3095\\u3096\\u31F0\\u31F1\\u31F2\\u31F3\\u31F4\\u31F5\\u31F6\\u31F7\\u31F8\\u31F9\\u31FA\\u31FB\\u31FC\\u31FD\\u31FE\\u31FF\\u3005\\u303B\\uFF67\\uFF68\\uFF69\\uFF6A\\uFF6B\\uFF6C\\uFF6D\\uFF6E\\uFF6F\\uFF70\\u201D\\u3009\\u300B\\u300D\\u300F\\u3011\\u3015\\uFF09\\uFF3D\\uFF5D\\uFF63\")),wordWrapBreakBeforeCharacters:Ee(new S(113,\"wordWrapBreakBeforeCharacters\",\"([{\\u2018\\u201C\\u3008\\u300A\\u300C\\u300E\\u3010\\u3014\\uFF08\\uFF3B\\uFF5B\\uFF62\\xA3\\xA5\\uFF04\\uFFE1\\uFFE5+\\uFF0B\")),wordWrapColumn:Ee(new l(114,\"wordWrapColumn\",80,1,1073741824,{markdownDescription:v.localize(234,null)})),wordWrapOverride1:Ee(new g(115,\"wordWrapOverride1\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wordWrapOverride2:Ee(new g(116,\"wordWrapOverride2\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wrappingIndent:Ee(new a(117,\"wrappingIndent\",1,\"same\",[\"none\",\"same\",\"indent\",\"deepIndent\"],Me,{enumDescriptions:[v.localize(235,null),v.localize(236,null),v.localize(237,null),v.localize(238,null)],description:v.localize(239,null)})),wrappingStrategy:Ee(new g(118,\"wrappingStrategy\",\"simple\",[\"simple\",\"advanced\"],{enumDescriptions:[v.localize(240,null),v.localize(241,null)],description:v.localize(242,null)})),editorClassName:Ee(new _),pixelRatio:Ee(new Z),tabFocusMode:Ee(new ve),layoutInfo:Ee(new K),wrappingInfo:Ee(new we)}}),define(ge[149],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(ge[150],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(ge[151],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/files/common/files\",e)}),define(ge[152],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/markers/common/markers\",e)}),define(ge[153],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/terminal/node/terminalProcess\",e)}),define(ge[154],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/theme/common/iconRegistry\",e)}),define(ge[155],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(ge[156],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHost.api.impl\",e)}),define(ge[157],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostDiagnostics\",e)}),define(ge[158],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostExtensionActivator\",e)}),define(ge[159],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostExtensionService\",e)}),define(ge[160],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostProgress\",e)}),define(ge[161],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostStatusBar\",e)}),define(ge[162],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostTerminalService\",e)}),define(ge[163],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostTreeViews\",e)}),define(ge[164],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostWorkspace\",e)}),define(ge[165],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/node/extHostDebugService\",e)}),define(ge[166],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/common/views\",e)}),define(ge[167],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/debug/common/abstractDebugAdapter\",e)}),define(ge[168],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/debug/node/debugAdapter\",e)}),define(ge[169],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/externalTerminal/node/externalTerminalService\",e)}),define(ge[170],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/search/common/queryBuilder\",e)}),define(ge[171],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/terminal/common/terminal\",e)}),define(ge[172],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(ge[173],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(C){C[C.ACTIVATE=0]=\"ACTIVATE\",C[C.RESTORE=1]=\"RESTORE\",C[C.PRESERVE=2]=\"PRESERVE\"})(v=e.EditorActivation||(e.EditorActivation={}));var D;(function(C){C[C.PICK=1]=\"PICK\",C[C.DISABLED=2]=\"DISABLED\"})(D=e.EditorOverride||(e.EditorOverride={}));var R;(function(C){C[C.API=0]=\"API\",C[C.USER=1]=\"USER\"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var P;(function(C){C[C.Center=0]=\"Center\",C[C.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",C[C.NearTop=2]=\"NearTop\",C[C.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(P=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[107],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class v{constructor(P,C=[],I=!1){this.ctor=P,this.staticArguments=C,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=v;const D=(R,...P)=>new v(R,P);e.createSyncDescriptor=D}),define(ge[80],pe([0,1,107]),function(Q,e,v){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const D=[];function R(C,I,y){I instanceof v.SyncDescriptor||(I=new v.SyncDescriptor(I,[],y)),D.push([C,I])}e.registerSingleton=R;function P(){return D}e.getSingletonServiceDescriptors=P}),define(ge[174],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(P){this.incoming=new Map,this.outgoing=new Map,this.data=P}}e.Node=v;class D{constructor(P){this._hashFn=P,this._nodes=new Map}roots(){const P=[];for(let C of this._nodes.values())C.outgoing.size===0&&P.push(C);return P}insertEdge(P,C){const I=this.lookupOrInsertNode(P),y=this.lookupOrInsertNode(C);I.outgoing.set(this._hashFn(C),y),y.incoming.set(this._hashFn(P),I)}removeNode(P){const C=this._hashFn(P);this._nodes.delete(C);for(let I of this._nodes.values())I.outgoing.delete(C),I.incoming.delete(C)}lookupOrInsertNode(P){const C=this._hashFn(P);let I=this._nodes.get(C);return I||(I=new v(P),this._nodes.set(C,I)),I}lookup(P){return this._nodes.get(this._hashFn(P))}isEmpty(){return this._nodes.size===0}toString(){let P=[];for(let[C,I]of this._nodes)P.push(`${C}, (incoming)[${[...I.incoming.keys()].join(\", \")}], (outgoing)[${[...I.outgoing.keys()].join(\",\")}]`);return P.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "进程PID": "", "异常时间": "2021-02-25 18:53:48", "所属用户": "root", "异常信息": "反弹shell类：\"),0===t.length?e:e.replace(/\\{(\\d+)\\}/g,function(e,n){var r=n[0],s=t[r],o=e;return\"string\"==typeof s?o=s:\"number\"!=typeof s&&\"boolean\"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \"+new Error(\"\").stack):m(e[t],r):f(n)?(console.warn(\"Message \"+n+\" didn't get externalized correctly.\"),m(n,r)):void console.error(\"Broken localize call found. Stacktrace is\\n: \"+new Error(\"\").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+\"-\"+e.hash+\".json\"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:\"utf8\",flag:\"r\"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if(\"ENOENT\"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log(\"Syntax error parsing message bundle: \"+e.message+\".\"),l.unlink(o,function(e){e&&console.error(\"Deleting corrupted bundle \"+o+\" failed.\")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,s=g(u.join(t,\"nls.metadata.json\")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+\"/\"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[f(d)?d:d.key];void 0===m&&(m=c.messages[p]),h.push(m)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:\"utf8\",flag:\"wx\"})}catch(e){if(\"EEXIST\"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=g(u.join(e,\"nls.metadata.json\")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log(\"Generating default bundle from meta data failed.\",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log(\"Load or create bundle failed \",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,\"nls.bundle.\"+t+\".json\");if(l.existsSync(n))return n;var r=t.lastIndexOf(\"-\");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,\"nls.bundle.json\");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log(\"Loading in the box message bundle failed.\",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,\"nls.metadata.header.json\"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,\"utf8\"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error(\"Failed to load nls bundle\",e),o=b(s,null)}}catch(e){console.error(\"Failed to read header file\",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\\\/g,\"/\"),m=o.nlsBundle[f];return void 0===m?(console.error(\"Messages for file \"+e+\" not found. See console for details.\"),function(){return\"Messages not found.\"}):_(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=\".nls.json\";else for(var n=a.language;n;){var r=\".nls.\"+n+\".json\";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf(\"-\");s>0?n=n.substring(0,s):(t=\".nls.json\",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error(\"String bundle '\"+e+\"' uses an unsupported format.\"),function(){return\"File bundle has unsupported format. See console for details\"})}catch(e){\"ENOENT\"!==e.code&&console.error(\"Failed to load single file bundle\",e)}return console.error(\"Failed to load message bundle for file \"+e),function(){return\"Failed to load message bundle. See console for details.\"}}!function(e){e.file=\"file\",e.bundle=\"bundle\",e.both=\"both\"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone=\"standalone\",e.languagePack=\"languagePack\"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages[\"*\"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:\"en\"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,\"corrupted\",\"utf8\",function(e){console.error(e)})}}}catch(e){}c=\"pseudo\"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c=\"pseudo\"===a.locale,R}},function(e,t){e.exports=require(\"child_process\")},function(e,t){e.exports=require(\"util\")},function(e,t){e.exports=require(\"url\")},,function(e,t){e.exports=require(\"net\")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('\"'+t+'\" is a required argument.')};var n=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/,r=/^data:.+\\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t=\"\";return e.scheme&&(t+=e.scheme+\":\"),t+=\"//\",e.auth&&(t+=e.auth+\"@\"),e.host&&(t+=e.host),e.port&&(t+=\":\"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\\/+/),u=0,l=c.length-1;l>=0;l--)\".\"===(i=c[l])?c.splice(l,1):\"..\"===i?u++:u>0&&(\"\"===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return\"\"===(n=c.join(\"/\"))&&(n=a?\"/\":\".\"),r?(r.path=n,o(r)):n}function a(e,t){\"\"===e&&(e=\".\"),\"\"===t&&(t=\".\");var n=s(t),a=s(e);if(a&&(e=a.path||\"/\"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c=\"/\"===t.charAt(0)?t:i(e.replace(/\\/+$/,\"\")+\"/\"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return\"/\"===e.charAt(0)||n.test(e)},t.relative=function(e,t){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var n=0;0!==t.indexOf(e+\"/\");){var r=e.lastIndexOf(\"/\");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\\/]+:\\/)?\\/*$/))return t;++n}return Array(n+1).join(\"../\")+t.substr(e.length+1)};var c=!(\"__proto__\"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?\"$\"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\\)]}'[^\\n]*\\n/,\"\"))},t.computeSourceURL=function(e,t,n){if(t=t||\"\",e&&(\"/\"!==e[e.length-1]&&\"/\"!==t[0]&&(e+=\"/\"),t=e+t),n){var r=s(n);if(!r)throw new Error(\"sourceMapURL could not be parsed\");if(r.path){var c=r.path.lastIndexOf(\"/\");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require(\"events\")},function(e,t,n){e.exports=f,f.Minimatch=g;var r={sep:\"/\"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=g.GLOBSTAR={},o=n(79),i={\"!\":{open:\"(?:(?!(?:\",close:\"))[^/]*?)\"},\"?\":{open:\"(?:\",close:\")?\"},\"+\":{open:\"(?:\",close:\")+\"},\"*\":{open:\"(?:\",close:\")*\"},\"@\":{open:\"(?:\",close:\")\"}},a=\"[^/]\",c=a+\"*?\",u=\"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\",l=\"(?:(?!(?:\\\\/|^)\\\\.).)*?\",h=\"().*{}+?[]^$\\\\!\".split(\"\").reduce(function(e,t){return e[t]=!0,e},{});var p=/\\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if(\"string\"!=typeof t)throw new TypeError(\"glob pattern string required\");return n||(n={}),!(!n.nocomment&&\"#\"===t.charAt(0))&&(\"\"===t.trim()?\"\"===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if(\"string\"!=typeof e)throw new TypeError(\"glob pattern string required\");t||(t={}),e=e.trim(),\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError(\"undefined pattern\");return t.nobrace||!e.match(/\\{.*\\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&\"#\"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&\"!\"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError(\"pattern is too long\");var n=this.options;if(!n.noglobstar&&\"**\"===e)return s;if(\"\"===e)return\"\";var r,o=\"\",u=!!n.nocase,l=!1,p=[],d=[],f=!1,g=-1,m=-1,v=\".\"===e.charAt(0)?\"\":n.dot?\"(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))\":\"(?!\\\\.)\",b=this;function y(){if(r){switch(r){case\"*\":o+=c,u=!0;break;case\"?\":o+=a,u=!0;break;default:o+=\"\\\\\"+r}b.debug(\"clearStateChar %j %j\",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug(\"%s\\t%s %s %j\",e,S,o,E),l&&h[E])o+=\"\\\\\"+E,l=!1;else switch(E){case\"/\":return!1;case\"\\\\\":y(),l=!0;continue;case\"?\":case\"*\":case\"+\":case\"@\":case\"!\":if(this.debug(\"%s\\t%s %s %j <-- stateChar\",e,S,o,E),f){this.debug(\" in class\"),\"!\"===E&&S===m+1&&(E=\"^\"),o+=E;continue}b.debug(\"call clearStateChar %j\",r),y(),r=E,n.noext&&y();continue;case\"(\":if(f){o+=\"(\";continue}if(!r){o+=\"\\\\(\";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+=\"!\"===r?\"(?:(?!(?:\":\"(?:\",this.debug(\"plType %j %j\",r,o),r=!1;continue;case\")\":if(f||!p.length){o+=\"\\\\)\";continue}y(),u=!0;var C=p.pop();o+=C.close,\"!\"===C.type&&d.push(C),C.reEnd=o.length;continue;case\"|\":if(f||!p.length||l){o+=\"\\\\|\",l=!1;continue}y(),o+=\"|\";continue;case\"[\":if(y(),f){o+=\"\\\\\"+E;continue}f=!0,m=S,g=o.length,o+=E;continue;case\"]\":if(S===m+1||!f){o+=\"\\\\\"+E,l=!1;continue}if(f){var w=e.substring(m+1,S);try{RegExp(\"[\"+w+\"]\")}catch(e){var O=this.parse(w,_);o=o.substr(0,g)+\"\\\\[\"+O[0]+\"\\\\]\",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||\"^\"===E&&f||(o+=\"\\\\\"),o+=E}f&&(w=e.substr(m+1),O=this.parse(w,_),o=o.substr(0,g)+\"\\\\[\"+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug(\"setting tail\",o,C),x=x.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g,function(e,t,n){return n||(n=\"\\\\\"),t+t+n+\"|\"}),this.debug(\"tail=%j\\n %s\",x,x,C,o);var k=\"*\"===C.type?c:\"?\"===C.type?a:\"\\\\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+\"\\\\(\"+x}y(),l&&(o+=\"\\\\\\\\\");var P=!1;switch(o.charAt(0)){case\".\":case\"[\":case\"(\":P=!0}for(var A=d.length-1;A>-1;A--){var T=d[A],L=o.slice(0,T.reStart),F=o.slice(T.reStart,T.reEnd-8),M=o.slice(T.reEnd-8,T.reEnd),I=o.slice(T.reEnd);M+=I;var N=L.split(\"(\").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\\)[+*?]?/,\"\");var D=\"\";\"\"===(I=j)&&t!==_&&(D=\"$\"),o=L+F+I+D+M}\"\"!==o&&u&&(o=\"(?=.)\"+o);P&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\\\(.)/g,\"$1\")}(e);var q=n.nocase?\"i\":\"\";try{var $=new RegExp(\"^\"+o+\"$\",q)}catch(e){return new RegExp(\"$.\")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?\"i\":\"\",o=e.map(function(e){return e.map(function(e){return e===s?n:\"string\"==typeof e?function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}(e):e._src}).join(\"\\\\/\")}).join(\"|\");o=\"^(?:\"+o+\")$\",this.negate&&(o=\"^(?!\"+o+\").*$\");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug(\"match\",e,this.pattern),this.comment)return!1;if(this.empty)return\"\"===e;if(\"/\"===e&&t)return!0;var n=this.options;\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\"));e=e.split(p),this.debug(this.pattern,\"split\",e);var s,o,i=this.set;for(this.debug(this.pattern,\"set\",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug(\"matchOne\",{this:this,file:e,pattern:t}),this.debug(\"matchOne\",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug(\"matchOne loop\");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug(\"GLOBSTAR\",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug(\"** at the end\");o<a;o++)if(\".\"===e[o]||\"..\"===e[o]||!r.dot&&\".\"===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(\"\\nglobstar while\",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug(\"globstar found match!\",p,a,f),!0;if(\".\"===f||\"..\"===f||!r.dot&&\".\"===f.charAt(0)){this.debug(\"dot detected!\",e,p,t,d);break}this.debug(\"globstar swallow a segment, and continue\"),p++}return!(!n||(this.debug(\"\\n>>> no match, partial?\",e,p,t,d),p!==a))}if(\"string\"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug(\"string match\",l,h,u)):(u=h.match(l),this.debug(\"pattern match\",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&\"\"===e[o];throw new Error(\"wtf?\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=\"win32\"===process.platform,a=\"x64\"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",t=r.join(e,\"Sysnative\",\"bash.exe\"),n=r.join(e,\"System32\",\"bash.exe\"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\\\/g,\"/\")}`:e.replace(/\\\\/g,\"/\")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",c=r.join(e,\"Sysnative\",\"bash.exe\"),l=r.join(e,\"System32\",\"bash.exe\"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\\\/g,\"/\")),e.indexOf(\" \")>0?`'${e}'`:e)).join(\" \");return{cwd:n,executable:p,args:[\"-c\",d],combined:[p].concat([\"-c\",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(44),s=n(15),o=n(45),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||\"Thread #\"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,\"number\"==typeof s&&(this.namedVariables=s),\"number\"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;\"number\"==typeof t&&(s.line=t),\"number\"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super(\"stopped\"),this.body={reason:e},\"number\"==typeof t&&(this.body.threadId=t),\"string\"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super(\"continued\"),this.body={threadId:e},\"boolean\"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super(\"initialized\")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super(\"terminated\"),\"boolean\"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t=\"console\",n){super(\"output\"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super(\"thread\"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super(\"breakpoint\"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super(\"module\"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super(\"loadedSource\"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super(\"capabilities\"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super(\"progressStart\"),this.body={progressId:e,title:t},\"string\"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super(\"progressUpdate\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}};t.ProgressEndEvent=class extends s.Event{constructor(e,t){super(\"progressEnd\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}};var a;t.InvalidatedEvent=class extends s.Event{constructor(e,t,n){super(\"invalidated\"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}},function(e){e[e.User=1]=\"User\",e[e.Telemetry=2]=\"Telemetry\"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n=\"boolean\"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=\"boolean\"==typeof t&&t,this.on(\"close\",()=>{this.shutdown()}),this.on(\"error\",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=\"path\"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;\"number\"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest(\"runInTerminal\",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if(\"initialize\"===e.command){var n=e.arguments;if(\"boolean\"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),\"boolean\"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),\"path\"!==n.pathFormat)this.sendErrorResponse(t,2018,\"debug adapter only supports native paths\",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else\"launch\"===e.command?this.launchRequest(t,e.arguments,e):\"attach\"===e.command?this.attachRequest(t,e.arguments,e):\"disconnect\"===e.command?this.disconnectRequest(t,e.arguments,e):\"terminate\"===e.command?this.terminateRequest(t,e.arguments,e):\"restart\"===e.command?this.restartRequest(t,e.arguments,e):\"setBreakpoints\"===e.command?this.setBreakPointsRequest(t,e.arguments,e):\"setFunctionBreakpoints\"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):\"setExceptionBreakpoints\"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):\"configurationDone\"===e.command?this.configurationDoneRequest(t,e.arguments,e):\"continue\"===e.command?this.continueRequest(t,e.arguments,e):\"next\"===e.command?this.nextRequest(t,e.arguments,e):\"stepIn\"===e.command?this.stepInRequest(t,e.arguments,e):\"stepOut\"===e.command?this.stepOutRequest(t,e.arguments,e):\"stepBack\"===e.command?this.stepBackRequest(t,e.arguments,e):\"reverseContinue\"===e.command?this.reverseContinueRequest(t,e.arguments,e):\"restartFrame\"===e.command?this.restartFrameRequest(t,e.arguments,e):\"goto\"===e.command?this.gotoRequest(t,e.arguments,e):\"pause\"===e.command?this.pauseRequest(t,e.arguments,e):\"stackTrace\"===e.command?this.stackTraceRequest(t,e.arguments,e):\"scopes\"===e.command?this.scopesRequest(t,e.arguments,e):\"variables\"===e.command?this.variablesRequest(t,e.arguments,e):\"setVariable\"===e.command?this.setVariableRequest(t,e.arguments,e):\"setExpression\"===e.command?this.setExpressionRequest(t,e.arguments,e):\"source\"===e.command?this.sourceRequest(t,e.arguments,e):\"threads\"===e.command?this.threadsRequest(t,e):\"terminateThreads\"===e.command?this.terminateThreadsRequest(t,e.arguments,e):\"evaluate\"===e.command?this.evaluateRequest(t,e.arguments,e):\"stepInTargets\"===e.command?this.stepInTargetsRequest(t,e.arguments,e):\"gotoTargets\"===e.command?this.gotoTargetsRequest(t,e.arguments,e):\"completions\"===e.command?this.completionsRequest(t,e.arguments,e):\"exceptionInfo\"===e.command?this.exceptionInfoRequest(t,e.arguments,e):\"loadedSources\"===e.command?this.loadedSourcesRequest(t,e.arguments,e):\"dataBreakpointInfo\"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):\"setDataBreakpoints\"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):\"readMemory\"===e.command?this.readMemoryRequest(t,e.arguments,e):\"disassemble\"===e.command?this.disassembleRequest(t,e.arguments,e):\"cancel\"===e.command?this.cancelRequest(t,e.arguments,e):\"breakpointLocations\"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):\"setInstructionBreakpoints\"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,\"{_stack}\",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,\"unrecognized request\",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){\"win32\"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\\\/g,\"/\")),e=encodeURI(e);let t=new i.URL(\"file:\");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return\"win32\"===process.platform&&(/^\\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\\//g,\"\\\\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&\"_\"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}t.DebugSession=c,c._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super(\"response\"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super(\"event\"),this.event=e,t&&(this.body=t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(47),s=n(14);var o;!function(e){e[e.Verbose=0]=\"Verbose\",e[e.Log=1]=\"Log\",e[e.Warn=2]=\"Warn\",e[e.Error=3]=\"Error\",e[e.Stop=4]=\"Stop\"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+=\"\\n\",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+=\"\",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r=\"string\"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;t.LogOutputEvent=class extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?\"stderr\":t===o.Warn?\"console\":\"stdout\")}},t.trimLastNewline=function(e){return e.replace(/(\\n|\\r\\n)$/,\"\")}},function(e,t){e.exports=require(\"tty\")},function(e,t){e.exports=require(\"assert\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\\:[\\\\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\\\/g,\"/\"),/^[a-zA-Z]\\:\\//.test(e)&&(e=\"/\"+e),e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i=\"\";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\\\/g,\"/\"),\"win32\"!==process.platform&&\"darwin\"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return\"win32\"===process.platform&&(e=e.replace(/\\//g,\"\\\\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\\:\\\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if(\"win32\"===process.platform){const e=n.WINDIR||\"C:\\\\Windows\";i=r.join(e,\"System32\",\"where.exe\")}else i=\"/usr/bin/which\";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\\r?\\n/);if(\"win32\"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+\";\")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if(\"win32\"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(\";\");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if(\"/\"===e.charAt(0))return!0;if(/^[a-zA-Z]\\:[\\\\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\\/[a-zA-Z]\\:\\//.test(e)&&(e=e.substr(1)),e=e.replace(/\\//g,\"\\\\\")},t.join=function(e,t){return e=u(e),t=u(t),\"/\"===e.charAt(e.length-1)?e+=t:e=e+\"/\"+t,e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split(\"/\"),r=t.substr(1).split(\"/\");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(\"..\"),s--;return r.join(\"/\")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>\"!\"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==(\"!\"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&\"\\ufeff\"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){\"use strict\";function r(e){return\"/\"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/.exec(e),n=t[1]||\"\",r=Boolean(n&&\":\"!==n.charAt(1));return Boolean(t[2]||r)}e.exports=\"win32\"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require(\"os\")},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";n(56);const r=n(4).inherits,s=n(57),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;\"function\"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host=\"localhost\"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit(\"error\",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A \"socket\" was not created for HTTP request before '+a+\"ms\");e.code=\"ETIMEOUT\",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&\"function\"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on(\"free\",function(){c(t,r)}),e.onSocket(t)}else{u(new Error(\"no Duplex stream was returned to agent-base for `\"+e.method+\" \"+e.path+\"`\"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if(\"%%\"===n)return n;c++;var s=t.formatters[r];if(\"function\"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,\"function\"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&(\"-\"===(e=r[n].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(62),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){\"use strict\";const r=n(25),s=n(17),o=n(64),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o(\"color=16m\")||o(\"color=full\")||o(\"color=truecolor\"))return 3;if(o(\"color=256\"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if(\"dumb\"===i.TERM)return n;if(\"win32\"===process.platform){const e=r.release().split(\".\");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in i)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\",\"GITHUB_ACTIONS\",\"BUILDKITE\"].some(e=>e in i)||\"codeship\"===i.CI_NAME?1:n;if(\"TEAMCITY_VERSION\"in i)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(i.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===i.COLORTERM)return 3;if(\"TERM_PROGRAM\"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(i.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:\"COLORTERM\"in i?1:n}o(\"no-color\")||o(\"no-colors\")||o(\"color=false\")||o(\"color=never\")?a=0:(o(\"color\")||o(\"colors\")||o(\"color=true\")||o(\"color=always\"))&&(a=1),\"FORCE_COLOR\"in i&&(a=\"true\"===i.FORCE_COLOR?1:\"false\"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){\"use strict\";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if(\"%%\"===e)return e;u++;var s=r.formatters[n];if(\"function\"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,\"function\"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?\":\":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable(\"\")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(68),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(73).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,\"file\",null),this._sourceRoot=s.getArg(e,\"sourceRoot\",null),this._skipValidation=s.getArg(e,\"skipValidation\",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,\"generated\"),n=s.getArg(e,\"original\",null),r=s.getArg(e,\"source\",null),o=s.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p=\"\",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e=\"\",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=\";\",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=\",\"}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(72);t.encode=function(e){var t,n=\"\",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o=\"undefined\"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(82)),a=n(10).EventEmitter,c=n(0),u=n(18),l=n(20),h=n(84),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(85),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if(\"function\"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),\"function\"==typeof n&&(n=v(n),this.on(\"error\",n),this.on(\"end\",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||\"object\"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if(\"string\"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit(\"end\",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?\"stat\"===r.syscall?a[n]=!0:o.emit(\"error\",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit(\"abort\")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit(\"pause\"))},E.prototype.resume=function(){if(this.paused){if(this.emit(\"resume\"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u(\"function\"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;\"string\"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join(\"/\"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join(\"/\")}var a,c=e.slice(i);null===s?a=\".\":l(s)||l(e.join(\"/\"))?(s&&l(s)||(s=\"/\"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||\".\"===h.charAt(0),d=[],f=0;f<i.length;f++){if(\".\"!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),\"/\"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(\"DIR\"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit(\"stat\",t,s),this.emit(\"match\",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g(\"lstat\\0\"+e,function(r,s){if(r&&\"ENOENT\"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]=\"FILE\",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g(\"readdir\\0\"+e+\"\\0\"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||\"FILE\"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s=\"/\"===e?e+s:e+\"/\"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case\"ENOTSUP\":case\"ENOTDIR\":var r=this._makeAbs(e);if(this.cache[r]=\"FILE\",r===this.cwdAbs){var s=new Error(t.code+\" invalid cwd \"+this.cwd);s.path=this.cwd,s.code=t.code,this.emit(\"error\",s),this.abort()}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit(\"error\",t),this.abort()),this.silent||console.error(\"glob error\",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if(\".\"!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\\/\\\\]$/.test(e);\"/\"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+=\"/\"))}\"win32\"===process.platform&&(e=e.replace(/\\\\/g,\"/\")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s=\"/\"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o=\"DIR\"),!s||\"DIR\"===o)return t(null,o);if(s&&\"FILE\"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?\"DIR\":\"FILE\";return s&&\"FILE\"===a?t():t(null,a,i)}var c=this,u=g(\"stat\\0\"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&(\"ENOENT\"===n.code||\"ENOTDIR\"===n.code))return this.statCache[t]=!1,s();var o=\"/\"===e.slice(-1);if(this.statCache[t]=r,\"/\"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?\"DIR\":\"FILE\"),this.cache[t]=this.cache[t]||i,o&&\"FILE\"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\\./.test(i),c=n(78);function u(e){return e&&\"realpath\"===e.syscall&&(\"ELOOP\"===e.code||\"ENOMEM\"===e.code||\"ENAMETOOLONG\"===e.code)}function l(e,t,n){if(a)return s(e,t,n);\"function\"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf(\"/\")){if(n.noglobstar)throw new Error(\"base matching requires globstar\");t=\"**/\"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,\"cwd\")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,\"/\"),e.root=s.resolve(e.root),\"win32\"===process.platform&&(e.root=e.root.replace(/\\\\/g,\"/\"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),\"win32\"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\\\/g,\"/\"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n=\"DIR\"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o=\"DIR\"===r||Array.isArray(r),i=\"/\"===t.slice(-1);if(o&&!i?s+=\"/\":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(20),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if(\"/**\"===e.slice(-3)){var n=e.replace(/(\\/\\*\\*)+$/,\"\");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n=\"/\"===t.charAt(0)?s.join(e.root,t):i(t)||\"\"===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),\"win32\"===process.platform&&(n=n.replace(/\\\\/g,\"/\")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return\"function\"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(43),o=n(50),i=n(51),a=n(19),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,\"node/nodeDebug.ts\"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return\"named\"===t?e._createProperties(this._evalName,this._object,\"named\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t):\"number\"==typeof n&&\"number\"==typeof r?e._createProperties(this._evalName,this._object,\"indexed\",n,r):e._createProperties(this._evalName,this._object,\"all\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return\"named\"===t?e._createSetMapProperties(this._evalName,this._object):\"set\"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties(\"\",this._object,t).then(t=>this._this?e._createVariable(\"\",\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,\"%%\");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),\"%s\"):\"\"});if(n=n.replace(/'/g,\"\\\\'\"),t.length>0)return`console.log('${n}', ${t.join(\", \")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super(\"node-debug.txt\"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console=\"internalConsole\",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log(\"rc\",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on(\"break\",e=>{this._stopped(\"break\"),this._handleNodeBreakEvent(e.body)}),this._node.on(\"exception\",e=>{this._stopped(\"exception\"),this._handleNodeExceptionEvent(e.body)}),this._node.on(\"afterCompile\",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent(\"new\",e))})}),this._node.on(\"close\",e=>{this._terminated(\"node v8protocol close\")}),this._node.on(\"error\",e=>{this._terminated(\"node v8protocol error\")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command(\"continue\");let t;if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"reject(\")){if(this._skipRejects&&!this._catchRejects)return void this._node.command(\"continue\");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent(\"exception\",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log(\"la\",\"_handleNodeBreakEvent: suppressed stop-on-entry event\"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"debugger\"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent(\"debugger_statement\")}let n=\"step\";this._restartFramePending&&(this._restartFramePending=!1,n=\"frame_entry\"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command(\"continue\",{stepaction:\"in\"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command(\"continue\"):this._sendStoppedEvent(\"breakpoint\")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log(\"ss\",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case\"step\":t=g(4,null);break;case\"breakpoint\":t=g(5,null);break;case\"exception\":t=g(6,null);break;case\"pause\":t=g(7,null);break;case\"entry\":t=g(8,null);break;case\"debugger_statement\":t=g(9,null);break;case\"frame_entry\":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(\"!\"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,\"\")}_stopped(e){this._stoppedReason=e,this.log(\"la\",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log(\"rc\",\"_stopped: new ref cache\")}_terminated(e){this.log(\"la\",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log(\"la\",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,\"node/nodeDebug.ts\"))),\"boolean\"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:\"all\",default:!1},{label:g(12,null),filter:\"uncaught\",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:\"rejects\",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=\"win32\"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&\"number\"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug=\"boolean\"==typeof t.noDebug&&t.noDebug,\"string\"==typeof t.console)switch(t.console){case\"internalConsole\":case\"integratedTerminal\":case\"externalTerminal\":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else\"boolean\"==typeof t.externalConsole&&t.externalConsole&&(this._console=\"externalTerminal\");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,\"runtimeExecutable\",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,\"{_runtime}\"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,\"{_runtime}\"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,\"program\",o);if(!d.existsSync(o)){if(!d.existsSync(o+\".js\"))return void this.sendNotExistErrorResponse(e,\"program\",o);o+=\".js\"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=[\"--nolazy\"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,\"{path}\"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,\"{path}\",\"outFiles\"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,\"{path}\"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log(\"sm\",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,\"cwd\",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,\"cwd\",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${m}`):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on(\"listening\",e=>{const t=r.address();\"object\"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on(\"close\",()=>e(n)),r.on(\"error\",e=>t(e)),r.listen(0,\"127.0.0.1\")}),_.push(`--debug-brk=${m}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,\"utf8\")),r={};n.split(\"\\n\").forEach(e=>{const t=e.match(/^\\s*([\\w\\.\\-]+)\\s*=\\s*(.*)?\\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||\"\";n.length>0&&'\"'===n.charAt(0)&&'\"'===n.charAt(n.length-1)&&(n=n.replace(/\\\\n/gm,\"\\n\")),r[e]=n.replace(/(^['\"]|['\"]$)/g,\"\")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,\"{_error}\"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&\"externalTerminal\"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||\"externalTerminal\"!==this._console&&\"integratedTerminal\"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if(\"win32\"===process.platform&&E.executable.indexOf(\" \")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(\" \")>0?(t.push(`\"${n}\"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`\"${E.executable}\"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on(\"error\",t=>{this.sendErrorResponse(e,2017,g(25,null,\"{_error}\"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on(\"exit\",()=>{this._terminated(\"target exited\")}),r.on(\"close\",e=>{this._terminated(\"target closed\")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:\"integratedTerminal\"===this._console?\"integrated\":\"external\",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated(\"cannot track process\")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,\"{_error}\"),{_error:n.message}),this._terminated(\"terminal error: \"+n.message))})}})}_sendLaunchCommandToConsole(e){let t=\"\";for(let n of e)n.indexOf(\" \")>=0?t+=\"'\"+n+\"'\":t+=n,t+=\" \";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stdout\"))}),e.stderr&&e.stderr.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stderr\"))})}_processCommonArgs(e,t){let n=!0;if(\"boolean\"==typeof t.trace?(this._trace=t.trace?[\"all\"]:void 0,this._traceAll=t.trace):\"string\"==typeof t.trace&&(this._trace=t.trace.split(\",\"),this._traceAll=this._trace.indexOf(\"all\")>=0,this._trace.indexOf(\"dap\")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),\"boolean\"==typeof t.stepBack&&(this._stepBack=t.stepBack),\"boolean\"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),\"boolean\"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),\"boolean\"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),\"boolean\"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"localRoot\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"localRoot\",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),\"boolean\"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"outDir\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"outDir\",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&\"localhost\"!==r?r:\"127.0.0.1\",o||(o=R.ATTACH_TIMEOUT),this.log(\"la\",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on(\"connect\",t=>{this.log(\"la\",\"_attach: connected\"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on(\"error\",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,\"{_error}\"),{_error:r.message});else if(\"ECONNREFUSED\"===r.code||\"ECONNRESET\"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log(\"la\",\"_attach: retry socket.connect\"),c.connect(n,i)},200):\"number\"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,\"{_error}\"),{_error:r.message})}),c.on(\"end\",e=>{this._terminated(\"socket end\")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log(\"la\",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf(\"process is not defined\")>=0&&(this.log(\"la\",\"__initialize: process not defined error; got no pid\"),r.success=!0),r.success)t(r.running);else{if(this.log(\"la\",\"__initialize: retrieving process id from node failed\"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command(\"evaluate\",{expression:\"process.version\",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent(\"nodeVersion\",\"telemetry\",{version:t})),this.log(\"la\",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated(\"node process kill exception\")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),\"utf8\"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log(\"la\",\"_injectDebuggerExtensions: code injection successful\"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log(\"la\",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log(\"la\",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log(\"la\",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log(\"la\",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log(\"la\",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command(\"frame\",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log(\"la\",\"_startInitialize2: fire initialized event\"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log(\"la\",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log(\"la\",\"_startInitialize2: fire stop-on-entry event\"),this._sendStoppedEvent(\"entry\")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log(\"la\",\"_startInitialize2: remember to do a 'Continue' later\"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,\"SIGINT\"),this.log(\"la\",\"terminateRequest: send response\"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log(\"la\",\"disconnectRequest: send response\"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command(\"disconnect\"),this._node.stop();else{this._node.stop(),this.log(\"la\",\"shutdown: kill debugee and sub-processes\");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,\"/bin/kill\",[\"-9\",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log(\"bp\",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||\">=\";\"=\"===e&&(e=\"==\");const r=n[2];t=Function(\"hitcnt\",\"%\"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),\"number\"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:\"boolean\"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,\"{_module}\"),{_module:o})});else{if(\"number\"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,\"No valid source specified.\",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve(\"\").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log(\"bp\",\"_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap\"),r=\"\"),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case\"scriptId\":n===t.script_id&&r.push(t.number);break;case\"scriptRegExp\":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:\"scriptId\",target:e,line:n.line,column:n.column,condition:n.condition}:{type:\"scriptRegExp\",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log(\"bp\",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log(\"sm\",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log(\"la\",\"_setBreakpoint2: remember to fire a breakpoint event later\"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\\\.?*()^${}|[\\]])/g,\"\\\\$1\");if(/^[a-zA-Z]:\\\\/.test(e)){const e=t.substring(0,1).toUpperCase();t=\"[\"+e.toLowerCase()+e+\"]\"+t.substring(1)}return\"^(.*[\\\\/\\\\\\\\])?\"+t+\"$\"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:\"function\",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log(\"bp\",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf(\"all\")>=0,r=o.indexOf(\"uncaught\")>=0,this._catchRejects=o.indexOf(\"rejects\")>=0),Promise.all([this._node.setExceptionBreak({type:\"all\",enabled:n}),this._node.setExceptionBreak({type:\"uncaught\",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,\"Configuring exception break options failed ({_nodeError}).\",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n=\"nothing to do\";this._needContinue&&(this._needContinue=!1,n=\"do a 'Continue'\",this._node.command(\"continue\")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n=\"fire breakpoint event\",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n=\"fire debugger statement event\",this._sendStoppedEvent(\"debugger_statement\")),this.log(\"la\",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command(\"threads\",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r=\"number\"==typeof t.startFrame?t.startFrame:0,o=\"number\"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,\"Unexpected thread reference {_thread}.\",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log(\"va\",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error(\"no stack\")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{\"no stack\"===t.message?\"pause\"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if(\"file:\"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if(\"number\"!=typeof o.id)throw new Error(\"no script id\");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint=\"deemphasize\"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log(\"sm\",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\\r\\n/g,\"\\n\"),t=(t=t.replace(/\\r\\n/g,\"\\n\")).replace(/^#!.*\\n/,\"\"),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log(\"ls\",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,\"utf8\",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,\"stack frame not valid\",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a=\"scopes\";this._nodeInjectionAvailable&&(a=\"vscode_scopes\",i.maxLocals=this._maxVariablesPerScope),this.log(\"va\",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&\"number\"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n=\"indexed\"===t.filter||\"named\"===t.filter?t.filter:\"all\";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if(\"number\"==typeof t.vscode_indexedCnt&&\"number\"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2(\"vscode_slice\",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if(\"name\"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case\"all\":o.push(e);break;case\"named\":w(t)||o.push(e);break;case\"indexed\":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&(\"all\"===n||\"named\"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&\"undefined\"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:\"obj\",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log(\"va\",\"_createPropertyVariables: trigger getter\"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,\"undefined\"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='\"\"');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case\"undefined\":case\"null\":return Promise.resolve(this._createVar(o,t,n.type));case\"string\":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case\"number\":if(\"number\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case\"boolean\":if(\"boolean\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case\"set\":case\"map\":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case\"object\":case\"function\":case\"regexp\":case\"promise\":case\"generator\":case\"error\":const i=n;let a=i.className;switch(a){case\"Array\":case\"ArrayBuffer\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":return this._createArrayVariable(e,t,n,r);case\"RegExp\":if(\"string\"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case\"Generator\":case\"Object\":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if(\"promise\"===n.type||\"generator\"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case\"Function\":case\"Error\":default:if(i.text){let e=i.text;if(e.indexOf(\"\\n\")>=0){const t=e.indexOf(\"{\");t>0&&(e=e.substring(0,t)+\"{", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "进程PID": "", "异常时间": "2021-03-06 06:00:32", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(22)},function(e,t,r){\"use strict\";const n=r(0),o=r(23),s=r(24),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const p=(r,i=!1)=>{let{isMatch:p,match:l,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:l,isMatch:p};return\"function\"==typeof n.onResult&&n.onResult(d),!1===p?(d.isMatch=!1,!!i&&d):c(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):(\"function\"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(p.state=u),p};a.test=(e,t,r,{glob:n,posix:o}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,p=c&&u?u(e):e;return!1===c&&(p=u?u(e):e,c=p===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(p)),{isMatch:!!c,match:c,output:p}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let o,i=t||{},u=i.contains?\"\":\"^\",c=i.contains?\"\":\"$\",p={negated:!1,fastpaths:!0},l=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),l=p.prefix=\"./\"),!1===i.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(p=a.parse(e,t),p.prefix=l+(p.prefix||\"\"),o=p.output),!0===r)return o;let f=`${u}(?:${o})${c}`;p&&!0===p.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=p),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){\"use strict\";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,b=0,x=0,S=!1,O=!1,m=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===l)for(H++;!L()&&(t=N());)if(t!==i)if(t!==l){if(!T&&t===u&&(t=N())===u){S=!0;break}if(!T&&t===a){S=!0;break}if(t===g&&(H--,0===H)){T=!1;break}}else H++;else O=!0,t=N();if(E!==p){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else O=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(v+1)===f){S=!0;break}if(E!==c||v!==b){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else O=!0,t=N();if(S)break}else m=!0,b++}else{if(r===u&&v===b+1){b+=2;continue}x=v+1}}else O=!0,t=N(),t===l&&(T=!0)}let w=\"\",I=e,$=e,k=\"\";return b>0&&(w=e.slice(0,b),e=e.slice(b),x-=b),$&&!0===S&&x>0?($=e.slice(0,x),k=e.slice(x)):!0===S?($=\"\",k=e):$=e,$&&\"\"!==$&&\"/\"!==$&&$!==e&&(e=>e===p||e===i)($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),$&&!0===O&&($=n.removeBackslashes($))),{prefix:w,input:I,base:$,glob:k,negated:m,isGlob:S}}},function(e,t,r){\"use strict\";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,p=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},l=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,d=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=c[e]||e;let r={...t},d=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:\"bos\",value:\"\",output:r.prepend||\"\"},g=[h],A=r.capture?\"\":\"?:\",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:b,ONE_CHAR:x,DOTS_SLASH:S,NO_DOT:O,NO_DOT_SLASH:m,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,I=e=>`(${A}(?:(?!${w}${e.dot?S:C}).)*?)`;let $=r.dot?\"\":O,k=!0===r.bash?I(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],F=[],K=h;const j=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||\"\"},Q=e=>{D[e]++,F.push(e)},W=e=>{D[e]--,F.pop()},X=e=>{if(\"globstar\"===K.type){let t=D.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(D.output=D.output.slice(0,-K.output.length),K.type=\"star\",K.value=\"*\",K.output=k,D.output+=K.output)}B.length&&\"paren\"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&q(e),K&&\"text\"===K.type&&\"text\"===e.type?K.value+=e.value:(e.prev=K,g.push(e),K=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:\"\"};n.prev=K,n.parens=D.parens,n.output=D.output;let o=(r.capture?\"(\":\"\")+n.open;X({type:e,value:t,output:D.output?\"\":x}),X({type:\"paren\",extglob:!0,value:G(),output:o}),Q(\"parens\"),B.push(n)},V=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(o=I(r)),(o!==k||j()||/^\\)+$/.test(e.slice(D.index+1)))&&(n=t.close=\")$))\"+o),\"bos\"===t.prev.type&&j()&&(D.negatedExtglob=!0)}X({type:\"paren\",extglob:!0,value:M,output:n}),W(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>\"\\\\\"===o?(t=!0,e):\"?\"===o?r?r+o+(s?T.repeat(s.length):\"\"):0===i?P+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===o?C.repeat(n.length):\"*\"===o?r?r+o+(s?k:\"\"):k:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),D.output=n,D}for(;!j();){if(M=G(),\"\\0\"===M)continue;if(\"\\\\\"===M){let t=U();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){M+=\"\\\\\",X({type:\"text\",value:M});continue}let n=/^\\\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+=\"\\\\\")),!0===r.unescape?M=G()||\"\":M+=G()||\"\",0===D.brackets){X({type:\"text\",value:M});continue}}if(D.brackets>0&&(\"]\"!==M||\"[\"===K.value||\"[^\"===K.value)){if(!1!==r.posix&&\":\"===M){let e=K.value.slice(1);if(e.includes(\"[\")&&(K.posix=!0,e.includes(\":\"))){let e=K.value.lastIndexOf(\"[\"),t=K.value.slice(0,e),r=K.value.slice(e+2),n=i[r];if(n){K.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(K)||(h.output=x);continue}}}(\"[\"===M&&\":\"!==U()||\"-\"===M&&\"]\"===U())&&(M=\"\\\\\"+M),\"]\"!==M||\"[\"!==K.value&&\"[^\"!==K.value||(M=\"\\\\\"+M),!0===r.posix&&\"!\"===M&&\"[\"===K.value&&(M=\"^\"),K.value+=M,q({value:M});continue}if(1===D.quotes&&'\"'!==M){M=n.escapeRegex(M),K.value+=M,q({value:M});continue}if('\"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:\"text\",value:M});continue}if(\"(\"===M){X({type:\"paren\",value:M}),Q(\"parens\");continue}if(\")\"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"(\"));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:\"paren\",value:M,output:D.parens?\")\":\"\\\\)\"}),W(\"parens\");continue}if(\"[\"===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes(\"]\"))Q(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));M=\"\\\\\"+M}X({type:\"bracket\",value:M});continue}if(\"]\"===M){if(!0===r.nobracket||K&&\"bracket\"===K.type&&1===K.value.length){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"[\"));X({type:\"text\",value:M,output:\"\\\\\"+M});continue}W(\"brackets\");let e=K.value.slice(1);if(!0===K.posix||\"^\"!==e[0]||e.includes(\"/\")||(M=\"/\"+M),K.value+=M,q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(K.value);if(D.output=D.output.slice(0,-K.value.length),!0===r.literalBrackets){D.output+=t,K.value=t;continue}K.value=`(${A}${t}|${K.value})`,D.output+=K.value;continue}if(\"{\"===M&&!0!==r.nobrace){X({type:\"brace\",value:M,output:\"(\"}),Q(\"braces\");continue}if(\"}\"===M){if(!0===r.nobrace||0===D.braces){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}let e=\")\";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=p(n,r),D.backtrack=!0}X({type:\"brace\",value:M,output:e}),W(\"braces\");continue}if(\"|\"===M){B.length>0&&B[B.length-1].conditions++,X({type:\"text\",value:M});continue}if(\",\"===M){let e=M;D.braces>0&&\"braces\"===F[F.length-1]&&(e=\"|\"),X({type:\"comma\",value:M,output:e});continue}if(\"/\"===M){if(\"dot\"===K.type&&1===D.index){D.start=D.index+1,D.consumed=\"\",D.output=\"\",g.pop(),K=h;continue}X({type:\"slash\",value:M,output:b});continue}if(\".\"===M){if(D.braces>0&&\"dot\"===K.type){\".\"===K.value&&(K.output=C),K.type=\"dots\",K.output+=M,K.value+=M,D.dots=!0;continue}X({type:\"dot\",value:M,output:C});continue}if(\"?\"===M){if(K&&\"paren\"===K.type){let e=U(),t=M;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===K.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(U(2)))&&(t=\"\\\\\"+M),X({type:\"text\",value:M,output:t});continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"qmark\",M);continue}if(!0!==r.dot&&(\"slash\"===K.type||\"bos\"===K.type)){X({type:\"qmark\",value:M,output:L});continue}X({type:\"qmark\",value:M,output:T});continue}if(\"!\"===M){if(!0!==r.noextglob&&\"(\"===U()&&(\"?\"!==U(2)||!/[!=<:]/.test(U(3)))){Z(\"negate\",M);continue}if(!0!==r.nonegate&&0===D.index){l(D);continue}}if(\"+\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"plus\",M);continue}if(K&&(\"bracket\"===K.type||\"paren\"===K.type||\"brace\"===K.type)){let e=!0===K.extglob?\"\\\\\"+M:M;X({type:\"plus\",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:\"plus\",value:M});continue}X({type:\"plus\",value:v});continue}if(\"@\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){X({type:\"at\",value:M,output:\"\"});continue}X({type:\"text\",value:M});continue}if(\"*\"!==M){\"$\"!==M&&\"^\"!==M||(M=\"\\\\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:\"text\",value:M});continue}if(K&&(\"globstar\"===K.type||!0===K.star)){K.type=\"star\",K.star=!0,K.value+=M,K.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"star\",M);continue}if(\"star\"===K.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=K.prev,n=t.prev,o=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!o||!j()&&\"/\"!==U())){X({type:\"star\",value:M,output:\"\"});continue}let i=D.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!o&&\"paren\"!==t.type&&!i&&!a){X({type:\"star\",value:M,output:\"\"});continue}for(;\"/**\"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&\"/\"!==t)break;D.consumed+=\"/**\",D.index+=3}if(\"bos\"===t.type&&j()){K.type=\"globstar\",K.value+=M,K.output=I(r),D.output=K.output,D.consumed+=M;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&j()){D.output=D.output.slice(0,-(t.output+K.output).length),t.output=\"(?:\"+t.output,K.type=\"globstar\",K.output=I(r)+\"|$)\",K.value+=M,D.output+=t.output+K.output,D.consumed+=M;continue}let u=U();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===u){let e=void 0!==U(2)?\"|$\":\"\";D.output=D.output.slice(0,-(t.output+K.output).length),t.output=\"(?:\"+t.output,K.type=\"globstar\",K.output=`${I(r)}${b}|${b}${e})`,K.value+=M,D.output+=t.output+K.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===u){K.type=\"globstar\",K.value+=M,K.output=`(?:^|${b}|${I(r)}${b})`,D.output=K.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}D.output=D.output.slice(0,-K.output.length),K.type=\"globstar\",K.output=I(r),K.value+=M,D.output+=K.output,D.consumed+=M;continue}let t={type:\"star\",value:M,output:k};!0!==r.bash?!K||\"bracket\"!==K.type&&\"paren\"!==K.type||!0!==r.regex?(D.index!==D.start&&\"slash\"!==K.type&&\"dot\"!==K.type||(\"dot\"===K.type?(D.output+=m,K.output+=m):!0===r.dot?(D.output+=H,K.output+=H):(D.output+=$,K.output+=$),\"*\"!==U()&&(D.output+=x,K.output+=x)),X(t)):(t.output=M,X(t)):(t.output=\".*?\",\"bos\"!==K.type&&\"slash\"!==K.type||(t.output=$+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));D.output=n.escapeLast(D.output,\"[\"),W(\"brackets\")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\")\"));D.output=n.escapeLast(D.output,\"(\"),W(\"parens\")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"}\"));D.output=n.escapeLast(D.output,\"{\"),W(\"braces\")}if(!0===r.strictSlashes||\"star\"!==K.type&&\"bracket\"!==K.type||X({type:\"maybe_slash\",value:\"\",output:`${b}?`}),!0===D.backtrack){D.output=\"\";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:p,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?\"\":\"?:\",y=!0===r.bash?\".*?\":A,C=r.dot?h:_,v=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${R}${e.dot?d:p}).)*?)`,x=e=>{switch(e){case\"*\":return`${C}${f}${y}`;case\".*\":return`${p}${f}${y}`;case\"*.*\":return`${C}${y}${p}${f}${y}`;case\"*/*\":return`${C}${y}${l}${f}${v}${y}`;case\"**\":return C+b(r);case\"**/*\":return`(?:${C}${b(r)}${l})?${v}${f}${y}`;case\"**/*.*\":return`(?:${C}${b(r)}${l})?${v}${y}${p}${f}${y}`;case\"**/.*\":return`(?:${C}${b(r)}${l})?${p}${f}${y}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+p+r[2]}}};let S=x(e);return S&&!0!==r.strictSlashes&&(S+=`${l}?`),S},e.exports=d},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set([\"mocha\",\"jest\",\"jest-cli\",\"ava\",\"tape\",\"tap\",\"ts-node\",\"babel-node\"]);t.knownToolToken=\"$KNOWN_TOOLS$\",t.knownToolGlob=`{${[...n].join(\",\")}}`},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=\":::\";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(28),logger_1=__webpack_require__(9);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to lack of IPC server\"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to invalid lease file\"),!1)},exports.checkNotElectron=()=>{try{return eval(\"window\"),logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling in Electron (window is set)\"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r=\"\";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||\"\").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to not matching pattern\",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&\"npm-cli.js\"===path_1.basename(e[1])&&\"prefix\"===e[2]&&\"-g\"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&\"node-gyp.js\"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.LeaseFile=void 0;const i=r(8),a=r(5),u=r(29),c=s(r(0));class p{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString(\"hex\")}`),this.file=a.promises.open(this.path,\"w\")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-p.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),p.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=p,p.updateInterval=1e3,p.recencyDeadline=2e3},function(e,t){e.exports=require(\"os\")},function(e,t){function r(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,\"watchdog.bundle.js\"),t.bootloaderDefaultPath=n.join(__dirname,\"bootloader.bundle.js\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createTargetId=void 0;const n=r(8);t.createTargetId=()=>n.randomBytes(12).toString(\"hex\")},function(e,t){e.exports=require(\"worker_threads\")}]);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js", "进程PID": "", "异常时间": "2021-03-06 06:00:32", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(371)},function(e,t,r){\"use strict\";const n=r(0),i=r(372),s=r(373),o=r(82),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):(\"function\"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let i,o=t||{},c=o.contains?\"\":\"^\",u=o.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=l.prefix=\"./\"),!1===o.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||\"\"),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(83),e.exports=a},function(e,t,r){\"use strict\";const n=r(82),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(83);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A=\"\",R=e,I=e,D=\"\";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I=\"\",D=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){\"use strict\";const n=r(82),i=r(83),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,h=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=u[e]||e;let r={...t},h=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},m=[g],y=r.capture?\"\":\"?:\",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?\"\":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||\"\"},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if(\"globstar\"===$.type){let t=F.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type=\"star\",$.value=\"*\",$.output=D,F.output+=$.output)}B.length&&\"paren\"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&\"text\"===$.type&&\"text\"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:\"\"};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?\"(\":\"\")+n.open;K({type:e,value:t,output:F.output?\"\":x}),K({type:\"paren\",extglob:!0,value:W(),output:i}),G(\"parens\"),B.push(n)},Q=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(i=R(r)),(i!==D||q()||/^\\)+$/.test(e.slice(F.index+1)))&&(n=t.close=\")$))\"+i),\"bos\"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:\"paren\",extglob:!0,value:N,output:n}),z(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>\"\\\\\"===i?(t=!0,e):\"?\"===i?r?r+i+(s?T.repeat(s.length):\"\"):0===o?L+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===i?_.repeat(n.length):\"*\"===i?r?r+i+(s?D:\"\"):D:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),F.output=n,F}for(;!q();){if(N=W(),\"\\0\"===N)continue;if(\"\\\\\"===N){let t=V();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){N+=\"\\\\\",K({type:\"text\",value:N});continue}let n=/^\\\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+=\"\\\\\")),!0===r.unescape?N=W()||\"\":N+=W()||\"\",0===F.brackets){K({type:\"text\",value:N});continue}}if(F.brackets>0&&(\"]\"!==N||\"[\"===$.value||\"[^\"===$.value)){if(!1!==r.posix&&\":\"===N){let e=$.value.slice(1);if(e.includes(\"[\")&&($.posix=!0,e.includes(\":\"))){let e=$.value.lastIndexOf(\"[\"),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}(\"[\"===N&&\":\"!==V()||\"-\"===N&&\"]\"===V())&&(N=\"\\\\\"+N),\"]\"!==N||\"[\"!==$.value&&\"[^\"!==$.value||(N=\"\\\\\"+N),!0===r.posix&&\"!\"===N&&\"[\"===$.value&&(N=\"^\"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'\"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('\"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:\"text\",value:N});continue}if(\"(\"===N){K({type:\"paren\",value:N}),G(\"parens\");continue}if(\")\"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"(\"));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:\"paren\",value:N,output:F.parens?\")\":\"\\\\)\"}),z(\"parens\");continue}if(\"[\"===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes(\"]\"))G(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));N=\"\\\\\"+N}K({type:\"bracket\",value:N});continue}if(\"]\"===N){if(!0===r.nobracket||$&&\"bracket\"===$.type&&1===$.value.length){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"[\"));K({type:\"text\",value:N,output:\"\\\\\"+N});continue}z(\"brackets\");let e=$.value.slice(1);if(!0===$.posix||\"^\"!==e[0]||e.includes(\"/\")||(N=\"/\"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if(\"{\"===N&&!0!==r.nobrace){K({type:\"brace\",value:N,output:\"(\"}),G(\"braces\");continue}if(\"}\"===N){if(!0===r.nobrace||0===F.braces){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}let e=\")\";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:\"brace\",value:N,output:e}),z(\"braces\");continue}if(\"|\"===N){B.length>0&&B[B.length-1].conditions++,K({type:\"text\",value:N});continue}if(\",\"===N){let e=N;F.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),K({type:\"comma\",value:N,output:e});continue}if(\"/\"===N){if(\"dot\"===$.type&&1===F.index){F.start=F.index+1,F.consumed=\"\",F.output=\"\",m.pop(),$=g;continue}K({type:\"slash\",value:N,output:k});continue}if(\".\"===N){if(F.braces>0&&\"dot\"===$.type){\".\"===$.value&&($.output=_),$.type=\"dots\",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:\"dot\",value:N,output:_});continue}if(\"?\"===N){if($&&\"paren\"===$.type){let e=V(),t=N;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===$.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(V(2)))&&(t=\"\\\\\"+N),K({type:\"text\",value:N,output:t});continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"qmark\",N);continue}if(!0!==r.dot&&(\"slash\"===$.type||\"bos\"===$.type)){K({type:\"qmark\",value:N,output:j});continue}K({type:\"qmark\",value:N,output:T});continue}if(\"!\"===N){if(!0!==r.noextglob&&\"(\"===V()&&(\"?\"!==V(2)||!/[!=<:]/.test(V(3)))){J(\"negate\",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if(\"+\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"plus\",N);continue}if($&&(\"bracket\"===$.type||\"paren\"===$.type||\"brace\"===$.type)){let e=!0===$.extglob?\"\\\\\"+N:N;K({type:\"plus\",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:\"plus\",value:N});continue}K({type:\"plus\",value:S});continue}if(\"@\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){K({type:\"at\",value:N,output:\"\"});continue}K({type:\"text\",value:N});continue}if(\"*\"!==N){\"$\"!==N&&\"^\"!==N||(N=\"\\\\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:\"text\",value:N});continue}if($&&(\"globstar\"===$.type||!0===$.star)){$.type=\"star\",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"star\",N);continue}if(\"star\"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!i||!q()&&\"/\"!==V())){K({type:\"star\",value:N,output:\"\"});continue}let o=F.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!i&&\"paren\"!==t.type&&!o&&!a){K({type:\"star\",value:N,output:\"\"});continue}for(;\"/**\"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&\"/\"!==t)break;F.consumed+=\"/**\",F.index+=3}if(\"bos\"===t.type&&q()){$.type=\"globstar\",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=R(r)+\"|$)\",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==V(2)?\"|$\":\"\";F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){$.type=\"globstar\",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}F.output=F.output.slice(0,-$.output.length),$.type=\"globstar\",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:\"star\",value:N,output:D};!0!==r.bash?!$||\"bracket\"!==$.type&&\"paren\"!==$.type||!0!==r.regex?(F.index!==F.start&&\"slash\"!==$.type&&\"dot\"!==$.type||(\"dot\"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),\"*\"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=\".*?\",\"bos\"!==$.type&&\"slash\"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));F.output=n.escapeLast(F.output,\"[\"),z(\"brackets\")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\")\"));F.output=n.escapeLast(F.output,\"(\"),z(\"parens\")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"}\"));F.output=n.escapeLast(F.output,\"{\"),z(\"braces\")}if(!0===r.strictSlashes||\"star\"!==$.type&&\"bracket\"!==$.type||K({type:\"maybe_slash\",value:\"\",output:`${k}?`}),!0===F.backtrack){F.output=\"\";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?\"\":\"?:\",w=!0===r.bash?\".*?\":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case\"*\":return`${_}${d}${w}`;case\".*\":return`${l}${d}${w}`;case\"*.*\":return`${_}${w}${l}${d}${w}`;case\"*/*\":return`${_}${w}${p}${d}${S}${w}`;case\"**\":return _+k(r);case\"**/*\":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case\"**/*.*\":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case\"**/.*\":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?\"variable\":\"property\",i=(e,t,i)=>{if(\"function\"!==t)return n;if(\"constructor\"===e)return\"class\";const s=String(i);return s.startsWith(\"class \")||s.includes(\"[native code]\")&&/^[A-Z]/.test(e)?\"class\":r?\"function\":\"method\"},s=[],o=new Set;let a=\"~\",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+=\"~\";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>\"{\".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(61),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,\"adapter/console/queryObjectsMessage.js\"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:\"stderr\",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:\"console\"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:\"stderr\",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:\"console\",generatePreview:!0})}catch(e){return{category:\"stderr\",output:u(2,null,e.message)}}const n=\"", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js", "进程PID": "", "异常时间": "2021-03-15 18:49:08", "所属用户": "root", "异常信息": "反弹shell类：`):n}function L(n){return typeof n.code==\"string\"&&typeof n.errno==\"number\"&&typeof n.syscall==\"string\"?S.localize(1,null,n.message):n.message||S.localize(2,null)}function h(n=null,D=!1){if(!n)return S.localize(3,null);if(Array.isArray(n)){const b=P.coalesce(n),I=h(b[0],D);return b.length>1?S.localize(4,null,I,b.length):I}if(d.isString(n))return n;if(n.detail){const b=n.detail;if(b.error)return y(b.error,D);if(b.exception)return y(b.exception,D)}return n.stack?y(n,D):n.message?n.message:S.localize(5,null)}e.toErrorMessage=h}),define(fe[135],he([9,10]),function(Q,e){return Q.create(\"vs/base/common/jsonErrorMessages\",e)}),define(fe[136],he([0,1,135]),function(Q,e,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getParseErrorMessage=void 0;function d(P){switch(P){case 1:return S.localize(0,null);case 2:return S.localize(1,null);case 3:return S.localize(2,null);case 4:return S.localize(3,null);case 5:return S.localize(4,null);case 6:return S.localize(5,null);case 7:return S.localize(6,null);case 8:return S.localize(7,null);case 9:return S.localize(8,null);default:return\"\"}}e.getParseErrorMessage=d}),define(fe[137],he([9,10]),function(Q,e){return Q.create(\"vs/base/node/processes\",e)}),define(fe[81],he([0,1,2,15,20,32,137,11,19,28,5,74,8]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function E(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(l,r){if(D.isWindows)try{const t={stdio:[\"pipe\",\"pipe\",\"ignore\"]};r&&(t.cwd=r);const i=y.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",l.pid.toString()],t);return new Promise(s=>{i.once(\"error\",c=>{s({success:!1,error:c})}),i.once(\"exit\",(c,o)=>{s(c===0?{success:!0}:{success:!1,code:c!==null?c:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?E(t.status):1})}else if(D.isLinux||D.isMacintosh)try{const t=I.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Q).fsPath;return new Promise(i=>{y.execFile(t,[l.pid.toString()],{encoding:\"utf8\",shell:!0},(s,c,o)=>{i(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else l.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function g(l=process.env){return l.comspec||\"cmd.exe\"}e.getWindowsShell=g;class _{constructor(r,t,i,s){if(t!==void 0&&i!==void 0&&s!==void 0)this.cmd=r,this.args=t,this.shell=i,this.options=s;else{const c=r;this.cmd=c.command,this.shell=c.isShellCommand,this.args=c.args.slice(0),this.options=c.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const c=Object.create(null);Object.keys(process.env).forEach(o=>{c[o]=process.env[o]}),Object.keys(this.options.env).forEach(o=>{c[o]=this.options.env[o]}),this.options.env=c}}getSanitizedCommand(){let r=this.cmd.toLowerCase();const t=r.lastIndexOf(S.sep);return t!==-1&&(r=r.substring(t+1)),_.WellKnowCommands[r]?r:\"other\"}start(r){return D.isWindows&&(this.options&&this.options.cwd&&n.isUNC(this.options.cwd)||!this.options&&n.isUNC(process.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(t=>{let i,s;const c=new Promise((o,m)=>{i=o,s=m});if(t){let o=this.cmd;this.args&&(o=o+\" \"+this.args.join(\" \")),this.childProcess=y.exec(o,this.options,(m,C,R)=>{this.childProcess=null;const v=m;v&&v.killed?s({killed:this.terminateRequested,stdout:C.toString(),stderr:R.toString()}):this.handleExec(i,r,m,C,R)})}else{let o=null;const m=C=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(C,i,r,s);const R={terminated:this.terminateRequested};L.isNumber(C)&&(R.cmdCode=C),i(R)};if(this.shell&&D.isWindows){const C=h.deepClone(this.options);C.windowsVerbatimArguments=!0,C.detached=!1;let R=!1,v=!1;const f=[];let T=this.ensureQuotes(this.cmd);f.push(T.value),R=T.quoted,this.args&&this.args.forEach(H=>{T=this.ensureQuotes(H),f.push(T.value),v=v&&T.quoted});const O=[\"/s\",\"/c\"];R?v?O.push('\"'+f.join(\" \")+'\"'):f.length>1?O.push('\"'+f[0]+'\" '+f.slice(1).join(\" \")):O.push('\"'+f[0]+'\"'):O.push(f.join(\" \")),o=y.spawn(g(),O,C)}else this.cmd&&(o=y.spawn(this.cmd,this.args,this.options));o&&(this.childProcess=o,this.childProcessPromise=Promise.resolve(o),this.pidResolve&&(this.pidResolve(L.isNumber(o.pid)?o.pid:-1),this.pidResolve=void 0),o.on(\"error\",C=>{this.childProcess=null,s({terminated:this.terminateRequested,error:C})}),o.pid&&(this.childProcess.on(\"close\",m),this.handleSpawn(o,i,r,s,!0)))}return c})}handleClose(r,t,i,s){}ensureQuotes(r){return _.regexp.test(r)?{value:'\"'+r+'\"',quoted:!0}:{value:r,quoted:r.length>0&&r[0]==='\"'&&r[r.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(r=>r.pid,r=>-1):new Promise(r=>{this.pidResolve=r})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(r=>(this.terminateRequested=!0,u(r,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),r=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(r=>{if(!this.shell||!D.isWindows)return r(!1);const t=y.spawn(g(),[\"/s\",\"/c\"]);t.on(\"error\",i=>r(!0)),t.on(\"exit\",i=>r(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^\"].* .*[^\"]/;class p extends _{constructor(r,t,i,s){super(r,t,i,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(r,t,i,s,c){[s,c].forEach((o,m)=>{const C=new b.LineDecoder;C.write(o).forEach(f=>{t({line:f,source:m===0?0:1})});const v=C.end();v&&t({line:v,source:m===0?0:1})}),r({terminated:this.terminateRequested,error:i})}handleSpawn(r,t,i,s,c){const o=new b.LineDecoder,m=new b.LineDecoder;r.stdout.on(\"data\",C=>{o.write(C).forEach(v=>i({line:v,source:0}))}),r.stderr.on(\"data\",C=>{m.write(C).forEach(v=>i({line:v,source:1}))}),this.stdoutLineDecoder=o,this.stderrLineDecoder=m}handleClose(r,t,i,s){const c=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;c&&i({line:c,source:0});const o=this.stderrLineDecoder?this.stderrLineDecoder.end():null;o&&i({line:o,source:1})}}e.LineProcess=p;function w(l){let r=[],t=!1;const i=function(s){if(t){r.push(s);return}(!l.send(s,o=>{if(o&&console.error(o),t=!1,r.length>0){const m=r.slice(0);r=[],m.forEach(C=>i(C))}})||D.isWindows)&&(t=!0)};return{send:i}}e.createQueuedSender=w;var a;(function(l){async function r(t,i,s){if(S.isAbsolute(t))return t;if(i===void 0&&(i=process.cwd()),S.dirname(t)!==\".\"||(s===void 0&&L.isString(process.env.PATH)&&(s=process.env.PATH.split(S.delimiter)),s===void 0||s.length===0))return S.join(i,t);async function o(m){return await P.exists(m)?!(await d.promises.stat(m)).isDirectory():!1}for(let m of s){let C;if(S.isAbsolute(m)?C=S.join(m,t):C=S.join(i,m,t),await o(C))return C;let R=C+\".com\";if(await o(R)||(R=C+\".exe\",await o(R)))return R}return S.join(i,t)}l.findExecutable=r})(a=e.win32||(e.win32={}))}),define(fe[82],he([0,1,22,5,124,81]),function(Q,e,S,d,P,y){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(E,u=process.env){return E===3?d.isWindows?b():y.getWindowsShell(u):n(E,u)}e.getSystemShell=k;function L(E,u=process.env){return E===3?d.isWindows?I(u):y.getWindowsShell(u):n(E,u)}e.getSystemShellSync=L;let h=null;function n(E,u){if(d.isLinux&&E===1||d.isMacintosh&&E===2)return\"/bin/bash\";if(!h){let g;if(d.isWindows)g=\"/bin/bash\";else{if(g=u.SHELL,!g)try{g=S.userInfo().shell}catch(_){}g||(g=\"sh\"),g===\"/bin/false\"&&(g=\"/bin/bash\")}h=g}return h}let D=null;async function b(){return D||(D=(await P.getFirstAvailablePowerShellInstallation()).exePath),D}function I(E){if(D)return D;const u=d.isWindows&&parseFloat(S.release())>=10,g=E.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),_=`${E.windir}\\\\${g?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return u?_:y.getWindowsShell(E)}}),define(fe[83],he([0,1,32,4,13,19,6,81,37,115,27,12,18,5]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Client=e.Server=void 0;class u extends h.ChannelServer{constructor(p){super({send:w=>{try{process.send&&process.send(w.buffer.toString(\"base64\"))}catch(a){}},onMessage:k.Event.fromNodeEventEmitter(process,\"message\",w=>I.VSBuffer.wrap(Buffer.from(w,\"base64\")))},p);process.once(\"disconnect\",()=>this.dispose())}}e.Server=u;class g{constructor(p,w){this.modulePath=p,this.options=w,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const a=w&&w.timeout?w.timeout:6e4;this.disposeDelayer=new P.Delayer(a),this.child=null,this._client=null}getChannel(p){const w=this;return{call(a,l,r){return w.requestPromise(p,a,l,r)},listen(a,l){return w.requestEvent(p,a,l)}}}requestPromise(p,w,a,l=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error(\"disposed\"));if(l.isCancellationRequested)return Promise.reject(b.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(p),t=P.createCancelablePromise(c=>r.call(w,a,c)),i=l.onCancellationRequested(()=>t.cancel()),s=d.toDisposable(()=>t.cancel());return this.activeRequests.add(s),t.finally(()=>{i.dispose(),this.activeRequests.delete(s),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(p,w,a){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let l;const r=new k.Emitter({onFirstListenerAdd:()=>{l=this.getCachedChannel(p).listen(w,a)(r.fire,r),this.activeRequests.add(l)},onLastListenerRemove:()=>{this.activeRequests.delete(l),l.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const p=this.options&&this.options.args?this.options.args:[],w=Object.create(null);w.env=Object.assign(Object.assign({},y.deepClone(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(w.env=Object.assign(Object.assign({},w.env),this.options.env)),this.options&&this.options.freshExecArgv&&(w.execArgv=[]),this.options&&typeof this.options.debug==\"number\"&&(w.execArgv=[\"--nolazy\",\"--inspect=\"+this.options.debug]),this.options&&typeof this.options.debugBrk==\"number\"&&(w.execArgv=[\"--nolazy\",\"--inspect-brk=\"+this.options.debugBrk]),w.execArgv===void 0&&(w.execArgv=process.execArgv.filter(o=>!/^--inspect(-brk)?=/.test(o))),E.isMacintosh&&w.env&&delete w.env.DYLD_LIBRARY_PATH,this.child=S.fork(this.modulePath,p,w);const a=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,\"message\",o=>o)(o=>{if(n.isRemoteConsoleLog(o)){n.log(o,`IPC Library: ${this.options.serverName}`);return}a.fire(I.VSBuffer.wrap(Buffer.from(o,\"base64\")))});const r=this.options.useQueue?L.createQueuedSender(this.child):this.child,t=o=>this.child&&this.child.connected&&r.send(o.buffer.toString(\"base64\")),i=a.event,s={send:t,onMessage:i};this._client=new h.ChannelClient(s);const c=()=>this.disposeClient();process.once(\"exit\",c),this.child.on(\"error\",o=>console.warn('IPC \"'+this.options.serverName+'\" errored with '+o)),this.child.on(\"exit\",(o,m)=>{process.removeListener(\"exit\",c),this.activeRequests.forEach(C=>d.dispose(C)),this.activeRequests.clear(),o!==0&&m!==\"SIGTERM\"&&console.warn('IPC \"'+this.options.serverName+'\" crashed with exit code '+o+\" and signal \"+m),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:o,signal:m})})}return this._client}getCachedChannel(p){let w=this.channels.get(p);return w||(w=this.client.getChannel(p),this.channels.set(p,w)),w}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=g}),define(fe[138],he([9,10]),function(Q,e){return Q.create(\"vs/base/node/zip\",e)}),define(fe[139],he([9,10]),function(Q,e){return Q.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(fe[140],he([9,10]),function(Q,e){return Q.create(\"vs/platform/environment/node/argv\",e)}),define(fe[141],he([9,10]),function(Q,e){return Q.create(\"vs/platform/environment/node/argvHelper\",e)}),define(fe[142],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(fe[143],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagementCLIService\",e)}),define(fe[144],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionManagementService\",e)}),define(fe[145],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionManagementUtil\",e)}),define(fe[146],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/node/extensionsScanner\",e)}),define(fe[147],he([9,10]),function(Q,e){return Q.create(\"vs/platform/extensions/common/extensionValidator\",e)}),define(fe[148],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/fileService\",e)}),define(fe[149],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/files\",e)}),define(fe[150],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/common/io\",e)}),define(fe[151],he([9,10]),function(Q,e){return Q.create(\"vs/platform/files/node/diskFileSystemProvider\",e)}),define(fe[152],he([9,10]),function(Q,e){return Q.create(\"vs/platform/markers/common/markers\",e)}),define(fe[153],he([9,10]),function(Q,e){return Q.create(\"vs/platform/request/common/request\",e)}),define(fe[154],he([9,10]),function(Q,e){return Q.create(\"vs/platform/telemetry/common/telemetryService\",e)}),define(fe[155],he([9,10]),function(Q,e){return Q.create(\"vs/platform/terminal/node/terminalProcess\",e)}),define(fe[156],he([9,10]),function(Q,e){return Q.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(fe[157],he([9,10]),function(Q,e){return Q.create(\"vs/server/remoteAgentEnvironmentImpl\",e)}),define(fe[158],he([9,10]),function(Q,e){return Q.create(\"vs/server/serverEnvironmentService\",e)}),define(fe[159],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/common/editor\",e)}),define(fe[160],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/contrib/terminal/common/terminal\",e)}),define(fe[161],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(fe[162],he([9,10]),function(Q,e){return Q.create(\"vs/workbench/services/extensions/node/extensionPoints\",e)}),define(fe[163],he([0,1,6,4]),function(Q,e,S,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class P{constructor(){this._onCloseEmitter=new S.Emitter,this._onReloadEmitter=new S.Emitter,this._onTerminateEmitter=new S.Emitter,this._onAttachEmitter=new S.Emitter}call(L,h,n){switch(h){case\"close\":return Promise.resolve(this._onCloseEmitter.fire({sessionId:n[0]}));case\"reload\":return Promise.resolve(this._onReloadEmitter.fire({sessionId:n[0]}));case\"terminate\":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:n[0]}));case\"attach\":return Promise.resolve(this._onAttachEmitter.fire({sessionId:n[0],port:n[1],subId:n[2]}))}throw new Error(\"Method not implemented.\")}listen(L,h,n){switch(h){case\"close\":return this._onCloseEmitter.event;case\"reload\":return this._onReloadEmitter.event;case\"terminate\":return this._onTerminateEmitter.event;case\"attach\":return this._onAttachEmitter.event}throw new Error(\"Method not implemented.\")}}e.ExtensionHostDebugBroadcastChannel=P,P.ChannelName=\"extensionhostdebugservice\";class y extends d.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call(\"reload\",[L])}get onReload(){return this.channel.listen(\"reload\")}close(L){this.channel.call(\"close\",[L])}get onClose(){return this.channel.listen(\"close\")}attachSession(L,h,n){this.channel.call(\"attach\",[L,h,n])}get onAttachSession(){return this.channel.listen(\"attach\")}terminateSession(L,h){this.channel.call(\"terminate\",[L,h])}get onTerminateSession(){return this.channel.listen(\"terminate\")}openExtensionDevelopmentHostWindow(L,h,n){return this.channel.call(\"openExtensionDevelopmentHostWindow\",[L,h,n])}}e.ExtensionHostDebugChannelClient=y}),define(fe[164],he([0,1,3]),function(Q,e,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class d{constructor(k){this.service=k}listen(k,L,h){throw new Error(\"Invalid listen\")}call(k,L,h){switch(L){case\"download\":return this.service.download(S.URI.revive(h[0]),S.URI.revive(h[1]))}throw new Error(\"Invalid call\")}}e.DownloadServiceChannel=d;class P{constructor(k,L){this.channel=k,this.getUriTransformer=L}async download(k,L){const h=this.getUriTransformer();h&&(k=h.transformOutgoingURI(k),L=h.transformOutgoingURI(L)),await this.channel.call(\"download\",[k,L])}}e.DownloadServiceChannelClient=P}),define(fe[165],he([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var S;(function(k){k[k.ACTIVATE=0]=\"ACTIVATE\",k[k.RESTORE=1]=\"RESTORE\",k[k.PRESERVE=2]=\"PRESERVE\"})(S=e.EditorActivation||(e.EditorActivation={}));var d;(function(k){k[k.PICK=1]=\"PICK\",k[k.DISABLED=2]=\"DISABLED\"})(d=e.EditorOverride||(e.EditorOverride={}));var P;(function(k){k[k.API=0]=\"API\",k[k.USER=1]=\"USER\"})(P=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(k){k[k.Center=0]=\"Center\",k[k.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",k[k.NearTop=2]=\"NearTop\",k[k.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(fe[56],he([0,1,234,140,5]),function(Q,e,S,d,P){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:d.localize(0,null),e:d.localize(1,null),t:d.localize(2,null)};e.OPTIONS={diff:{type:\"boolean\",cat:\"o\",alias:\"d\",args:[\"file\",\"file\"],description:d.localize(3,null)},add:{type:\"boolean\",cat:\"o\",alias:\"a\",args:\"folder\",description:d.localize(4,null)},goto:{type:\"boolean\",cat:\"o\",alias:\"g\",args:\"file:line[:character]\",description:d.localize(5,null)},\"new-window\":{type:\"boolean\",cat:\"o\",alias:\"n\",description:d.localize(6,null)},\"reuse-window\":{type:\"boolean\",cat:\"o\",alias:\"r\",description:d.localize(7,null)},wait:{type:\"boolean\",cat:\"o\",alias:\"w\",description:d.localize(8,null)},waitMarkerFilePath:{type:\"string\"},locale:{type:\"string\",cat:\"o\",args:\"locale\",description:d.localize(9,null)},\"user-data-dir\":{type:\"string\",cat:\"o\",args:\"dir\",description:d.localize(10,null)},help:{type:\"boolean\",cat:\"o\",alias:\"h\",description:d.localize(11,null)},\"extensions-dir\":{type:\"string\",deprecates:\"extensionHomePath\",cat:\"e\",args:\"dir\",description:d.localize(12,null)},\"extensions-download-dir\":{type:\"string\"},\"builtin-extensions-dir\":{type:\"string\"},\"list-extensions\":{type:\"boolean\",cat:\"e\",description:d.localize(13,null)},\"show-versions\":{type:\"boolean\",cat:\"e\",description:d.localize(14,null)},category:{type:\"string\",cat:\"e\",description:d.localize(15,null)},\"install-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id[@version] | path-to-vsix\",description:d.localize(16,null)},\"uninstall-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:d.localize(17,null)},\"enable-proposed-api\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:d.localize(18,null)},version:{type:\"boolean\",cat:\"t\",alias:\"v\",description:d.localize(19,null)},verbose:{type:\"boolean\",cat:\"t\",description:d.localize(20,null)},log:{type:\"string\",cat:\"t\",args:\"level\",description:d.localize(21,null)},status:{type:\"boolean\",alias:\"s\",cat:\"t\",description:d.localize(22,null)},\"prof-startup\":{type:\"boolean\",cat:\"t\",description:d.localize(23,null)},\"prof-append-timers\":{type:\"string\"},\"prof-startup-prefix\":{type:\"string\"},\"prof-v8-extensions\":{type:\"boolean\"},\"disable-extensions\":{type:\"boolean\",deprecates:\"disableExtensions\",cat:\"t\",description:d.localize(24,null)},\"disable-extension\":{type:\"string[]\",cat:\"t\",args:\"extension-id\",description:d.localize(25,null)},sync:{type:\"string\",cat:\"t\",description:d.localize(26,null),args:[\"on\",\"off\"]},\"inspect-extensions\":{type:\"string\",deprecates:\"debugPluginHost\",args:\"port\",cat:\"t\",description:d.localize(27,null)},\"inspect-brk-extensions\":{type:\"string\",deprecates:\"debugBrkPluginHost\",args:\"port\",cat:\"t\",description:d.localize(28,null)},\"disable-gpu\":{type:\"boolean\",cat:\"t\",description:d.localize(29,null)},\"max-memory\":{type:\"string\",cat:\"t\",description:d.localize(30,null)},telemetry:{type:\"boolean\",cat:\"t\",description:d.localize(31,null)},remote:{type:\"string\"},\"folder-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"file-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"locate-extension\":{type:\"string[]\"},extensionDevelopmentPath:{type:\"string[]\"},extensionTestsPath:{type:\"string\"},debugId:{type:\"string\"},debugRenderer:{type:\"boolean\"},\"inspect-search\":{type:\"string\",deprecates:\"debugSearch\"},\"inspect-brk-search\":{type:\"string\",deprecates:\"debugBrkSearch\"},\"export-default-configuration\":{type:\"string\"},\"install-source\":{type:\"string\"},driver:{type:\"string\"},logExtensionHostCommunication:{type:\"boolean\"},\"skip-release-notes\":{type:\"boolean\"},\"disable-telemetry\":{type:\"boolean\"},\"disable-updates\":{type:\"boolean\"},\"disable-keytar\":{type:\"boolean\"},\"disable-crash-reporter\":{type:\"boolean\"},\"crash-reporter-directory\":{type:\"string\"},\"crash-reporter-id\":{type:\"string\"},\"skip-add-to-recently-opened\":{type:\"boolean\"},\"unity-launch\":{type:\"boolean\"},\"open-url\":{type:\"boolean\"},\"file-write\":{type:\"boolean\"},\"file-chmod\":{type:\"boolean\"},\"driver-verbose\":{type:\"boolean\"},\"install-builtin-extension\":{type:\"string[]\"},force:{type:\"boolean\"},\"do-not-sync\":{type:\"boolean\"},trace:{type:\"boolean\"},\"trace-category-filter\":{type:\"string\"},\"trace-options\":{type:\"string\"},\"force-user-env\":{type:\"boolean\"},\"force-disable-user-env\":{type:\"boolean\"},\"open-devtools\":{type:\"boolean\"},__sandbox:{type:\"boolean\"},logsPath:{type:\"string\"},\"no-proxy-server\":{type:\"boolean\"},\"proxy-server\":{type:\"string\"},\"proxy-bypass-list\":{type:\"string\"},\"proxy-pac-url\":{type:\"string\"},\"js-flags\":{type:\"string\"},inspect:{type:\"string\"},\"inspect-brk\":{type:\"string\"},nolazy:{type:\"boolean\"},\"force-device-scale-factor\":{type:\"string\"},\"force-renderer-accessibility\":{type:\"boolean\"},\"ignore-certificate-errors\":{type:\"boolean\"},\"allow-insecure-localhost\":{type:\"boolean\"},\"log-net-log\":{type:\"string\"},_urls:{type:\"string[]\"},_:{type:\"string[]\"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(u,g,_=k){const p={},w=[],a=[];for(let i in g){const s=g[i];s.alias&&(p[i]=s.alias),s.type===\"string\"||s.type===\"string[]\"?(w.push(i),s.deprecates&&w.push(s.deprecates)):s.type===\"boolean\"&&(a.push(i),s.deprecates&&a.push(s.deprecates))}const l=S(u,{string:w,boolean:a,alias:p}),r={},t=l;r._=l._.map(i=>String(i)).filter(i=>i.length>0),delete t._;for(let i in g){const s=g[i];s.alias&&delete t[s.alias];let c=t[i];s.deprecates&&t.hasOwnProperty(s.deprecates)&&(c||(c=t[s.deprecates]),delete t[s.deprecates]),typeof c!=\"undefined\"&&(s.type===\"string[]\"?c&&!Array.isArray(c)&&(c=[c]):s.type===\"string\"&&Array.isArray(c)&&(c=c.pop(),_.onMultipleValues(i,c)),r[i]=c),delete t[i]}for(let i in t)_.onUnknownOption(i);return r}e.parseArgs=L;function h(u,g){let _=\"\";return g.args&&(Array.isArray(g.args)?_=` <${g.args.join(\"> <\")}>`:_=` <${g.args}>`),g.alias?`-${g.alias} --${u}${_}`:`--${u}${_}`}function n(u,g){let _=0,p=[];for(const r in u){const t=u[r],i=h(r,t);_=Math.max(_,i.length),p.push([i,t.description])}let w=_+2+1;if(g-w<25)return p.reduce((r,t)=>r.concat([` ${t[0]}`,` ${t[1]}`]),[]);let a=g-w-1,l=[];for(const r of p){let t=r[0],i=b(r[1],a),s=D(w-t.length-2);l.push(\" \"+t+s+i[0]);for(let c=1;c<i.length;c++)l.push(D(w)+i[c])}return l}e.formatOptions=n;function D(u){return\" \".repeat(u)}function b(u,g){let _=[];for(;u.length;){let p=u.length<g?u.length:u.lastIndexOf(\" \",g),w=u.slice(0,p).trim();u=u.slice(p),_.push(w)}return _}function I(u,g,_,p,w=!0){const a=process.stdout.isTTY&&process.stdout.columns||80;let l=[`${u} ${_}`];l.push(\"\"),l.push(`${d.localize(32,null)}: ${g} [${d.localize(33,null)}][${d.localize(34,null)}...]`),l.push(\"\"),w&&(P.isWindows?l.push(d.localize(35,null,g)):l.push(d.localize(36,null,g)),l.push(\"\"));const r={};for(const t in p){const i=p[t];if(i.description&&i.cat){let s=r[i.cat];s||(r[i.cat]=s={}),s[t]=i}}for(let t in r){const i=t;let s=r[i];s&&(l.push(y[i]),l.push(...n(s,a)),l.push(\"\"))}return l.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js", "进程PID": "", "异常时间": "2021-03-15 18:49:08", "所属用户": "root", "异常信息": "反弹shell类：`):i}function I(i){return typeof i.code==\"string\"&&typeof i.errno==\"number\"&&typeof i.syscall==\"string\"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function y(i=null,T=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const k=R.coalesce(i),g=y(k[0],T);return k.length>1?v.localize(4,null,g,k.length):g}if(D.isString(i))return i;if(i.detail){const k=i.detail;if(k.error)return P(k.error,T);if(k.exception)return P(k.exception,T)}return i.stack?P(i,T):i.message?i.message:v.localize(5,null)}e.toErrorMessage=y}),define(ge[145],pe([17,18]),function(Q,e){return Q.create(\"vs/base/node/processes\",e)}),define(ge[79],pe([0,1,7,29,24,35,145,16,23,31,9,133,13]),function(Q,e,v,D,R,P,C,I,y,i,T,k,g){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function f(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(c,u){if(T.isWindows)try{const t={stdio:[\"pipe\",\"pipe\",\"ignore\"]};u&&(t.cwd=u);const r=P.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",c.pid.toString()],t);return new Promise(s=>{r.once(\"error\",a=>{s({success:!1,error:a})}),r.once(\"exit\",(a,n)=>{s(a===0?{success:!0}:{success:!1,code:a!==null?a:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?f(t.status):1})}else if(T.isLinux||T.isMacintosh)try{const t=g.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Q).fsPath;return new Promise(r=>{P.execFile(t,[c.pid.toString()],{encoding:\"utf8\",shell:!0},(s,a,n)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else c.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function m(c=process.env){return c.comspec||\"cmd.exe\"}e.getWindowsShell=m;class S{constructor(u,t,r,s){if(t!==void 0&&r!==void 0&&s!==void 0)this.cmd=u,this.args=t,this.shell=r,this.options=s;else{const a=u;this.cmd=a.command,this.shell=a.isShellCommand,this.args=a.args.slice(0),this.options=a.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const a=Object.create(null);Object.keys(process.env).forEach(n=>{a[n]=process.env[n]}),Object.keys(this.options.env).forEach(n=>{a[n]=this.options.env[n]}),this.options.env=a}}getSanitizedCommand(){let u=this.cmd.toLowerCase();const t=u.lastIndexOf(v.sep);return t!==-1&&(u=u.substring(t+1)),S.WellKnowCommands[u]?u:\"other\"}start(u){return T.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(process.cwd()))?Promise.reject(new Error(C.localize(0,null))):this.useExec().then(t=>{let r,s;const a=new Promise((n,d)=>{r=n,s=d});if(t){let n=this.cmd;this.args&&(n=n+\" \"+this.args.join(\" \")),this.childProcess=P.exec(n,this.options,(d,b,E)=>{this.childProcess=null;const h=d;h&&h.killed?s({killed:this.terminateRequested,stdout:b.toString(),stderr:E.toString()}):this.handleExec(r,u,d,b,E)})}else{let n=null;const d=b=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(b,r,u,s);const E={terminated:this.terminateRequested};I.isNumber(b)&&(E.cmdCode=b),r(E)};if(this.shell&&T.isWindows){const b=y.deepClone(this.options);b.windowsVerbatimArguments=!0,b.detached=!1;let E=!1,h=!1;const _=[];let A=this.ensureQuotes(this.cmd);_.push(A.value),E=A.quoted,this.args&&this.args.forEach(M=>{A=this.ensureQuotes(M),_.push(A.value),h=h&&A.quoted});const L=[\"/s\",\"/c\"];E?h?L.push('\"'+_.join(\" \")+'\"'):_.length>1?L.push('\"'+_[0]+'\" '+_.slice(1).join(\" \")):L.push('\"'+_[0]+'\"'):L.push(_.join(\" \")),n=P.spawn(m(),L,b)}else this.cmd&&(n=P.spawn(this.cmd,this.args,this.options));n&&(this.childProcess=n,this.childProcessPromise=Promise.resolve(n),this.pidResolve&&(this.pidResolve(I.isNumber(n.pid)?n.pid:-1),this.pidResolve=void 0),n.on(\"error\",b=>{this.childProcess=null,s({terminated:this.terminateRequested,error:b})}),n.pid&&(this.childProcess.on(\"close\",d),this.handleSpawn(n,r,u,s,!0)))}return a})}handleClose(u,t,r,s){}ensureQuotes(u){return S.regexp.test(u)?{value:'\"'+u+'\"',quoted:!0}:{value:u,quoted:u.length>0&&u[0]==='\"'&&u[u.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(u=>u.pid,u=>-1):new Promise(u=>{this.pidResolve=u})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(u=>(this.terminateRequested=!0,l(u,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),u=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(u=>{if(!this.shell||!T.isWindows)return u(!1);const t=P.spawn(m(),[\"/s\",\"/c\"]);t.on(\"error\",r=>u(!0)),t.on(\"exit\",r=>u(!1))})}}e.AbstractProcess=S,S.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},S.regexp=/^[^\"].* .*[^\"]/;class w extends S{constructor(u,t,r,s){super(u,t,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(u,t,r,s,a){[s,a].forEach((n,d)=>{const b=new k.LineDecoder;b.write(n).forEach(_=>{t({line:_,source:d===0?0:1})});const h=b.end();h&&t({line:h,source:d===0?0:1})}),u({terminated:this.terminateRequested,error:r})}handleSpawn(u,t,r,s,a){const n=new k.LineDecoder,d=new k.LineDecoder;u.stdout.on(\"data\",b=>{n.write(b).forEach(h=>r({line:h,source:0}))}),u.stderr.on(\"data\",b=>{d.write(b).forEach(h=>r({line:h,source:1}))}),this.stdoutLineDecoder=n,this.stderrLineDecoder=d}handleClose(u,t,r,s){const a=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;a&&r({line:a,source:0});const n=this.stderrLineDecoder?this.stderrLineDecoder.end():null;n&&r({line:n,source:1})}}e.LineProcess=w;function p(c){let u=[],t=!1;const r=function(s){if(t){u.push(s);return}(!c.send(s,n=>{if(n&&console.error(n),t=!1,u.length>0){const d=u.slice(0);u=[],d.forEach(b=>r(b))}})||T.isWindows)&&(t=!0)};return{send:r}}e.createQueuedSender=p;var o;(function(c){async function u(t,r,s){if(v.isAbsolute(t))return t;if(r===void 0&&(r=process.cwd()),v.dirname(t)!==\".\"||(s===void 0&&I.isString(process.env.PATH)&&(s=process.env.PATH.split(v.delimiter)),s===void 0||s.length===0))return v.join(r,t);async function n(d){return await R.exists(d)?!(await D.promises.stat(d)).isDirectory():!1}for(let d of s){let b;if(v.isAbsolute(d)?b=v.join(d,t):b=v.join(r,d,t),await n(b))return b;let E=b+\".com\";if(await n(E)||(E=b+\".exe\",await n(E)))return E}return v.join(r,t)}c.findExecutable=u})(o=e.win32||(e.win32={}))}),define(ge[146],pe([0,1,39,9,99,79]),function(Q,e,v,D,R,P){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function C(f,l=process.env){return f===3?D.isWindows?k():P.getWindowsShell(l):i(f,l)}e.getSystemShell=C;function I(f,l=process.env){return f===3?D.isWindows?g(l):P.getWindowsShell(l):i(f,l)}e.getSystemShellSync=I;let y=null;function i(f,l){if(D.isLinux&&f===1||D.isMacintosh&&f===2)return\"/bin/bash\";if(!y){let m;if(D.isWindows)m=\"/bin/bash\";else{if(m=l.SHELL,!m)try{m=v.userInfo().shell}catch(S){}m||(m=\"sh\"),m===\"/bin/false\"&&(m=\"/bin/bash\")}y=m}return y}let T=null;async function k(){return T||(T=(await R.getFirstAvailablePowerShellInstallation()).exePath),T}function g(f){if(T)return T;const l=D.isWindows&&parseFloat(v.release())>=10,m=f.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),S=`${f.windir}\\\\${m?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return l?S:P.getWindowsShell(f)}}),define(ge[147],pe([17,18]),function(Q,e){return Q.create(\"vs/editor/common/config/editorOptions\",e)}),define(ge[148],pe([0,1,147,9,104]),function(Q,e,v,D,R){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var P;(function(X){X[X.None=0]=\"None\",X[X.Keep=1]=\"Keep\",X[X.Brackets=2]=\"Brackets\",X[X.Advanced=3]=\"Advanced\",X[X.Full=4]=\"Full\"})(P=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ne){this._values=ne}hasChanged(ne){return this._values[ne]}}e.ConfigurationChangedEvent=C;class I{constructor(){this._values=[]}_read(ne){return this._values[ne]}get(ne){return this._values[ne]}_write(ne,_e){this._values[ne]=_e}}e.ValidatedEditorOptions=I;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class i{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}compute(ne,_e,Ne){return Ne}}class T{constructor(ne,_e=null){this.schema=void 0,this.id=ne,this.name=\"_never_\",this.defaultValue=void 0,this.deps=_e}validate(ne){return this.defaultValue}}class k{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}validate(ne){return typeof ne==\"undefined\"?this.defaultValue:ne}compute(ne,_e,Ne){return Ne}}function g(X,ne){return typeof X==\"undefined\"?ne:X===\"false\"?!1:Boolean(X)}e.boolean=g;class f extends k{constructor(ne,_e,Ne,Be=void 0){typeof Be!=\"undefined\"&&(Be.type=\"boolean\",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return g(ne,this.defaultValue)}}class l extends k{constructor(ne,_e,Ne,Be,We,Je=void 0){typeof Je!=\"undefined\"&&(Je.type=\"integer\",Je.default=Ne,Je.minimum=Be,Je.maximum=We),super(ne,_e,Ne,Je),this.minimum=Be,this.maximum=We}static clampedInt(ne,_e,Ne,Be){if(typeof ne==\"undefined\")return _e;let We=parseInt(ne,10);return isNaN(We)?_e:(We=Math.max(Ne,We),We=Math.min(Be,We),We|0)}validate(ne){return l.clampedInt(ne,this.defaultValue,this.minimum,this.maximum)}}class m extends k{constructor(ne,_e,Ne,Be,We){typeof We!=\"undefined\"&&(We.type=\"number\",We.default=Ne),super(ne,_e,Ne,We),this.validationFn=Be}static clamp(ne,_e,Ne){return ne<_e?_e:ne>Ne?Ne:ne}static float(ne,_e){if(typeof ne==\"number\")return ne;if(typeof ne==\"undefined\")return _e;const Ne=parseFloat(ne);return isNaN(Ne)?_e:Ne}validate(ne){return this.validationFn(m.float(ne,this.defaultValue))}}class S extends k{static string(ne,_e){return typeof ne!=\"string\"?_e:ne}constructor(ne,_e,Ne,Be=void 0){typeof Be!=\"undefined\"&&(Be.type=\"string\",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return S.string(ne,this.defaultValue)}}function w(X,ne,_e){return typeof X!=\"string\"||_e.indexOf(X)===-1?ne:X}e.stringSet=w;class p extends k{constructor(ne,_e,Ne,Be,We=void 0){typeof We!=\"undefined\"&&(We.type=\"string\",We.enum=Be,We.default=Ne),super(ne,_e,Ne,We),this._allowedValues=Be}validate(ne){return w(ne,this.defaultValue,this._allowedValues)}}class o extends i{constructor(ne,_e,Ne,Be,We,Je,G=void 0){typeof G!=\"undefined\"&&(G.type=\"string\",G.enum=We,G.default=Be),super(ne,_e,Ne,G),this._allowedValues=We,this._convert=Je}validate(ne){return typeof ne!=\"string\"?this.defaultValue:this._allowedValues.indexOf(ne)===-1?this.defaultValue:this._convert(ne)}}function c(X){switch(X){case\"none\":return 0;case\"keep\":return 1;case\"brackets\":return 2;case\"advanced\":return 3;case\"full\":return 4}}class u extends i{constructor(){super(2,\"accessibilitySupport\",0,{type:\"string\",enum:[\"auto\",\"on\",\"off\"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:\"auto\",description:v.localize(3,null)})}validate(ne){switch(ne){case\"auto\":return 0;case\"off\":return 1;case\"on\":return 2}return this.defaultValue}compute(ne,_e,Ne){return Ne===0?ne.accessibilitySupport:Ne}}class t extends i{constructor(){const ne={insertSpace:!0,ignoreEmptyLines:!0};super(16,\"comments\",ne,{\"editor.comments.insertSpace\":{type:\"boolean\",default:ne.insertSpace,description:v.localize(4,null)},\"editor.comments.ignoreEmptyLines\":{type:\"boolean\",default:ne.ignoreEmptyLines,description:v.localize(5,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{insertSpace:g(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var r;(function(X){X[X.Hidden=0]=\"Hidden\",X[X.Blink=1]=\"Blink\",X[X.Smooth=2]=\"Smooth\",X[X.Phase=3]=\"Phase\",X[X.Expand=4]=\"Expand\",X[X.Solid=5]=\"Solid\"})(r=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(X){switch(X){case\"blink\":return 1;case\"smooth\":return 2;case\"phase\":return 3;case\"expand\":return 4;case\"solid\":return 5}}var a;(function(X){X[X.Line=1]=\"Line\",X[X.Block=2]=\"Block\",X[X.Underline=3]=\"Underline\",X[X.LineThin=4]=\"LineThin\",X[X.BlockOutline=5]=\"BlockOutline\",X[X.UnderlineThin=6]=\"UnderlineThin\"})(a=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function n(X){switch(X){case a.Line:return\"line\";case a.Block:return\"block\";case a.Underline:return\"underline\";case a.LineThin:return\"line-thin\";case a.BlockOutline:return\"block-outline\";case a.UnderlineThin:return\"underline-thin\"}}e.cursorStyleToString=n;function d(X){switch(X){case\"line\":return a.Line;case\"block\":return a.Block;case\"underline\":return a.Underline;case\"line-thin\":return a.LineThin;case\"block-outline\":return a.BlockOutline;case\"underline-thin\":return a.UnderlineThin}}class b extends T{constructor(){super(121,[60,29])}compute(ne,_e,Ne){const Be=[\"monaco-editor\"];return _e.get(29)&&Be.push(_e.get(29)),ne.extraEditorClassName&&Be.push(ne.extraEditorClassName),_e.get(60)===\"default\"?Be.push(\"mouse-default\"):_e.get(60)===\"copy\"&&Be.push(\"mouse-copy\"),_e.get(95)&&Be.push(\"showUnused\"),_e.get(119)&&Be.push(\"showDeprecated\"),Be.join(\" \")}}class E extends f{constructor(){super(28,\"emptySelectionClipboard\",!0,{description:v.localize(6,null)})}compute(ne,_e,Ne){return Ne&&ne.emptySelectionClipboard}}class h extends i{constructor(){const ne={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:\"never\",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,\"find\",ne,{\"editor.find.cursorMoveOnType\":{type:\"boolean\",default:ne.cursorMoveOnType,description:v.localize(7,null)},\"editor.find.seedSearchStringFromSelection\":{type:\"boolean\",default:ne.seedSearchStringFromSelection,description:v.localize(8,null)},\"editor.find.autoFindInSelection\":{type:\"string\",enum:[\"never\",\"always\",\"multiline\"],default:ne.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},\"editor.find.globalFindClipboard\":{type:\"boolean\",default:ne.globalFindClipboard,description:v.localize(13,null),included:D.isMacintosh},\"editor.find.addExtraSpaceOnTop\":{type:\"boolean\",default:ne.addExtraSpaceOnTop,description:v.localize(14,null)},\"editor.find.loop\":{type:\"boolean\",default:ne.loop,description:v.localize(15,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{cursorMoveOnType:g(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:g(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ne.autoFindInSelection==\"boolean\"?ne.autoFindInSelection?\"always\":\"never\":w(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,[\"never\",\"always\",\"multiline\"]),globalFindClipboard:g(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(_e.loop,this.defaultValue.loop)}}}class _ extends i{constructor(){super(39,\"fontLigatures\",_.OFF,{anyOf:[{type:\"boolean\",description:v.localize(16,null)},{type:\"string\",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(ne){return typeof ne==\"undefined\"?this.defaultValue:typeof ne==\"string\"?ne===\"false\"?_.OFF:ne===\"true\"?_.ON:ne:Boolean(ne)?_.ON:_.OFF}}e.EditorFontLigatures=_,_.OFF='\"liga\" off, \"calt\" off',_.ON='\"liga\" on, \"calt\" on';class A extends T{constructor(){super(38)}compute(ne,_e,Ne){return ne.fontInfo}}class L extends k{constructor(){super(40,\"fontSize\",e.EDITOR_FONT_DEFAULTS.fontSize,{type:\"number\",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(ne){let _e=m.float(ne,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:m.clamp(_e,6,100)}compute(ne,_e,Ne){return ne.fontInfo.fontSize}}class M extends i{constructor(){super(41,\"fontWeight\",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:\"number\",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:\"string\",pattern:\"^(normal|bold|1000|[1-9][0-9]{0,2})$\"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(ne){return ne===\"normal\"||ne===\"bold\"?ne:String(l.clampedInt(ne,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=[\"normal\",\"bold\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class z extends i{constructor(){const ne={multiple:\"peek\",multipleDefinitions:\"peek\",multipleTypeDefinitions:\"peek\",multipleDeclarations:\"peek\",multipleImplementations:\"peek\",multipleReferences:\"peek\",alternativeDefinitionCommand:\"editor.action.goToReferences\",alternativeTypeDefinitionCommand:\"editor.action.goToReferences\",alternativeDeclarationCommand:\"editor.action.goToReferences\",alternativeImplementationCommand:\"\",alternativeReferenceCommand:\"\"},_e={type:\"string\",enum:[\"peek\",\"gotoAndPeek\",\"goto\"],default:ne.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]};super(45,\"gotoLocation\",ne,{\"editor.gotoLocation.multiple\":{deprecationMessage:v.localize(25,null)},\"editor.gotoLocation.multipleDefinitions\":Object.assign({description:v.localize(26,null)},_e),\"editor.gotoLocation.multipleTypeDefinitions\":Object.assign({description:v.localize(27,null)},_e),\"editor.gotoLocation.multipleDeclarations\":Object.assign({description:v.localize(28,null)},_e),\"editor.gotoLocation.multipleImplementations\":Object.assign({description:v.localize(29,null)},_e),\"editor.gotoLocation.multipleReferences\":Object.assign({description:v.localize(30,null)},_e),\"editor.gotoLocation.alternativeDefinitionCommand\":{type:\"string\",default:ne.alternativeDefinitionCommand,description:v.localize(31,null)},\"editor.gotoLocation.alternativeTypeDefinitionCommand\":{type:\"string\",default:ne.alternativeTypeDefinitionCommand,description:v.localize(32,null)},\"editor.gotoLocation.alternativeDeclarationCommand\":{type:\"string\",default:ne.alternativeDeclarationCommand,description:v.localize(33,null)},\"editor.gotoLocation.alternativeImplementationCommand\":{type:\"string\",default:ne.alternativeImplementationCommand,description:v.localize(34,null)},\"editor.gotoLocation.alternativeReferenceCommand\":{type:\"string\",default:ne.alternativeReferenceCommand,description:v.localize(35,null)}})}validate(ne){var _e,Ne,Be,We,Je;if(!ne||typeof ne!=\"object\")return this.defaultValue;const G=ne;return{multiple:w(G.multiple,this.defaultValue.multiple,[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDefinitions:(_e=G.multipleDefinitions)!==null&&_e!==void 0?_e:w(G.multipleDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleTypeDefinitions:(Ne=G.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:w(G.multipleTypeDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDeclarations:(Be=G.multipleDeclarations)!==null&&Be!==void 0?Be:w(G.multipleDeclarations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleImplementations:(We=G.multipleImplementations)!==null&&We!==void 0?We:w(G.multipleImplementations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleReferences:(Je=G.multipleReferences)!==null&&Je!==void 0?Je:w(G.multipleReferences,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),alternativeDefinitionCommand:S.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends i{constructor(){const ne={enabled:!0,delay:300,sticky:!0};super(48,\"hover\",ne,{\"editor.hover.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(36,null)},\"editor.hover.delay\":{type:\"number\",default:ne.delay,description:v.localize(37,null)},\"editor.hover.sticky\":{type:\"boolean\",default:ne.sticky,description:v.localize(38,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:g(_e.sticky,this.defaultValue.sticky)}}}var W;(function(X){X[X.None=0]=\"None\",X[X.Text=1]=\"Text\",X[X.Blocks=2]=\"Blocks\"})(W=e.RenderMinimap||(e.RenderMinimap={}));class K extends T{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(ne,_e,Ne){return K.computeLayout(_e,{memory:ne.memory,outerWidth:ne.outerWidth,outerHeight:ne.outerHeight,isDominatedByLongLines:ne.isDominatedByLongLines,lineHeight:ne.fontInfo.lineHeight,viewLineCount:ne.viewLineCount,lineNumbersDigitCount:ne.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ne.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ne.fontInfo.maxDigitWidth,pixelRatio:ne.pixelRatio})}static computeContainedMinimapLineCount(ne){const _e=ne.height/ne.lineHeight,Ne=ne.scrollBeyondLastLine?_e-1:0,Be=(ne.viewLineCount+Ne)/(ne.pixelRatio*ne.height),We=Math.floor(ne.viewLineCount/Be);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:Be,minimapLineCount:We}}static _computeMinimapLayout(ne,_e){const Ne=ne.outerWidth,Be=ne.outerHeight,We=ne.pixelRatio;if(!ne.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const Je=_e.stableMinimapLayoutInput,G=Je&&ne.outerHeight===Je.outerHeight&&ne.lineHeight===Je.lineHeight&&ne.typicalHalfwidthCharacterWidth===Je.typicalHalfwidthCharacterWidth&&ne.pixelRatio===Je.pixelRatio&&ne.scrollBeyondLastLine===Je.scrollBeyondLastLine&&ne.minimap.enabled===Je.minimap.enabled&&ne.minimap.side===Je.minimap.side&&ne.minimap.size===Je.minimap.size&&ne.minimap.showSlider===Je.minimap.showSlider&&ne.minimap.renderCharacters===Je.minimap.renderCharacters&&ne.minimap.maxColumn===Je.minimap.maxColumn&&ne.minimap.scale===Je.minimap.scale&&ne.verticalScrollbarWidth===Je.verticalScrollbarWidth&&ne.isViewportWrapping===Je.isViewportWrapping,se=ne.lineHeight,he=ne.typicalHalfwidthCharacterWidth,J=ne.scrollBeyondLastLine,re=ne.minimap.renderCharacters;let de=We>=2?Math.round(ne.minimap.scale*2):ne.minimap.scale;const me=ne.minimap.maxColumn,ye=ne.minimap.size,je=ne.minimap.side,He=ne.verticalScrollbarWidth,qe=ne.viewLineCount,Qe=ne.remainingWidth,Ze=ne.isViewportWrapping,be=re?2:3;let De=Math.floor(We*Be);const ue=De/We;let ee=!1,Fe=!1,xe=be*de,Ye=de/We,Ae=1;if(ye===\"fill\"||ye===\"fit\"){const{typicalViewportLineCount:wt,extraLinesBeyondLastLine:Dt,desiredRatio:yt,minimapLineCount:gt}=K.computeContainedMinimapLineCount({viewLineCount:qe,scrollBeyondLastLine:J,height:Be,lineHeight:se,pixelRatio:We});if(qe/gt>1)ee=!0,Fe=!0,de=1,xe=1,Ye=de/We;else{let ut=!1,_t=de+1;if(ye===\"fit\"){const vt=Math.ceil((qe+Dt)*xe);Ze&&G&&Qe<=_e.stableFitRemainingWidth?(ut=!0,_t=_e.stableFitMaxMinimapScale):(ut=vt>De,Ze&&ut?(_e.stableMinimapLayoutInput=ne,_e.stableFitRemainingWidth=Qe):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye===\"fill\"||ut){ee=!0;const vt=de;xe=Math.min(se*We,Math.max(1,Math.floor(1/yt))),de=Math.min(_t,Math.max(1,Math.floor(xe/be))),de>vt&&(Ae=Math.min(2,de/vt)),Ye=de/We/Ae,De=Math.ceil(Math.max(wt,qe+Dt)*xe),Ze&&ut&&(_e.stableFitMaxMinimapScale=de)}}}const st=Math.floor(me*Ye),rt=Math.min(st,Math.max(0,Math.floor((Qe-He-2)*Ye/(he+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Xe=Math.floor(We*rt);const ct=Xe/We;Xe=Math.floor(Xe*Ae);const dt=re?1:2,ht=je===\"left\"?0:Ne-rt-He;return{renderMinimap:dt,minimapLeft:ht,minimapWidth:rt,minimapHeightIsEditorHeight:ee,minimapIsSampling:Fe,minimapScale:de,minimapLineHeight:xe,minimapCanvasInnerWidth:Xe,minimapCanvasInnerHeight:De,minimapCanvasOuterWidth:ct,minimapCanvasOuterHeight:ue}}static computeLayout(ne,_e){const Ne=_e.outerWidth|0,Be=_e.outerHeight|0,We=_e.lineHeight|0,Je=_e.lineNumbersDigitCount|0,G=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,J=_e.viewLineCount,re=ne.get(116),de=re===\"inherit\"?ne.get(115):re,me=de===\"inherit\"?ne.get(111):de,ye=ne.get(114),je=ne.get(2),He=_e.isDominatedByLongLines,qe=ne.get(44),Qe=ne.get(54).renderType!==0,Ze=ne.get(55),be=ne.get(89),De=ne.get(59),ue=ne.get(87),ee=ue.verticalScrollbarSize,Fe=ue.verticalHasArrows,xe=ue.arrowSize,Ye=ue.horizontalScrollbarSize,Ae=ne.get(52),st=ne.get(33);let rt;if(typeof Ae==\"string\"&&/^\\d+(\\.\\d+)?ch$/.test(Ae)){const It=parseFloat(Ae.substr(0,Ae.length-2));rt=l.clampedInt(It*G,0,0,1e3)}else rt=l.clampedInt(Ae,0,0,1e3);st&&(rt+=16);let Xe=0;if(Qe){const It=Math.max(Je,Ze);Xe=Math.round(It*se)}let ct=0;qe&&(ct=We);let dt=0,ht=dt+ct,wt=ht+Xe,Dt=wt+rt;const yt=Ne-ct-Xe-rt;let gt=!1,mt=!1,ut=-1;je!==2&&(de===\"inherit\"&&He?(gt=!0,mt=!0):me===\"on\"||me===\"bounded\"?mt=!0:me===\"wordWrapColumn\"&&(ut=ye));const _t=K._computeMinimapLayout({outerWidth:Ne,outerHeight:Be,lineHeight:We,typicalHalfwidthCharacterWidth:G,pixelRatio:he,scrollBeyondLastLine:be,minimap:De,verticalScrollbarWidth:ee,viewLineCount:J,remainingWidth:yt,isViewportWrapping:mt},_e.memory||new y);_t.renderMinimap!==0&&_t.minimapLeft===0&&(dt+=_t.minimapWidth,ht+=_t.minimapWidth,wt+=_t.minimapWidth,Dt+=_t.minimapWidth);const vt=yt-_t.minimapWidth,Rt=Math.max(1,Math.floor((vt-ee-2)/G)),Pt=Fe?xe:0;return mt&&(ut=Math.max(1,Rt),me===\"bounded\"&&(ut=Math.min(ut,ye))),{width:Ne,height:Be,glyphMarginLeft:dt,glyphMarginWidth:ct,lineNumbersLeft:ht,lineNumbersWidth:Xe,decorationsLeft:wt,decorationsWidth:rt,contentLeft:Dt,contentWidth:vt,minimap:_t,viewportColumn:Rt,isWordWrapMinified:gt,isViewportWrapping:mt,wrappingColumn:ut,verticalScrollbarWidth:ee,horizontalScrollbarHeight:Ye,overviewRuler:{top:Pt,width:ee,height:Be-2*Pt,right:0}}}}e.EditorLayoutInfoComputer=K;class x extends i{constructor(){const ne={enabled:!0};super(51,\"lightbulb\",ne,{\"editor.lightbulb.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(39,null)}})}validate(ne){return!ne||typeof ne!=\"object\"?this.defaultValue:{enabled:g(ne.enabled,this.defaultValue.enabled)}}}class N extends i{constructor(){const ne={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,\"inlineHints\",ne,{\"editor.inlineHints.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(40,null)},\"editor.inlineHints.fontSize\":{type:\"number\",default:ne.fontSize,description:v.localize(41,null)},\"editor.inlineHints.fontFamily\":{type:\"string\",default:ne.fontFamily,description:v.localize(42,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class U extends l{constructor(){super(53,\"lineHeight\",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(ne,_e,Ne){return ne.fontInfo.lineHeight}}class F extends i{constructor(){const ne={enabled:!0,size:\"proportional\",side:\"right\",showSlider:\"mouseover\",renderCharacters:!0,maxColumn:120,scale:1};super(59,\"minimap\",ne,{\"editor.minimap.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(44,null)},\"editor.minimap.size\":{type:\"string\",enum:[\"proportional\",\"fill\",\"fit\"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:ne.size,description:v.localize(48,null)},\"editor.minimap.side\":{type:\"string\",enum:[\"left\",\"right\"],default:ne.side,description:v.localize(49,null)},\"editor.minimap.showSlider\":{type:\"string\",enum:[\"always\",\"mouseover\"],default:ne.showSlider,description:v.localize(50,null)},\"editor.minimap.scale\":{type:\"number\",default:ne.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},\"editor.minimap.renderCharacters\":{type:\"boolean\",default:ne.renderCharacters,description:v.localize(52,null)},\"editor.minimap.maxColumn\":{type:\"number\",default:ne.maxColumn,description:v.localize(53,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),size:w(_e.size,this.defaultValue.size,[\"proportional\",\"fill\",\"fit\"]),side:w(_e.side,this.defaultValue.side,[\"right\",\"left\"]),showSlider:w(_e.showSlider,this.defaultValue.showSlider,[\"always\",\"mouseover\"]),renderCharacters:g(_e.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(_e.scale,1,1,3),maxColumn:l.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(X){return X===\"ctrlCmd\"?D.isMacintosh?\"metaKey\":\"ctrlKey\":\"altKey\"}class $ extends i{constructor(){super(69,\"padding\",{top:0,bottom:0},{\"editor.padding.top\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},\"editor.padding.bottom\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class q extends i{constructor(){const ne={enabled:!0,cycle:!1};super(70,\"parameterHints\",ne,{\"editor.parameterHints.enabled\":{type:\"boolean\",default:ne.enabled,description:v.localize(56,null)},\"editor.parameterHints.cycle\":{type:\"boolean\",default:ne.cycle,description:v.localize(57,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),cycle:g(_e.cycle,this.defaultValue.cycle)}}}class Z extends T{constructor(){super(122)}compute(ne,_e,Ne){return ne.pixelRatio}}class ae extends i{constructor(){const ne={other:!0,comments:!1,strings:!1};super(73,\"quickSuggestions\",ne,{anyOf:[{type:\"boolean\"},{type:\"object\",properties:{strings:{type:\"boolean\",default:ne.strings,description:v.localize(58,null)},comments:{type:\"boolean\",default:ne.comments,description:v.localize(59,null)},other:{type:\"boolean\",default:ne.other,description:v.localize(60,null)}}}],default:ne,description:v.localize(61,null)});this.defaultValue=ne}validate(ne){if(typeof ne==\"boolean\")return ne;if(ne&&typeof ne==\"object\"){const _e=ne,Ne={other:g(_e.other,this.defaultValue.other),comments:g(_e.comments,this.defaultValue.comments),strings:g(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var fe;(function(X){X[X.Off=0]=\"Off\",X[X.On=1]=\"On\",X[X.Relative=2]=\"Relative\",X[X.Interval=3]=\"Interval\",X[X.Custom=4]=\"Custom\"})(fe=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Te extends i{constructor(){super(54,\"lineNumbers\",{renderType:1,renderFn:null},{type:\"string\",enum:[\"off\",\"on\",\"relative\",\"interval\"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:\"on\",description:v.localize(66,null)})}validate(ne){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ne!=\"undefined\"&&(typeof ne==\"function\"?(_e=4,Ne=ne):ne===\"interval\"?_e=3:ne===\"relative\"?_e=2:ne===\"on\"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Se(X){const ne=X.get(82);return ne===\"editable\"?X.get(75):ne!==\"on\"}e.filterValidationDecorations=Se;class Le extends i{constructor(){const ne=[],_e={type:\"number\",description:v.localize(67,null)};super(86,\"rulers\",ne,{type:\"array\",items:{anyOf:[_e,{type:[\"object\"],properties:{column:_e,color:{type:\"string\",description:v.localize(68,null),format:\"color-hex\"}}}]},default:ne,description:v.localize(69,null)})}validate(ne){if(Array.isArray(ne)){let _e=[];for(let Ne of ne)if(typeof Ne==\"number\")_e.push({column:l.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne==\"object\"){const Be=Ne;_e.push({column:l.clampedInt(Be.column,0,0,1e4),color:Be.color})}return _e.sort((Ne,Be)=>Ne.column-Be.column),_e}return this.defaultValue}}function H(X,ne){if(typeof X!=\"string\")return ne;switch(X){case\"hidden\":return 2;case\"visible\":return 3;default:return 1}}class Y extends i{constructor(){super(87,\"scrollbar\",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne,Ne=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:H(_e.vertical,this.defaultValue.vertical),horizontal:H(_e.horizontal,this.defaultValue.horizontal),useShadows:g(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,Be,0,1e3),scrollByPage:g(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ie extends i{constructor(){const ne={insertMode:\"insert\",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,\"suggest\",ne,{\"editor.suggest.insertMode\":{type:\"string\",enum:[\"insert\",\"replace\"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:ne.insertMode,description:v.localize(72,null)},\"editor.suggest.filterGraceful\":{type:\"boolean\",default:ne.filterGraceful,description:v.localize(73,null)},\"editor.suggest.localityBonus\":{type:\"boolean\",default:ne.localityBonus,description:v.localize(74,null)},\"editor.suggest.shareSuggestSelections\":{type:\"boolean\",default:ne.shareSuggestSelections,markdownDescription:v.localize(75,null)},\"editor.suggest.snippetsPreventQuickSuggestions\":{type:\"boolean\",default:ne.snippetsPreventQuickSuggestions,description:v.localize(76,null)},\"editor.suggest.showIcons\":{type:\"boolean\",default:ne.showIcons,description:v.localize(77,null)},\"editor.suggest.showStatusBar\":{type:\"boolean\",default:ne.showStatusBar,description:v.localize(78,null)},\"editor.suggest.showInlineDetails\":{type:\"boolean\",default:ne.showInlineDetails,description:v.localize(79,null)},\"editor.suggest.maxVisibleSuggestions\":{type:\"number\",deprecationMessage:v.localize(80,null)},\"editor.suggest.filteredTypes\":{type:\"object\",deprecationMessage:v.localize(81,null)},\"editor.suggest.showMethods\":{type:\"boolean\",default:!0,markdownDescription:v.localize(82,null)},\"editor.suggest.showFunctions\":{type:\"boolean\",default:!0,markdownDescription:v.localize(83,null)},\"editor.suggest.showConstructors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(84,null)},\"editor.suggest.showFields\":{type:\"boolean\",default:!0,markdownDescription:v.localize(85,null)},\"editor.suggest.showVariables\":{type:\"boolean\",default:!0,markdownDescription:v.localize(86,null)},\"editor.suggest.showClasses\":{type:\"boolean\",default:!0,markdownDescription:v.localize(87,null)},\"editor.suggest.showStructs\":{type:\"boolean\",default:!0,markdownDescription:v.localize(88,null)},\"editor.suggest.showInterfaces\":{type:\"boolean\",default:!0,markdownDescription:v.localize(89,null)},\"editor.suggest.showModules\":{type:\"boolean\",default:!0,markdownDescription:v.localize(90,null)},\"editor.suggest.showProperties\":{type:\"boolean\",default:!0,markdownDescription:v.localize(91,null)},\"editor.suggest.showEvents\":{type:\"boolean\",default:!0,markdownDescription:v.localize(92,null)},\"editor.suggest.showOperators\":{type:\"boolean\",default:!0,markdownDescription:v.localize(93,null)},\"editor.suggest.showUnits\":{type:\"boolean\",default:!0,markdownDescription:v.localize(94,null)},\"editor.suggest.showValues\":{type:\"boolean\",default:!0,markdownDescription:v.localize(95,null)},\"editor.suggest.showConstants\":{type:\"boolean\",default:!0,markdownDescription:v.localize(96,null)},\"editor.suggest.showEnums\":{type:\"boolean\",default:!0,markdownDescription:v.localize(97,null)},\"editor.suggest.showEnumMembers\":{type:\"boolean\",default:!0,markdownDescription:v.localize(98,null)},\"editor.suggest.showKeywords\":{type:\"boolean\",default:!0,markdownDescription:v.localize(99,null)},\"editor.suggest.showWords\":{type:\"boolean\",default:!0,markdownDescription:v.localize(100,null)},\"editor.suggest.showColors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(101,null)},\"editor.suggest.showFiles\":{type:\"boolean\",default:!0,markdownDescription:v.localize(102,null)},\"editor.suggest.showReferences\":{type:\"boolean\",default:!0,markdownDescription:v.localize(103,null)},\"editor.suggest.showCustomcolors\":{type:\"boolean\",default:!0,markdownDescription:v.localize(104,null)},\"editor.suggest.showFolders\":{type:\"boolean\",default:!0,markdownDescription:v.localize(105,null)},\"editor.suggest.showTypeParameters\":{type:\"boolean\",default:!0,markdownDescription:v.localize(106,null)},\"editor.suggest.showSnippets\":{type:\"boolean\",default:!0,markdownDescription:v.localize(107,null)},\"editor.suggest.showUsers\":{type:\"boolean\",default:!0,markdownDescription:v.localize(108,null)},\"editor.suggest.showIssues\":{type:\"boolean\",default:!0,markdownDescription:v.localize(109,null)}})}validate(ne){if(!ne||typeof ne!=\"object\")return this.defaultValue;const _e=ne;return{insertMode:w(_e.insertMode,this.defaultValue.insertMode,[\"insert\",\"replace\"]),filterGraceful:g(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(_e.showIcons,this.defaultValue.showIcons),showStatusBar:g(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:g(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(_e.showMethods,this.defaultValue.showMethods),showFunctions:g(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:g(_e.showConstructors,this.defaultValue.showConstructors),showFields:g(_e.showFields,this.defaultValue.showFields),showVariables:g(_e.showVariables,this.defaultValue.showVariables),showClasses:g(_e.showClasses,this.defaultValue.showClasses),showStructs:g(_e.showStructs,this.defaultValue.showStructs),showInterfaces:g(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:g(_e.showModules,this.defaultValue.showModules),showProperties:g(_e.showProperties,this.defaultValue.showProperties),showEvents:g(_e.showEvents,this.defaultValue.showEvents),showOperators:g(_e.showOperators,this.defaultValue.showOperators),showUnits:g(_e.showUnits,this.defaultValue.showUnits),showValues:g(_e.showValues,this.defaultValue.showValues),showConstants:g(_e.showConstants,this.defaultValue.showConstants),showEnums:g(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:g(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(_e.showKeywords,this.defaultValue.showKeywords),showWords:g(_e.showWords,this.defaultValue.showWords),showColors:g(_e.showColors,this.defaultValue.showColors),showFiles:g(_e.showFiles,this.defaultValue.showFiles),showReferences:g(_e.showReferences,this.defaultValue.showReferences),showFolders:g(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:g(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(_e.showSnippets,this.defaultValue.showSnippets),showUsers:g(_e.showUsers,this.defaultValue.showUsers),showIssues:g(_e.showIssues,this.defaultValue.showIssues)}}}class oe extends i{constructor(){super(97,\"smartSelect\",{selectLeadingAndTrailingWhitespace:!0},{\"editor.smartSelect.selectLeadingAndTrailingWhitespace\":{description:v.localize(110,null),default:!0,type:\"boolean\"}})}validate(ne){return!ne||typeof ne!=\"object\"?this.defaultValue:{selectLeadingAndTrailingWhitespace:g(ne.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ve extends T{constructor(){super(123,[75])}compute(ne,_e,Ne){return _e.get(75)?!0:ne.tabFocusMode}}var ke;(function(X){X[X.None=0]=\"None\",X[X.Same=1]=\"Same\",X[X.Indent=2]=\"Indent\",X[X.DeepIndent=3]=\"DeepIndent\"})(ke=e.WrappingIndent||(e.WrappingIndent={}));function Me(X){switch(X){case\"none\":return 0;case\"same\":return 1;case\"indent\":return 2;case\"deepIndent\":return 3}}class we extends T{constructor(){super(125,[124])}compute(ne,_e,Ne){const Be=_e.get(124);return{isDominatedByLongLines:ne.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}const Pe=\"Consolas, 'Courier New', monospace\",Re=\"Menlo, Monaco, 'Courier New', monospace\",Ue=\"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'\";e.EDITOR_FONT_DEFAULTS={fontFamily:D.isMacintosh?Re:D.isLinux?Ue:Pe,fontWeight:\"normal\",fontSize:D.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Ee(X){return e.editorOptionsRegistry[X.id]=X,X}var Ke;(function(X){X[X.acceptSuggestionOnCommitCharacter=0]=\"acceptSuggestionOnCommitCharacter\",X[X.acceptSuggestionOnEnter=1]=\"acceptSuggestionOnEnter\",X[X.accessibilitySupport=2]=\"accessibilitySupport\",X[X.accessibilityPageSize=3]=\"accessibilityPageSize\",X[X.ariaLabel=4]=\"ariaLabel\",X[X.autoClosingBrackets=5]=\"autoClosingBrackets\",X[X.autoClosingOvertype=6]=\"autoClosingOvertype\",X[X.autoClosingQuotes=7]=\"autoClosingQuotes\",X[X.autoIndent=8]=\"autoIndent\",X[X.automaticLayout=9]=\"automaticLayout\",X[X.autoSurround=10]=\"autoSurround\",X[X.codeLens=11]=\"codeLens\",X[X.codeLensFontFamily=12]=\"codeLensFontFamily\",X[X.codeLensFontSize=13]=\"codeLensFontSize\",X[X.colorDecorators=14]=\"colorDecorators\",X[X.columnSelection=15]=\"columnSelection\",X[X.comments=16]=\"comments\",X[X.contextmenu=17]=\"contextmenu\",X[X.copyWithSyntaxHighlighting=18]=\"copyWithSyntaxHighlighting\",X[X.cursorBlinking=19]=\"cursorBlinking\",X[X.cursorSmoothCaretAnimation=20]=\"cursorSmoothCaretAnimation\",X[X.cursorStyle=21]=\"cursorStyle\",X[X.cursorSurroundingLines=22]=\"cursorSurroundingLines\",X[X.cursorSurroundingLinesStyle=23]=\"cursorSurroundingLinesStyle\",X[X.cursorWidth=24]=\"cursorWidth\",X[X.disableLayerHinting=25]=\"disableLayerHinting\",X[X.disableMonospaceOptimizations=26]=\"disableMonospaceOptimizations\",X[X.dragAndDrop=27]=\"dragAndDrop\",X[X.emptySelectionClipboard=28]=\"emptySelectionClipboard\",X[X.extraEditorClassName=29]=\"extraEditorClassName\",X[X.fastScrollSensitivity=30]=\"fastScrollSensitivity\",X[X.find=31]=\"find\",X[X.fixedOverflowWidgets=32]=\"fixedOverflowWidgets\",X[X.folding=33]=\"folding\",X[X.foldingStrategy=34]=\"foldingStrategy\",X[X.foldingHighlight=35]=\"foldingHighlight\",X[X.unfoldOnClickAfterEndOfLine=36]=\"unfoldOnClickAfterEndOfLine\",X[X.fontFamily=37]=\"fontFamily\",X[X.fontInfo=38]=\"fontInfo\",X[X.fontLigatures=39]=\"fontLigatures\",X[X.fontSize=40]=\"fontSize\",X[X.fontWeight=41]=\"fontWeight\",X[X.formatOnPaste=42]=\"formatOnPaste\",X[X.formatOnType=43]=\"formatOnType\",X[X.glyphMargin=44]=\"glyphMargin\",X[X.gotoLocation=45]=\"gotoLocation\",X[X.hideCursorInOverviewRuler=46]=\"hideCursorInOverviewRuler\",X[X.highlightActiveIndentGuide=47]=\"highlightActiveIndentGuide\",X[X.hover=48]=\"hover\",X[X.inDiffEditor=49]=\"inDiffEditor\",X[X.letterSpacing=50]=\"letterSpacing\",X[X.lightbulb=51]=\"lightbulb\",X[X.lineDecorationsWidth=52]=\"lineDecorationsWidth\",X[X.lineHeight=53]=\"lineHeight\",X[X.lineNumbers=54]=\"lineNumbers\",X[X.lineNumbersMinChars=55]=\"lineNumbersMinChars\",X[X.linkedEditing=56]=\"linkedEditing\",X[X.links=57]=\"links\",X[X.matchBrackets=58]=\"matchBrackets\",X[X.minimap=59]=\"minimap\",X[X.mouseStyle=60]=\"mouseStyle\",X[X.mouseWheelScrollSensitivity=61]=\"mouseWheelScrollSensitivity\",X[X.mouseWheelZoom=62]=\"mouseWheelZoom\",X[X.multiCursorMergeOverlapping=63]=\"multiCursorMergeOverlapping\",X[X.multiCursorModifier=64]=\"multiCursorModifier\",X[X.multiCursorPaste=65]=\"multiCursorPaste\",X[X.occurrencesHighlight=66]=\"occurrencesHighlight\",X[X.overviewRulerBorder=67]=\"overviewRulerBorder\",X[X.overviewRulerLanes=68]=\"overviewRulerLanes\",X[X.padding=69]=\"padding\",X[X.parameterHints=70]=\"parameterHints\",X[X.peekWidgetDefaultFocus=71]=\"peekWidgetDefaultFocus\",X[X.definitionLinkOpensInPeek=72]=\"definitionLinkOpensInPeek\",X[X.quickSuggestions=73]=\"quickSuggestions\",X[X.quickSuggestionsDelay=74]=\"quickSuggestionsDelay\",X[X.readOnly=75]=\"readOnly\",X[X.renameOnType=76]=\"renameOnType\",X[X.renderControlCharacters=77]=\"renderControlCharacters\",X[X.renderIndentGuides=78]=\"renderIndentGuides\",X[X.renderFinalNewline=79]=\"renderFinalNewline\",X[X.renderLineHighlight=80]=\"renderLineHighlight\",X[X.renderLineHighlightOnlyWhenFocus=81]=\"renderLineHighlightOnlyWhenFocus\",X[X.renderValidationDecorations=82]=\"renderValidationDecorations\",X[X.renderWhitespace=83]=\"renderWhitespace\",X[X.revealHorizontalRightPadding=84]=\"revealHorizontalRightPadding\",X[X.roundedSelection=85]=\"roundedSelection\",X[X.rulers=86]=\"rulers\",X[X.scrollbar=87]=\"scrollbar\",X[X.scrollBeyondLastColumn=88]=\"scrollBeyondLastColumn\",X[X.scrollBeyondLastLine=89]=\"scrollBeyondLastLine\",X[X.scrollPredominantAxis=90]=\"scrollPredominantAxis\",X[X.selectionClipboard=91]=\"selectionClipboard\",X[X.selectionHighlight=92]=\"selectionHighlight\",X[X.selectOnLineNumbers=93]=\"selectOnLineNumbers\",X[X.showFoldingControls=94]=\"showFoldingControls\",X[X.showUnused=95]=\"showUnused\",X[X.snippetSuggestions=96]=\"snippetSuggestions\",X[X.smartSelect=97]=\"smartSelect\",X[X.smoothScrolling=98]=\"smoothScrolling\",X[X.stickyTabStops=99]=\"stickyTabStops\",X[X.stopRenderingLineAfter=100]=\"stopRenderingLineAfter\",X[X.suggest=101]=\"suggest\",X[X.suggestFontSize=102]=\"suggestFontSize\",X[X.suggestLineHeight=103]=\"suggestLineHeight\",X[X.suggestOnTriggerCharacters=104]=\"suggestOnTriggerCharacters\",X[X.suggestSelection=105]=\"suggestSelection\",X[X.tabCompletion=106]=\"tabCompletion\",X[X.tabIndex=107]=\"tabIndex\",X[X.unusualLineTerminators=108]=\"unusualLineTerminators\",X[X.useTabStops=109]=\"useTabStops\",X[X.wordSeparators=110]=\"wordSeparators\",X[X.wordWrap=111]=\"wordWrap\",X[X.wordWrapBreakAfterCharacters=112]=\"wordWrapBreakAfterCharacters\",X[X.wordWrapBreakBeforeCharacters=113]=\"wordWrapBreakBeforeCharacters\",X[X.wordWrapColumn=114]=\"wordWrapColumn\",X[X.wordWrapOverride1=115]=\"wordWrapOverride1\",X[X.wordWrapOverride2=116]=\"wordWrapOverride2\",X[X.wrappingIndent=117]=\"wrappingIndent\",X[X.wrappingStrategy=118]=\"wrappingStrategy\",X[X.showDeprecated=119]=\"showDeprecated\",X[X.inlineHints=120]=\"inlineHints\",X[X.editorClassName=121]=\"editorClassName\",X[X.pixelRatio=122]=\"pixelRatio\",X[X.tabFocusMode=123]=\"tabFocusMode\",X[X.layoutInfo=124]=\"layoutInfo\",X[X.wrappingInfo=125]=\"wrappingInfo\"})(Ke=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new f(0,\"acceptSuggestionOnCommitCharacter\",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:Ee(new p(1,\"acceptSuggestionOnEnter\",\"on\",[\"on\",\"smart\",\"off\"],{markdownEnumDescriptions:[\"\",v.localize(112,null),\"\"],markdownDescription:v.localize(113,null)})),accessibilitySupport:Ee(new u),accessibilityPageSize:Ee(new l(3,\"accessibilityPageSize\",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:Ee(new S(4,\"ariaLabel\",v.localize(115,null))),autoClosingBrackets:Ee(new p(5,\"autoClosingBrackets\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",v.localize(116,null),v.localize(117,null),\"\"],description:v.localize(118,null)})),autoClosingOvertype:Ee(new p(6,\"autoClosingOvertype\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",v.localize(119,null),\"\"],description:v.localize(120,null)})),autoClosingQuotes:Ee(new p(7,\"autoClosingQuotes\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",v.localize(121,null),v.localize(122,null),\"\"],description:v.localize(123,null)})),autoIndent:Ee(new o(8,\"autoIndent\",4,\"full\",[\"none\",\"keep\",\"brackets\",\"advanced\",\"full\"],c,{enumDescriptions:[v.localize(124,null),v.localize(125,null),v.localize(126,null),v.localize(127,null),v.localize(128,null)],description:v.localize(129,null)})),automaticLayout:Ee(new f(9,\"automaticLayout\",!1)),autoSurround:Ee(new p(10,\"autoSurround\",\"languageDefined\",[\"languageDefined\",\"quotes\",\"brackets\",\"never\"],{enumDescriptions:[v.localize(130,null),v.localize(131,null),v.localize(132,null),\"\"],description:v.localize(133,null)})),stickyTabStops:Ee(new f(99,\"stickyTabStops\",!1,{description:v.localize(134,null)})),codeLens:Ee(new f(11,\"codeLens\",!0,{description:v.localize(135,null)})),codeLensFontFamily:Ee(new S(12,\"codeLensFontFamily\",\"\",{description:v.localize(136,null)})),codeLensFontSize:Ee(new l(13,\"codeLensFontSize\",0,0,100,{type:\"number\",default:0,minimum:0,maximum:100,description:v.localize(137,null)})),colorDecorators:Ee(new f(14,\"colorDecorators\",!0,{description:v.localize(138,null)})),columnSelection:Ee(new f(15,\"columnSelection\",!1,{description:v.localize(139,null)})),comments:Ee(new t),contextmenu:Ee(new f(17,\"contextmenu\",!0)),copyWithSyntaxHighlighting:Ee(new f(18,\"copyWithSyntaxHighlighting\",!0,{description:v.localize(140,null)})),cursorBlinking:Ee(new o(19,\"cursorBlinking\",1,\"blink\",[\"blink\",\"smooth\",\"phase\",\"expand\",\"solid\"],s,{description:v.localize(141,null)})),cursorSmoothCaretAnimation:Ee(new f(20,\"cursorSmoothCaretAnimation\",!1,{description:v.localize(142,null)})),cursorStyle:Ee(new o(21,\"cursorStyle\",a.Line,\"line\",[\"line\",\"block\",\"underline\",\"line-thin\",\"block-outline\",\"underline-thin\"],d,{description:v.localize(143,null)})),cursorSurroundingLines:Ee(new l(22,\"cursorSurroundingLines\",0,0,1073741824,{description:v.localize(144,null)})),cursorSurroundingLinesStyle:Ee(new p(23,\"cursorSurroundingLinesStyle\",\"default\",[\"default\",\"all\"],{enumDescriptions:[v.localize(145,null),v.localize(146,null)],description:v.localize(147,null)})),cursorWidth:Ee(new l(24,\"cursorWidth\",0,0,1073741824,{markdownDescription:v.localize(148,null)})),disableLayerHinting:Ee(new f(25,\"disableLayerHinting\",!1)),disableMonospaceOptimizations:Ee(new f(26,\"disableMonospaceOptimizations\",!1)),dragAndDrop:Ee(new f(27,\"dragAndDrop\",!0,{description:v.localize(149,null)})),emptySelectionClipboard:Ee(new E),extraEditorClassName:Ee(new S(29,\"extraEditorClassName\",\"\")),fastScrollSensitivity:Ee(new m(30,\"fastScrollSensitivity\",5,X=>X<=0?5:X,{markdownDescription:v.localize(150,null)})),find:Ee(new h),fixedOverflowWidgets:Ee(new f(32,\"fixedOverflowWidgets\",!1)),folding:Ee(new f(33,\"folding\",!0,{description:v.localize(151,null)})),foldingStrategy:Ee(new p(34,\"foldingStrategy\",\"auto\",[\"auto\",\"indentation\"],{enumDescriptions:[v.localize(152,null),v.localize(153,null)],description:v.localize(154,null)})),foldingHighlight:Ee(new f(35,\"foldingHighlight\",!0,{description:v.localize(155,null)})),unfoldOnClickAfterEndOfLine:Ee(new f(36,\"unfoldOnClickAfterEndOfLine\",!1,{description:v.localize(156,null)})),fontFamily:Ee(new S(37,\"fontFamily\",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(157,null)})),fontInfo:Ee(new A),fontLigatures2:Ee(new _),fontSize:Ee(new L),fontWeight:Ee(new M),formatOnPaste:Ee(new f(42,\"formatOnPaste\",!1,{description:v.localize(158,null)})),formatOnType:Ee(new f(43,\"formatOnType\",!1,{description:v.localize(159,null)})),glyphMargin:Ee(new f(44,\"glyphMargin\",!0,{description:v.localize(160,null)})),gotoLocation:Ee(new z),hideCursorInOverviewRuler:Ee(new f(46,\"hideCursorInOverviewRuler\",!1,{description:v.localize(161,null)})),highlightActiveIndentGuide:Ee(new f(47,\"highlightActiveIndentGuide\",!0,{description:v.localize(162,null)})),hover:Ee(new V),inDiffEditor:Ee(new f(49,\"inDiffEditor\",!1)),letterSpacing:Ee(new m(50,\"letterSpacing\",e.EDITOR_FONT_DEFAULTS.letterSpacing,X=>m.clamp(X,-5,20),{description:v.localize(163,null)})),lightbulb:Ee(new x),lineDecorationsWidth:Ee(new k(52,\"lineDecorationsWidth\",10)),lineHeight:Ee(new U),lineNumbers:Ee(new Te),lineNumbersMinChars:Ee(new l(55,\"lineNumbersMinChars\",5,1,300)),linkedEditing:Ee(new f(56,\"linkedEditing\",!1,{description:v.localize(164,null)})),links:Ee(new f(57,\"links\",!0,{description:v.localize(165,null)})),matchBrackets:Ee(new p(58,\"matchBrackets\",\"always\",[\"always\",\"near\",\"never\"],{description:v.localize(166,null)})),minimap:Ee(new F),mouseStyle:Ee(new p(60,\"mouseStyle\",\"text\",[\"text\",\"default\",\"copy\"])),mouseWheelScrollSensitivity:Ee(new m(61,\"mouseWheelScrollSensitivity\",1,X=>X===0?1:X,{markdownDescription:v.localize(167,null)})),mouseWheelZoom:Ee(new f(62,\"mouseWheelZoom\",!1,{markdownDescription:v.localize(168,null)})),multiCursorMergeOverlapping:Ee(new f(63,\"multiCursorMergeOverlapping\",!0,{description:v.localize(169,null)})),multiCursorModifier:Ee(new o(64,\"multiCursorModifier\",\"altKey\",\"alt\",[\"ctrlCmd\",\"alt\"],O,{markdownEnumDescriptions:[v.localize(170,null),v.localize(171,null)],markdownDescription:v.localize(172,null)})),multiCursorPaste:Ee(new p(65,\"multiCursorPaste\",\"spread\",[\"spread\",\"full\"],{markdownEnumDescriptions:[v.localize(173,null),v.localize(174,null)],markdownDescription:v.localize(175,null)})),occurrencesHighlight:Ee(new f(66,\"occurrencesHighlight\",!0,{description:v.localize(176,null)})),overviewRulerBorder:Ee(new f(67,\"overviewRulerBorder\",!0,{description:v.localize(177,null)})),overviewRulerLanes:Ee(new l(68,\"overviewRulerLanes\",3,0,3)),padding:Ee(new $),parameterHints:Ee(new q),peekWidgetDefaultFocus:Ee(new p(71,\"peekWidgetDefaultFocus\",\"tree\",[\"tree\",\"editor\"],{enumDescriptions:[v.localize(178,null),v.localize(179,null)],description:v.localize(180,null)})),definitionLinkOpensInPeek:Ee(new f(72,\"definitionLinkOpensInPeek\",!1,{description:v.localize(181,null)})),quickSuggestions:Ee(new ae),quickSuggestionsDelay:Ee(new l(74,\"quickSuggestionsDelay\",10,0,1073741824,{description:v.localize(182,null)})),readOnly:Ee(new f(75,\"readOnly\",!1)),renameOnType:Ee(new f(76,\"renameOnType\",!1,{description:v.localize(183,null),markdownDeprecationMessage:v.localize(184,null)})),renderControlCharacters:Ee(new f(77,\"renderControlCharacters\",!1,{description:v.localize(185,null)})),renderIndentGuides:Ee(new f(78,\"renderIndentGuides\",!0,{description:v.localize(186,null)})),renderFinalNewline:Ee(new f(79,\"renderFinalNewline\",!0,{description:v.localize(187,null)})),renderLineHighlight:Ee(new p(80,\"renderLineHighlight\",\"line\",[\"none\",\"gutter\",\"line\",\"all\"],{enumDescriptions:[\"\",\"\",\"\",v.localize(188,null)],description:v.localize(189,null)})),renderLineHighlightOnlyWhenFocus:Ee(new f(81,\"renderLineHighlightOnlyWhenFocus\",!1,{description:v.localize(190,null)})),renderValidationDecorations:Ee(new p(82,\"renderValidationDecorations\",\"editable\",[\"editable\",\"on\",\"off\"])),renderWhitespace:Ee(new p(83,\"renderWhitespace\",\"selection\",[\"none\",\"boundary\",\"selection\",\"trailing\",\"all\"],{enumDescriptions:[\"\",v.localize(191,null),v.localize(192,null),v.localize(193,null),\"\"],description:v.localize(194,null)})),revealHorizontalRightPadding:Ee(new l(84,\"revealHorizontalRightPadding\",30,0,1e3)),roundedSelection:Ee(new f(85,\"roundedSelection\",!0,{description:v.localize(195,null)})),rulers:Ee(new Le),scrollbar:Ee(new Y),scrollBeyondLastColumn:Ee(new l(88,\"scrollBeyondLastColumn\",5,0,1073741824,{description:v.localize(196,null)})),scrollBeyondLastLine:Ee(new f(89,\"scrollBeyondLastLine\",!0,{description:v.localize(197,null)})),scrollPredominantAxis:Ee(new f(90,\"scrollPredominantAxis\",!0,{description:v.localize(198,null)})),selectionClipboard:Ee(new f(91,\"selectionClipboard\",!0,{description:v.localize(199,null),included:D.isLinux})),selectionHighlight:Ee(new f(92,\"selectionHighlight\",!0,{description:v.localize(200,null)})),selectOnLineNumbers:Ee(new f(93,\"selectOnLineNumbers\",!0)),showFoldingControls:Ee(new p(94,\"showFoldingControls\",\"mouseover\",[\"always\",\"mouseover\"],{enumDescriptions:[v.localize(201,null),v.localize(202,null)],description:v.localize(203,null)})),showUnused:Ee(new f(95,\"showUnused\",!0,{description:v.localize(204,null)})),showDeprecated:Ee(new f(119,\"showDeprecated\",!0,{description:v.localize(205,null)})),inlineHints:Ee(new N),snippetSuggestions:Ee(new p(96,\"snippetSuggestions\",\"inline\",[\"top\",\"bottom\",\"inline\",\"none\"],{enumDescriptions:[v.localize(206,null),v.localize(207,null),v.localize(208,null),v.localize(209,null)],description:v.localize(210,null)})),smartSelect:Ee(new oe),smoothScrolling:Ee(new f(98,\"smoothScrolling\",!1,{description:v.localize(211,null)})),stopRenderingLineAfter:Ee(new l(100,\"stopRenderingLineAfter\",1e4,-1,1073741824)),suggest:Ee(new ie),suggestFontSize:Ee(new l(102,\"suggestFontSize\",0,0,1e3,{markdownDescription:v.localize(212,null)})),suggestLineHeight:Ee(new l(103,\"suggestLineHeight\",0,0,1e3,{markdownDescription:v.localize(213,null)})),suggestOnTriggerCharacters:Ee(new f(104,\"suggestOnTriggerCharacters\",!0,{description:v.localize(214,null)})),suggestSelection:Ee(new p(105,\"suggestSelection\",\"recentlyUsed\",[\"first\",\"recentlyUsed\",\"recentlyUsedByPrefix\"],{markdownEnumDescriptions:[v.localize(215,null),v.localize(216,null),v.localize(217,null)],description:v.localize(218,null)})),tabCompletion:Ee(new p(106,\"tabCompletion\",\"off\",[\"on\",\"off\",\"onlySnippets\"],{enumDescriptions:[v.localize(219,null),v.localize(220,null),v.localize(221,null)],description:v.localize(222,null)})),tabIndex:Ee(new l(107,\"tabIndex\",0,-1,1073741824)),unusualLineTerminators:Ee(new p(108,\"unusualLineTerminators\",\"prompt\",[\"auto\",\"off\",\"prompt\"],{enumDescriptions:[v.localize(223,null),v.localize(224,null),v.localize(225,null)],description:v.localize(226,null)})),useTabStops:Ee(new f(109,\"useTabStops\",!0,{description:v.localize(227,null)})),wordSeparators:Ee(new S(110,\"wordSeparators\",R.USUAL_WORD_SEPARATORS,{description:v.localize(228,null)})),wordWrap:Ee(new p(111,\"wordWrap\",\"off\",[\"off\",\"on\",\"wordWrapColumn\",\"bounded\"],{markdownEnumDescriptions:[v.localize(229,null),v.localize(230,null),v.localize(231,null),v.localize(232,null)],description:v.localize(233,null)})),wordWrapBreakAfterCharacters:Ee(new S(112,\"wordWrapBreakAfterCharacters\",\" })]?|/&.,;\\xA2\\xB0\\u2032\\u2033\\u2030\\u2103\\u3001\\u3002\\uFF61\\uFF64\\uFFE0\\uFF0C\\uFF0E\\uFF1A\\uFF1B\\uFF1F\\uFF01\\uFF05\\u30FB\\uFF65\\u309D\\u309E\\u30FD\\u30FE\\u30FC\\u30A1\\u30A3\\u30A5\\u30A7\\u30A9\\u30C3\\u30E3\\u30E5\\u30E7\\u30EE\\u30F5\\u30F6\\u3041\\u3043\\u3045\\u3047\\u3049\\u3063\\u3083\\u3085\\u3087\\u308E\\u3095\\u3096\\u31F0\\u31F1\\u31F2\\u31F3\\u31F4\\u31F5\\u31F6\\u31F7\\u31F8\\u31F9\\u31FA\\u31FB\\u31FC\\u31FD\\u31FE\\u31FF\\u3005\\u303B\\uFF67\\uFF68\\uFF69\\uFF6A\\uFF6B\\uFF6C\\uFF6D\\uFF6E\\uFF6F\\uFF70\\u201D\\u3009\\u300B\\u300D\\u300F\\u3011\\u3015\\uFF09\\uFF3D\\uFF5D\\uFF63\")),wordWrapBreakBeforeCharacters:Ee(new S(113,\"wordWrapBreakBeforeCharacters\",\"([{\\u2018\\u201C\\u3008\\u300A\\u300C\\u300E\\u3010\\u3014\\uFF08\\uFF3B\\uFF5B\\uFF62\\xA3\\xA5\\uFF04\\uFFE1\\uFFE5+\\uFF0B\")),wordWrapColumn:Ee(new l(114,\"wordWrapColumn\",80,1,1073741824,{markdownDescription:v.localize(234,null)})),wordWrapOverride1:Ee(new p(115,\"wordWrapOverride1\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wordWrapOverride2:Ee(new p(116,\"wordWrapOverride2\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wrappingIndent:Ee(new o(117,\"wrappingIndent\",1,\"same\",[\"none\",\"same\",\"indent\",\"deepIndent\"],Me,{enumDescriptions:[v.localize(235,null),v.localize(236,null),v.localize(237,null),v.localize(238,null)],description:v.localize(239,null)})),wrappingStrategy:Ee(new p(118,\"wrappingStrategy\",\"simple\",[\"simple\",\"advanced\"],{enumDescriptions:[v.localize(240,null),v.localize(241,null)],description:v.localize(242,null)})),editorClassName:Ee(new b),pixelRatio:Ee(new Z),tabFocusMode:Ee(new ve),layoutInfo:Ee(new K),wrappingInfo:Ee(new we)}}),define(ge[149],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(ge[150],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(ge[151],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/files/common/files\",e)}),define(ge[152],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/markers/common/markers\",e)}),define(ge[153],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/terminal/node/terminalProcess\",e)}),define(ge[154],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/theme/common/iconRegistry\",e)}),define(ge[155],pe([17,18]),function(Q,e){return Q.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(ge[156],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHost.api.impl\",e)}),define(ge[157],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostDiagnostics\",e)}),define(ge[158],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostExtensionActivator\",e)}),define(ge[159],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostExtensionService\",e)}),define(ge[160],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostProgress\",e)}),define(ge[161],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostStatusBar\",e)}),define(ge[162],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostTerminalService\",e)}),define(ge[163],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostTreeViews\",e)}),define(ge[164],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/common/extHostWorkspace\",e)}),define(ge[165],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/api/node/extHostDebugService\",e)}),define(ge[166],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/common/views\",e)}),define(ge[167],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/debug/common/abstractDebugAdapter\",e)}),define(ge[168],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/debug/node/debugAdapter\",e)}),define(ge[169],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/externalTerminal/node/externalTerminalService\",e)}),define(ge[170],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/search/common/queryBuilder\",e)}),define(ge[171],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/contrib/terminal/common/terminal\",e)}),define(ge[172],pe([17,18]),function(Q,e){return Q.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(ge[173],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(C){C[C.ACTIVATE=0]=\"ACTIVATE\",C[C.RESTORE=1]=\"RESTORE\",C[C.PRESERVE=2]=\"PRESERVE\"})(v=e.EditorActivation||(e.EditorActivation={}));var D;(function(C){C[C.PICK=1]=\"PICK\",C[C.DISABLED=2]=\"DISABLED\"})(D=e.EditorOverride||(e.EditorOverride={}));var R;(function(C){C[C.API=0]=\"API\",C[C.USER=1]=\"USER\"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var P;(function(C){C[C.Center=0]=\"Center\",C[C.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",C[C.NearTop=2]=\"NearTop\",C[C.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(P=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[107],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class v{constructor(P,C=[],I=!1){this.ctor=P,this.staticArguments=C,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=v;const D=(R,...P)=>new v(R,P);e.createSyncDescriptor=D}),define(ge[80],pe([0,1,107]),function(Q,e,v){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const D=[];function R(C,I,y){I instanceof v.SyncDescriptor||(I=new v.SyncDescriptor(I,[],y)),D.push([C,I])}e.registerSingleton=R;function P(){return D}e.getSingletonServiceDescriptors=P}),define(ge[174],pe([0,1]),function(Q,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(P){this.incoming=new Map,this.outgoing=new Map,this.data=P}}e.Node=v;class D{constructor(P){this._hashFn=P,this._nodes=new Map}roots(){const P=[];for(let C of this._nodes.values())C.outgoing.size===0&&P.push(C);return P}insertEdge(P,C){const I=this.lookupOrInsertNode(P),y=this.lookupOrInsertNode(C);I.outgoing.set(this._hashFn(C),y),y.incoming.set(this._hashFn(P),I)}removeNode(P){const C=this._hashFn(P);this._nodes.delete(C);for(let I of this._nodes.values())I.outgoing.delete(C),I.incoming.delete(C)}lookupOrInsertNode(P){const C=this._hashFn(P);let I=this._nodes.get(C);return I||(I=new v(P),this._nodes.set(C,I)),I}lookup(P){return this._nodes.get(this._hashFn(P))}isEmpty(){return this._nodes.size===0}toString(){let P=[];for(let[C,I]of this._nodes)P.push(`${C}, (incoming)[${[...I.incoming.keys()].join(\", \")}], (outgoing)[${[...I.outgoing.keys()].join(\",\")}]`);return P.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "进程PID": "", "异常时间": "2021-03-25 02:43:50", "所属用户": "root", "异常信息": "反弹shell类：\"),0===n.length?e:e.replace(/\\{(\\d+)\\}/g,(function(e,t){var r=t[0],s=n[r],o=e;return\"string\"==typeof s?o=s:\"number\"!=typeof s&&\"boolean\"!=typeof s&&null!=s||(o=String(s)),o}))}!function(e){e.file=\"file\",e.bundle=\"bundle\",e.both=\"both\"}(t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone=\"standalone\",e.languagePack=\"languagePack\"}(t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&o(t.key)&&o(t.comment)}}(r||(r={})),t.isDefined=o,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=i,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i(t,n)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},,function(e,t){e.exports=require(\"events\")},function(e,t,n){e.exports=l,l.Minimatch=h;var r={sep:\"/\"};try{r=n(0)}catch(e){}var s=l.GLOBSTAR=h.GLOBSTAR={},o=n(82),i={\"!\":{open:\"(?:(?!(?:\",close:\"))[^/]*?)\"},\"?\":{open:\"(?:\",close:\")?\"},\"+\":{open:\"(?:\",close:\")+\"},\"*\":{open:\"(?:\",close:\")*\"},\"@\":{open:\"(?:\",close:\")\"}},a=\"().*{}+?[]^$\\\\!\".split(\"\").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if(\"string\"!=typeof t)throw new TypeError(\"glob pattern string required\");return n||(n={}),!(!n.nocomment&&\"#\"===t.charAt(0))&&(\"\"===t.trim()?\"\"===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if(\"string\"!=typeof e)throw new TypeError(\"glob pattern string required\");t||(t={}),e=e.trim(),\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError(\"undefined pattern\");return t.nobrace||!e.match(/\\{.*\\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,r,s){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,s){return t.minimatch(n,r,u(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&\"#\"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&\"!\"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError(\"pattern is too long\");var n=this.options;if(!n.noglobstar&&\"**\"===e)return s;if(\"\"===e)return\"\";var r,o=\"\",c=!!n.nocase,u=!1,l=[],h=[],p=!1,f=-1,g=-1,m=\".\"===e.charAt(0)?\"\":n.dot?\"(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))\":\"(?!\\\\.)\",_=this;function v(){if(r){switch(r){case\"*\":o+=\"[^/]*?\",c=!0;break;case\"?\":o+=\"[^/]\",c=!0;break;default:o+=\"\\\\\"+r}_.debug(\"clearStateChar %j %j\",r,o),r=!1}}for(var b,y=0,E=e.length;y<E&&(b=e.charAt(y));y++)if(this.debug(\"%s\\t%s %s %j\",e,y,o,b),u&&a[b])o+=\"\\\\\"+b,u=!1;else switch(b){case\"/\":return!1;case\"\\\\\":v(),u=!0;continue;case\"?\":case\"*\":case\"+\":case\"@\":case\"!\":if(this.debug(\"%s\\t%s %s %j <-- stateChar\",e,y,o,b),p){this.debug(\" in class\"),\"!\"===b&&y===g+1&&(b=\"^\"),o+=b;continue}_.debug(\"call clearStateChar %j\",r),v(),r=b,n.noext&&v();continue;case\"(\":if(p){o+=\"(\";continue}if(!r){o+=\"\\\\(\";continue}l.push({type:r,start:y-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+=\"!\"===r?\"(?:(?!(?:\":\"(?:\",this.debug(\"plType %j %j\",r,o),r=!1;continue;case\")\":if(p||!l.length){o+=\"\\\\)\";continue}v(),c=!0;var S=l.pop();o+=S.close,\"!\"===S.type&&h.push(S),S.reEnd=o.length;continue;case\"|\":if(p||!l.length||u){o+=\"\\\\|\",u=!1;continue}v(),o+=\"|\";continue;case\"[\":if(v(),p){o+=\"\\\\\"+b;continue}p=!0,g=y,f=o.length,o+=b;continue;case\"]\":if(y===g+1||!p){o+=\"\\\\\"+b,u=!1;continue}if(p){var R=e.substring(g+1,y);try{RegExp(\"[\"+R+\"]\")}catch(e){var C=this.parse(R,d);o=o.substr(0,f)+\"\\\\[\"+C[0]+\"\\\\]\",c=c||C[1],p=!1;continue}}c=!0,p=!1,o+=b;continue;default:v(),u?u=!1:!a[b]||\"^\"===b&&p||(o+=\"\\\\\"),o+=b}p&&(R=e.substr(g+1),C=this.parse(R,d),o=o.substr(0,f)+\"\\\\[\"+C[0],c=c||C[1]);for(S=l.pop();S;S=l.pop()){var w=o.slice(S.reStart+S.open.length);this.debug(\"setting tail\",o,S),w=w.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g,(function(e,t,n){return n||(n=\"\\\\\"),t+t+n+\"|\"})),this.debug(\"tail=%j\\n %s\",w,w,S,o);var O=\"*\"===S.type?\"[^/]*?\":\"?\"===S.type?\"[^/]\":\"\\\\\"+S.type;c=!0,o=o.slice(0,S.reStart)+O+\"\\\\(\"+w}v(),u&&(o+=\"\\\\\\\\\");var x=!1;switch(o.charAt(0)){case\".\":case\"[\":case\"(\":x=!0}for(var k=h.length-1;k>-1;k--){var P=h[k],A=o.slice(0,P.reStart),T=o.slice(P.reStart,P.reEnd-8),L=o.slice(P.reEnd-8,P.reEnd),F=o.slice(P.reEnd);L+=F;var M=A.split(\"(\").length-1,I=F;for(y=0;y<M;y++)I=I.replace(/\\)[+*?]?/,\"\");var N=\"\";\"\"===(F=I)&&t!==d&&(N=\"$\"),o=A+T+F+N+L}\"\"!==o&&c&&(o=\"(?=.)\"+o);x&&(o=m+o);if(t===d)return[o,c];if(!c)return function(e){return e.replace(/\\\\(.)/g,\"$1\")}(e);var j=n.nocase?\"i\":\"\";try{var D=new RegExp(\"^\"+o+\"$\",j)}catch(e){return new RegExp(\"$.\")}return D._glob=e,D._src=o,D};var d={};l.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?\"[^/]*?\":t.dot?\"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\":\"(?:(?!(?:\\\\/|^)\\\\.).)*?\",r=t.nocase?\"i\":\"\",o=e.map((function(e){return e.map((function(e){return e===s?n:\"string\"==typeof e?function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}(e):e._src})).join(\"\\\\/\")})).join(\"|\");o=\"^(?:\"+o+\")$\",this.negate&&(o=\"^(?!\"+o+\").*$\");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug(\"match\",e,this.pattern),this.comment)return!1;if(this.empty)return\"\"===e;if(\"/\"===e&&t)return!0;var n=this.options;\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\"));e=e.split(c),this.debug(this.pattern,\"split\",e);var s,o,i=this.set;for(this.debug(this.pattern,\"set\",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;if(n.matchBase&&1===a.length&&(u=[s]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug(\"matchOne\",{this:this,file:e,pattern:t}),this.debug(\"matchOne\",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug(\"matchOne loop\");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug(\"GLOBSTAR\",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug(\"** at the end\");o<a;o++)if(\".\"===e[o]||\"..\"===e[o]||!r.dot&&\".\"===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(\"\\nglobstar while\",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug(\"globstar found match!\",p,a,f),!0;if(\".\"===f||\"..\"===f||!r.dot&&\".\"===f.charAt(0)){this.debug(\"dot detected!\",e,p,t,d);break}this.debug(\"globstar swallow a segment, and continue\"),p++}return!(!n||(this.debug(\"\\n>>> no match, partial?\",e,p,t,d),p!==a))}if(\"string\"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug(\"string match\",l,h,u)):(u=h.match(l),this.debug(\"pattern match\",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&\"\"===e[o];throw new Error(\"wtf?\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=\"win32\"===process.platform,a=\"x64\"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",t=r.join(e,\"Sysnative\",\"bash.exe\"),n=r.join(e,\"System32\",\"bash.exe\"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\\\/g,\"/\")}`:e.replace(/\\\\/g,\"/\")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",c=r.join(e,\"Sysnative\",\"bash.exe\"),l=r.join(e,\"System32\",\"bash.exe\"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\\\/g,\"/\")),e.indexOf(\" \")>0?`'${e}'`:e)).join(\" \");return{cwd:n,executable:p,args:[\"-c\",d],combined:[p].concat([\"-c\",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(46),s=n(17),o=n(47),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||\"Thread #\"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,\"number\"==typeof s&&(this.namedVariables=s),\"number\"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;\"number\"==typeof t&&(s.line=t),\"number\"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends s.Event{constructor(e,t,n){super(\"stopped\"),this.body={reason:e},\"number\"==typeof t&&(this.body.threadId=t),\"string\"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends s.Event{constructor(e,t){super(\"continued\"),this.body={threadId:e},\"boolean\"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends s.Event{constructor(){super(\"initialized\")}}t.InitializedEvent=u;class l extends s.Event{constructor(e){if(super(\"terminated\"),\"boolean\"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=l;class h extends s.Event{constructor(e,t=\"console\",n){super(\"output\"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=h;class p extends s.Event{constructor(e,t){super(\"thread\"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class d extends s.Event{constructor(e,t){super(\"breakpoint\"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class f extends s.Event{constructor(e,t){super(\"module\"),this.body={reason:e,module:t}}}t.ModuleEvent=f;class g extends s.Event{constructor(e,t){super(\"loadedSource\"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class m extends s.Event{constructor(e){super(\"capabilities\"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class _ extends s.Event{constructor(e,t,n){super(\"progressStart\"),this.body={progressId:e,title:t},\"string\"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=_;class v extends s.Event{constructor(e,t){super(\"progressUpdate\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class b extends s.Event{constructor(e,t){super(\"progressEnd\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=b;class y extends s.Event{constructor(e,t,n){super(\"invalidated\"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}var E;t.InvalidatedEvent=y,function(e){e[e.User=1]=\"User\",e[e.Telemetry=2]=\"Telemetry\"}(E=t.ErrorDestination||(t.ErrorDestination={}));class S extends r.ProtocolServer{constructor(e,t){super();const n=\"boolean\"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=\"boolean\"==typeof t&&t,this.on(\"close\",()=>{this.shutdown()}),this.on(\"error\",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=\"path\"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=E.User){let o;\"number\"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&E.User&&(o.showUser=!0),s&E.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=S.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest(\"runInTerminal\",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if(\"initialize\"===e.command){var n=e.arguments;if(\"boolean\"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),\"boolean\"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),\"path\"!==n.pathFormat)this.sendErrorResponse(t,2018,\"debug adapter only supports native paths\",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else\"launch\"===e.command?this.launchRequest(t,e.arguments,e):\"attach\"===e.command?this.attachRequest(t,e.arguments,e):\"disconnect\"===e.command?this.disconnectRequest(t,e.arguments,e):\"terminate\"===e.command?this.terminateRequest(t,e.arguments,e):\"restart\"===e.command?this.restartRequest(t,e.arguments,e):\"setBreakpoints\"===e.command?this.setBreakPointsRequest(t,e.arguments,e):\"setFunctionBreakpoints\"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):\"setExceptionBreakpoints\"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):\"configurationDone\"===e.command?this.configurationDoneRequest(t,e.arguments,e):\"continue\"===e.command?this.continueRequest(t,e.arguments,e):\"next\"===e.command?this.nextRequest(t,e.arguments,e):\"stepIn\"===e.command?this.stepInRequest(t,e.arguments,e):\"stepOut\"===e.command?this.stepOutRequest(t,e.arguments,e):\"stepBack\"===e.command?this.stepBackRequest(t,e.arguments,e):\"reverseContinue\"===e.command?this.reverseContinueRequest(t,e.arguments,e):\"restartFrame\"===e.command?this.restartFrameRequest(t,e.arguments,e):\"goto\"===e.command?this.gotoRequest(t,e.arguments,e):\"pause\"===e.command?this.pauseRequest(t,e.arguments,e):\"stackTrace\"===e.command?this.stackTraceRequest(t,e.arguments,e):\"scopes\"===e.command?this.scopesRequest(t,e.arguments,e):\"variables\"===e.command?this.variablesRequest(t,e.arguments,e):\"setVariable\"===e.command?this.setVariableRequest(t,e.arguments,e):\"setExpression\"===e.command?this.setExpressionRequest(t,e.arguments,e):\"source\"===e.command?this.sourceRequest(t,e.arguments,e):\"threads\"===e.command?this.threadsRequest(t,e):\"terminateThreads\"===e.command?this.terminateThreadsRequest(t,e.arguments,e):\"evaluate\"===e.command?this.evaluateRequest(t,e.arguments,e):\"stepInTargets\"===e.command?this.stepInTargetsRequest(t,e.arguments,e):\"gotoTargets\"===e.command?this.gotoTargetsRequest(t,e.arguments,e):\"completions\"===e.command?this.completionsRequest(t,e.arguments,e):\"exceptionInfo\"===e.command?this.exceptionInfoRequest(t,e.arguments,e):\"loadedSources\"===e.command?this.loadedSourcesRequest(t,e.arguments,e):\"dataBreakpointInfo\"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):\"setDataBreakpoints\"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):\"readMemory\"===e.command?this.readMemoryRequest(t,e.arguments,e):\"disassemble\"===e.command?this.disassembleRequest(t,e.arguments,e):\"cancel\"===e.command?this.cancelRequest(t,e.arguments,e):\"breakpointLocations\"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):\"setInstructionBreakpoints\"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,\"{_stack}\",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,\"unrecognized request\",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){\"win32\"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\\\/g,\"/\")),e=encodeURI(e);let t=new i.URL(\"file:\");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return\"win32\"===process.platform&&(/^\\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\\//g,\"\\\\\")),n}static formatPII(e,t,n){return e.replace(S._formatPIIRegexp,(function(e,r){return t&&r.length>0&&\"_\"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=S,S._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super(\"response\"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super(\"event\"),this.event=e,t&&(this.body=t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(49),s=n(16);var o;!function(e){e[e.Verbose=0]=\"Verbose\",e[e.Log=1]=\"Log\",e[e.Warn=2]=\"Warn\",e[e.Error=3]=\"Error\",e[e.Stop=4]=\"Stop\"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+=\"\\n\",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+=\"\",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r=\"string\"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;class a extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?\"stderr\":t===o.Warn?\"console\":\"stdout\")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\\n|\\r\\n)$/,\"\")}},function(e,t){e.exports=require(\"tty\")},function(e,t){e.exports=require(\"assert\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(37),a=n(13);function c(e){const t=/^([A-Z])(\\:[\\\\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\\\/g,\"/\"),/^[a-zA-Z]\\:\\//.test(e)&&(e=\"/\"+e),e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i=\"\";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\\\/g,\"/\"),\"win32\"!==process.platform&&\"darwin\"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return\"win32\"===process.platform&&(e=e.replace(/\\//g,\"\\\\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\\:\\\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if(\"win32\"===process.platform){const e=n.WINDIR||\"C:\\\\Windows\";i=r.join(e,\"System32\",\"where.exe\")}else i=\"/usr/bin/which\";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\\r?\\n/);if(\"win32\"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+\";\")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if(\"win32\"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(\";\");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if(\"/\"===e.charAt(0))return!0;if(/^[a-zA-Z]\\:[\\\\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\\/[a-zA-Z]\\:\\//.test(e)&&(e=e.substr(1)),e=e.replace(/\\//g,\"\\\\\")},t.join=function(e,t){return e=u(e),t=u(t),\"/\"===e.charAt(e.length-1)?e+=t:e=e+\"/\"+t,e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split(\"/\"),r=t.substr(1).split(\"/\");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(\"..\"),s--;return r.join(\"/\")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>\"!\"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==(\"!\"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&\"\\ufeff\"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){\"use strict\";function r(e){return\"/\"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/.exec(e),n=t[1]||\"\",r=Boolean(n&&\":\"!==n.charAt(1));return Boolean(t[2]||r)}e.exports=\"win32\"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require(\"os\")},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";n(58);const r=n(4).inherits,s=n(59),o=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;\"function\"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host=\"localhost\"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit(\"error\",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout((function(){o=null,i=!0;const e=new Error('A \"socket\" was not created for HTTP request before '+a+\"ms\");e.code=\"ETIMEOUT\",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&\"function\"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on(\"free\",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error(\"no Duplex stream was returned to agent-base for `\"+e.method+\" \"+e.path+\"`\"))}}),l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if(\"%%\"===n)return n;c++;var s=t.formatters[r];if(\"function\"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,\"function\"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&(\"-\"===(e=r[n].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){\"use strict\";const r=n(27),s=n(19),o=n(66),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o(\"color=16m\")||o(\"color=full\")||o(\"color=truecolor\"))return 3;if(o(\"color=256\"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if(\"dumb\"===i.TERM)return n;if(\"win32\"===process.platform){const e=r.release().split(\".\");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in i)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\",\"GITHUB_ACTIONS\",\"BUILDKITE\"].some(e=>e in i)||\"codeship\"===i.CI_NAME?1:n;if(\"TEAMCITY_VERSION\"in i)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(i.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===i.COLORTERM)return 3;if(\"TERM_PROGRAM\"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(i.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||\"COLORTERM\"in i?1:n}o(\"no-color\")||o(\"no-colors\")||o(\"color=false\")||o(\"color=never\")?a=0:(o(\"color\")||o(\"colors\")||o(\"color=true\")||o(\"color=always\"))&&(a=1),\"FORCE_COLOR\"in i&&(a=\"true\"===i.FORCE_COLOR?1:\"false\"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){\"use strict\";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if(\"%%\"===e)return e;u++;var s=r.formatters[n];if(\"function\"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,\"function\"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?\":\":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable(\"\")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(70),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(35),s=n(8),o=n(36).ArraySet,i=n(76).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,\"file\",null),this._sourceRoot=s.getArg(e,\"sourceRoot\",null),this._skipValidation=s.getArg(e,\"skipValidation\",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},a.prototype.addMapping=function(e){var t=s.getArg(e,\"generated\"),n=s.getArg(e,\"original\",null),r=s.getArg(e,\"source\",null),o=s.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p=\"\",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e=\"\",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=\";\",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=\",\"}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(75);t.encode=function(e){var t,n=\"\",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o=\"undefined\"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(38),o=n(13),i=(o.Minimatch,n(85)),a=n(12).EventEmitter,c=n(0),u=n(20),l=n(22),h=n(87),p=n(39),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(88),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(41);function b(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if(\"function\"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),\"function\"==typeof n&&(n=v(n),this.on(\"error\",n),this.on(\"end\",(function(e){n(null,e)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return i();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,i);function i(){--s._processing,s._processing<=0&&s._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||\"object\"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if(\"string\"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit(\"end\",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,(function(r,s){r?\"stat\"===r.syscall?a[n]=!0:o.emit(\"error\",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())}))}))},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit(\"abort\")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit(\"pause\"))},E.prototype.resume=function(){if(this.paused){if(this.emit(\"resume\"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u(\"function\"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;\"string\"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join(\"/\"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join(\"/\")}var a,c=e.slice(i);null===s?a=\".\":l(s)||l(e.join(\"/\"))?(s&&l(s)||(s=\"/\"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)}))},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||\".\"===h.charAt(0),d=[],f=0;f<i.length;f++){if(\".\"!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),\"/\"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(\"DIR\"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit(\"stat\",t,s),this.emit(\"match\",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g(\"lstat\\0\"+e,(function(r,s){if(r&&\"ENOENT\"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]=\"FILE\",t())}));s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g(\"readdir\\0\"+e+\"\\0\"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||\"FILE\"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s=\"/\"===e?e+s:e+\"/\"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case\"ENOTSUP\":case\"ENOTDIR\":var r=this._makeAbs(e);if(this.cache[r]=\"FILE\",r===this.cwdAbs){var s=new Error(t.code+\" invalid cwd \"+this.cwd);s.path=this.cwd,s.code=t.code,this.emit(\"error\",s),this.abort()}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit(\"error\",t),this.abort()),this.silent||console.error(\"glob error\",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)}))},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if(\".\"!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(s,o){r._processSimple2(e,t,s,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\\/\\\\]$/.test(e);\"/\"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+=\"/\"))}\"win32\"===process.platform&&(e=e.replace(/\\\\/g,\"/\")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s=\"/\"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o=\"DIR\"),!s||\"DIR\"===o)return t(null,o);if(s&&\"FILE\"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?\"DIR\":\"FILE\";return s&&\"FILE\"===a?t():t(null,a,i)}var c=this,u=g(\"stat\\0\"+n,(function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)}));c._stat2(e,n,s,o,t)}));u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&(\"ENOENT\"===n.code||\"ENOTDIR\"===n.code))return this.statCache[t]=!1,s();var o=\"/\"===e.slice(-1);if(this.statCache[t]=r,\"/\"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?\"DIR\":\"FILE\"),this.cache[t]=this.cache[t]||i,o&&\"FILE\"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\\./.test(i),c=n(81);function u(e){return e&&\"realpath\"===e.syscall&&(\"ELOOP\"===e.code||\"ENOMEM\"===e.code||\"ENAMETOOLONG\"===e.code)}function l(e,t,n){if(a)return s(e,t,n);\"function\"==typeof t&&(n=t,t=null),s(e,t,(function(r,s){u(r)?c.realpath(e,t,n):n(r,s)}))}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf(\"/\")){if(n.noglobstar)throw new Error(\"base matching requires globstar\");t=\"**/\"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,\"cwd\")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,\"/\"),e.root=s.resolve(e.root),\"win32\"===process.platform&&(e.root=e.root.replace(/\\\\/g,\"/\"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),\"win32\"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\\\/g,\"/\"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n=\"DIR\"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!p(e,t)})));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o=\"DIR\"===r||Array.isArray(r),i=\"/\"===t.slice(-1);if(o&&!i?s+=\"/\":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var s=n(0),o=n(13),i=n(22),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if(\"/**\"===e.slice(-3)){var n=e.replace(/(\\/\\*\\*)+$/,\"\");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n=\"/\"===t.charAt(0)?s.join(e.root,t):i(t)||\"\"===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),\"win32\"===process.platform&&(n=n.replace(/\\\\/g,\"/\")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return\"function\"==typeof r&&r!==s&&Object.keys(s).forEach((function(e){r[e]=s[e]})),r}}},function(e,t,n){var r=n(40);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s((function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})}))},,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(45),o=n(52),i=n(53),a=n(21),c=n(14),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,\"node/nodeDebug.ts\"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return\"named\"===t?e._createProperties(this._evalName,this._object,\"named\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t):\"number\"==typeof n&&\"number\"==typeof r?e._createProperties(this._evalName,this._object,\"indexed\",n,r):e._createProperties(this._evalName,this._object,\"all\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return\"named\"===t?e._createSetMapProperties(this._evalName,this._object):\"set\"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties(\"\",this._object,t).then(t=>this._this?e._createVariable(\"\",\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,\"%%\");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),\"%s\"):\"\"});if(n=n.replace(/'/g,\"\\\\'\"),t.length>0)return`console.log('${n}', ${t.join(\", \")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super(\"node-debug.txt\"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console=\"internalConsole\",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log(\"rc\",\"NodeV8Protocol hook: ref cache size: \"+this._refCache.size)}}),this._node.on(\"break\",e=>{this._stopped(\"break\"),this._handleNodeBreakEvent(e.body)}),this._node.on(\"exception\",e=>{this._stopped(\"exception\"),this._handleNodeExceptionEvent(e.body)}),this._node.on(\"afterCompile\",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent(\"new\",e))})}),this._node.on(\"close\",e=>{this._terminated(\"node v8protocol close\")}),this._node.on(\"error\",e=>{this._terminated(\"node v8protocol error\")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command(\"continue\");let t;if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"reject(\")){if(this._skipRejects&&!this._catchRejects)return void this._node.command(\"continue\");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent(\"exception\",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log(\"la\",\"_handleNodeBreakEvent: suppressed stop-on-entry event\"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"debugger\"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent(\"debugger_statement\")}let n=\"step\";this._restartFramePending&&(this._restartFramePending=!1,n=\"frame_entry\"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command(\"continue\",{stepaction:\"in\"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command(\"continue\"):this._sendStoppedEvent(\"breakpoint\")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log(\"ss\",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case\"step\":t=g(4,null);break;case\"breakpoint\":t=g(5,null);break;case\"exception\":t=g(6,null);break;case\"pause\":t=g(7,null);break;case\"entry\":t=g(8,null);break;case\"debugger_statement\":t=g(9,null);break;case\"frame_entry\":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(\"!\"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=\"VM\"+e.id;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,\"\")}_stopped(e){this._stoppedReason=e,this.log(\"la\",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log(\"rc\",\"_stopped: new ref cache\")}_terminated(e){this.log(\"la\",\"_terminated: \"+e),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log(\"la\",\"initializeRequest: adapterID: \"+t.adapterID),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,\"node/nodeDebug.ts\"))),\"boolean\"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:\"all\",default:!1},{label:g(12,null),filter:\"uncaught\",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:\"rejects\",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=\"win32\"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&\"number\"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug=\"boolean\"==typeof t.noDebug&&t.noDebug,\"string\"==typeof t.console)switch(t.console){case\"internalConsole\":case\"integratedTerminal\":case\"externalTerminal\":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else\"boolean\"==typeof t.externalConsole&&t.externalConsole&&(this._console=\"externalTerminal\");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,\"runtimeExecutable\",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,\"{_runtime}\"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,\"{_runtime}\"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,\"program\",o);if(!d.existsSync(o)){if(!d.existsSync(o+\".js\"))return void this.sendNotExistErrorResponse(e,\"program\",o);o+=\".js\"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=[\"--nolazy\"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,\"{path}\"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,\"{path}\",\"outFiles\"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,\"{path}\"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log(\"sm\",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,(function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,\"cwd\",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,\"cwd\",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(\"--debug-brk=\"+m):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on(\"listening\",e=>{const t=r.address();\"object\"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on(\"close\",()=>e(n)),r.on(\"error\",e=>t(e)),r.listen(0,\"127.0.0.1\")}),_.push(\"--debug-brk=\"+m))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const e=a.stripBOM(d.readFileSync(t.envFile,\"utf8\")),n={};e.split(\"\\n\").forEach(e=>{const t=e.match(/^\\s*([\\w\\.\\-]+)\\s*=\\s*(.*)?\\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let r=t[2]||\"\";r.length>0&&'\"'===r.charAt(0)&&'\"'===r.charAt(r.length-1)&&(r=r.replace(/\\\\n/gm,\"\\n\")),n[e]=r.replace(/(^['\"]|['\"]$)/g,\"\")}}}),y=a.extendObject(n,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,\"{_error}\"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&\"externalTerminal\"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||\"externalTerminal\"!==this._console&&\"integratedTerminal\"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y),y){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if(\"win32\"===process.platform&&E.executable.indexOf(\" \")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(\" \")>0?(t.push(`\"${n}\"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`\"${E.executable}\"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on(\"error\",t=>{this.sendErrorResponse(e,2017,g(25,null,\"{_error}\"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on(\"exit\",()=>{this._terminated(\"target exited\")}),r.on(\"close\",e=>{this._terminated(\"target closed\")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:\"integratedTerminal\"===this._console?\"integrated\":\"external\",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated(\"cannot track process\")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,\"{_error}\"),{_error:n.message}),this._terminated(\"terminal error: \"+n.message))})}}))}_sendLaunchCommandToConsole(e){let t=\"\";for(let n of e)n.indexOf(\" \")>=0?t+=\"'\"+n+\"'\":t+=n,t+=\" \";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stdout\"))}),e.stderr&&e.stderr.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stderr\"))})}_processCommonArgs(e,t){let n=!0;if(\"boolean\"==typeof t.trace?(this._trace=t.trace?[\"all\"]:void 0,this._traceAll=t.trace):\"string\"==typeof t.trace&&(this._trace=t.trace.split(\",\"),this._traceAll=this._trace.indexOf(\"all\")>=0,this._trace.indexOf(\"dap\")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),\"boolean\"==typeof t.stepBack&&(this._stepBack=t.stepBack),\"boolean\"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),\"boolean\"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),\"boolean\"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),\"boolean\"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"localRoot\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"localRoot\",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),\"boolean\"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"outDir\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"outDir\",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&\"localhost\"!==r?r:\"127.0.0.1\",o||(o=R.ATTACH_TIMEOUT),this.log(\"la\",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on(\"connect\",t=>{this.log(\"la\",\"_attach: connected\"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on(\"error\",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,\"{_error}\"),{_error:r.message});else if(\"ECONNREFUSED\"===r.code||\"ECONNRESET\"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log(\"la\",\"_attach: retry socket.connect\"),c.connect(n,i)},200):\"number\"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,\"{_error}\"),{_error:r.message})}),c.on(\"end\",e=>{this._terminated(\"socket end\")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log(\"la\",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf(\"process is not defined\")>=0&&(this.log(\"la\",\"__initialize: process not defined error; got no pid\"),r.success=!0),r.success)t(r.running);else{if(this.log(\"la\",\"__initialize: retrieving process id from node failed\"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command(\"evaluate\",{expression:\"process.version\",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent(\"nodeVersion\",\"telemetry\",{version:t})),this.log(\"la\",\"_initialize: target node version: \"+t)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated(\"node process kill exception\")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),\"utf8\"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log(\"la\",\"_injectDebuggerExtensions: code injection successful\"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log(\"la\",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log(\"la\",\"_startInitialize: stopped: \"+e),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log(\"la\",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log(\"la\",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log(\"la\",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command(\"frame\",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log(\"la\",\"_startInitialize2: fire initialized event\"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log(\"la\",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log(\"la\",\"_startInitialize2: fire stop-on-entry event\"),this._sendStoppedEvent(\"entry\")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log(\"la\",\"_startInitialize2: remember to do a 'Continue' later\"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,\"SIGINT\"),this.log(\"la\",\"terminateRequest: send response\"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log(\"la\",\"disconnectRequest: send response\"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command(\"disconnect\"),this._node.stop();else{this._node.stop(),this.log(\"la\",\"shutdown: kill debugee and sub-processes\");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,\"/bin/kill\",[\"-9\",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log(\"bp\",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||\">=\";\"=\"===e&&(e=\"==\");const r=n[2];t=Function(\"hitcnt\",\"%\"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),\"number\"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:\"boolean\"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,\"{_module}\"),{_module:o})});else{if(\"number\"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,\"No valid source specified.\",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve(\"\").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log(\"bp\",\"_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap\"),r=\"\"),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case\"scriptId\":n===t.script_id&&r.push(t.number);break;case\"scriptRegExp\":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",\"_updateBreakpoints: result \"+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:\"scriptId\",target:e,line:n.line,column:n.column,condition:n.condition}:{type:\"scriptRegExp\",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log(\"bp\",\"_setBreakpoint: \"+JSON.stringify(o)),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log(\"sm\",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,(function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log(\"la\",\"_setBreakpoint2: remember to fire a breakpoint event later\"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))}))}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\\\.?*()^${}|[\\]])/g,\"\\\\$1\");if(/^[a-zA-Z]:\\\\/.test(e)){const e=t.substring(0,1).toUpperCase();t=\"[\"+e.toLowerCase()+e+\"]\"+t.substring(1)}return\"^(.*[\\\\/\\\\\\\\])?\"+t+\"$\"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",\"setFunctionBreakPointsRequest: result \"+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:\"function\",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log(\"bp\",\"setExceptionBreakPointsRequest: \"+JSON.stringify(t.filters));let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf(\"all\")>=0,r=o.indexOf(\"uncaught\")>=0,this._catchRejects=o.indexOf(\"rejects\")>=0),Promise.all([this._node.setExceptionBreak({type:\"all\",enabled:n}),this._node.setExceptionBreak({type:\"uncaught\",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,\"Configuring exception break options failed ({_nodeError}).\",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n=\"nothing to do\";this._needContinue&&(this._needContinue=!1,n=\"do a 'Continue'\",this._node.command(\"continue\")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n=\"fire breakpoint event\",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n=\"fire debugger statement event\",this._sendStoppedEvent(\"debugger_statement\")),this.log(\"la\",\"configurationDoneRequest: \"+n),this.sendResponse(e)}threadsRequest(e){this._node.command(\"threads\",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r=\"number\"==typeof t.startFrame?t.startFrame:0,o=\"number\"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,\"Unexpected thread reference {_thread}.\",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log(\"va\",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error(\"no stack\")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{\"no stack\"===t.message?\"pause\"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if(\"file:\"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if(\"number\"!=typeof o.id)throw new Error(\"no script id\");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint=\"deemphasize\"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log(\"sm\",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&(t=n.inferredName,t&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];n=n.replace(/\\r\\n/g,\"\\n\"),t=t.replace(/\\r\\n/g,\"\\n\"),t=t.replace(/^#!.*\\n/,\"\");return n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log(\"ls\",\"__readFile: \"+e),t=new Promise((t,n)=>{d.readFile(e,\"utf8\",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,\"stack frame not valid\",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a=\"scopes\";this._nodeInjectionAvailable&&(a=\"vscode_scopes\",i.maxLocals=this._maxVariablesPerScope),this.log(\"va\",\"scopesRequest: scope \"+r),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&\"number\"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n=\"indexed\"===t.filter||\"named\"===t.filter?t.filter:\"all\";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if(\"number\"==typeof t.vscode_indexedCnt&&\"number\"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2(\"vscode_slice\",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if(\"name\"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case\"all\":o.push(e);break;case\"named\":w(t)||o.push(e);break;case\"indexed\":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&(\"all\"===n||\"named\"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=\"\"+(s+e)}else i=n.name;if(this._node.v8Version&&\"undefined\"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:\"obj\",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log(\"va\",\"_createPropertyVariables: trigger getter\"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,\"undefined\"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='\"\"');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case\"undefined\":case\"null\":return Promise.resolve(this._createVar(o,t,n.type));case\"string\":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case\"number\":if(\"number\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case\"boolean\":if(\"boolean\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case\"set\":case\"map\":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case\"object\":case\"function\":case\"regexp\":case\"promise\":case\"generator\":case\"error\":const i=n;let a=i.className;switch(a){case\"Array\":case\"ArrayBuffer\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":return this._createArrayVariable(e,t,n,r);case\"RegExp\":if(\"string\"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case\"Generator\":case\"Object\":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if(\"promise\"===n.type||\"generator\"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case\"Function\":case\"Error\":default:if(i.text){let e=i.text;if(e.indexOf(\"\\n\")>=0){const t=e.indexOf(\"{\");t>0&&(e=e.substring(0,t)+\"{", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js", "进程PID": "", "异常时间": "2021-04-02 00:04:52", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(371)},function(e,t,r){\"use strict\";const n=r(0),i=r(372),s=r(373),o=r(84),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):(\"function\"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let i,o=t||{},c=o.contains?\"\":\"^\",u=o.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=l.prefix=\"./\"),!1===o.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||\"\"),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(85),e.exports=a},function(e,t,r){\"use strict\";const n=r(84),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(85);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A=\"\",R=e,I=e,D=\"\";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I=\"\",D=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){\"use strict\";const n=r(84),i=r(85),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,h=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=u[e]||e;let r={...t},h=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},m=[g],y=r.capture?\"\":\"?:\",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?\"\":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||\"\"},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if(\"globstar\"===$.type){let t=F.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type=\"star\",$.value=\"*\",$.output=D,F.output+=$.output)}B.length&&\"paren\"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&\"text\"===$.type&&\"text\"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:\"\"};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?\"(\":\"\")+n.open;K({type:e,value:t,output:F.output?\"\":x}),K({type:\"paren\",extglob:!0,value:W(),output:i}),G(\"parens\"),B.push(n)},Q=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(i=R(r)),(i!==D||q()||/^\\)+$/.test(e.slice(F.index+1)))&&(n=t.close=\")$))\"+i),\"bos\"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:\"paren\",extglob:!0,value:N,output:n}),z(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>\"\\\\\"===i?(t=!0,e):\"?\"===i?r?r+i+(s?T.repeat(s.length):\"\"):0===o?L+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===i?_.repeat(n.length):\"*\"===i?r?r+i+(s?D:\"\"):D:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),F.output=n,F}for(;!q();){if(N=W(),\"\\0\"===N)continue;if(\"\\\\\"===N){let t=V();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){N+=\"\\\\\",K({type:\"text\",value:N});continue}let n=/^\\\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+=\"\\\\\")),!0===r.unescape?N=W()||\"\":N+=W()||\"\",0===F.brackets){K({type:\"text\",value:N});continue}}if(F.brackets>0&&(\"]\"!==N||\"[\"===$.value||\"[^\"===$.value)){if(!1!==r.posix&&\":\"===N){let e=$.value.slice(1);if(e.includes(\"[\")&&($.posix=!0,e.includes(\":\"))){let e=$.value.lastIndexOf(\"[\"),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}(\"[\"===N&&\":\"!==V()||\"-\"===N&&\"]\"===V())&&(N=\"\\\\\"+N),\"]\"!==N||\"[\"!==$.value&&\"[^\"!==$.value||(N=\"\\\\\"+N),!0===r.posix&&\"!\"===N&&\"[\"===$.value&&(N=\"^\"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'\"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('\"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:\"text\",value:N});continue}if(\"(\"===N){K({type:\"paren\",value:N}),G(\"parens\");continue}if(\")\"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"(\"));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:\"paren\",value:N,output:F.parens?\")\":\"\\\\)\"}),z(\"parens\");continue}if(\"[\"===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes(\"]\"))G(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));N=\"\\\\\"+N}K({type:\"bracket\",value:N});continue}if(\"]\"===N){if(!0===r.nobracket||$&&\"bracket\"===$.type&&1===$.value.length){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"[\"));K({type:\"text\",value:N,output:\"\\\\\"+N});continue}z(\"brackets\");let e=$.value.slice(1);if(!0===$.posix||\"^\"!==e[0]||e.includes(\"/\")||(N=\"/\"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if(\"{\"===N&&!0!==r.nobrace){K({type:\"brace\",value:N,output:\"(\"}),G(\"braces\");continue}if(\"}\"===N){if(!0===r.nobrace||0===F.braces){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}let e=\")\";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:\"brace\",value:N,output:e}),z(\"braces\");continue}if(\"|\"===N){B.length>0&&B[B.length-1].conditions++,K({type:\"text\",value:N});continue}if(\",\"===N){let e=N;F.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),K({type:\"comma\",value:N,output:e});continue}if(\"/\"===N){if(\"dot\"===$.type&&1===F.index){F.start=F.index+1,F.consumed=\"\",F.output=\"\",m.pop(),$=g;continue}K({type:\"slash\",value:N,output:k});continue}if(\".\"===N){if(F.braces>0&&\"dot\"===$.type){\".\"===$.value&&($.output=_),$.type=\"dots\",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:\"dot\",value:N,output:_});continue}if(\"?\"===N){if($&&\"paren\"===$.type){let e=V(),t=N;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===$.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(V(2)))&&(t=\"\\\\\"+N),K({type:\"text\",value:N,output:t});continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"qmark\",N);continue}if(!0!==r.dot&&(\"slash\"===$.type||\"bos\"===$.type)){K({type:\"qmark\",value:N,output:j});continue}K({type:\"qmark\",value:N,output:T});continue}if(\"!\"===N){if(!0!==r.noextglob&&\"(\"===V()&&(\"?\"!==V(2)||!/[!=<:]/.test(V(3)))){J(\"negate\",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if(\"+\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"plus\",N);continue}if($&&(\"bracket\"===$.type||\"paren\"===$.type||\"brace\"===$.type)){let e=!0===$.extglob?\"\\\\\"+N:N;K({type:\"plus\",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:\"plus\",value:N});continue}K({type:\"plus\",value:S});continue}if(\"@\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){K({type:\"at\",value:N,output:\"\"});continue}K({type:\"text\",value:N});continue}if(\"*\"!==N){\"$\"!==N&&\"^\"!==N||(N=\"\\\\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:\"text\",value:N});continue}if($&&(\"globstar\"===$.type||!0===$.star)){$.type=\"star\",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"star\",N);continue}if(\"star\"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!i||!q()&&\"/\"!==V())){K({type:\"star\",value:N,output:\"\"});continue}let o=F.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!i&&\"paren\"!==t.type&&!o&&!a){K({type:\"star\",value:N,output:\"\"});continue}for(;\"/**\"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&\"/\"!==t)break;F.consumed+=\"/**\",F.index+=3}if(\"bos\"===t.type&&q()){$.type=\"globstar\",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=R(r)+\"|$)\",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==V(2)?\"|$\":\"\";F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){$.type=\"globstar\",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}F.output=F.output.slice(0,-$.output.length),$.type=\"globstar\",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:\"star\",value:N,output:D};!0!==r.bash?!$||\"bracket\"!==$.type&&\"paren\"!==$.type||!0!==r.regex?(F.index!==F.start&&\"slash\"!==$.type&&\"dot\"!==$.type||(\"dot\"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),\"*\"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=\".*?\",\"bos\"!==$.type&&\"slash\"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));F.output=n.escapeLast(F.output,\"[\"),z(\"brackets\")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\")\"));F.output=n.escapeLast(F.output,\"(\"),z(\"parens\")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"}\"));F.output=n.escapeLast(F.output,\"{\"),z(\"braces\")}if(!0===r.strictSlashes||\"star\"!==$.type&&\"bracket\"!==$.type||K({type:\"maybe_slash\",value:\"\",output:`${k}?`}),!0===F.backtrack){F.output=\"\";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?\"\":\"?:\",w=!0===r.bash?\".*?\":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case\"*\":return`${_}${d}${w}`;case\".*\":return`${l}${d}${w}`;case\"*.*\":return`${_}${w}${l}${d}${w}`;case\"*/*\":return`${_}${w}${p}${d}${S}${w}`;case\"**\":return _+k(r);case\"**/*\":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case\"**/*.*\":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case\"**/.*\":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?\"variable\":\"property\",i=(e,t,i)=>{if(\"function\"!==t)return n;if(\"constructor\"===e)return\"class\";const s=String(i);return s.startsWith(\"class \")||s.includes(\"[native code]\")&&/^[A-Z]/.test(e)?\"class\":r?\"function\":\"method\"},s=[],o=new Set;let a=\"~\",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+=\"~\";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>\"{\".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(63),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,\"adapter/console/queryObjectsMessage.js\"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:\"stderr\",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:\"console\"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:\"stderr\",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:\"console\",generatePreview:!0})}catch(e){return{category:\"stderr\",output:u(2,null,e.message)}}const n=\"", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "进程PID": "", "异常时间": "2021-04-02 00:04:52", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(23)},function(e,t,r){\"use strict\";const n=r(0),o=r(24),s=r(25),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const l=(r,i=!1)=>{let{isMatch:l,match:p,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:p,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(d),!1===l?(d.isMatch=!1,!!i&&d):c(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):(\"function\"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(l.state=u),l};a.test=(e,t,r,{glob:n,posix:o}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,l=c&&u?u(e):e;return!1===c&&(l=u?u(e):e,c=l===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(l)),{isMatch:!!c,match:c,output:l}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let o,i=t||{},u=i.contains?\"\":\"^\",c=i.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=l.prefix=\"./\"),!1===i.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(l=a.parse(e,t),l.prefix=p+(l.prefix||\"\"),o=l.output),!0===r)return o;let f=`${u}(?:${o})${c}`;l&&!0===l.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=l),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){\"use strict\";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:R,CHAR_RIGHT_SQUARE_BRACKET:A}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},v=e.length-1,C=-1,b=0,m=0,S=!1,x=!1,O=!1,T=0,H=!1,w=()=>C>=v,N=()=>(r=E,e.charCodeAt(++C));for(;C<v;){let t;if(E=N(),E!==i){if(!0===H||E===p)for(T++;!w()&&(t=N());)if(t!==i)if(t!==p){if(!H&&t===u&&(t=N())===u){S=!0;break}if(!H&&t===a){S=!0;break}if(t===g&&(T--,0===T)){H=!1;break}}else T++;else x=!0,t=N();if(E!==l){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!w()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else x=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(C+1)===f){S=!0;break}if(E!==c||C!==b){if(E===f)for(;!w()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else x=!0,t=N();if(S)break}else O=!0,b++}else{if(r===u&&C===b+1){b+=2;continue}m=C+1}}else x=!0,t=N(),t===p&&(H=!0)}let L=\"\",P=e,k=e,I=\"\";return b>0&&(L=e.slice(0,b),e=e.slice(b),m-=b),k&&!0===S&&m>0?(k=e.slice(0,m),I=e.slice(m)):!0===S?(k=\"\",I=e):k=e,k&&\"\"!==k&&\"/\"!==k&&k!==e&&(e=>e===l||e===i)(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),!0===y.unescape&&(I&&(I=n.removeBackslashes(I)),k&&!0===x&&(k=n.removeBackslashes(k))),{prefix:L,input:P,base:k,glob:I,negated:O,isGlob:S}}},function(e,t,r){\"use strict\";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,d=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=c[e]||e;let r={...t},d=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:\"bos\",value:\"\",output:r.prepend||\"\"},g=[h],R=r.capture?\"\":\"?:\",A=n.isWindows(t);const E=o.globChars(A),y=o.extglobChars(E),{DOT_LITERAL:v,PLUS_LITERAL:C,SLASH_LITERAL:b,ONE_CHAR:m,DOTS_SLASH:S,NO_DOT:x,NO_DOT_SLASH:O,NO_DOTS_SLASH:T,QMARK:H,QMARK_NO_DOT:w,STAR:N,START_ANCHOR:L}=E,P=e=>`(${R}(?:(?!${L}${e.dot?S:v}).)*?)`;let k=r.dot?\"\":x,I=!0===r.bash?P(r):N,$=r.dot?H:w;r.capture&&(I=`(${I})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],j=[],F=h;const K=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||\"\"},Q=e=>{D[e]++,j.push(e)},W=e=>{D[e]--,j.pop()},X=e=>{if(\"globstar\"===F.type){let t=D.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(D.output=D.output.slice(0,-F.output.length),F.type=\"star\",F.value=\"*\",F.output=I,D.output+=F.output)}B.length&&\"paren\"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&q(e),F&&\"text\"===F.type&&\"text\"===e.type?F.value+=e.value:(e.prev=F,g.push(e),F=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:\"\"};n.prev=F,n.parens=D.parens,n.output=D.output;let o=(r.capture?\"(\":\"\")+n.open;X({type:e,value:t,output:D.output?\"\":m}),X({type:\"paren\",extglob:!0,value:G(),output:o}),Q(\"parens\"),B.push(n)},V=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let o=I;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(o=P(r)),(o!==I||K()||/^\\)+$/.test(e.slice(D.index+1)))&&(n=t.close=\")$))\"+o),\"bos\"===t.prev.type&&K()&&(D.negatedExtglob=!0)}X({type:\"paren\",extglob:!0,value:M,output:n}),W(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>\"\\\\\"===o?(t=!0,e):\"?\"===o?r?r+o+(s?H.repeat(s.length):\"\"):0===i?$+(s?H.repeat(s.length):\"\"):H.repeat(n.length):\".\"===o?v.repeat(n.length):\"*\"===o?r?r+o+(s?I:\"\"):I:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),D.output=n,D}for(;!K();){if(M=G(),\"\\0\"===M)continue;if(\"\\\\\"===M){let t=U();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){M+=\"\\\\\",X({type:\"text\",value:M});continue}let n=/^\\\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+=\"\\\\\")),!0===r.unescape?M=G()||\"\":M+=G()||\"\",0===D.brackets){X({type:\"text\",value:M});continue}}if(D.brackets>0&&(\"]\"!==M||\"[\"===F.value||\"[^\"===F.value)){if(!1!==r.posix&&\":\"===M){let e=F.value.slice(1);if(e.includes(\"[\")&&(F.posix=!0,e.includes(\":\"))){let e=F.value.lastIndexOf(\"[\"),t=F.value.slice(0,e),r=F.value.slice(e+2),n=i[r];if(n){F.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(F)||(h.output=m);continue}}}(\"[\"===M&&\":\"!==U()||\"-\"===M&&\"]\"===U())&&(M=\"\\\\\"+M),\"]\"!==M||\"[\"!==F.value&&\"[^\"!==F.value||(M=\"\\\\\"+M),!0===r.posix&&\"!\"===M&&\"[\"===F.value&&(M=\"^\"),F.value+=M,q({value:M});continue}if(1===D.quotes&&'\"'!==M){M=n.escapeRegex(M),F.value+=M,q({value:M});continue}if('\"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:\"text\",value:M});continue}if(\"(\"===M){X({type:\"paren\",value:M}),Q(\"parens\");continue}if(\")\"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"(\"));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:\"paren\",value:M,output:D.parens?\")\":\"\\\\)\"}),W(\"parens\");continue}if(\"[\"===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes(\"]\"))Q(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));M=\"\\\\\"+M}X({type:\"bracket\",value:M});continue}if(\"]\"===M){if(!0===r.nobracket||F&&\"bracket\"===F.type&&1===F.value.length){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f(\"opening\",\"[\"));X({type:\"text\",value:M,output:\"\\\\\"+M});continue}W(\"brackets\");let e=F.value.slice(1);if(!0===F.posix||\"^\"!==e[0]||e.includes(\"/\")||(M=\"/\"+M),F.value+=M,q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(F.value);if(D.output=D.output.slice(0,-F.value.length),!0===r.literalBrackets){D.output+=t,F.value=t;continue}F.value=`(${R}${t}|${F.value})`,D.output+=F.value;continue}if(\"{\"===M&&!0!==r.nobrace){X({type:\"brace\",value:M,output:\"(\"}),Q(\"braces\");continue}if(\"}\"===M){if(!0===r.nobrace||0===D.braces){X({type:\"text\",value:M,output:\"\\\\\"+M});continue}let e=\")\";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),D.backtrack=!0}X({type:\"brace\",value:M,output:e}),W(\"braces\");continue}if(\"|\"===M){B.length>0&&B[B.length-1].conditions++,X({type:\"text\",value:M});continue}if(\",\"===M){let e=M;D.braces>0&&\"braces\"===j[j.length-1]&&(e=\"|\"),X({type:\"comma\",value:M,output:e});continue}if(\"/\"===M){if(\"dot\"===F.type&&1===D.index){D.start=D.index+1,D.consumed=\"\",D.output=\"\",g.pop(),F=h;continue}X({type:\"slash\",value:M,output:b});continue}if(\".\"===M){if(D.braces>0&&\"dot\"===F.type){\".\"===F.value&&(F.output=v),F.type=\"dots\",F.output+=M,F.value+=M,D.dots=!0;continue}X({type:\"dot\",value:M,output:v});continue}if(\"?\"===M){if(F&&\"paren\"===F.type){let e=U(),t=M;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===F.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(U(2)))&&(t=\"\\\\\"+M),X({type:\"text\",value:M,output:t});continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"qmark\",M);continue}if(!0!==r.dot&&(\"slash\"===F.type||\"bos\"===F.type)){X({type:\"qmark\",value:M,output:w});continue}X({type:\"qmark\",value:M,output:H});continue}if(\"!\"===M){if(!0!==r.noextglob&&\"(\"===U()&&(\"?\"!==U(2)||!/[!=<:]/.test(U(3)))){Z(\"negate\",M);continue}if(!0!==r.nonegate&&0===D.index){p(D);continue}}if(\"+\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"plus\",M);continue}if(F&&(\"bracket\"===F.type||\"paren\"===F.type||\"brace\"===F.type)){let e=!0===F.extglob?\"\\\\\"+M:M;X({type:\"plus\",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:\"plus\",value:M});continue}X({type:\"plus\",value:C});continue}if(\"@\"===M){if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){X({type:\"at\",value:M,output:\"\"});continue}X({type:\"text\",value:M});continue}if(\"*\"!==M){\"$\"!==M&&\"^\"!==M||(M=\"\\\\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:\"text\",value:M});continue}if(F&&(\"globstar\"===F.type||!0===F.star)){F.type=\"star\",F.star=!0,F.value+=M,F.output=I,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&\"(\"===U()&&\"?\"!==U(2)){Z(\"star\",M);continue}if(\"star\"===F.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=F.prev,n=t.prev,o=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!o||!K()&&\"/\"!==U())){X({type:\"star\",value:M,output:\"\"});continue}let i=D.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!o&&\"paren\"!==t.type&&!i&&!a){X({type:\"star\",value:M,output:\"\"});continue}for(;\"/**\"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&\"/\"!==t)break;D.consumed+=\"/**\",D.index+=3}if(\"bos\"===t.type&&K()){F.type=\"globstar\",F.value+=M,F.output=P(r),D.output=F.output,D.consumed+=M;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&K()){D.output=D.output.slice(0,-(t.output+F.output).length),t.output=\"(?:\"+t.output,F.type=\"globstar\",F.output=P(r)+\"|$)\",F.value+=M,D.output+=t.output+F.output,D.consumed+=M;continue}let u=U();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===u){let e=void 0!==U(2)?\"|$\":\"\";D.output=D.output.slice(0,-(t.output+F.output).length),t.output=\"(?:\"+t.output,F.type=\"globstar\",F.output=`${P(r)}${b}|${b}${e})`,F.value+=M,D.output+=t.output+F.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===u){F.type=\"globstar\",F.value+=M,F.output=`(?:^|${b}|${P(r)}${b})`,D.output=F.output,D.consumed+=M+G(),X({type:\"slash\",value:M,output:\"\"});continue}D.output=D.output.slice(0,-F.output.length),F.type=\"globstar\",F.output=P(r),F.value+=M,D.output+=F.output,D.consumed+=M;continue}let t={type:\"star\",value:M,output:I};!0!==r.bash?!F||\"bracket\"!==F.type&&\"paren\"!==F.type||!0!==r.regex?(D.index!==D.start&&\"slash\"!==F.type&&\"dot\"!==F.type||(\"dot\"===F.type?(D.output+=O,F.output+=O):!0===r.dot?(D.output+=T,F.output+=T):(D.output+=k,F.output+=k),\"*\"!==U()&&(D.output+=m,F.output+=m)),X(t)):(t.output=M,X(t)):(t.output=\".*?\",\"bos\"!==F.type&&\"slash\"!==F.type||(t.output=k+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"]\"));D.output=n.escapeLast(D.output,\"[\"),W(\"brackets\")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\")\"));D.output=n.escapeLast(D.output,\"(\"),W(\"parens\")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f(\"closing\",\"}\"));D.output=n.escapeLast(D.output,\"{\"),W(\"braces\")}if(!0===r.strictSlashes||\"star\"!==F.type&&\"bracket\"!==F.type||X({type:\"maybe_slash\",value:\"\",output:`${b}?`}),!0===D.backtrack){D.output=\"\";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:R,START_ANCHOR:A}=o.globChars(u);let E=r.capture?\"\":\"?:\",y=!0===r.bash?\".*?\":R,v=r.dot?h:_,C=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${A}${e.dot?d:l}).)*?)`,m=e=>{switch(e){case\"*\":return`${v}${f}${y}`;case\".*\":return`${l}${f}${y}`;case\"*.*\":return`${v}${y}${l}${f}${y}`;case\"*/*\":return`${v}${y}${p}${f}${C}${y}`;case\"**\":return v+b(r);case\"**/*\":return`(?:${v}${b(r)}${p})?${C}${f}${y}`;case\"**/*.*\":return`(?:${v}${b(r)}${p})?${C}${y}${l}${f}${y}`;case\"**/.*\":return`(?:${v}${b(r)}${p})?${l}${f}${y}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=m(r[1],t);if(!n)return;return n+l+r[2]}}};let S=m(e);return S&&!0!==r.strictSlashes&&(S+=`${p}?`),S},e.exports=d},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.findOpenPortSync=void 0;const n=r(5),o=r(9);var s=r(27);Object.defineProperty(t,\"acquirePortNumber\",{enumerable:!0,get:function(){return s.acquirePortNumber}}),t.findOpenPortSync=function({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){const n=i();let s=o.randomInRange(e,t);for(let o=Math.min(r,t-e);o>=0;o--){if(n(s))return s;s=s===t-1?e:s+1}throw new Error(\"No open port found\")};const i=()=>{const e=e=>0===n.spawnSync(process.execPath,[\"-e\",'require(\"net\").createServer().on(\"listening\",()=>process.exit(0)).on(\"error\",()=>process.exit(1)).listen(+process.env.PORT)'],{env:Object.assign(Object.assign({},process.env),{PORT:String(e),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:\"1\"})}).status;let t=\"win32\"===process.platform?e:r=>{var o;const s=n.spawnSync(\"nc\",[\"-z\",\"127.0.0.1\",String(r)]);return\"ENOENT\"===(null===(o=s.error)||void 0===o?void 0:o.code)&&(t=e),1===s.status};return e=>t(e)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const n=r(28),o=r(29),s=r(9);function i(e,t=o.NeverCancelled){let r;return new Promise((s,i)=>{const a=n.createServer();a.listen(e,()=>{const e=a.address();a.close(()=>s(e.port))}),a.on(\"error\",i),r=t.onCancellationRequested(()=>{a.close(),i(new o.TaskCancelledError(\"Port open lookup cancelled\"))})}).finally(()=>null==r?void 0:r.dispose())}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=i}={},a=o.NeverCancelled){let u=s.randomInRange(e,t);for(let s=Math.min(r,t-e);;s--)try{return await n(u,a)}catch(r){if(0===s||r instanceof o.TaskCancelledError)throw r;u=u===t-1?e:u+1}},t.isPortOpen=async function(e,t){try{return await i(e,t),!0}catch(e){return!1}},t.acquirePortNumber=i,t.makeAcquireTcpServer=e=>(t,r)=>{let s;return new Promise((i,a)=>{const u=n.createServer(e);u.listen(t,\"127.0.0.1\"),u.on(\"error\",a),u.on(\"listening\",()=>i(u)),s=r.onCancellationRequested(()=>{u.close(),a(new o.TaskCancelledError(\"Port open lookup cancelled\"))})}).finally(()=>null==s?void 0:s.dispose())}},function(e,t){e.exports=require(\"net\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(30),o=r(31),s=r(32);class i extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=i,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new i(r||\"Task cancelled\"));const n=s.getDeferred(),o=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new i(r||\"Task cancelled\")}),e.then(e=>(o.dispose(),e)).catch(e=>{throw o.dispose(),e})])},t.cancellableRace=function(e,t){const r=new u(t),n=e.map(async e=>{try{return await e(r.token)}finally{r.cancel()}});return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class u{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new u(t),n=r._token=new c,o=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(o)),r}get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token instanceof c&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof c&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=u;class c{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ProtocolError=void 0;class n extends Error{constructor(e){super(\"__errorMarker\"in e?e.error.format:e.format),this._cause=\"__errorMarker\"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EventEmitter=void 0;t.EventEmitter=class{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(o),o}}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getDeferred=t.some=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise(t=>setTimeout(t,e)):new Promise(()=>{}),t.some=function(e){return new Promise((t,r)=>{let n=e.length;for(const o of e)o.then(e=>{e?(t(e),n=-1):0==--n&&t(void 0)}).catch(r)})},t.getDeferred=function(){let e,t=null,r=null,n=!1;const o=new Promise((o,s)=>{t=t=>{n=!0,e=t,o(t)},r=e=>{n=!0,s(e)}});return{resolve:t,reject:r,promise:o,get settledValue(){return e},hasSettled:()=>n}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set([\"mocha\",\"jest\",\"jest-cli\",\"ava\",\"tape\",\"tap\",\"ts-node\",\"babel-node\"]);t.knownToolToken=\"$KNOWN_TOOLS$\",t.knownToolGlob=`{${[...n].join(\",\")}}`},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=\":::\";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(36),logger_1=__webpack_require__(11);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to lack of IPC server\"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to invalid lease file\"),!1)},exports.checkNotElectron=()=>{try{return eval(\"window\"),logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling in Electron (window is set)\"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r=\"\";try{r=__webpack_require__(38).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||\"\").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to not matching pattern\",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&\"npm-cli.js\"===path_1.basename(e[1])&&\"prefix\"===e[2]&&\"-g\"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&\"node-gyp.js\"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.LeaseFile=void 0;const i=r(10),a=r(6),u=r(37),c=s(r(0));class l{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString(\"hex\")}`),this.file=a.promises.open(this.path,\"w\")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-l.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),l.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=l,l.updateInterval=1e3,l.recencyDeadline=2e3},function(e,t){e.exports=require(\"os\")},function(e,t){function r(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=38},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,\"watchdog.bundle.js\"),t.bootloaderDefaultPath=n.join(__dirname,\"bootloader.bundle.js\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createTargetId=void 0;const n=r(10);t.createTargetId=()=>n.randomBytes(12).toString(\"hex\")},function(e,t){e.exports=require(\"worker_threads\")}]);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js", "进程PID": "", "异常时间": "2021-04-13 17:30:28", "所属用户": "root", "异常信息": "反弹shell类：[0m`,t,...i):console.error(`[main ${p()}]`,t,...i))}dispose(){}flush(){}}e.ConsoleMainLogger=O;class w extends m{constructor(t=e.DEFAULT_LOG_LEVEL){super();this.setLevel(t)}trace(t,...i){this.getLevel()<=g.Trace&&console.log(\"%cTRACE\",\"color: #888\",t,...i)}debug(t,...i){this.getLevel()<=g.Debug&&console.log(\"%cDEBUG\",\"background: #eee; color: #888\",t,...i)}info(t,...i){this.getLevel()<=g.Info&&console.log(\"%c INFO\",\"color: #33f\",t,...i)}warn(t,...i){this.getLevel()<=g.Warning&&console.log(\"%c WARN\",\"color: #993\",t,...i)}error(t,...i){this.getLevel()<=g.Error&&console.log(\"%c ERR\",\"color: #f33\",t,...i)}critical(t,...i){this.getLevel()<=g.Critical&&console.log(\"%cCRITI\",\"background: #f33; color: white\",t,...i)}dispose(){}flush(){}}e.ConsoleLogger=w;class P extends m{constructor(t,i=e.DEFAULT_LOG_LEVEL){super();this.adapter=t,this.setLevel(i)}trace(t,...i){this.getLevel()<=g.Trace&&this.adapter.log(g.Trace,[this.extractMessage(t),...i])}debug(t,...i){this.getLevel()<=g.Debug&&this.adapter.log(g.Debug,[this.extractMessage(t),...i])}info(t,...i){this.getLevel()<=g.Info&&this.adapter.log(g.Info,[this.extractMessage(t),...i])}warn(t,...i){this.getLevel()<=g.Warning&&this.adapter.log(g.Warning,[this.extractMessage(t),...i])}error(t,...i){this.getLevel()<=g.Error&&this.adapter.log(g.Error,[this.extractMessage(t),...i])}critical(t,...i){this.getLevel()<=g.Critical&&this.adapter.log(g.Critical,[this.extractMessage(t),...i])}extractMessage(t){return typeof t==\"string\"?t:(0,F.toErrorMessage)(t,this.getLevel()<=g.Trace)}dispose(){}flush(){}}e.AdapterLogger=P;class u extends m{constructor(t){super();this.logServices=t,t.length&&this.setLevel(t[0].getLevel())}setLevel(t){for(const i of this.logServices)i.setLevel(t);super.setLevel(t)}trace(t,...i){for(const s of this.logServices)s.trace(t,...i)}debug(t,...i){for(const s of this.logServices)s.debug(t,...i)}info(t,...i){for(const s of this.logServices)s.info(t,...i)}warn(t,...i){for(const s of this.logServices)s.warn(t,...i)}error(t,...i){for(const s of this.logServices)s.error(t,...i)}critical(t,...i){for(const s of this.logServices)s.critical(t,...i)}flush(){for(const t of this.logServices)t.flush()}dispose(){for(const t of this.logServices)t.dispose()}}e.MultiplexLogService=u;class y extends T.Disposable{constructor(t){super();this.logger=t,this._register(t)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...i){this.logger.trace(t,...i)}debug(t,...i){this.logger.debug(t,...i)}info(t,...i){this.logger.info(t,...i)}warn(t,...i){this.logger.warn(t,...i)}error(t,...i){this.logger.error(t,...i)}critical(t,...i){this.logger.critical(t,...i)}flush(){this.logger.flush()}}e.LogService=y;class S{constructor(){this.onDidChangeLogLevel=new D.Emitter().event}setLevel(t){}getLevel(){return g.Info}trace(t,...i){}debug(t,...i){}info(t,...i){}warn(t,...i){}error(t,...i){}critical(t,...i){}dispose(){}flush(){}}e.NullLogService=S;function b(n){if(n.verbose)return g.Trace;if(typeof n.logLevel==\"string\"){const t=C(n.logLevel.toLowerCase());if(t!==void 0)return t}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=b;function C(n){switch(n){case\"trace\":return g.Trace;case\"debug\":return g.Debug;case\"info\":return g.Info;case\"warn\":return g.Warning;case\"error\":return g.Error;case\"critical\":return g.Critical;case\"off\":return g.Off}}e.parseLogLevel=C;function a(n){switch(n){case g.Trace:return\"trace\";case g.Debug:return\"debug\";case g.Info:return\"info\";case g.Warning:return\"warn\";case g.Error:return\"error\";case g.Critical:return\"critical\";case g.Off:return\"off\"}}e.LogLevelToString=a}),define(X[47],x([0,1,16,4,5]),function(J,e,v,T,A){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.FollowerLogService=e.LoggerChannelClient=e.LoggerChannel=e.LogLevelChannelClient=e.LogLevelChannel=void 0;class D{constructor(w){this.service=w,this.onDidChangeLogLevel=T.Event.buffer(w.onDidChangeLogLevel,!0)}listen(w,P){switch(P){case\"onDidChangeLogLevel\":return this.onDidChangeLogLevel}throw new Error(`Event not found: ${P}`)}async call(w,P,u){switch(P){case\"setLevel\":return this.service.setLevel(u)}throw new Error(`Call not found: ${P}`)}}e.LogLevelChannel=D;class F{constructor(w){this.channel=w}get onDidChangeLogLevel(){return this.channel.listen(\"onDidChangeLogLevel\")}setLevel(w){F.setLevel(this.channel,w)}static setLevel(w,P){return w.call(\"setLevel\",P)}}e.LogLevelChannelClient=F;class p{constructor(w){this.loggerService=w,this.loggers=new Map}listen(w,P){throw new Error(`Event not found: ${P}`)}async call(w,P,u){switch(P){case\"createLogger\":this.createLogger(A.URI.revive(u[0]),u[1]);return;case\"log\":return this.log(A.URI.revive(u[0]),u[1]);case\"consoleLog\":return this.consoleLog(u[0],u[1])}throw new Error(`Call not found: ${P}`)}createLogger(w,P){this.loggers.set(w.toString(),this.loggerService.createLogger(w,P))}consoleLog(w,P){let u=console.log;switch(w){case v.LogLevel.Error:u=console.error;break;case v.LogLevel.Warning:u=console.warn;break;case v.LogLevel.Info:u=console.info;break}u.call(console,...P)}log(w,P){const u=this.loggers.get(w.toString());if(!u)throw new Error(\"Create the logger before logging\");for(const[y,S]of P)switch(y){case v.LogLevel.Trace:u.trace(S);break;case v.LogLevel.Debug:u.debug(S);break;case v.LogLevel.Info:u.info(S);break;case v.LogLevel.Warning:u.warn(S);break;case v.LogLevel.Error:u.error(S);break;case v.LogLevel.Critical:u.critical(S);break;default:throw new Error(\"Invalid log level\")}}}e.LoggerChannel=p;class g{constructor(w){this.channel=w}createConsoleMainLogger(){return new v.AdapterLogger({log:(w,P)=>{this.channel.call(\"consoleLog\",[w,P])}})}createLogger(w,P){return new m(this.channel,w,P)}}e.LoggerChannelClient=g;class m extends v.AbstractMessageLogger{constructor(w,P,u){super(u==null?void 0:u.always);this.channel=w,this.file=P,this.isLoggerCreated=!1,this.buffer=[],this.channel.call(\"createLogger\",[P,u]).then(()=>{this._log(this.buffer),this.isLoggerCreated=!0})}log(w,P){this._log([[w,P]])}_log(w){this.isLoggerCreated?this.channel.call(\"log\",[this.file,w]):this.buffer.push(...w)}}class I extends v.LogService{constructor(w,P){super(P);this.parent=w,this._register(w.onDidChangeLogLevel(u=>P.setLevel(u)))}setLevel(w){super.setLevel(w),this.parent.setLevel(w)}}e.FollowerLogService=I}),define(X[17],x([0,1,30]),function(J,e,v){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.FlowControlConstants=e.LocalReconnectConstants=e.HeartbeatConstants=e.IPtyService=e.ILocalTerminalService=e.TerminalIpcChannels=e.WindowsShellType=void 0;var T;(function(g){g.CommandPrompt=\"cmd\",g.PowerShell=\"pwsh\",g.Wsl=\"wsl\",g.GitBash=\"gitbash\"})(T=e.WindowsShellType||(e.WindowsShellType={}));var A;(function(g){g.LocalPty=\"localPty\",g.PtyHost=\"ptyHost\",g.Log=\"log\",g.Heartbeat=\"heartbeat\"})(A=e.TerminalIpcChannels||(e.TerminalIpcChannels={})),e.ILocalTerminalService=(0,v.createDecorator)(\"localTerminalService\"),e.IPtyService=(0,v.createDecorator)(\"ptyService\");var D;(function(g){g[g.BeatInterval=5e3]=\"BeatInterval\",g[g.FirstWaitMultiplier=1.2]=\"FirstWaitMultiplier\",g[g.SecondWaitMultiplier=1]=\"SecondWaitMultiplier\",g[g.CreateProcessTimeout=5e3]=\"CreateProcessTimeout\"})(D=e.HeartbeatConstants||(e.HeartbeatConstants={}));var F;(function(g){g[g.ReconnectionGraceTime=6e4]=\"ReconnectionGraceTime\",g[g.ReconnectionShortGraceTime=6e3]=\"ReconnectionShortGraceTime\"})(F=e.LocalReconnectConstants||(e.LocalReconnectConstants={}));var p;(function(g){g[g.HighWatermarkChars=1e5]=\"HighWatermarkChars\",g[g.LowWatermarkChars=5e3]=\"LowWatermarkChars\",g[g.CharCountAckSize=5e3]=\"CharCountAckSize\"})(p=e.FlowControlConstants||(e.FlowControlConstants={}))}),define(X[48],x([0,1]),function(J,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TerminalDataBufferer=void 0;class v{constructor(A){this._callback=A,this._terminalBufferMap=new Map}dispose(){for(const A of this._terminalBufferMap.values())A.dispose()}startBuffering(A,D,F=5){let p;return p=D(g=>{const m=typeof g==\"string\"?g:g.data;let I=this._terminalBufferMap.get(A);if(I){I.data.push(m);return}const O=setTimeout(()=>this.flushBuffer(A),F);I={data:[m],timeoutId:O,dispose:()=>{clearTimeout(O),this.flushBuffer(A),p.dispose()}},this._terminalBufferMap.set(A,I)}),p}stopBuffering(A){const D=this._terminalBufferMap.get(A);D&&D.dispose()}flushBuffer(A){const D=this._terminalBufferMap.get(A);D&&(this._terminalBufferMap.delete(A),this._callback(A,D.data.join(\"\")))}}e.TerminalDataBufferer=v}),define(X[49],x([0,1]),function(J,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TerminalRecorder=void 0;const v=1024*1024;class T{constructor(D,F){this._totalDataLength=0,this._entries=[{cols:D,rows:F,data:[]}]}recordResize(D,F){if(this._entries.length>0&&this._entries[this._entries.length-1].data.length===0&&this._entries.pop(),this._entries.length>0){const p=this._entries[this._entries.length-1];if(p.cols===D&&p.rows===F)return;if(p.cols===0&&p.rows===0){p.cols=D,p.rows=F;return}}this._entries.push({cols:D,rows:F,data:[]})}recordData(D){for(this._entries[this._entries.length-1].data.push(D),this._totalDataLength+=D.length;this._totalDataLength>v;){const p=this._entries[0],g=this._totalDataLength-v;g>=p.data[0].length?(this._totalDataLength-=p.data[0].length,p.data.shift(),p.data.length===0&&this._entries.shift()):(p.data[0]=p.data[0].substr(g),this._totalDataLength-=g)}}generateReplayEvent(){return this._entries.forEach(D=>{D.data.length>0&&(D.data=[D.data.join(\"\")])}),{events:this._entries.map(D=>{var F;return{cols:D.cols,rows:D.rows,data:(F=D.data[0])!==null&&F!==void 0?F:\"\"}})}}}e.TerminalRecorder=T}),define(X[50],x([0,1,4,3,17]),function(J,e,v,T,A){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.HeartbeatService=void 0;class D extends T.Disposable{constructor(){super();this._onBeat=this._register(new v.Emitter),this.onBeat=this._onBeat.event;const p=setInterval(()=>{this._onBeat.fire()},A.HeartbeatConstants.BeatInterval);this._register((0,T.toDisposable)(()=>clearInterval(p)))}}e.HeartbeatService=D}),define(X[51],x([0,1,25,6,11,23,9,15,2]),function(J,e,v,T,A,D,F,p,g){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.findExecutable=e.getWindowsBuildNumber=void 0;function m(){const O=/(\\d+)\\.(\\d+)\\.(\\d+)/g.exec(v.release());let w=0;return O&&O.length===4&&(w=parseInt(O[3])),w}e.getWindowsBuildNumber=m;async function I(O,w,P,u=A.env){if(T.isAbsolute(O))return await(0,D.exists)(O)?O:void 0;if(w===void 0&&(w=A.cwd()),T.dirname(O)!==\".\"){const C=T.join(w,O);return await(0,D.exists)(C)?C:void 0}const S=(0,p.getCaseInsensitive)(u,\"PATH\");if(P===void 0&&(0,F.isString)(S)&&(P=S.split(T.delimiter)),P===void 0||P.length===0){const C=T.join(w,O);return await(0,D.exists)(C)?C:void 0}for(let C of P){let a;if(T.isAbsolute(C)?a=T.join(C,O):a=T.join(w,C,O),await(0,D.exists)(a))return a;if(g.isWindows){let n=a+\".com\";if(await(0,D.exists)(n)||(n=a+\".exe\",await(0,D.exists)(n)))return n}}const b=T.join(w,O);return await(0,D.exists)(b)?b:void 0}e.findExecutable=I});var Pe=this&&this.__decorate||function(J,e,v,T){var A=arguments.length,D=A<3?e:T===null?T=Object.getOwnPropertyDescriptor(e,v):T,F;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")D=Reflect.decorate(J,e,v,T);else for(var p=J.length-1;p>=0;p--)(F=J[p])&&(D=(A<3?F(D):A>3?F(e,v,D):F(e,v))||D);return A>3&&D&&Object.defineProperty(e,v,D),D};define(X[52],x([0,1,2,4,3,17,31,10]),function(J,e,v,T,A,D,F,p){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.WindowsShellHelper=void 0;const g=[\"cmd.exe\",\"powershell.exe\",\"pwsh.exe\",\"bash.exe\",\"wsl.exe\",\"ubuntu.exe\",\"ubuntu1804.exe\",\"kali.exe\",\"debian.exe\",\"opensuse-42.exe\",\"sles-12.exe\"];let m;class I extends A.Disposable{constructor(w){super();if(this._rootProcessId=w,this._shellTitle=\"\",this._onShellNameChanged=new T.Emitter,this._onShellTypeChanged=new T.Emitter,!v.isWindows)throw new Error(`WindowsShellHelper cannot be instantiated on ${v.platform}`);this._isDisposed=!1,this._startMonitoringShell()}get shellType(){return this._shellType}get shellTitle(){return this._shellTitle}get onShellNameChanged(){return this._onShellNameChanged.event}get onShellTypeChanged(){return this._onShellTypeChanged.event}async _startMonitoringShell(){this._isDisposed||this.checkShell()}async checkShell(){v.isWindows&&(await(0,p.timeout)(300),this.getShellName().then(w=>{const P=this.getShellType(w);P!==this._shellType&&(this._onShellTypeChanged.fire(P),this._onShellNameChanged.fire(w),this._shellType=P,this._shellTitle=w)}))}traverseTree(w){if(!w)return\"\";if(g.indexOf(w.name)===-1||!w.children||w.children.length===0)return w.name;let P=0;for(;P<w.children.length;P++){const u=w.children[P];if(!u.children||u.children.length===0||u.children[0].name!==\"conhost.exe\")break}return P>=w.children.length?w.name:this.traverseTree(w.children[P])}dispose(){this._isDisposed=!0,super.dispose()}getShellName(){return this._isDisposed?Promise.resolve(\"\"):this._currentRequest?this._currentRequest:(this._currentRequest=new Promise(async w=>{m||(m=await new Promise((P,u)=>{J([\"windows-process-tree\"],P,u)})),m.getProcessTree(this._rootProcessId,P=>{const u=this.traverseTree(P);this._currentRequest=void 0,w(u)})}),this._currentRequest)}getShellType(w){switch(w.toLowerCase()){case\"cmd.exe\":return D.WindowsShellType.CommandPrompt;case\"powershell.exe\":case\"pwsh.exe\":return D.WindowsShellType.PowerShell;case\"bash.exe\":case\"git-cmd.exe\":return D.WindowsShellType.GitBash;case\"wsl.exe\":case\"ubuntu.exe\":case\"ubuntu1804.exe\":case\"kali.exe\":case\"debian.exe\":case\"opensuse-42.exe\":case\"sles-12.exe\":return D.WindowsShellType.Wsl;default:return}}}Pe([(0,F.debounce)(500)],I.prototype,\"checkShell\",null),e.WindowsShellHelper=I});var Ee=this&&this.__param||function(J,e){return function(v,T){e(v,T,J)}};define(X[53],x([0,1,6,2,24,25,4,3,29,16,51,5,46,52]),function(J,e,v,T,A,D,F,p,g,m,I,O,w,P){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TerminalProcess=void 0;const u=50,y=5;var S;(function(a){a[a.DataFlushTimeout=250]=\"DataFlushTimeout\",a[a.MaximumShutdownTime=5e3]=\"MaximumShutdownTime\"})(S||(S={}));let b=class extends p.Disposable{constructor(n,t,i,s,l,o,c,d){var R;super();this._shellLaunchConfig=n,this._executableEnv=o,this._logService=d,this.id=0,this.shouldPersist=!1,this._currentTitle=\"\",this._isDisposed=!1,this._titleInterval=null,this._writeQueue=[],this._isPtyPaused=!1,this._unacknowledgedCharCount=0,this._onProcessData=this._register(new F.Emitter),this._onProcessExit=this._register(new F.Emitter),this._onProcessReady=this._register(new F.Emitter),this._onProcessTitleChanged=this._register(new F.Emitter),this._onProcessShellTypeChanged=this._register(new F.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event;let $;T.isWindows?$=v.basename(this._shellLaunchConfig.executable||\"\"):$=\"xterm-256color\",this._initialCwd=t;const M=c&&process.platform===\"win32\"&&(0,I.getWindowsBuildNumber)()>=18309;this._ptyOptions={name:$,cwd:t,env:l,cols:i,rows:s,useConpty:M,conptyInheritCursor:M&&!!n.initialText},T.isWindows&&(M&&i===0&&s===0&&((R=this._shellLaunchConfig.executable)===null||R===void 0?void 0:R.endsWith(\"Git\\\\bin\\\\bash.exe\"))&&(this._delayedResizer=new C,this._register(this._delayedResizer.onTrigger(H=>{var Y;(Y=this._delayedResizer)===null||Y===void 0||Y.dispose(),this._delayedResizer=void 0,H.cols&&H.rows&&this.resize(H.cols,H.rows)}))),this.onProcessReady(H=>{this._windowsShellHelper=this._register(new P.WindowsShellHelper(H.pid)),this._register(this._windowsShellHelper.onShellTypeChanged(Y=>this._onProcessShellTypeChanged.fire(Y))),this._register(this._windowsShellHelper.onShellNameChanged(Y=>this._onProcessTitleChanged.fire(Y)))}))}get exitMessage(){return this._exitMessage}get currentTitle(){var n;return((n=this._windowsShellHelper)===null||n===void 0?void 0:n.shellTitle)||this._currentTitle}get shellType(){return this._windowsShellHelper?this._windowsShellHelper.shellType:void 0}get onProcessData(){return this._onProcessData.event}get onProcessExit(){return this._onProcessExit.event}get onProcessReady(){return this._onProcessReady.event}get onProcessTitleChanged(){return this._onProcessTitleChanged.event}async start(){const t=(await Promise.all([this._validateCwd(),this._validateExecutable()])).find(i=>i!==void 0);if(t)return t;try{await this.setupPtyProcess(this._shellLaunchConfig,this._ptyOptions);return}catch(i){return this._logService.trace(\"IPty#spawn native exception\",i),{message:`A native exception occurred during launch (${i.message})`}}}async _validateCwd(){try{if(!(await A.promises.stat(this._initialCwd)).isDirectory())return{message:(0,w.localize)(0,null,this._initialCwd.toString())}}catch(n){if((n==null?void 0:n.code)===\"ENOENT\")return{message:(0,w.localize)(1,null,this._initialCwd.toString())}}}async _validateExecutable(){const n=this._shellLaunchConfig;if(!n.executable)throw new Error(\"IShellLaunchConfig.executable not set\");try{const t=await A.promises.stat(n.executable);if(!t.isFile()&&!t.isSymbolicLink())return{message:(0,w.localize)(2,null,n.executable)}}catch(t){if((t==null?void 0:t.code)===\"ENOENT\"){let i=n.cwd instanceof O.URI?n.cwd.path:n.cwd;const s=n.env&&n.env.PATH?n.env.PATH.split(v.delimiter):void 0;if(!await(0,I.findExecutable)(n.executable,i,s,this._executableEnv))return{message:(0,w.localize)(3,null,n.executable)}}}}async setupPtyProcess(n,t){const i=n.args||[];this._logService.trace(\"IPty#spawn\",n.executable,i,t);const s=(await new Promise((l,o)=>{J([\"node-pty\"],l,o)})).spawn(n.executable,i,t);this._ptyProcess=s,this._processStartupComplete=new Promise(l=>{this.onProcessReady(()=>l())}),s.onData(l=>{var o;this._unacknowledgedCharCount+=l.length,!this._isPtyPaused&&this._unacknowledgedCharCount>1e5&&(this._logService.trace(`Flow control: Pause (${this._unacknowledgedCharCount} > ${1e5})`),this._isPtyPaused=!0,s.pause()),this._onProcessData.fire(l),this._closeTimeout&&(clearTimeout(this._closeTimeout),this._queueProcessExit()),(o=this._windowsShellHelper)===null||o===void 0||o.checkShell()}),s.onExit(l=>{this._exitCode=l.exitCode,this._queueProcessExit()}),this._setupTitlePolling(s),this._sendProcessId(s.pid)}dispose(){this._isDisposed=!0,this._titleInterval&&clearInterval(this._titleInterval),this._titleInterval=null,super.dispose()}_setupTitlePolling(n){setTimeout(()=>this._sendProcessTitle(n),0),T.isWindows||(this._titleInterval=setInterval(()=>{this._currentTitle!==n.process&&this._sendProcessTitle(n)},200))}_queueProcessExit(){this._closeTimeout&&clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>{this._closeTimeout=void 0,this._kill()},250)}async _kill(){if(await this._processStartupComplete,!this._isDisposed){try{this._ptyProcess&&(this._logService.trace(\"IPty#kill\"),this._ptyProcess.kill())}catch(n){}this._onProcessExit.fire(this._exitCode||0),this.dispose()}}_sendProcessId(n){this._onProcessReady.fire({pid:n,cwd:this._initialCwd})}_sendProcessTitle(n){this._isDisposed||(this._currentTitle=n.process,this._onProcessTitleChanged.fire(this._currentTitle))}shutdown(n){n?this._kill():!this._closeTimeout&&!this._isDisposed&&(this._queueProcessExit(),setTimeout(()=>{this._closeTimeout&&!this._isDisposed&&(this._closeTimeout=void 0,this._kill())},5e3))}input(n){if(!(this._isDisposed||!this._ptyProcess)){for(let t=0;t<=Math.floor(n.length/u);t++)this._writeQueue.push(n.substr(t*u,u));this._startWrite()}}_startWrite(){if(!(this._writeTimeout!==void 0||this._writeQueue.length===0)){if(this._doWrite(),this._writeQueue.length===0){this._writeTimeout=void 0;return}this._writeTimeout=setTimeout(()=>{this._writeTimeout=void 0,this._startWrite()},y)}}_doWrite(){const n=this._writeQueue.shift();this._logService.trace(\"IPty#write\",`${n.length} characters`),this._ptyProcess.write(n)}resize(n,t){if(!this._isDisposed&&!(typeof n!=\"number\"||typeof t!=\"number\"||isNaN(n)||isNaN(t))&&this._ptyProcess){if(n=Math.max(n,1),t=Math.max(t,1),this._delayedResizer){this._delayedResizer.cols=n,this._delayedResizer.rows=t;return}this._logService.trace(\"IPty#resize\",n,t);try{this._ptyProcess.resize(n,t)}catch(i){if(this._logService.trace(\"IPty#resize exception \"+i.message),this._exitCode!==void 0&&i.message!==\"ioctl(2) failed, EBADF\")throw i}}}acknowledgeDataEvent(n){var t;this._unacknowledgedCharCount=Math.max(this._unacknowledgedCharCount-n,0),this._logService.trace(`Flow control: Ack ${n} chars (unacknowledged: ${this._unacknowledgedCharCount})`),this._isPtyPaused&&this._unacknowledgedCharCount<5e3&&(this._logService.trace(`Flow control: Resume (${this._unacknowledgedCharCount} < ${5e3})`),(t=this._ptyProcess)===null||t===void 0||t.resume(),this._isPtyPaused=!1)}clearUnacknowledgedChars(){var n;this._unacknowledgedCharCount=0,this._logService.trace(\"Flow control: Cleared all unacknowledged chars, forcing resume\"),this._isPtyPaused&&((n=this._ptyProcess)===null||n===void 0||n.resume(),this._isPtyPaused=!1)}getInitialCwd(){return Promise.resolve(this._initialCwd)}getCwd(){if(T.isMacintosh){const n=D.release().split(\".\");if(n.length>0&&parseInt(n[0])<20)return new Promise(t=>{if(!this._ptyProcess){t(this._initialCwd);return}this._logService.trace(\"IPty#pid\"),(0,g.exec)(\"lsof -OPln -p \"+this._ptyProcess.pid+\" | grep cwd\",(i,s,l)=>{!i&&s!==\"\"?t(s.substring(s.indexOf(\"/\"),s.length-1)):(this._logService.error(\"lsof did not run successfully, it may not be on the $PATH?\",i,s,l),t(this._initialCwd))})})}return T.isLinux?new Promise(n=>{if(!this._ptyProcess){n(this._initialCwd);return}this._logService.trace(\"IPty#pid\"),A.readlink(\"/proc/\"+this._ptyProcess.pid+\"/cwd\",(t,i)=>{t&&n(this._initialCwd),n(i)})}):new Promise(n=>{n(this._initialCwd)})}getLatency(){return Promise.resolve(0)}};b=Pe([Ee(7,m.ILogService)],b),e.TerminalProcess=b;class C extends p.Disposable{constructor(){super();this._onTrigger=this._register(new F.Emitter),this._timeout=setTimeout(()=>{this._onTrigger.fire({rows:this.rows,cols:this.cols})},1e3),this._register({dispose:()=>{clearTimeout(this._timeout)}})}get onTrigger(){return this._onTrigger.event}dispose(){super.dispose(),clearTimeout(this._timeout)}}}),define(X[54],x([0,1,3,10,4,49,53,48]),function(J,e,v,T,A,D,F,p){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.PersistentTerminalProcess=e.PtyService=void 0;class g extends v.Disposable{constructor(w,P){super();this._lastPtyId=w,this._logService=P,this._ptys=new Map,this._workspaceLayoutInfos=new Map,this._onHeartbeat=this._register(new A.Emitter),this.onHeartbeat=this._onHeartbeat.event,this._onProcessData=this._register(new A.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessReplay=this._register(new A.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessExit=this._register(new A.Emitter),this.onProcessExit=this._onProcessExit.event,this._onProcessReady=this._register(new A.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessTitleChanged=this._register(new A.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new A.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new A.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessResolvedShellLaunchConfig=this._register(new A.Emitter),this.onProcessResolvedShellLaunchConfig=this._onProcessResolvedShellLaunchConfig.event,this._onProcessOrphanQuestion=this._register(new A.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._register((0,v.toDisposable)(()=>{for(const u of this._ptys.values())u.shutdown(!0);this._ptys.clear()}))}async shutdownAll(){this.dispose()}async createProcess(w,P,u,y,S,b,C,a,n,t){if(w.attachPersistentProcess)throw new Error(\"Attempt to create a process when attach object was provided\");const i=++this._lastPtyId,s=new F.TerminalProcess(w,P,u,y,S,b,C,this._logService);s.onProcessData(o=>this._onProcessData.fire({id:i,event:o})),s.onProcessExit(o=>this._onProcessExit.fire({id:i,event:o})),s.onProcessOverrideDimensions&&s.onProcessOverrideDimensions(o=>this._onProcessOverrideDimensions.fire({id:i,event:o})),s.onProcessResolvedShellLaunchConfig&&s.onProcessResolvedShellLaunchConfig(o=>this._onProcessResolvedShellLaunchConfig.fire({id:i,event:o}));const l=new m(i,s,n,t,a,u,y,this._logService);return s.onProcessExit(()=>{l.dispose(),this._ptys.delete(i)}),l.onProcessReplay(o=>this._onProcessReplay.fire({id:i,event:o})),l.onProcessReady(o=>this._onProcessReady.fire({id:i,event:o})),l.onProcessTitleChanged(o=>this._onProcessTitleChanged.fire({id:i,event:o})),l.onProcessShellTypeChanged(o=>this._onProcessShellTypeChanged.fire({id:i,event:o})),l.onProcessOrphanQuestion(()=>this._onProcessOrphanQuestion.fire({id:i})),this._ptys.set(i,l),i}async attachToProcess(w){try{this._throwIfNoPty(w).attach(),this._logService.trace(`Persistent process reconnection \"${w}\"`)}catch(P){this._logService.trace(`Persistent process reconnection \"${w}\" failed`,P.message)}}async detachFromProcess(w){this._throwIfNoPty(w).detach()}async listProcesses(w){if(w)for(const S of this._ptys.values())S.reduceGraceTime();const P=Array.from(this._ptys.entries()).filter(([S,b])=>b.shouldPersistTerminal);this._logService.info(`Listing ${P.length} persistent terminals, ${this._ptys.size} total terminals`);const u=P.map(async([S,b])=>this._buildProcessDetails(S,b));return(await Promise.all(u)).filter(S=>S.isOrphan)}async start(w){return this._throwIfNoPty(w).start()}async shutdown(w,P){return this._throwIfNoPty(w).shutdown(P)}async input(w,P){return this._throwIfNoPty(w).input(P)}async resize(w,P,u){return this._throwIfNoPty(w).resize(P,u)}async getInitialCwd(w){return this._throwIfNoPty(w).getInitialCwd()}async getCwd(w){return this._throwIfNoPty(w).getCwd()}async acknowledgeDataEvent(w,P){return this._throwIfNoPty(w).acknowledgeDataEvent(P)}async getLatency(w){return 0}async orphanQuestionReply(w){return this._throwIfNoPty(w).orphanQuestionReply()}async setTerminalLayoutInfo(w){this._workspaceLayoutInfos.set(w.workspaceId,w)}async getTerminalLayoutInfo(w){const P=this._workspaceLayoutInfos.get(w.workspaceId);if(P)return{tabs:(await Promise.all(P.tabs.map(async S=>this._expandTerminalTab(S)))).filter(S=>S.terminals.length>0)}}async _expandTerminalTab(w){const u=(await Promise.all(w.terminals.map(y=>this._expandTerminalInstance(y)))).filter(y=>y.terminal!==null);return{isActive:w.isActive,activePersistentProcessId:w.activePersistentProcessId,terminals:u}}async _expandTerminalInstance(w){try{const P=this._throwIfNoPty(w.terminal),u=P&&await this._buildProcessDetails(w.terminal,P);return{terminal:u!=null?u:null,relativeSize:w.relativeSize}}catch(P){return this._logService.trace(\"Couldn't get layout info, a terminal was probably disconnected\",P.message),{terminal:null,relativeSize:w.relativeSize}}}async _buildProcessDetails(w,P){const[u,y]=await Promise.all([P.getCwd(),P.isOrphaned()]);return{id:w,title:P.title,pid:P.pid,workspaceId:P.workspaceId,workspaceName:P.workspaceName,cwd:u,isOrphan:y}}_throwIfNoPty(w){const P=this._ptys.get(w);if(!P)throw new Error(`Could not find pty with id \"${w}\"`);return P}}e.PtyService=g;class m extends v.Disposable{constructor(w,P,u,y,S,b,C,a){super();this._persistentProcessId=w,this._terminalProcess=P,this.workspaceId=u,this.workspaceName=y,this.shouldPersistTerminal=S,this._logService=a,this._pendingCommands=new Map,this._isStarted=!1,this._orphanRequestQueue=new T.Queue,this._onProcessReplay=this._register(new A.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessReady=this._register(new A.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessTitleChanged=this._register(new A.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new A.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new A.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessData=this._register(new A.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessOrphanQuestion=this._register(new A.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._inReplay=!1,this._pid=-1,this._cwd=\"\",this._recorder=new D.TerminalRecorder(b,C),this._orphanQuestionBarrier=null,this._orphanQuestionReplyTime=0,this._disconnectRunner1=this._register(new T.RunOnceScheduler(()=>{this._logService.info(`Persistent process \"${this._persistentProcessId}\": The reconnection grace time of ${I(6e4)} has expired, shutting down pid \"${this._pid}\"`),this.shutdown(!0)},6e4)),this._disconnectRunner2=this._register(new T.RunOnceScheduler(()=>{this._logService.info(`Persistent process \"${this._persistentProcessId}\": The short reconnection grace time of ${I(6e3)} has expired, shutting down pid ${this._pid}`),this.shutdown(!0)},6e3)),this._register(this._terminalProcess.onProcessReady(n=>{this._pid=n.pid,this._cwd=n.cwd,this._onProcessReady.fire(n)})),this._register(this._terminalProcess.onProcessTitleChanged(n=>this._onProcessTitleChanged.fire(n))),this._register(this._terminalProcess.onProcessShellTypeChanged(n=>this._onProcessShellTypeChanged.fire(n))),this._bufferer=new p.TerminalDataBufferer((n,t)=>this._onProcessData.fire({data:t,sync:!0})),this._register(this._bufferer.startBuffering(this._persistentProcessId,this._terminalProcess.onProcessData)),this._register(this._terminalProcess.onProcessExit(()=>this._bufferer.stopBuffering(this._persistentProcessId))),this._register(this.onProcessData(n=>this._recorder.recordData(n.data)))}get pid(){return this._pid}get title(){return this._terminalProcess.currentTitle}attach(){this._disconnectRunner1.cancel()}async detach(){this.shouldPersistTerminal?this._disconnectRunner1.schedule():this.shutdown(!0)}async start(){if(this._isStarted)this._onProcessReady.fire({pid:this._pid,cwd:this._cwd}),this._onProcessTitleChanged.fire(this._terminalProcess.currentTitle),this._onProcessShellTypeChanged.fire(this._terminalProcess.shellType),this.triggerReplay();else{const w=await this._terminalProcess.start();if(w)return w;this._isStarted=!0}}shutdown(w){return this._terminalProcess.shutdown(w)}input(w){if(!this._inReplay)return this._terminalProcess.input(w)}resize(w,P){if(!this._inReplay)return this._recorder.recordResize(w,P),this._bufferer.flushBuffer(this._persistentProcessId),this._terminalProcess.resize(w,P)}acknowledgeDataEvent(w){if(!this._inReplay)return this._terminalProcess.acknowledgeDataEvent(w)}getInitialCwd(){return this._terminalProcess.getInitialCwd()}getCwd(){return this._terminalProcess.getCwd()}getLatency(){return this._terminalProcess.getLatency()}triggerReplay(){const w=this._recorder.generateReplayEvent();let P=0;for(const u of w.events)P+=u.data.length;this._logService.info(`Persistent process \"${this._persistentProcessId}\": Replaying ${P} chars and ${w.events.length} size events`),this._onProcessReplay.fire(w),this._terminalProcess.clearUnacknowledgedChars()}sendCommandResult(w,P,u){!this._pendingCommands.get(w)||this._pendingCommands.delete(w)}orphanQuestionReply(){if(this._orphanQuestionReplyTime=Date.now(),this._orphanQuestionBarrier){const w=this._orphanQuestionBarrier;this._orphanQuestionBarrier=null,w.open()}}reduceGraceTime(){this._disconnectRunner2.isScheduled()||this._disconnectRunner1.isScheduled()&&this._disconnectRunner2.schedule()}async isOrphaned(){return await this._orphanRequestQueue.queue(async()=>this._isOrphaned())}async _isOrphaned(){return this._disconnectRunner1.isScheduled()||this._disconnectRunner2.isScheduled()?!0:(this._orphanQuestionBarrier||(this._orphanQuestionBarrier=new T.AutoOpenBarrier(4e3),this._orphanQuestionReplyTime=0,this._onProcessOrphanQuestion.fire()),await this._orphanQuestionBarrier.wait(),Date.now()-this._orphanQuestionReplyTime>500)}}e.PersistentTerminalProcess=m;function I(O){let w=0,P=0,u=0;O>=1e3&&(u=Math.floor(O/1e3),O-=u*1e3),u>=60&&(P=Math.floor(u/60),u-=P*60),P>=60&&(w=Math.floor(P/60),P-=w*60);const y=w?`${w}h`:\"\",S=P?`${P}m`:\"\",b=u?`${u}s`:\"\",C=O?`${O}ms`:\"\";return`${y}${S}${b}${C}`}}),define(X[56],x([0,1,45,26,54,17,16,47,50]),function(J,e,v,T,A,D,F,p,g){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const m=new v.Server(\"ptyHost\"),I=parseInt(process.env.VSCODE_LAST_PTY_ID||\"0\");delete process.env.VSCODE_LAST_PTY_ID;const O=new F.LogService(new F.ConsoleLogger),w=new p.LogLevelChannel(O);m.registerChannel(D.TerminalIpcChannels.Log,w);const P=new g.HeartbeatService;m.registerChannel(D.TerminalIpcChannels.Heartbeat,T.ProxyChannel.fromService(P));const u=new A.PtyService(I,O);m.registerChannel(D.TerminalIpcChannels.PtyHost,T.ProxyChannel.fromService(u)),process.once(\"exit\",()=>{O.dispose(),P.dispose(),u.dispose()})})}).call(this);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js", "进程PID": "", "异常时间": "2021-04-13 17:30:28", "所属用户": "root", "异常信息": "反弹shell类：`):n}function P(n){return typeof n.code==\"string\"&&typeof n.errno==\"number\"&&typeof n.syscall==\"string\"?_.localize(1,null,n.message):n.message||_.localize(2,null)}function y(n=null,T=!1){if(!n)return _.localize(3,null);if(Array.isArray(n)){const k=R.coalesce(n),b=y(k[0],T);return k.length>1?_.localize(4,null,b,k.length):b}if(A.isString(n))return n;if(n.detail){const k=n.detail;if(k.error)return I(k.error,T);if(k.exception)return I(k.exception,T)}return n.stack?I(n,T):n.message?n.message:_.localize(5,null)}e.toErrorMessage=y}),define(ge[147],pe([18,19]),function(Z,e){return Z.create(\"vs/base/node/processes\",e)}),define(ge[77],pe([0,1,8,37,26,38,147,30,15,22,31,9,136,11]),function(Z,e,_,A,R,I,D,P,y,n,T,k,b,g){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(s){switch(s){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function h(s,t){if(k.isWindows)try{const i={stdio:[\"pipe\",\"pipe\",\"ignore\"]};t&&(i.cwd=t);const o=I.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",s.pid.toString()],i);return new Promise(r=>{o.once(\"error\",l=>{r({success:!1,error:l})}),o.once(\"exit\",(l,f)=>{r(l===0?{success:!0}:{success:!1,code:l!==null?l:1})})})}catch(i){return Promise.resolve({success:!1,error:i,code:i.status?a(i.status):1})}else if(k.isLinux||k.isMacintosh)try{const i=g.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Z).fsPath;return new Promise(o=>{I.execFile(i,[s.pid.toString()],{encoding:\"utf8\",shell:!0},(r,l,f)=>{o(r?{success:!1,error:r}:{success:!0})})})}catch(i){return Promise.resolve({success:!1,error:i})}else s.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function S(s=P.env){return s.comspec||\"cmd.exe\"}e.getWindowsShell=S;class v{constructor(t,i,o,r){if(i!==void 0&&o!==void 0&&r!==void 0)this.cmd=t,this.args=i,this.shell=o,this.options=r;else{const l=t;this.cmd=l.command,this.shell=l.isShellCommand,this.args=l.args.slice(0),this.options=l.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const l=Object.create(null);Object.keys(P.env).forEach(f=>{l[f]=P.env[f]}),Object.keys(this.options.env).forEach(f=>{l[f]=this.options.env[f]}),this.options.env=l}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const i=t.lastIndexOf(_.sep);return i!==-1&&(t=t.substring(i+1)),v.WellKnowCommands[t]?t:\"other\"}start(t){return k.isWindows&&(this.options&&this.options.cwd&&T.isUNC(this.options.cwd)||!this.options&&T.isUNC(P.cwd()))?Promise.reject(new Error(D.localize(0,null))):this.useExec().then(i=>{let o,r;const l=new Promise((f,p)=>{o=f,r=p});if(i){let f=this.cmd;this.args&&(f=f+\" \"+this.args.join(\" \")),this.childProcess=I.exec(f,this.options,(p,w,d)=>{this.childProcess=null;const m=p;m&&m.killed?r({killed:this.terminateRequested,stdout:w.toString(),stderr:d.toString()}):this.handleExec(o,t,p,w,d)})}else{let f=null;const p=w=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(w,o,t,r);const d={terminated:this.terminateRequested};y.isNumber(w)&&(d.cmdCode=w),o(d)};if(this.shell&&k.isWindows){const w=n.deepClone(this.options);w.windowsVerbatimArguments=!0,w.detached=!1;let d=!1,m=!1;const C=[];let L=this.ensureQuotes(this.cmd);C.push(L.value),d=L.quoted,this.args&&this.args.forEach(ee=>{L=this.ensureQuotes(ee),C.push(L.value),m=m&&L.quoted});const $=[\"/s\",\"/c\"];d?m?$.push('\"'+C.join(\" \")+'\"'):C.length>1?$.push('\"'+C[0]+'\" '+C.slice(1).join(\" \")):$.push('\"'+C[0]+'\"'):$.push(C.join(\" \")),f=I.spawn(S(),$,w)}else this.cmd&&(f=I.spawn(this.cmd,this.args,this.options));f&&(this.childProcess=f,this.childProcessPromise=Promise.resolve(f),this.pidResolve&&(this.pidResolve(y.isNumber(f.pid)?f.pid:-1),this.pidResolve=void 0),f.on(\"error\",w=>{this.childProcess=null,r({terminated:this.terminateRequested,error:w})}),f.pid&&(this.childProcess.on(\"close\",p),this.handleSpawn(f,o,t,r,!0)))}return l})}handleClose(t,i,o,r){}ensureQuotes(t){return v.regexp.test(t)?{value:'\"'+t+'\"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='\"'&&t[t.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,h(t,this.options.cwd).then(i=>(i.success&&(this.childProcess=null),i))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!k.isWindows)return t(!1);const i=I.spawn(S(),[\"/s\",\"/c\"]);i.on(\"error\",o=>t(!0)),i.on(\"exit\",o=>t(!1))})}}e.AbstractProcess=v,v.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},v.regexp=/^[^\"].* .*[^\"]/;class E extends v{constructor(t,i,o,r){super(t,i,o,r);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,i,o,r,l){[r,l].forEach((f,p)=>{const w=new b.LineDecoder;w.write(f).forEach(C=>{i({line:C,source:p===0?0:1})});const m=w.end();m&&i({line:m,source:p===0?0:1})}),t({terminated:this.terminateRequested,error:o})}handleSpawn(t,i,o,r,l){const f=new b.LineDecoder,p=new b.LineDecoder;t.stdout.on(\"data\",w=>{f.write(w).forEach(m=>o({line:m,source:0}))}),t.stderr.on(\"data\",w=>{p.write(w).forEach(m=>o({line:m,source:1}))}),this.stdoutLineDecoder=f,this.stderrLineDecoder=p}handleClose(t,i,o,r){const l=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;l&&o({line:l,source:0});const f=this.stderrLineDecoder?this.stderrLineDecoder.end():null;f&&o({line:f,source:1})}}e.LineProcess=E;function c(s){let t=[],i=!1;const o=function(r){if(i){t.push(r);return}(!s.send(r,f=>{if(f&&console.error(f),i=!1,t.length>0){const p=t.slice(0);t=[],p.forEach(w=>o(w))}})||k.isWindows)&&(i=!0)};return{send:o}}e.createQueuedSender=c;var u;(function(s){async function t(i,o,r){if(_.isAbsolute(i))return i;if(o===void 0&&(o=P.cwd()),_.dirname(i)!==\".\"||(r===void 0&&y.isString(P.env.PATH)&&(r=P.env.PATH.split(_.delimiter)),r===void 0||r.length===0))return _.join(o,i);async function f(p){return await R.exists(p)?!(await A.promises.stat(p)).isDirectory():!1}for(let p of r){let w;if(_.isAbsolute(p)?w=_.join(p,i):w=_.join(o,p,i),await f(w))return w;let d=w+\".com\";if(await f(d)||(d=w+\".exe\",await f(d)))return d}return _.join(o,i)}s.findExecutable=t})(u=e.win32||(e.win32={}))}),define(ge[148],pe([0,1,48,9,100,77]),function(Z,e,_,A,R,I){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function D(g,a){return g===3?A.isWindows?k():I.getWindowsShell(a):n(g,a)}e.getSystemShell=D;function P(g,a){return g===3?A.isWindows?b(a):I.getWindowsShell(a):n(g,a)}e.getSystemShellSync=P;let y=null;function n(g,a){if(A.isLinux&&g===1||A.isMacintosh&&g===2)return\"/bin/bash\";if(!y){let h;if(A.isWindows)h=\"/bin/bash\";else{if(h=a.SHELL,!h)try{h=_.userInfo().shell}catch(S){}h||(h=\"sh\"),h===\"/bin/false\"&&(h=\"/bin/bash\")}y=h}return y}let T=null;async function k(){return T||(T=(await(0,R.getFirstAvailablePowerShellInstallation)()).exePath),T}function b(g){if(T)return T;const a=A.isWindows&&parseFloat(_.release())>=10,h=g.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),S=`${g.windir}\\\\${h?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return a?S:I.getWindowsShell(g)}}),define(ge[149],pe([18,19]),function(Z,e){return Z.create(\"vs/editor/common/config/editorOptions\",e)}),define(ge[150],pe([0,1,149,9,105]),function(Z,e,_,A,R){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var I;(function(Q){Q[Q.None=0]=\"None\",Q[Q.Keep=1]=\"Keep\",Q[Q.Brackets=2]=\"Brackets\",Q[Q.Advanced=3]=\"Advanced\",Q[Q.Full=4]=\"Full\"})(I=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class D{constructor(ie){this._values=ie}hasChanged(ie){return this._values[ie]}}e.ConfigurationChangedEvent=D;class P{constructor(){this._values=[]}_read(ie){return this._values[ie]}get(ie){return this._values[ie]}_write(ie,_e){this._values[ie]=_e}}e.ValidatedEditorOptions=P;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class n{constructor(ie,_e,Oe,Ve){this.id=ie,this.name=_e,this.defaultValue=Oe,this.schema=Ve}compute(ie,_e,Oe){return Oe}}class T{constructor(ie,_e=null){this.schema=void 0,this.id=ie,this.name=\"_never_\",this.defaultValue=void 0,this.deps=_e}validate(ie){return this.defaultValue}}class k{constructor(ie,_e,Oe,Ve){this.id=ie,this.name=_e,this.defaultValue=Oe,this.schema=Ve}validate(ie){return typeof ie==\"undefined\"?this.defaultValue:ie}compute(ie,_e,Oe){return Oe}}function b(Q,ie){return typeof Q==\"undefined\"?ie:Q===\"false\"?!1:Boolean(Q)}e.boolean=b;class g extends k{constructor(ie,_e,Oe,Ve=void 0){typeof Ve!=\"undefined\"&&(Ve.type=\"boolean\",Ve.default=Oe),super(ie,_e,Oe,Ve)}validate(ie){return b(ie,this.defaultValue)}}class a extends k{constructor(ie,_e,Oe,Ve,We,tt=void 0){typeof tt!=\"undefined\"&&(tt.type=\"integer\",tt.default=Oe,tt.minimum=Ve,tt.maximum=We),super(ie,_e,Oe,tt),this.minimum=Ve,this.maximum=We}static clampedInt(ie,_e,Oe,Ve){if(typeof ie==\"undefined\")return _e;let We=parseInt(ie,10);return isNaN(We)?_e:(We=Math.max(Oe,We),We=Math.min(Ve,We),We|0)}validate(ie){return a.clampedInt(ie,this.defaultValue,this.minimum,this.maximum)}}class h extends k{constructor(ie,_e,Oe,Ve,We){typeof We!=\"undefined\"&&(We.type=\"number\",We.default=Oe),super(ie,_e,Oe,We),this.validationFn=Ve}static clamp(ie,_e,Oe){return ie<_e?_e:ie>Oe?Oe:ie}static float(ie,_e){if(typeof ie==\"number\")return ie;if(typeof ie==\"undefined\")return _e;const Oe=parseFloat(ie);return isNaN(Oe)?_e:Oe}validate(ie){return this.validationFn(h.float(ie,this.defaultValue))}}class S extends k{static string(ie,_e){return typeof ie!=\"string\"?_e:ie}constructor(ie,_e,Oe,Ve=void 0){typeof Ve!=\"undefined\"&&(Ve.type=\"string\",Ve.default=Oe),super(ie,_e,Oe,Ve)}validate(ie){return S.string(ie,this.defaultValue)}}function v(Q,ie,_e){return typeof Q!=\"string\"||_e.indexOf(Q)===-1?ie:Q}e.stringSet=v;class E extends k{constructor(ie,_e,Oe,Ve,We=void 0){typeof We!=\"undefined\"&&(We.type=\"string\",We.enum=Ve,We.default=Oe),super(ie,_e,Oe,We),this._allowedValues=Ve}validate(ie){return v(ie,this.defaultValue,this._allowedValues)}}class c extends n{constructor(ie,_e,Oe,Ve,We,tt,K=void 0){typeof K!=\"undefined\"&&(K.type=\"string\",K.enum=We,K.default=Ve),super(ie,_e,Oe,K),this._allowedValues=We,this._convert=tt}validate(ie){return typeof ie!=\"string\"?this.defaultValue:this._allowedValues.indexOf(ie)===-1?this.defaultValue:this._convert(ie)}}function u(Q){switch(Q){case\"none\":return 0;case\"keep\":return 1;case\"brackets\":return 2;case\"advanced\":return 3;case\"full\":return 4}}class s extends n{constructor(){super(2,\"accessibilitySupport\",0,{type:\"string\",enum:[\"auto\",\"on\",\"off\"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:\"auto\",description:_.localize(3,null)})}validate(ie){switch(ie){case\"auto\":return 0;case\"off\":return 1;case\"on\":return 2}return this.defaultValue}compute(ie,_e,Oe){return Oe===0?ie.accessibilitySupport:Oe}}class t extends n{constructor(){const ie={insertSpace:!0,ignoreEmptyLines:!0};super(17,\"comments\",ie,{\"editor.comments.insertSpace\":{type:\"boolean\",default:ie.insertSpace,description:_.localize(4,null)},\"editor.comments.ignoreEmptyLines\":{type:\"boolean\",default:ie.ignoreEmptyLines,description:_.localize(5,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{insertSpace:b(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:b(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var i;(function(Q){Q[Q.Hidden=0]=\"Hidden\",Q[Q.Blink=1]=\"Blink\",Q[Q.Smooth=2]=\"Smooth\",Q[Q.Phase=3]=\"Phase\",Q[Q.Expand=4]=\"Expand\",Q[Q.Solid=5]=\"Solid\"})(i=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function o(Q){switch(Q){case\"blink\":return 1;case\"smooth\":return 2;case\"phase\":return 3;case\"expand\":return 4;case\"solid\":return 5}}var r;(function(Q){Q[Q.Line=1]=\"Line\",Q[Q.Block=2]=\"Block\",Q[Q.Underline=3]=\"Underline\",Q[Q.LineThin=4]=\"LineThin\",Q[Q.BlockOutline=5]=\"BlockOutline\",Q[Q.UnderlineThin=6]=\"UnderlineThin\"})(r=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function l(Q){switch(Q){case r.Line:return\"line\";case r.Block:return\"block\";case r.Underline:return\"underline\";case r.LineThin:return\"line-thin\";case r.BlockOutline:return\"block-outline\";case r.UnderlineThin:return\"underline-thin\"}}e.cursorStyleToString=l;function f(Q){switch(Q){case\"line\":return r.Line;case\"block\":return r.Block;case\"underline\":return r.Underline;case\"line-thin\":return r.LineThin;case\"block-outline\":return r.BlockOutline;case\"underline-thin\":return r.UnderlineThin}}class p extends T{constructor(){super(123,[62,31])}compute(ie,_e,Oe){const Ve=[\"monaco-editor\"];return _e.get(31)&&Ve.push(_e.get(31)),ie.extraEditorClassName&&Ve.push(ie.extraEditorClassName),_e.get(62)===\"default\"?Ve.push(\"mouse-default\"):_e.get(62)===\"copy\"&&Ve.push(\"mouse-copy\"),_e.get(97)&&Ve.push(\"showUnused\"),_e.get(121)&&Ve.push(\"showDeprecated\"),Ve.join(\" \")}}class w extends g{constructor(){super(30,\"emptySelectionClipboard\",!0,{description:_.localize(6,null)})}compute(ie,_e,Oe){return Oe&&ie.emptySelectionClipboard}}class d extends n{constructor(){const ie={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:\"never\",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,\"find\",ie,{\"editor.find.cursorMoveOnType\":{type:\"boolean\",default:ie.cursorMoveOnType,description:_.localize(7,null)},\"editor.find.seedSearchStringFromSelection\":{type:\"boolean\",default:ie.seedSearchStringFromSelection,description:_.localize(8,null)},\"editor.find.autoFindInSelection\":{type:\"string\",enum:[\"never\",\"always\",\"multiline\"],default:ie.autoFindInSelection,enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],description:_.localize(12,null)},\"editor.find.globalFindClipboard\":{type:\"boolean\",default:ie.globalFindClipboard,description:_.localize(13,null),included:A.isMacintosh},\"editor.find.addExtraSpaceOnTop\":{type:\"boolean\",default:ie.addExtraSpaceOnTop,description:_.localize(14,null)},\"editor.find.loop\":{type:\"boolean\",default:ie.loop,description:_.localize(15,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{cursorMoveOnType:b(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:b(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ie.autoFindInSelection==\"boolean\"?ie.autoFindInSelection?\"always\":\"never\":v(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,[\"never\",\"always\",\"multiline\"]),globalFindClipboard:b(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:b(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:b(_e.loop,this.defaultValue.loop)}}}class m extends n{constructor(){super(41,\"fontLigatures\",m.OFF,{anyOf:[{type:\"boolean\",description:_.localize(16,null)},{type:\"string\",description:_.localize(17,null)}],description:_.localize(18,null),default:!1})}validate(ie){return typeof ie==\"undefined\"?this.defaultValue:typeof ie==\"string\"?ie===\"false\"?m.OFF:ie===\"true\"?m.ON:ie:Boolean(ie)?m.ON:m.OFF}}e.EditorFontLigatures=m,m.OFF='\"liga\" off, \"calt\" off',m.ON='\"liga\" on, \"calt\" on';class C extends T{constructor(){super(40)}compute(ie,_e,Oe){return ie.fontInfo}}class L extends k{constructor(){super(42,\"fontSize\",e.EDITOR_FONT_DEFAULTS.fontSize,{type:\"number\",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(19,null)})}validate(ie){let _e=h.float(ie,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:h.clamp(_e,6,100)}compute(ie,_e,Oe){return ie.fontInfo.fontSize}}class $ extends n{constructor(){super(43,\"fontWeight\",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:\"number\",minimum:$.MINIMUM_VALUE,maximum:$.MAXIMUM_VALUE,errorMessage:_.localize(20,null)},{type:\"string\",pattern:\"^(normal|bold|1000|[1-9][0-9]{0,2})$\"},{enum:$.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(21,null)})}validate(ie){return ie===\"normal\"||ie===\"bold\"?ie:String(a.clampedInt(ie,e.EDITOR_FONT_DEFAULTS.fontWeight,$.MINIMUM_VALUE,$.MAXIMUM_VALUE))}}$.SUGGESTION_VALUES=[\"normal\",\"bold\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],$.MINIMUM_VALUE=1,$.MAXIMUM_VALUE=1e3;class ee extends n{constructor(){const ie={multiple:\"peek\",multipleDefinitions:\"peek\",multipleTypeDefinitions:\"peek\",multipleDeclarations:\"peek\",multipleImplementations:\"peek\",multipleReferences:\"peek\",alternativeDefinitionCommand:\"editor.action.goToReferences\",alternativeTypeDefinitionCommand:\"editor.action.goToReferences\",alternativeDeclarationCommand:\"editor.action.goToReferences\",alternativeImplementationCommand:\"\",alternativeReferenceCommand:\"\"},_e={type:\"string\",enum:[\"peek\",\"gotoAndPeek\",\"goto\"],default:ie.multiple,enumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]};super(47,\"gotoLocation\",ie,{\"editor.gotoLocation.multiple\":{deprecationMessage:_.localize(25,null)},\"editor.gotoLocation.multipleDefinitions\":Object.assign({description:_.localize(26,null)},_e),\"editor.gotoLocation.multipleTypeDefinitions\":Object.assign({description:_.localize(27,null)},_e),\"editor.gotoLocation.multipleDeclarations\":Object.assign({description:_.localize(28,null)},_e),\"editor.gotoLocation.multipleImplementations\":Object.assign({description:_.localize(29,null)},_e),\"editor.gotoLocation.multipleReferences\":Object.assign({description:_.localize(30,null)},_e),\"editor.gotoLocation.alternativeDefinitionCommand\":{type:\"string\",default:ie.alternativeDefinitionCommand,description:_.localize(31,null)},\"editor.gotoLocation.alternativeTypeDefinitionCommand\":{type:\"string\",default:ie.alternativeTypeDefinitionCommand,description:_.localize(32,null)},\"editor.gotoLocation.alternativeDeclarationCommand\":{type:\"string\",default:ie.alternativeDeclarationCommand,description:_.localize(33,null)},\"editor.gotoLocation.alternativeImplementationCommand\":{type:\"string\",default:ie.alternativeImplementationCommand,description:_.localize(34,null)},\"editor.gotoLocation.alternativeReferenceCommand\":{type:\"string\",default:ie.alternativeReferenceCommand,description:_.localize(35,null)}})}validate(ie){var _e,Oe,Ve,We,tt;if(!ie||typeof ie!=\"object\")return this.defaultValue;const K=ie;return{multiple:v(K.multiple,this.defaultValue.multiple,[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDefinitions:(_e=K.multipleDefinitions)!==null&&_e!==void 0?_e:v(K.multipleDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleTypeDefinitions:(Oe=K.multipleTypeDefinitions)!==null&&Oe!==void 0?Oe:v(K.multipleTypeDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDeclarations:(Ve=K.multipleDeclarations)!==null&&Ve!==void 0?Ve:v(K.multipleDeclarations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleImplementations:(We=K.multipleImplementations)!==null&&We!==void 0?We:v(K.multipleImplementations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleReferences:(tt=K.multipleReferences)!==null&&tt!==void 0?tt:v(K.multipleReferences,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),alternativeDefinitionCommand:S.string(K.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(K.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(K.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(K.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(K.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class H extends n{constructor(){const ie={enabled:!0,delay:300,sticky:!0};super(50,\"hover\",ie,{\"editor.hover.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(36,null)},\"editor.hover.delay\":{type:\"number\",default:ie.delay,description:_.localize(37,null)},\"editor.hover.sticky\":{type:\"boolean\",default:ie.sticky,description:_.localize(38,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),delay:a.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:b(_e.sticky,this.defaultValue.sticky)}}}var U;(function(Q){Q[Q.None=0]=\"None\",Q[Q.Text=1]=\"Text\",Q[Q.Blocks=2]=\"Blocks\"})(U=e.RenderMinimap||(e.RenderMinimap={}));class W extends T{constructor(){super(126,[46,54,35,61,89,56,57,91,113,116,117,118,2])}compute(ie,_e,Oe){return W.computeLayout(_e,{memory:ie.memory,outerWidth:ie.outerWidth,outerHeight:ie.outerHeight,isDominatedByLongLines:ie.isDominatedByLongLines,lineHeight:ie.fontInfo.lineHeight,viewLineCount:ie.viewLineCount,lineNumbersDigitCount:ie.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ie.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ie.fontInfo.maxDigitWidth,pixelRatio:ie.pixelRatio})}static computeContainedMinimapLineCount(ie){const _e=ie.height/ie.lineHeight,Oe=ie.scrollBeyondLastLine?_e-1:0,Ve=(ie.viewLineCount+Oe)/(ie.pixelRatio*ie.height),We=Math.floor(ie.viewLineCount/Ve);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Oe,desiredRatio:Ve,minimapLineCount:We}}static _computeMinimapLayout(ie,_e){const Oe=ie.outerWidth,Ve=ie.outerHeight,We=ie.pixelRatio;if(!ie.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Ve),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ve};const tt=_e.stableMinimapLayoutInput,K=tt&&ie.outerHeight===tt.outerHeight&&ie.lineHeight===tt.lineHeight&&ie.typicalHalfwidthCharacterWidth===tt.typicalHalfwidthCharacterWidth&&ie.pixelRatio===tt.pixelRatio&&ie.scrollBeyondLastLine===tt.scrollBeyondLastLine&&ie.minimap.enabled===tt.minimap.enabled&&ie.minimap.side===tt.minimap.side&&ie.minimap.size===tt.minimap.size&&ie.minimap.showSlider===tt.minimap.showSlider&&ie.minimap.renderCharacters===tt.minimap.renderCharacters&&ie.minimap.maxColumn===tt.minimap.maxColumn&&ie.minimap.scale===tt.minimap.scale&&ie.verticalScrollbarWidth===tt.verticalScrollbarWidth&&ie.isViewportWrapping===tt.isViewportWrapping,se=ie.lineHeight,de=ie.typicalHalfwidthCharacterWidth,Y=ie.scrollBeyondLastLine,ne=ie.minimap.renderCharacters;let le=We>=2?Math.round(ie.minimap.scale*2):ie.minimap.scale;const me=ie.minimap.maxColumn,be=ie.minimap.size,He=ie.minimap.side,Be=ie.verticalScrollbarWidth,Ke=ie.viewLineCount,Je=ie.remainingWidth,Ze=ie.isViewportWrapping,ut=ne?2:3;let lt=Math.floor(We*Ve);const it=lt/We;let qe=!1,Ee=!1,Ce=ut*le,ce=le/We,G=1;if(be===\"fill\"||be===\"fit\"){const{typicalViewportLineCount:Ye,extraLinesBeyondLastLine:st,desiredRatio:vt,minimapLineCount:mt}=W.computeContainedMinimapLineCount({viewLineCount:Ke,scrollBeyondLastLine:Y,height:Ve,lineHeight:se,pixelRatio:We});if(Ke/mt>1)qe=!0,Ee=!0,le=1,Ce=1,ce=le/We;else{let wt=!1,St=le+1;if(be===\"fit\"){const pt=Math.ceil((Ke+st)*Ce);Ze&&K&&Je<=_e.stableFitRemainingWidth?(wt=!0,St=_e.stableFitMaxMinimapScale):(wt=pt>lt,Ze&&wt?(_e.stableMinimapLayoutInput=ie,_e.stableFitRemainingWidth=Je):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(be===\"fill\"||wt){qe=!0;const pt=le;Ce=Math.min(se*We,Math.max(1,Math.floor(1/vt))),le=Math.min(St,Math.max(1,Math.floor(Ce/ut))),le>pt&&(G=Math.min(2,le/pt)),ce=le/We/G,lt=Math.ceil(Math.max(Ye,Ke+st)*Ce),Ze&&wt&&(_e.stableFitMaxMinimapScale=le)}}}const Ne=Math.floor(me*ce),Re=Math.min(Ne,Math.max(0,Math.floor((Je-Be-2)*ce/(de+ce)))+e.MINIMAP_GUTTER_WIDTH);let et=Math.floor(We*Re);const Qe=et/We;et=Math.floor(et*G);const at=ne?1:2,rt=He===\"left\"?0:Oe-Re-Be;return{renderMinimap:at,minimapLeft:rt,minimapWidth:Re,minimapHeightIsEditorHeight:qe,minimapIsSampling:Ee,minimapScale:le,minimapLineHeight:Ce,minimapCanvasInnerWidth:et,minimapCanvasInnerHeight:lt,minimapCanvasOuterWidth:Qe,minimapCanvasOuterHeight:it}}static computeLayout(ie,_e){const Oe=_e.outerWidth|0,Ve=_e.outerHeight|0,We=_e.lineHeight|0,tt=_e.lineNumbersDigitCount|0,K=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,de=_e.pixelRatio,Y=_e.viewLineCount,ne=ie.get(118),le=ne===\"inherit\"?ie.get(117):ne,me=le===\"inherit\"?ie.get(113):le,be=ie.get(116),He=ie.get(2),Be=_e.isDominatedByLongLines,Ke=ie.get(46),Je=ie.get(56).renderType!==0,Ze=ie.get(57),ut=ie.get(91),lt=ie.get(61),it=ie.get(89),qe=it.verticalScrollbarSize,Ee=it.verticalHasArrows,Ce=it.arrowSize,ce=it.horizontalScrollbarSize,G=ie.get(54),Ne=ie.get(35);let Re;if(typeof G==\"string\"&&/^\\d+(\\.\\d+)?ch$/.test(G)){const ft=parseFloat(G.substr(0,G.length-2));Re=a.clampedInt(ft*K,0,0,1e3)}else Re=a.clampedInt(G,0,0,1e3);Ne&&(Re+=16);let et=0;if(Je){const ft=Math.max(tt,Ze);et=Math.round(ft*se)}let Qe=0;Ke&&(Qe=We);let at=0,rt=at+Qe,Ye=rt+et,st=Ye+Re;const vt=Oe-Qe-et-Re;let mt=!1,Ct=!1,wt=-1;He!==2&&(le===\"inherit\"&&Be?(mt=!0,Ct=!0):me===\"on\"||me===\"bounded\"?Ct=!0:me===\"wordWrapColumn\"&&(wt=be));const St=W._computeMinimapLayout({outerWidth:Oe,outerHeight:Ve,lineHeight:We,typicalHalfwidthCharacterWidth:K,pixelRatio:de,scrollBeyondLastLine:ut,minimap:lt,verticalScrollbarWidth:qe,viewLineCount:Y,remainingWidth:vt,isViewportWrapping:Ct},_e.memory||new y);St.renderMinimap!==0&&St.minimapLeft===0&&(at+=St.minimapWidth,rt+=St.minimapWidth,Ye+=St.minimapWidth,st+=St.minimapWidth);const pt=vt-St.minimapWidth,Ft=Math.max(1,Math.floor((pt-qe-2)/K)),Mt=Ee?Ce:0;return Ct&&(wt=Math.max(1,Ft),me===\"bounded\"&&(wt=Math.min(wt,be))),{width:Oe,height:Ve,glyphMarginLeft:at,glyphMarginWidth:Qe,lineNumbersLeft:rt,lineNumbersWidth:et,decorationsLeft:Ye,decorationsWidth:Re,contentLeft:st,contentWidth:pt,minimap:St,viewportColumn:Ft,isWordWrapMinified:mt,isViewportWrapping:Ct,wrappingColumn:wt,verticalScrollbarWidth:qe,horizontalScrollbarHeight:ce,overviewRuler:{top:Mt,width:qe,height:Ve-2*Mt,right:0}}}}e.EditorLayoutInfoComputer=W;class F extends n{constructor(){const ie={enabled:!0};super(53,\"lightbulb\",ie,{\"editor.lightbulb.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(39,null)}})}validate(ie){return!ie||typeof ie!=\"object\"?this.defaultValue:{enabled:b(ie.enabled,this.defaultValue.enabled)}}}class x extends n{constructor(){const ie={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(122,\"inlineHints\",ie,{\"editor.inlineHints.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(40,null)},\"editor.inlineHints.fontSize\":{type:\"number\",default:ie.fontSize,description:_.localize(41,null)},\"editor.inlineHints.fontFamily\":{type:\"string\",default:ie.fontFamily,description:_.localize(42,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class M extends a{constructor(){super(55,\"lineHeight\",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_.localize(43,null)})}compute(ie,_e,Oe){return ie.fontInfo.lineHeight}}class N extends n{constructor(){const ie={enabled:!0,size:\"proportional\",side:\"right\",showSlider:\"mouseover\",renderCharacters:!0,maxColumn:120,scale:1};super(61,\"minimap\",ie,{\"editor.minimap.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(44,null)},\"editor.minimap.size\":{type:\"string\",enum:[\"proportional\",\"fill\",\"fit\"],enumDescriptions:[_.localize(45,null),_.localize(46,null),_.localize(47,null)],default:ie.size,description:_.localize(48,null)},\"editor.minimap.side\":{type:\"string\",enum:[\"left\",\"right\"],default:ie.side,description:_.localize(49,null)},\"editor.minimap.showSlider\":{type:\"string\",enum:[\"always\",\"mouseover\"],default:ie.showSlider,description:_.localize(50,null)},\"editor.minimap.scale\":{type:\"number\",default:ie.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(51,null)},\"editor.minimap.renderCharacters\":{type:\"boolean\",default:ie.renderCharacters,description:_.localize(52,null)},\"editor.minimap.maxColumn\":{type:\"number\",default:ie.maxColumn,description:_.localize(53,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),size:v(_e.size,this.defaultValue.size,[\"proportional\",\"fill\",\"fit\"]),side:v(_e.side,this.defaultValue.side,[\"right\",\"left\"]),showSlider:v(_e.showSlider,this.defaultValue.showSlider,[\"always\",\"mouseover\"]),renderCharacters:b(_e.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(_e.scale,1,1,3),maxColumn:a.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(Q){return Q===\"ctrlCmd\"?A.isMacintosh?\"metaKey\":\"ctrlKey\":\"altKey\"}class V extends n{constructor(){super(71,\"padding\",{top:0,bottom:0},{\"editor.padding.top\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:_.localize(54,null)},\"editor.padding.bottom\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:_.localize(55,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{top:a.clampedInt(_e.top,0,0,1e3),bottom:a.clampedInt(_e.bottom,0,0,1e3)}}}class q extends n{constructor(){const ie={enabled:!0,cycle:!1};super(72,\"parameterHints\",ie,{\"editor.parameterHints.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(56,null)},\"editor.parameterHints.cycle\":{type:\"boolean\",default:ie.cycle,description:_.localize(57,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),cycle:b(_e.cycle,this.defaultValue.cycle)}}}class X extends T{constructor(){super(124)}compute(ie,_e,Oe){return ie.pixelRatio}}class fe extends n{constructor(){const ie={other:!0,comments:!1,strings:!1};super(75,\"quickSuggestions\",ie,{anyOf:[{type:\"boolean\"},{type:\"object\",properties:{strings:{type:\"boolean\",default:ie.strings,description:_.localize(58,null)},comments:{type:\"boolean\",default:ie.comments,description:_.localize(59,null)},other:{type:\"boolean\",default:ie.other,description:_.localize(60,null)}}}],default:ie,description:_.localize(61,null)});this.defaultValue=ie}validate(ie){if(typeof ie==\"boolean\")return ie;if(ie&&typeof ie==\"object\"){const _e=ie,Oe={other:b(_e.other,this.defaultValue.other),comments:b(_e.comments,this.defaultValue.comments),strings:b(_e.strings,this.defaultValue.strings)};return Oe.other&&Oe.comments&&Oe.strings?!0:!Oe.other&&!Oe.comments&&!Oe.strings?!1:Oe}return this.defaultValue}}var ve;(function(Q){Q[Q.Off=0]=\"Off\",Q[Q.On=1]=\"On\",Q[Q.Relative=2]=\"Relative\",Q[Q.Interval=3]=\"Interval\",Q[Q.Custom=4]=\"Custom\"})(ve=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Ae extends n{constructor(){super(56,\"lineNumbers\",{renderType:1,renderFn:null},{type:\"string\",enum:[\"off\",\"on\",\"relative\",\"interval\"],enumDescriptions:[_.localize(62,null),_.localize(63,null),_.localize(64,null),_.localize(65,null)],default:\"on\",description:_.localize(66,null)})}validate(ie){let _e=this.defaultValue.renderType,Oe=this.defaultValue.renderFn;return typeof ie!=\"undefined\"&&(typeof ie==\"function\"?(_e=4,Oe=ie):ie===\"interval\"?_e=3:ie===\"relative\"?_e=2:ie===\"on\"?_e=1:_e=0),{renderType:_e,renderFn:Oe}}}function Ie(Q){const ie=Q.get(84);return ie===\"editable\"?Q.get(77):ie!==\"on\"}e.filterValidationDecorations=Ie;class Fe extends n{constructor(){const ie=[],_e={type:\"number\",description:_.localize(67,null)};super(88,\"rulers\",ie,{type:\"array\",items:{anyOf:[_e,{type:[\"object\"],properties:{column:_e,color:{type:\"string\",description:_.localize(68,null),format:\"color-hex\"}}}]},default:ie,description:_.localize(69,null)})}validate(ie){if(Array.isArray(ie)){let _e=[];for(let Oe of ie)if(typeof Oe==\"number\")_e.push({column:a.clampedInt(Oe,0,0,1e4),color:null});else if(Oe&&typeof Oe==\"object\"){const Ve=Oe;_e.push({column:a.clampedInt(Ve.column,0,0,1e4),color:Ve.color})}return _e.sort((Oe,Ve)=>Oe.column-Ve.column),_e}return this.defaultValue}}function z(Q,ie){if(typeof Q!=\"string\")return ie;switch(Q){case\"hidden\":return 2;case\"visible\":return 3;default:return 1}}class J extends n{constructor(){super(89,\"scrollbar\",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie,Oe=a.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ve=a.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:z(_e.vertical,this.defaultValue.vertical),horizontal:z(_e.horizontal,this.defaultValue.horizontal),useShadows:b(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:b(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:b(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:b(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:b(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Oe,horizontalSliderSize:a.clampedInt(_e.horizontalSliderSize,Oe,0,1e3),verticalScrollbarSize:Ve,verticalSliderSize:a.clampedInt(_e.verticalSliderSize,Ve,0,1e3),scrollByPage:b(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class te extends n{constructor(){const ie={insertMode:\"insert\",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,\"suggest\",ie,{\"editor.suggest.insertMode\":{type:\"string\",enum:[\"insert\",\"replace\"],enumDescriptions:[_.localize(70,null),_.localize(71,null)],default:ie.insertMode,description:_.localize(72,null)},\"editor.suggest.filterGraceful\":{type:\"boolean\",default:ie.filterGraceful,description:_.localize(73,null)},\"editor.suggest.localityBonus\":{type:\"boolean\",default:ie.localityBonus,description:_.localize(74,null)},\"editor.suggest.shareSuggestSelections\":{type:\"boolean\",default:ie.shareSuggestSelections,markdownDescription:_.localize(75,null)},\"editor.suggest.snippetsPreventQuickSuggestions\":{type:\"boolean\",default:ie.snippetsPreventQuickSuggestions,description:_.localize(76,null)},\"editor.suggest.showIcons\":{type:\"boolean\",default:ie.showIcons,description:_.localize(77,null)},\"editor.suggest.showStatusBar\":{type:\"boolean\",default:ie.showStatusBar,description:_.localize(78,null)},\"editor.suggest.showInlineDetails\":{type:\"boolean\",default:ie.showInlineDetails,description:_.localize(79,null)},\"editor.suggest.maxVisibleSuggestions\":{type:\"number\",deprecationMessage:_.localize(80,null)},\"editor.suggest.filteredTypes\":{type:\"object\",deprecationMessage:_.localize(81,null)},\"editor.suggest.showMethods\":{type:\"boolean\",default:!0,markdownDescription:_.localize(82,null)},\"editor.suggest.showFunctions\":{type:\"boolean\",default:!0,markdownDescription:_.localize(83,null)},\"editor.suggest.showConstructors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(84,null)},\"editor.suggest.showFields\":{type:\"boolean\",default:!0,markdownDescription:_.localize(85,null)},\"editor.suggest.showVariables\":{type:\"boolean\",default:!0,markdownDescription:_.localize(86,null)},\"editor.suggest.showClasses\":{type:\"boolean\",default:!0,markdownDescription:_.localize(87,null)},\"editor.suggest.showStructs\":{type:\"boolean\",default:!0,markdownDescription:_.localize(88,null)},\"editor.suggest.showInterfaces\":{type:\"boolean\",default:!0,markdownDescription:_.localize(89,null)},\"editor.suggest.showModules\":{type:\"boolean\",default:!0,markdownDescription:_.localize(90,null)},\"editor.suggest.showProperties\":{type:\"boolean\",default:!0,markdownDescription:_.localize(91,null)},\"editor.suggest.showEvents\":{type:\"boolean\",default:!0,markdownDescription:_.localize(92,null)},\"editor.suggest.showOperators\":{type:\"boolean\",default:!0,markdownDescription:_.localize(93,null)},\"editor.suggest.showUnits\":{type:\"boolean\",default:!0,markdownDescription:_.localize(94,null)},\"editor.suggest.showValues\":{type:\"boolean\",default:!0,markdownDescription:_.localize(95,null)},\"editor.suggest.showConstants\":{type:\"boolean\",default:!0,markdownDescription:_.localize(96,null)},\"editor.suggest.showEnums\":{type:\"boolean\",default:!0,markdownDescription:_.localize(97,null)},\"editor.suggest.showEnumMembers\":{type:\"boolean\",default:!0,markdownDescription:_.localize(98,null)},\"editor.suggest.showKeywords\":{type:\"boolean\",default:!0,markdownDescription:_.localize(99,null)},\"editor.suggest.showWords\":{type:\"boolean\",default:!0,markdownDescription:_.localize(100,null)},\"editor.suggest.showColors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(101,null)},\"editor.suggest.showFiles\":{type:\"boolean\",default:!0,markdownDescription:_.localize(102,null)},\"editor.suggest.showReferences\":{type:\"boolean\",default:!0,markdownDescription:_.localize(103,null)},\"editor.suggest.showCustomcolors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(104,null)},\"editor.suggest.showFolders\":{type:\"boolean\",default:!0,markdownDescription:_.localize(105,null)},\"editor.suggest.showTypeParameters\":{type:\"boolean\",default:!0,markdownDescription:_.localize(106,null)},\"editor.suggest.showSnippets\":{type:\"boolean\",default:!0,markdownDescription:_.localize(107,null)},\"editor.suggest.showUsers\":{type:\"boolean\",default:!0,markdownDescription:_.localize(108,null)},\"editor.suggest.showIssues\":{type:\"boolean\",default:!0,markdownDescription:_.localize(109,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{insertMode:v(_e.insertMode,this.defaultValue.insertMode,[\"insert\",\"replace\"]),filterGraceful:b(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:b(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:b(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:b(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:b(_e.showIcons,this.defaultValue.showIcons),showStatusBar:b(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:b(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:b(_e.showMethods,this.defaultValue.showMethods),showFunctions:b(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:b(_e.showConstructors,this.defaultValue.showConstructors),showFields:b(_e.showFields,this.defaultValue.showFields),showVariables:b(_e.showVariables,this.defaultValue.showVariables),showClasses:b(_e.showClasses,this.defaultValue.showClasses),showStructs:b(_e.showStructs,this.defaultValue.showStructs),showInterfaces:b(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:b(_e.showModules,this.defaultValue.showModules),showProperties:b(_e.showProperties,this.defaultValue.showProperties),showEvents:b(_e.showEvents,this.defaultValue.showEvents),showOperators:b(_e.showOperators,this.defaultValue.showOperators),showUnits:b(_e.showUnits,this.defaultValue.showUnits),showValues:b(_e.showValues,this.defaultValue.showValues),showConstants:b(_e.showConstants,this.defaultValue.showConstants),showEnums:b(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:b(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:b(_e.showKeywords,this.defaultValue.showKeywords),showWords:b(_e.showWords,this.defaultValue.showWords),showColors:b(_e.showColors,this.defaultValue.showColors),showFiles:b(_e.showFiles,this.defaultValue.showFiles),showReferences:b(_e.showReferences,this.defaultValue.showReferences),showFolders:b(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:b(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:b(_e.showSnippets,this.defaultValue.showSnippets),showUsers:b(_e.showUsers,this.defaultValue.showUsers),showIssues:b(_e.showIssues,this.defaultValue.showIssues)}}}class ae extends n{constructor(){super(99,\"smartSelect\",{selectLeadingAndTrailingWhitespace:!0},{\"editor.smartSelect.selectLeadingAndTrailingWhitespace\":{description:_.localize(110,null),default:!0,type:\"boolean\"}})}validate(ie){return!ie||typeof ie!=\"object\"?this.defaultValue:{selectLeadingAndTrailingWhitespace:b(ie.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class he extends T{constructor(){super(125,[77])}compute(ie,_e,Oe){return _e.get(77)?!0:ie.tabFocusMode}}var De;(function(Q){Q[Q.None=0]=\"None\",Q[Q.Same=1]=\"Same\",Q[Q.Indent=2]=\"Indent\",Q[Q.DeepIndent=3]=\"DeepIndent\"})(De=e.WrappingIndent||(e.WrappingIndent={}));function Me(Q){switch(Q){case\"none\":return 0;case\"same\":return 1;case\"indent\":return 2;case\"deepIndent\":return 3}}class we extends T{constructor(){super(127,[126])}compute(ie,_e,Oe){const Ve=_e.get(126);return{isDominatedByLongLines:ie.isDominatedByLongLines,isWordWrapMinified:Ve.isWordWrapMinified,isViewportWrapping:Ve.isViewportWrapping,wrappingColumn:Ve.wrappingColumn}}}const ke=\"Consolas, 'Courier New', monospace\",Te=\"Menlo, Monaco, 'Courier New', monospace\",Ue=\"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'\";e.EDITOR_FONT_DEFAULTS={fontFamily:A.isMacintosh?Te:A.isLinux?Ue:ke,fontWeight:\"normal\",fontSize:A.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Se(Q){return e.editorOptionsRegistry[Q.id]=Q,Q}var Ge;(function(Q){Q[Q.acceptSuggestionOnCommitCharacter=0]=\"acceptSuggestionOnCommitCharacter\",Q[Q.acceptSuggestionOnEnter=1]=\"acceptSuggestionOnEnter\",Q[Q.accessibilitySupport=2]=\"accessibilitySupport\",Q[Q.accessibilityPageSize=3]=\"accessibilityPageSize\",Q[Q.ariaLabel=4]=\"ariaLabel\",Q[Q.autoClosingBrackets=5]=\"autoClosingBrackets\",Q[Q.autoClosingDelete=6]=\"autoClosingDelete\",Q[Q.autoClosingOvertype=7]=\"autoClosingOvertype\",Q[Q.autoClosingQuotes=8]=\"autoClosingQuotes\",Q[Q.autoIndent=9]=\"autoIndent\",Q[Q.automaticLayout=10]=\"automaticLayout\",Q[Q.autoSurround=11]=\"autoSurround\",Q[Q.codeLens=12]=\"codeLens\",Q[Q.codeLensFontFamily=13]=\"codeLensFontFamily\",Q[Q.codeLensFontSize=14]=\"codeLensFontSize\",Q[Q.colorDecorators=15]=\"colorDecorators\",Q[Q.columnSelection=16]=\"columnSelection\",Q[Q.comments=17]=\"comments\",Q[Q.contextmenu=18]=\"contextmenu\",Q[Q.copyWithSyntaxHighlighting=19]=\"copyWithSyntaxHighlighting\",Q[Q.cursorBlinking=20]=\"cursorBlinking\",Q[Q.cursorSmoothCaretAnimation=21]=\"cursorSmoothCaretAnimation\",Q[Q.cursorStyle=22]=\"cursorStyle\",Q[Q.cursorSurroundingLines=23]=\"cursorSurroundingLines\",Q[Q.cursorSurroundingLinesStyle=24]=\"cursorSurroundingLinesStyle\",Q[Q.cursorWidth=25]=\"cursorWidth\",Q[Q.disableLayerHinting=26]=\"disableLayerHinting\",Q[Q.disableMonospaceOptimizations=27]=\"disableMonospaceOptimizations\",Q[Q.domReadOnly=28]=\"domReadOnly\",Q[Q.dragAndDrop=29]=\"dragAndDrop\",Q[Q.emptySelectionClipboard=30]=\"emptySelectionClipboard\",Q[Q.extraEditorClassName=31]=\"extraEditorClassName\",Q[Q.fastScrollSensitivity=32]=\"fastScrollSensitivity\",Q[Q.find=33]=\"find\",Q[Q.fixedOverflowWidgets=34]=\"fixedOverflowWidgets\",Q[Q.folding=35]=\"folding\",Q[Q.foldingStrategy=36]=\"foldingStrategy\",Q[Q.foldingHighlight=37]=\"foldingHighlight\",Q[Q.unfoldOnClickAfterEndOfLine=38]=\"unfoldOnClickAfterEndOfLine\",Q[Q.fontFamily=39]=\"fontFamily\",Q[Q.fontInfo=40]=\"fontInfo\",Q[Q.fontLigatures=41]=\"fontLigatures\",Q[Q.fontSize=42]=\"fontSize\",Q[Q.fontWeight=43]=\"fontWeight\",Q[Q.formatOnPaste=44]=\"formatOnPaste\",Q[Q.formatOnType=45]=\"formatOnType\",Q[Q.glyphMargin=46]=\"glyphMargin\",Q[Q.gotoLocation=47]=\"gotoLocation\",Q[Q.hideCursorInOverviewRuler=48]=\"hideCursorInOverviewRuler\",Q[Q.highlightActiveIndentGuide=49]=\"highlightActiveIndentGuide\",Q[Q.hover=50]=\"hover\",Q[Q.inDiffEditor=51]=\"inDiffEditor\",Q[Q.letterSpacing=52]=\"letterSpacing\",Q[Q.lightbulb=53]=\"lightbulb\",Q[Q.lineDecorationsWidth=54]=\"lineDecorationsWidth\",Q[Q.lineHeight=55]=\"lineHeight\",Q[Q.lineNumbers=56]=\"lineNumbers\",Q[Q.lineNumbersMinChars=57]=\"lineNumbersMinChars\",Q[Q.linkedEditing=58]=\"linkedEditing\",Q[Q.links=59]=\"links\",Q[Q.matchBrackets=60]=\"matchBrackets\",Q[Q.minimap=61]=\"minimap\",Q[Q.mouseStyle=62]=\"mouseStyle\",Q[Q.mouseWheelScrollSensitivity=63]=\"mouseWheelScrollSensitivity\",Q[Q.mouseWheelZoom=64]=\"mouseWheelZoom\",Q[Q.multiCursorMergeOverlapping=65]=\"multiCursorMergeOverlapping\",Q[Q.multiCursorModifier=66]=\"multiCursorModifier\",Q[Q.multiCursorPaste=67]=\"multiCursorPaste\",Q[Q.occurrencesHighlight=68]=\"occurrencesHighlight\",Q[Q.overviewRulerBorder=69]=\"overviewRulerBorder\",Q[Q.overviewRulerLanes=70]=\"overviewRulerLanes\",Q[Q.padding=71]=\"padding\",Q[Q.parameterHints=72]=\"parameterHints\",Q[Q.peekWidgetDefaultFocus=73]=\"peekWidgetDefaultFocus\",Q[Q.definitionLinkOpensInPeek=74]=\"definitionLinkOpensInPeek\",Q[Q.quickSuggestions=75]=\"quickSuggestions\",Q[Q.quickSuggestionsDelay=76]=\"quickSuggestionsDelay\",Q[Q.readOnly=77]=\"readOnly\",Q[Q.renameOnType=78]=\"renameOnType\",Q[Q.renderControlCharacters=79]=\"renderControlCharacters\",Q[Q.renderIndentGuides=80]=\"renderIndentGuides\",Q[Q.renderFinalNewline=81]=\"renderFinalNewline\",Q[Q.renderLineHighlight=82]=\"renderLineHighlight\",Q[Q.renderLineHighlightOnlyWhenFocus=83]=\"renderLineHighlightOnlyWhenFocus\",Q[Q.renderValidationDecorations=84]=\"renderValidationDecorations\",Q[Q.renderWhitespace=85]=\"renderWhitespace\",Q[Q.revealHorizontalRightPadding=86]=\"revealHorizontalRightPadding\",Q[Q.roundedSelection=87]=\"roundedSelection\",Q[Q.rulers=88]=\"rulers\",Q[Q.scrollbar=89]=\"scrollbar\",Q[Q.scrollBeyondLastColumn=90]=\"scrollBeyondLastColumn\",Q[Q.scrollBeyondLastLine=91]=\"scrollBeyondLastLine\",Q[Q.scrollPredominantAxis=92]=\"scrollPredominantAxis\",Q[Q.selectionClipboard=93]=\"selectionClipboard\",Q[Q.selectionHighlight=94]=\"selectionHighlight\",Q[Q.selectOnLineNumbers=95]=\"selectOnLineNumbers\",Q[Q.showFoldingControls=96]=\"showFoldingControls\",Q[Q.showUnused=97]=\"showUnused\",Q[Q.snippetSuggestions=98]=\"snippetSuggestions\",Q[Q.smartSelect=99]=\"smartSelect\",Q[Q.smoothScrolling=100]=\"smoothScrolling\",Q[Q.stickyTabStops=101]=\"stickyTabStops\",Q[Q.stopRenderingLineAfter=102]=\"stopRenderingLineAfter\",Q[Q.suggest=103]=\"suggest\",Q[Q.suggestFontSize=104]=\"suggestFontSize\",Q[Q.suggestLineHeight=105]=\"suggestLineHeight\",Q[Q.suggestOnTriggerCharacters=106]=\"suggestOnTriggerCharacters\",Q[Q.suggestSelection=107]=\"suggestSelection\",Q[Q.tabCompletion=108]=\"tabCompletion\",Q[Q.tabIndex=109]=\"tabIndex\",Q[Q.unusualLineTerminators=110]=\"unusualLineTerminators\",Q[Q.useTabStops=111]=\"useTabStops\",Q[Q.wordSeparators=112]=\"wordSeparators\",Q[Q.wordWrap=113]=\"wordWrap\",Q[Q.wordWrapBreakAfterCharacters=114]=\"wordWrapBreakAfterCharacters\",Q[Q.wordWrapBreakBeforeCharacters=115]=\"wordWrapBreakBeforeCharacters\",Q[Q.wordWrapColumn=116]=\"wordWrapColumn\",Q[Q.wordWrapOverride1=117]=\"wordWrapOverride1\",Q[Q.wordWrapOverride2=118]=\"wordWrapOverride2\",Q[Q.wrappingIndent=119]=\"wrappingIndent\",Q[Q.wrappingStrategy=120]=\"wrappingStrategy\",Q[Q.showDeprecated=121]=\"showDeprecated\",Q[Q.inlineHints=122]=\"inlineHints\",Q[Q.editorClassName=123]=\"editorClassName\",Q[Q.pixelRatio=124]=\"pixelRatio\",Q[Q.tabFocusMode=125]=\"tabFocusMode\",Q[Q.layoutInfo=126]=\"layoutInfo\",Q[Q.wrappingInfo=127]=\"wrappingInfo\"})(Ge=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Se(new g(0,\"acceptSuggestionOnCommitCharacter\",!0,{markdownDescription:_.localize(111,null)})),acceptSuggestionOnEnter:Se(new E(1,\"acceptSuggestionOnEnter\",\"on\",[\"on\",\"smart\",\"off\"],{markdownEnumDescriptions:[\"\",_.localize(112,null),\"\"],markdownDescription:_.localize(113,null)})),accessibilitySupport:Se(new s),accessibilityPageSize:Se(new a(3,\"accessibilityPageSize\",10,1,1073741824,{description:_.localize(114,null),deprecationMessage:_.localize(115,null)})),ariaLabel:Se(new S(4,\"ariaLabel\",_.localize(116,null))),autoClosingBrackets:Se(new E(5,\"autoClosingBrackets\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",_.localize(117,null),_.localize(118,null),\"\"],description:_.localize(119,null)})),autoClosingDelete:Se(new E(6,\"autoClosingDelete\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",_.localize(120,null),\"\"],description:_.localize(121,null)})),autoClosingOvertype:Se(new E(7,\"autoClosingOvertype\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",_.localize(122,null),\"\"],description:_.localize(123,null)})),autoClosingQuotes:Se(new E(8,\"autoClosingQuotes\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",_.localize(124,null),_.localize(125,null),\"\"],description:_.localize(126,null)})),autoIndent:Se(new c(9,\"autoIndent\",4,\"full\",[\"none\",\"keep\",\"brackets\",\"advanced\",\"full\"],u,{enumDescriptions:[_.localize(127,null),_.localize(128,null),_.localize(129,null),_.localize(130,null),_.localize(131,null)],description:_.localize(132,null)})),automaticLayout:Se(new g(10,\"automaticLayout\",!1)),autoSurround:Se(new E(11,\"autoSurround\",\"languageDefined\",[\"languageDefined\",\"quotes\",\"brackets\",\"never\"],{enumDescriptions:[_.localize(133,null),_.localize(134,null),_.localize(135,null),\"\"],description:_.localize(136,null)})),stickyTabStops:Se(new g(101,\"stickyTabStops\",!1,{description:_.localize(137,null)})),codeLens:Se(new g(12,\"codeLens\",!0,{description:_.localize(138,null)})),codeLensFontFamily:Se(new S(13,\"codeLensFontFamily\",\"\",{description:_.localize(139,null)})),codeLensFontSize:Se(new a(14,\"codeLensFontSize\",0,0,100,{type:\"number\",default:0,minimum:0,maximum:100,description:_.localize(140,null)})),colorDecorators:Se(new g(15,\"colorDecorators\",!0,{description:_.localize(141,null)})),columnSelection:Se(new g(16,\"columnSelection\",!1,{description:_.localize(142,null)})),comments:Se(new t),contextmenu:Se(new g(18,\"contextmenu\",!0)),copyWithSyntaxHighlighting:Se(new g(19,\"copyWithSyntaxHighlighting\",!0,{description:_.localize(143,null)})),cursorBlinking:Se(new c(20,\"cursorBlinking\",1,\"blink\",[\"blink\",\"smooth\",\"phase\",\"expand\",\"solid\"],o,{description:_.localize(144,null)})),cursorSmoothCaretAnimation:Se(new g(21,\"cursorSmoothCaretAnimation\",!1,{description:_.localize(145,null)})),cursorStyle:Se(new c(22,\"cursorStyle\",r.Line,\"line\",[\"line\",\"block\",\"underline\",\"line-thin\",\"block-outline\",\"underline-thin\"],f,{description:_.localize(146,null)})),cursorSurroundingLines:Se(new a(23,\"cursorSurroundingLines\",0,0,1073741824,{description:_.localize(147,null)})),cursorSurroundingLinesStyle:Se(new E(24,\"cursorSurroundingLinesStyle\",\"default\",[\"default\",\"all\"],{enumDescriptions:[_.localize(148,null),_.localize(149,null)],description:_.localize(150,null)})),cursorWidth:Se(new a(25,\"cursorWidth\",0,0,1073741824,{markdownDescription:_.localize(151,null)})),disableLayerHinting:Se(new g(26,\"disableLayerHinting\",!1)),disableMonospaceOptimizations:Se(new g(27,\"disableMonospaceOptimizations\",!1)),domReadOnly:Se(new g(28,\"domReadOnly\",!1)),dragAndDrop:Se(new g(29,\"dragAndDrop\",!0,{description:_.localize(152,null)})),emptySelectionClipboard:Se(new w),extraEditorClassName:Se(new S(31,\"extraEditorClassName\",\"\")),fastScrollSensitivity:Se(new h(32,\"fastScrollSensitivity\",5,Q=>Q<=0?5:Q,{markdownDescription:_.localize(153,null)})),find:Se(new d),fixedOverflowWidgets:Se(new g(34,\"fixedOverflowWidgets\",!1)),folding:Se(new g(35,\"folding\",!0,{description:_.localize(154,null)})),foldingStrategy:Se(new E(36,\"foldingStrategy\",\"auto\",[\"auto\",\"indentation\"],{enumDescriptions:[_.localize(155,null),_.localize(156,null)],description:_.localize(157,null)})),foldingHighlight:Se(new g(37,\"foldingHighlight\",!0,{description:_.localize(158,null)})),unfoldOnClickAfterEndOfLine:Se(new g(38,\"unfoldOnClickAfterEndOfLine\",!1,{description:_.localize(159,null)})),fontFamily:Se(new S(39,\"fontFamily\",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(160,null)})),fontInfo:Se(new C),fontLigatures2:Se(new m),fontSize:Se(new L),fontWeight:Se(new $),formatOnPaste:Se(new g(44,\"formatOnPaste\",!1,{description:_.localize(161,null)})),formatOnType:Se(new g(45,\"formatOnType\",!1,{description:_.localize(162,null)})),glyphMargin:Se(new g(46,\"glyphMargin\",!0,{description:_.localize(163,null)})),gotoLocation:Se(new ee),hideCursorInOverviewRuler:Se(new g(48,\"hideCursorInOverviewRuler\",!1,{description:_.localize(164,null)})),highlightActiveIndentGuide:Se(new g(49,\"highlightActiveIndentGuide\",!0,{description:_.localize(165,null)})),hover:Se(new H),inDiffEditor:Se(new g(51,\"inDiffEditor\",!1)),letterSpacing:Se(new h(52,\"letterSpacing\",e.EDITOR_FONT_DEFAULTS.letterSpacing,Q=>h.clamp(Q,-5,20),{description:_.localize(166,null)})),lightbulb:Se(new F),lineDecorationsWidth:Se(new k(54,\"lineDecorationsWidth\",10)),lineHeight:Se(new M),lineNumbers:Se(new Ae),lineNumbersMinChars:Se(new a(57,\"lineNumbersMinChars\",5,1,300)),linkedEditing:Se(new g(58,\"linkedEditing\",!1,{description:_.localize(167,null)})),links:Se(new g(59,\"links\",!0,{description:_.localize(168,null)})),matchBrackets:Se(new E(60,\"matchBrackets\",\"always\",[\"always\",\"near\",\"never\"],{description:_.localize(169,null)})),minimap:Se(new N),mouseStyle:Se(new E(62,\"mouseStyle\",\"text\",[\"text\",\"default\",\"copy\"])),mouseWheelScrollSensitivity:Se(new h(63,\"mouseWheelScrollSensitivity\",1,Q=>Q===0?1:Q,{markdownDescription:_.localize(170,null)})),mouseWheelZoom:Se(new g(64,\"mouseWheelZoom\",!1,{markdownDescription:_.localize(171,null)})),multiCursorMergeOverlapping:Se(new g(65,\"multiCursorMergeOverlapping\",!0,{description:_.localize(172,null)})),multiCursorModifier:Se(new c(66,\"multiCursorModifier\",\"altKey\",\"alt\",[\"ctrlCmd\",\"alt\"],O,{markdownEnumDescriptions:[_.localize(173,null),_.localize(174,null)],markdownDescription:_.localize(175,null)})),multiCursorPaste:Se(new E(67,\"multiCursorPaste\",\"spread\",[\"spread\",\"full\"],{markdownEnumDescriptions:[_.localize(176,null),_.localize(177,null)],markdownDescription:_.localize(178,null)})),occurrencesHighlight:Se(new g(68,\"occurrencesHighlight\",!0,{description:_.localize(179,null)})),overviewRulerBorder:Se(new g(69,\"overviewRulerBorder\",!0,{description:_.localize(180,null)})),overviewRulerLanes:Se(new a(70,\"overviewRulerLanes\",3,0,3)),padding:Se(new V),parameterHints:Se(new q),peekWidgetDefaultFocus:Se(new E(73,\"peekWidgetDefaultFocus\",\"tree\",[\"tree\",\"editor\"],{enumDescriptions:[_.localize(181,null),_.localize(182,null)],description:_.localize(183,null)})),definitionLinkOpensInPeek:Se(new g(74,\"definitionLinkOpensInPeek\",!1,{description:_.localize(184,null)})),quickSuggestions:Se(new fe),quickSuggestionsDelay:Se(new a(76,\"quickSuggestionsDelay\",10,0,1073741824,{description:_.localize(185,null)})),readOnly:Se(new g(77,\"readOnly\",!1)),renameOnType:Se(new g(78,\"renameOnType\",!1,{description:_.localize(186,null),markdownDeprecationMessage:_.localize(187,null)})),renderControlCharacters:Se(new g(79,\"renderControlCharacters\",!1,{description:_.localize(188,null)})),renderIndentGuides:Se(new g(80,\"renderIndentGuides\",!0,{description:_.localize(189,null)})),renderFinalNewline:Se(new g(81,\"renderFinalNewline\",!0,{description:_.localize(190,null)})),renderLineHighlight:Se(new E(82,\"renderLineHighlight\",\"line\",[\"none\",\"gutter\",\"line\",\"all\"],{enumDescriptions:[\"\",\"\",\"\",_.localize(191,null)],description:_.localize(192,null)})),renderLineHighlightOnlyWhenFocus:Se(new g(83,\"renderLineHighlightOnlyWhenFocus\",!1,{description:_.localize(193,null)})),renderValidationDecorations:Se(new E(84,\"renderValidationDecorations\",\"editable\",[\"editable\",\"on\",\"off\"])),renderWhitespace:Se(new E(85,\"renderWhitespace\",\"selection\",[\"none\",\"boundary\",\"selection\",\"trailing\",\"all\"],{enumDescriptions:[\"\",_.localize(194,null),_.localize(195,null),_.localize(196,null),\"\"],description:_.localize(197,null)})),revealHorizontalRightPadding:Se(new a(86,\"revealHorizontalRightPadding\",30,0,1e3)),roundedSelection:Se(new g(87,\"roundedSelection\",!0,{description:_.localize(198,null)})),rulers:Se(new Fe),scrollbar:Se(new J),scrollBeyondLastColumn:Se(new a(90,\"scrollBeyondLastColumn\",5,0,1073741824,{description:_.localize(199,null)})),scrollBeyondLastLine:Se(new g(91,\"scrollBeyondLastLine\",!0,{description:_.localize(200,null)})),scrollPredominantAxis:Se(new g(92,\"scrollPredominantAxis\",!0,{description:_.localize(201,null)})),selectionClipboard:Se(new g(93,\"selectionClipboard\",!0,{description:_.localize(202,null),included:A.isLinux})),selectionHighlight:Se(new g(94,\"selectionHighlight\",!0,{description:_.localize(203,null)})),selectOnLineNumbers:Se(new g(95,\"selectOnLineNumbers\",!0)),showFoldingControls:Se(new E(96,\"showFoldingControls\",\"mouseover\",[\"always\",\"mouseover\"],{enumDescriptions:[_.localize(204,null),_.localize(205,null)],description:_.localize(206,null)})),showUnused:Se(new g(97,\"showUnused\",!0,{description:_.localize(207,null)})),showDeprecated:Se(new g(121,\"showDeprecated\",!0,{description:_.localize(208,null)})),inlineHints:Se(new x),snippetSuggestions:Se(new E(98,\"snippetSuggestions\",\"inline\",[\"top\",\"bottom\",\"inline\",\"none\"],{enumDescriptions:[_.localize(209,null),_.localize(210,null),_.localize(211,null),_.localize(212,null)],description:_.localize(213,null)})),smartSelect:Se(new ae),smoothScrolling:Se(new g(100,\"smoothScrolling\",!1,{description:_.localize(214,null)})),stopRenderingLineAfter:Se(new a(102,\"stopRenderingLineAfter\",1e4,-1,1073741824)),suggest:Se(new te),suggestFontSize:Se(new a(104,\"suggestFontSize\",0,0,1e3,{markdownDescription:_.localize(215,null)})),suggestLineHeight:Se(new a(105,\"suggestLineHeight\",0,0,1e3,{markdownDescription:_.localize(216,null)})),suggestOnTriggerCharacters:Se(new g(106,\"suggestOnTriggerCharacters\",!0,{description:_.localize(217,null)})),suggestSelection:Se(new E(107,\"suggestSelection\",\"recentlyUsed\",[\"first\",\"recentlyUsed\",\"recentlyUsedByPrefix\"],{markdownEnumDescriptions:[_.localize(218,null),_.localize(219,null),_.localize(220,null)],description:_.localize(221,null)})),tabCompletion:Se(new E(108,\"tabCompletion\",\"off\",[\"on\",\"off\",\"onlySnippets\"],{enumDescriptions:[_.localize(222,null),_.localize(223,null),_.localize(224,null)],description:_.localize(225,null)})),tabIndex:Se(new a(109,\"tabIndex\",0,-1,1073741824)),unusualLineTerminators:Se(new E(110,\"unusualLineTerminators\",\"prompt\",[\"auto\",\"off\",\"prompt\"],{enumDescriptions:[_.localize(226,null),_.localize(227,null),_.localize(228,null)],description:_.localize(229,null)})),useTabStops:Se(new g(111,\"useTabStops\",!0,{description:_.localize(230,null)})),wordSeparators:Se(new S(112,\"wordSeparators\",R.USUAL_WORD_SEPARATORS,{description:_.localize(231,null)})),wordWrap:Se(new E(113,\"wordWrap\",\"off\",[\"off\",\"on\",\"wordWrapColumn\",\"bounded\"],{markdownEnumDescriptions:[_.localize(232,null),_.localize(233,null),_.localize(234,null),_.localize(235,null)],description:_.localize(236,null)})),wordWrapBreakAfterCharacters:Se(new S(114,\"wordWrapBreakAfterCharacters\",\" })]?|/&.,;\\xA2\\xB0\\u2032\\u2033\\u2030\\u2103\\u3001\\u3002\\uFF61\\uFF64\\uFFE0\\uFF0C\\uFF0E\\uFF1A\\uFF1B\\uFF1F\\uFF01\\uFF05\\u30FB\\uFF65\\u309D\\u309E\\u30FD\\u30FE\\u30FC\\u30A1\\u30A3\\u30A5\\u30A7\\u30A9\\u30C3\\u30E3\\u30E5\\u30E7\\u30EE\\u30F5\\u30F6\\u3041\\u3043\\u3045\\u3047\\u3049\\u3063\\u3083\\u3085\\u3087\\u308E\\u3095\\u3096\\u31F0\\u31F1\\u31F2\\u31F3\\u31F4\\u31F5\\u31F6\\u31F7\\u31F8\\u31F9\\u31FA\\u31FB\\u31FC\\u31FD\\u31FE\\u31FF\\u3005\\u303B\\uFF67\\uFF68\\uFF69\\uFF6A\\uFF6B\\uFF6C\\uFF6D\\uFF6E\\uFF6F\\uFF70\\u201D\\u3009\\u300B\\u300D\\u300F\\u3011\\u3015\\uFF09\\uFF3D\\uFF5D\\uFF63\")),wordWrapBreakBeforeCharacters:Se(new S(115,\"wordWrapBreakBeforeCharacters\",\"([{\\u2018\\u201C\\u3008\\u300A\\u300C\\u300E\\u3010\\u3014\\uFF08\\uFF3B\\uFF5B\\uFF62\\xA3\\xA5\\uFF04\\uFFE1\\uFFE5+\\uFF0B\")),wordWrapColumn:Se(new a(116,\"wordWrapColumn\",80,1,1073741824,{markdownDescription:_.localize(237,null)})),wordWrapOverride1:Se(new E(117,\"wordWrapOverride1\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wordWrapOverride2:Se(new E(118,\"wordWrapOverride2\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wrappingIndent:Se(new c(119,\"wrappingIndent\",1,\"same\",[\"none\",\"same\",\"indent\",\"deepIndent\"],Me,{enumDescriptions:[_.localize(238,null),_.localize(239,null),_.localize(240,null),_.localize(241,null)],description:_.localize(242,null)})),wrappingStrategy:Se(new E(120,\"wrappingStrategy\",\"simple\",[\"simple\",\"advanced\"],{enumDescriptions:[_.localize(243,null),_.localize(244,null)],description:_.localize(245,null)})),editorClassName:Se(new p),pixelRatio:Se(new X),tabFocusMode:Se(new he),layoutInfo:Se(new W),wrappingInfo:Se(new we)}}),define(ge[151],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(ge[152],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(ge[153],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/files/common/files\",e)}),define(ge[154],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/markers/common/markers\",e)}),define(ge[155],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/theme/common/iconRegistry\",e)}),define(ge[156],pe([18,19]),function(Z,e){return Z.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(ge[157],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHost.api.impl\",e)}),define(ge[158],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostDiagnostics\",e)}),define(ge[159],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostExtensionActivator\",e)}),define(ge[160],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostExtensionService\",e)}),define(ge[161],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostProgress\",e)}),define(ge[162],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostStatusBar\",e)}),define(ge[163],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostTerminalService\",e)}),define(ge[164],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostTreeViews\",e)}),define(ge[165],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/common/extHostWorkspace\",e)}),define(ge[166],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/api/node/extHostDebugService\",e)}),define(ge[167],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/common/views\",e)}),define(ge[168],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/contrib/debug/common/abstractDebugAdapter\",e)}),define(ge[169],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/contrib/debug/node/debugAdapter\",e)}),define(ge[170],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/contrib/externalTerminal/node/externalTerminalService\",e)}),define(ge[171],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/contrib/search/common/queryBuilder\",e)}),define(ge[172],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/contrib/tasks/common/taskService\",e)}),define(ge[173],pe([18,19]),function(Z,e){return Z.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(ge[174],pe([0,1]),function(Z,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var _;(function(D){D[D.ACTIVATE=0]=\"ACTIVATE\",D[D.RESTORE=1]=\"RESTORE\",D[D.PRESERVE=2]=\"PRESERVE\"})(_=e.EditorActivation||(e.EditorActivation={}));var A;(function(D){D[D.PICK=1]=\"PICK\",D[D.DISABLED=2]=\"DISABLED\"})(A=e.EditorOverride||(e.EditorOverride={}));var R;(function(D){D[D.API=0]=\"API\",D[D.USER=1]=\"USER\"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var I;(function(D){D[D.Center=0]=\"Center\",D[D.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",D[D.NearTop=2]=\"NearTop\",D[D.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(I=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[108],pe([0,1]),function(Z,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class _{constructor(I,D=[],P=!1){this.ctor=I,this.staticArguments=D,this.supportsDelayedInstantiation=P}}e.SyncDescriptor=_;const A=(R,...I)=>new _(R,I);e.createSyncDescriptor=A}),define(ge[78],pe([0,1,108]),function(Z,e,_){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const A=[];function R(D,P,y){P instanceof _.SyncDescriptor||(P=new _.SyncDescriptor(P,[],y)),A.push([D,P])}e.registerSingleton=R;function I(){return A}e.getSingletonServiceDescriptors=I}),define(ge[175],pe([0,1]),function(Z,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=_;class A{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(let D of this._nodes.values())D.outgoing.size===0&&I.push(D);return I}insertEdge(I,D){const P=this.lookupOrInsertNode(I),y=this.lookupOrInsertNode(D);P.outgoing.set(this._hashFn(D),y),y.incoming.set(this._hashFn(I),P)}removeNode(I){const D=this._hashFn(I);this._nodes.delete(D);for(let P of this._nodes.values())P.outgoing.delete(D),P.incoming.delete(D)}lookupOrInsertNode(I){const D=this._hashFn(I);let P=this._nodes.get(D);return P||(P=new _(I),this._nodes.set(D,P)),P}lookup(I){return this._nodes.get(this._hashFn(I))}isEmpty(){return this._nodes.size===0}toString(){let I=[];for(let[D,P]of this._nodes)I.push(`${D}, (incoming)[${[...P.incoming.keys()].join(\", \")}], (outgoing)[${[...P.outgoing.keys()].join(\",\")}]`);return I.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js", "进程PID": "", "异常时间": "2021-04-13 17:30:28", "所属用户": "root", "异常信息": "反弹shell类：`):t}function L(t){return typeof t.code==\"string\"&&typeof t.errno==\"number\"&&typeof t.syscall==\"string\"?v.localize(1,null,t.message):t.message||v.localize(2,null)}function h(t=null,A=!1){if(!t)return v.localize(3,null);if(Array.isArray(t)){const _=I.coalesce(t),w=h(_[0],A);return _.length>1?v.localize(4,null,w,_.length):w}if(S.isString(t))return t;if(t.detail){const _=t.detail;if(_.error)return y(_.error,A);if(_.exception)return y(_.exception,A)}return t.stack?y(t,A):t.message?t.message:v.localize(5,null)}e.toErrorMessage=h}),define(de[135],me([9,10]),function(Z,e){return Z.create(\"vs/base/common/jsonErrorMessages\",e)}),define(de[136],me([0,1,135]),function(Z,e,v){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getParseErrorMessage=void 0;function S(I){switch(I){case 1:return(0,v.localize)(0,null);case 2:return(0,v.localize)(1,null);case 3:return(0,v.localize)(2,null);case 4:return(0,v.localize)(3,null);case 5:return(0,v.localize)(4,null);case 6:return(0,v.localize)(5,null);case 7:return(0,v.localize)(6,null);case 8:return(0,v.localize)(7,null);case 9:return(0,v.localize)(8,null);default:return\"\"}}e.getParseErrorMessage=S}),define(de[137],me([9,10]),function(Z,e){return Z.create(\"vs/base/node/processes\",e)}),define(de[82],me([0,1,4,15,21,37,137,25,11,20,29,5,75,8]),function(Z,e,v,S,I,y,P,L,h,t,A,_,w,b){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(r){switch(r){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(r,n){if(_.isWindows)try{const i={stdio:[\"pipe\",\"pipe\",\"ignore\"]};n&&(i.cwd=n);const s=y.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",r.pid.toString()],i);return new Promise(o=>{s.once(\"error\",c=>{o({success:!1,error:c})}),s.once(\"exit\",(c,d)=>{o(c===0?{success:!0}:{success:!1,code:c!==null?c:1})})})}catch(i){return Promise.resolve({success:!1,error:i,code:i.status?a(i.status):1})}else if(_.isLinux||_.isMacintosh)try{const i=b.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Z).fsPath;return new Promise(s=>{y.execFile(i,[r.pid.toString()],{encoding:\"utf8\",shell:!0},(o,c,d)=>{s(o?{success:!1,error:o}:{success:!0})})})}catch(i){return Promise.resolve({success:!1,error:i})}else r.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function p(r=L.env){return r.comspec||\"cmd.exe\"}e.getWindowsShell=p;class m{constructor(n,i,s,o){if(i!==void 0&&s!==void 0&&o!==void 0)this.cmd=n,this.args=i,this.shell=s,this.options=o;else{const c=n;this.cmd=c.command,this.shell=c.isShellCommand,this.args=c.args.slice(0),this.options=c.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const c=Object.create(null);Object.keys(L.env).forEach(d=>{c[d]=L.env[d]}),Object.keys(this.options.env).forEach(d=>{c[d]=this.options.env[d]}),this.options.env=c}}getSanitizedCommand(){let n=this.cmd.toLowerCase();const i=n.lastIndexOf(v.sep);return i!==-1&&(n=n.substring(i+1)),m.WellKnowCommands[n]?n:\"other\"}start(n){return _.isWindows&&(this.options&&this.options.cwd&&A.isUNC(this.options.cwd)||!this.options&&A.isUNC(L.cwd()))?Promise.reject(new Error(P.localize(0,null))):this.useExec().then(i=>{let s,o;const c=new Promise((d,k)=>{s=d,o=k});if(i){let d=this.cmd;this.args&&(d=d+\" \"+this.args.join(\" \")),this.childProcess=y.exec(d,this.options,(k,F,E)=>{this.childProcess=null;const g=k;g&&g.killed?o({killed:this.terminateRequested,stdout:F.toString(),stderr:E.toString()}):this.handleExec(s,n,k,F,E)})}else{let d=null;const k=F=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(F,s,n,o);const E={terminated:this.terminateRequested};h.isNumber(F)&&(E.cmdCode=F),s(E)};if(this.shell&&_.isWindows){const F=t.deepClone(this.options);F.windowsVerbatimArguments=!0,F.detached=!1;let E=!1,g=!1;const D=[];let N=this.ensureQuotes(this.cmd);D.push(N.value),E=N.quoted,this.args&&this.args.forEach(x=>{N=this.ensureQuotes(x),D.push(N.value),g=g&&N.quoted});const K=[\"/s\",\"/c\"];E?g?K.push('\"'+D.join(\" \")+'\"'):D.length>1?K.push('\"'+D[0]+'\" '+D.slice(1).join(\" \")):K.push('\"'+D[0]+'\"'):K.push(D.join(\" \")),d=y.spawn(p(),K,F)}else this.cmd&&(d=y.spawn(this.cmd,this.args,this.options));d&&(this.childProcess=d,this.childProcessPromise=Promise.resolve(d),this.pidResolve&&(this.pidResolve(h.isNumber(d.pid)?d.pid:-1),this.pidResolve=void 0),d.on(\"error\",F=>{this.childProcess=null,o({terminated:this.terminateRequested,error:F})}),d.pid&&(this.childProcess.on(\"close\",k),this.handleSpawn(d,s,n,o,!0)))}return c})}handleClose(n,i,s,o){}ensureQuotes(n){return m.regexp.test(n)?{value:'\"'+n+'\"',quoted:!0}:{value:n,quoted:n.length>0&&n[0]==='\"'&&n[n.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(n=>n.pid,n=>-1):new Promise(n=>{this.pidResolve=n})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(n=>(this.terminateRequested=!0,l(n,this.options.cwd).then(i=>(i.success&&(this.childProcess=null),i))),n=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(n=>{if(!this.shell||!_.isWindows)return n(!1);const i=y.spawn(p(),[\"/s\",\"/c\"]);i.on(\"error\",s=>n(!0)),i.on(\"exit\",s=>n(!1))})}}e.AbstractProcess=m,m.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},m.regexp=/^[^\"].* .*[^\"]/;class C extends m{constructor(n,i,s,o){super(n,i,s,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(n,i,s,o,c){[o,c].forEach((d,k)=>{const F=new w.LineDecoder;F.write(d).forEach(D=>{i({line:D,source:k===0?0:1})});const g=F.end();g&&i({line:g,source:k===0?0:1})}),n({terminated:this.terminateRequested,error:s})}handleSpawn(n,i,s,o,c){const d=new w.LineDecoder,k=new w.LineDecoder;n.stdout.on(\"data\",F=>{d.write(F).forEach(g=>s({line:g,source:0}))}),n.stderr.on(\"data\",F=>{k.write(F).forEach(g=>s({line:g,source:1}))}),this.stdoutLineDecoder=d,this.stderrLineDecoder=k}handleClose(n,i,s,o){const c=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;c&&s({line:c,source:0});const d=this.stderrLineDecoder?this.stderrLineDecoder.end():null;d&&s({line:d,source:1})}}e.LineProcess=C;function f(r){let n=[],i=!1;const s=function(o){if(i){n.push(o);return}(!r.send(o,d=>{if(d&&console.error(d),i=!1,n.length>0){const k=n.slice(0);n=[],k.forEach(F=>s(F))}})||_.isWindows)&&(i=!0)};return{send:s}}e.createQueuedSender=f;var u;(function(r){async function n(i,s,o){if(v.isAbsolute(i))return i;if(s===void 0&&(s=L.cwd()),v.dirname(i)!==\".\"||(o===void 0&&h.isString(L.env.PATH)&&(o=L.env.PATH.split(v.delimiter)),o===void 0||o.length===0))return v.join(s,i);async function d(k){return await I.exists(k)?!(await S.promises.stat(k)).isDirectory():!1}for(let k of o){let F;if(v.isAbsolute(k)?F=v.join(k,i):F=v.join(s,k,i),await d(F))return F;let E=F+\".com\";if(await d(E)||(E=F+\".exe\",await d(E)))return E}return v.join(s,i)}r.findExecutable=n})(u=e.win32||(e.win32={}))}),define(de[83],me([0,1,24,5,125,82]),function(Z,e,v,S,I,y){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function P(b,a){return b===3?S.isWindows?_():y.getWindowsShell(a):t(b,a)}e.getSystemShell=P;function L(b,a){return b===3?S.isWindows?w(a):y.getWindowsShell(a):t(b,a)}e.getSystemShellSync=L;let h=null;function t(b,a){if(S.isLinux&&b===1||S.isMacintosh&&b===2)return\"/bin/bash\";if(!h){let l;if(S.isWindows)l=\"/bin/bash\";else{if(l=a.SHELL,!l)try{l=v.userInfo().shell}catch(p){}l||(l=\"sh\"),l===\"/bin/false\"&&(l=\"/bin/bash\")}h=l}return h}let A=null;async function _(){return A||(A=(await(0,I.getFirstAvailablePowerShellInstallation)()).exePath),A}function w(b){if(A)return A;const a=S.isWindows&&parseFloat(v.release())>=10,l=b.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),p=`${b.windir}\\\\${l?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return a?p:y.getWindowsShell(b)}}),define(de[55],me([0,1,37,2,14,20,6,82,34,116,28,12,18,5]),function(Z,e,v,S,I,y,P,L,h,t,A,_,w,b){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Client=e.Server=void 0;class a extends h.ChannelServer{constructor(m){super({send:C=>{try{process.send&&process.send(C.buffer.toString(\"base64\"))}catch(f){}},onMessage:P.Event.fromNodeEventEmitter(process,\"message\",C=>w.VSBuffer.wrap(Buffer.from(C,\"base64\")))},m);process.once(\"disconnect\",()=>this.dispose())}}e.Server=a;class l{constructor(m,C){this.modulePath=m,this.options=C,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new P.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const f=C&&C.timeout?C.timeout:6e4;this.disposeDelayer=new I.Delayer(f),this.child=null,this._client=null}getChannel(m){const C=this;return{call(f,u,r){return C.requestPromise(m,f,u,r)},listen(f,u){return C.requestEvent(m,f,u)}}}requestPromise(m,C,f,u=A.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error(\"disposed\"));if(u.isCancellationRequested)return Promise.reject(_.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(m),n=(0,I.createCancelablePromise)(o=>r.call(C,f,o)),i=u.onCancellationRequested(()=>n.cancel()),s=(0,S.toDisposable)(()=>n.cancel());return this.activeRequests.add(s),n.finally(()=>{i.dispose(),this.activeRequests.delete(s),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),n}requestEvent(m,C,f){if(!this.disposeDelayer)return P.Event.None;this.disposeDelayer.cancel();let u;const r=new P.Emitter({onFirstListenerAdd:()=>{u=this.getCachedChannel(m).listen(C,f)(r.fire,r),this.activeRequests.add(u)},onLastListenerRemove:()=>{this.activeRequests.delete(u),u.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const m=this.options&&this.options.args?this.options.args:[],C=Object.create(null);C.env=Object.assign(Object.assign({},(0,y.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(C.env=Object.assign(Object.assign({},C.env),this.options.env)),this.options&&this.options.freshExecArgv&&(C.execArgv=[]),this.options&&typeof this.options.debug==\"number\"&&(C.execArgv=[\"--nolazy\",\"--inspect=\"+this.options.debug]),this.options&&typeof this.options.debugBrk==\"number\"&&(C.execArgv=[\"--nolazy\",\"--inspect-brk=\"+this.options.debugBrk]),C.execArgv===void 0&&(C.execArgv=process.execArgv.filter(c=>!/^--inspect(-brk)?=/.test(c))),b.isMacintosh&&C.env&&delete C.env.DYLD_LIBRARY_PATH,this.child=(0,v.fork)(this.modulePath,m,C);const f=new P.Emitter;P.Event.fromNodeEventEmitter(this.child,\"message\",c=>c)(c=>{if((0,t.isRemoteConsoleLog)(c)){(0,t.log)(c,`IPC Library: ${this.options.serverName}`);return}f.fire(w.VSBuffer.wrap(Buffer.from(c,\"base64\")))});const r=this.options.useQueue?(0,L.createQueuedSender)(this.child):this.child,n=c=>this.child&&this.child.connected&&r.send(c.buffer.toString(\"base64\")),i=f.event,s={send:n,onMessage:i};this._client=new h.ChannelClient(s);const o=()=>this.disposeClient();process.once(\"exit\",o),this.child.on(\"error\",c=>console.warn('IPC \"'+this.options.serverName+'\" errored with '+c)),this.child.on(\"exit\",(c,d)=>{process.removeListener(\"exit\",o),this.activeRequests.forEach(k=>(0,S.dispose)(k)),this.activeRequests.clear(),c!==0&&d!==\"SIGTERM\"&&console.warn('IPC \"'+this.options.serverName+'\" crashed with exit code '+c+\" and signal \"+d),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:c,signal:d})})}return this._client}getCachedChannel(m){let C=this.channels.get(m);return C||(C=this.client.getChannel(m),this.channels.set(m,C)),C}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=l}),define(de[138],me([9,10]),function(Z,e){return Z.create(\"vs/base/node/zip\",e)}),define(de[139],me([9,10]),function(Z,e){return Z.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(de[140],me([9,10]),function(Z,e){return Z.create(\"vs/platform/environment/node/argv\",e)}),define(de[141],me([9,10]),function(Z,e){return Z.create(\"vs/platform/environment/node/argvHelper\",e)}),define(de[142],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(de[143],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/common/extensionManagementCLIService\",e)}),define(de[144],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/node/extensionManagementService\",e)}),define(de[145],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/node/extensionManagementUtil\",e)}),define(de[146],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensionManagement/node/extensionsScanner\",e)}),define(de[147],me([9,10]),function(Z,e){return Z.create(\"vs/platform/extensions/common/extensionValidator\",e)}),define(de[148],me([9,10]),function(Z,e){return Z.create(\"vs/platform/files/common/fileService\",e)}),define(de[149],me([9,10]),function(Z,e){return Z.create(\"vs/platform/files/common/files\",e)}),define(de[150],me([9,10]),function(Z,e){return Z.create(\"vs/platform/files/common/io\",e)}),define(de[151],me([9,10]),function(Z,e){return Z.create(\"vs/platform/files/node/diskFileSystemProvider\",e)}),define(de[152],me([9,10]),function(Z,e){return Z.create(\"vs/platform/markers/common/markers\",e)}),define(de[153],me([9,10]),function(Z,e){return Z.create(\"vs/platform/request/common/request\",e)}),define(de[154],me([9,10]),function(Z,e){return Z.create(\"vs/platform/telemetry/common/telemetryService\",e)}),define(de[155],me([9,10]),function(Z,e){return Z.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(de[156],me([9,10]),function(Z,e){return Z.create(\"vs/server/remoteAgentEnvironmentImpl\",e)}),define(de[157],me([9,10]),function(Z,e){return Z.create(\"vs/server/serverEnvironmentService\",e)}),define(de[158],me([9,10]),function(Z,e){return Z.create(\"vs/workbench/common/editor\",e)}),define(de[159],me([9,10]),function(Z,e){return Z.create(\"vs/workbench/contrib/terminal/common/terminal\",e)}),define(de[160],me([9,10]),function(Z,e){return Z.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(de[161],me([9,10]),function(Z,e){return Z.create(\"vs/workbench/services/extensions/node/extensionPoints\",e)}),define(de[162],me([0,1,6,2]),function(Z,e,v,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class I{constructor(){this._onCloseEmitter=new v.Emitter,this._onReloadEmitter=new v.Emitter,this._onTerminateEmitter=new v.Emitter,this._onAttachEmitter=new v.Emitter}call(L,h,t){switch(h){case\"close\":return Promise.resolve(this._onCloseEmitter.fire({sessionId:t[0]}));case\"reload\":return Promise.resolve(this._onReloadEmitter.fire({sessionId:t[0]}));case\"terminate\":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:t[0]}));case\"attach\":return Promise.resolve(this._onAttachEmitter.fire({sessionId:t[0],port:t[1],subId:t[2]}))}throw new Error(\"Method not implemented.\")}listen(L,h,t){switch(h){case\"close\":return this._onCloseEmitter.event;case\"reload\":return this._onReloadEmitter.event;case\"terminate\":return this._onTerminateEmitter.event;case\"attach\":return this._onAttachEmitter.event}throw new Error(\"Method not implemented.\")}}e.ExtensionHostDebugBroadcastChannel=I,I.ChannelName=\"extensionhostdebugservice\";class y extends S.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call(\"reload\",[L])}get onReload(){return this.channel.listen(\"reload\")}close(L){this.channel.call(\"close\",[L])}get onClose(){return this.channel.listen(\"close\")}attachSession(L,h,t){this.channel.call(\"attach\",[L,h,t])}get onAttachSession(){return this.channel.listen(\"attach\")}terminateSession(L,h){this.channel.call(\"terminate\",[L,h])}get onTerminateSession(){return this.channel.listen(\"terminate\")}openExtensionDevelopmentHostWindow(L,h,t){return this.channel.call(\"openExtensionDevelopmentHostWindow\",[L,h,t])}}e.ExtensionHostDebugChannelClient=y}),define(de[163],me([0,1,3]),function(Z,e,v){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class S{constructor(P){this.service=P}listen(P,L,h){throw new Error(\"Invalid listen\")}call(P,L,h){switch(L){case\"download\":return this.service.download(v.URI.revive(h[0]),v.URI.revive(h[1]))}throw new Error(\"Invalid call\")}}e.DownloadServiceChannel=S;class I{constructor(P,L){this.channel=P,this.getUriTransformer=L}async download(P,L){const h=this.getUriTransformer();h&&(P=h.transformOutgoingURI(P),L=h.transformOutgoingURI(L)),await this.channel.call(\"download\",[P,L])}}e.DownloadServiceChannelClient=I}),define(de[164],me([0,1]),function(Z,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(P){P[P.ACTIVATE=0]=\"ACTIVATE\",P[P.RESTORE=1]=\"RESTORE\",P[P.PRESERVE=2]=\"PRESERVE\"})(v=e.EditorActivation||(e.EditorActivation={}));var S;(function(P){P[P.PICK=1]=\"PICK\",P[P.DISABLED=2]=\"DISABLED\"})(S=e.EditorOverride||(e.EditorOverride={}));var I;(function(P){P[P.API=0]=\"API\",P[P.USER=1]=\"USER\"})(I=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(P){P[P.Center=0]=\"Center\",P[P.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",P[P.NearTop=2]=\"NearTop\",P[P.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))});var Ne=this&&this.__decorate||function(Z,e,v,S){var I=arguments.length,y=I<3?e:S===null?S=Object.getOwnPropertyDescriptor(e,v):S,P;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")y=Reflect.decorate(Z,e,v,S);else for(var L=Z.length-1;L>=0;L--)(P=Z[L])&&(y=(I<3?P(y):I>3?P(e,v,y):P(e,v))||y);return I>3&&y&&Object.defineProperty(e,v,y),y};define(de[165],me([0,1,4,17,109,133,8,3,25]),function(Z,e,v,S,I,y,P,L,h){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class t{constructor(a,l,p){this._args=a,this.paths=l,this.productService=p}get appRoot(){return(0,v.dirname)(P.FileAccess.asFileUri(\"\",Z).fsPath)}get userHome(){return L.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return L.URI.file((0,v.join)(this.userDataPath,\"User\"))}get tmpDir(){return L.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,\"settings.json\")}get userDataSyncHome(){return(0,S.joinPath)(this.userRoamingDataHome,\"sync\")}get logsPath(){if(!this.args.logsPath){const a=(0,y.toLocalISOString)(new Date).replace(/-|:|\\.\\d+Z$/g,\"\");this.args.logsPath=(0,v.join)(this.userDataPath,\"logs\",a)}return this.args.logsPath}get userDataSyncLogResource(){return L.URI.file((0,v.join)(this.logsPath,\"userDataSync.log\"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,S.joinPath)(L.URI.file((0,v.join)(this.userDataPath,\"Machine\")),\"settings.json\")}get globalStorageHome(){return L.URI.joinPath(this.appSettingsHome,\"globalStorage\")}get workspaceStorageHome(){return L.URI.joinPath(this.appSettingsHome,\"workspaceStorage\")}get keybindingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,\"keybindings.json\")}get keyboardLayoutResource(){return(0,S.joinPath)(this.userRoamingDataHome,\"keyboardLayout.json\")}get argvResource(){const a=h.env.VSCODE_PORTABLE;return a?L.URI.file((0,v.join)(a,\"argv.json\")):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,\"argv.json\")}get snippetsHome(){return(0,S.joinPath)(this.userRoamingDataHome,\"snippets\")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return L.URI.file((0,v.join)(this.userDataPath,\"Workspaces\"))}get installSourcePath(){return(0,v.join)(this.userDataPath,\"installSource\")}get builtinExtensionsPath(){const a=this.args[\"builtin-extensions-dir\"];return a?(0,v.resolve)(a):(0,v.normalize)((0,v.join)(P.FileAccess.asFileUri(\"\",Z).fsPath,\"..\",\"extensions\"))}get extensionsDownloadPath(){const a=this.args[\"extensions-download-dir\"];return a?(0,v.resolve)(a):(0,v.join)(this.userDataPath,\"CachedExtensionVSIXs\")}get extensionsPath(){const a=this.args[\"extensions-dir\"];if(a)return(0,v.resolve)(a);const l=h.env.VSCODE_EXTENSIONS;if(l)return l;const p=h.env.VSCODE_PORTABLE;return p?(0,v.join)(p,\"extensions\"):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,\"extensions\").fsPath}get extensionDevelopmentLocationURI(){const a=this.args.extensionDevelopmentPath;if(Array.isArray(a))return a.map(l=>/^[^:/?#]+?:\\/\\//.test(l)?L.URI.parse(l):L.URI.file((0,v.normalize)(l)))}get extensionDevelopmentKind(){var a;return(a=this.args.extensionDevelopmentKind)===null||a===void 0?void 0:a.map(l=>l===\"ui\"||l===\"workspace\"||l===\"web\"?l:\"workspace\")}get extensionTestsLocationURI(){const a=this.args.extensionTestsPath;if(a)return/^[^:/?#]+?:\\/\\//.test(a)?L.URI.parse(a):L.URI.file((0,v.normalize)(a))}get disableExtensions(){if(this.args[\"disable-extensions\"])return!0;const a=this.args[\"disable-extension\"];if(a){if(typeof a==\"string\")return[a];if(Array.isArray(a)&&a.length>0)return a}return!1}get debugExtensionHost(){return A(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!h.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,S.joinPath)(L.URI.file(this.userDataPath),\"machineid\")}get crashReporterId(){return this.args[\"crash-reporter-id\"]}get crashReporterDirectory(){return this.args[\"crash-reporter-directory\"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return L.URI.file((0,v.join)(this.logsPath,\"telemetry.log\"))}get disableTelemetry(){return!!this.args[\"disable-telemetry\"]}get args(){return this._args}}Ne([I.memoize],t.prototype,\"appRoot\",null),Ne([I.memoize],t.prototype,\"userHome\",null),Ne([I.memoize],t.prototype,\"userDataPath\",null),Ne([I.memoize],t.prototype,\"appSettingsHome\",null),Ne([I.memoize],t.prototype,\"tmpDir\",null),Ne([I.memoize],t.prototype,\"userRoamingDataHome\",null),Ne([I.memoize],t.prototype,\"settingsResource\",null),Ne([I.memoize],t.prototype,\"userDataSyncHome\",null),Ne([I.memoize],t.prototype,\"userDataSyncLogResource\",null),Ne([I.memoize],t.prototype,\"sync\",null),Ne([I.memoize],t.prototype,\"machineSettingsResource\",null),Ne([I.memoize],t.prototype,\"globalStorageHome\",null),Ne([I.memoize],t.prototype,\"workspaceStorageHome\",null),Ne([I.memoize],t.prototype,\"keybindingsResource\",null),Ne([I.memoize],t.prototype,\"keyboardLayoutResource\",null),Ne([I.memoize],t.prototype,\"argvResource\",null),Ne([I.memoize],t.prototype,\"snippetsHome\",null),Ne([I.memoize],t.prototype,\"isExtensionDevelopment\",null),Ne([I.memoize],t.prototype,\"untitledWorkspacesHome\",null),Ne([I.memoize],t.prototype,\"installSourcePath\",null),Ne([I.memoize],t.prototype,\"builtinExtensionsPath\",null),Ne([I.memoize],t.prototype,\"extensionsPath\",null),Ne([I.memoize],t.prototype,\"extensionDevelopmentLocationURI\",null),Ne([I.memoize],t.prototype,\"extensionDevelopmentKind\",null),Ne([I.memoize],t.prototype,\"extensionTestsLocationURI\",null),Ne([I.memoize],t.prototype,\"debugExtensionHost\",null),Ne([I.memoize],t.prototype,\"serviceMachineIdResource\",null),Ne([I.memoize],t.prototype,\"telemetryLogResource\",null),e.AbstractNativeEnvironmentService=t;function A(b,a){return w(b[\"inspect-extensions\"],b[\"inspect-brk-extensions\"],5870,a,b.debugId)}e.parseExtensionHostPort=A;function _(b,a){return w(b[\"inspect-search\"],b[\"inspect-brk-search\"],5876,a)}e.parseSearchPort=_;function w(b,a,l,p,m){const f=Number(a||b)||(p?null:l),u=f?Boolean(!!a):!1;return{port:f,break:u,debugId:m}}}),define(de[56],me([0,1,235,140,5]),function(Z,e,v,S,I){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:(0,S.localize)(0,null),e:(0,S.localize)(1,null),t:(0,S.localize)(2,null)};e.OPTIONS={diff:{type:\"boolean\",cat:\"o\",alias:\"d\",args:[\"file\",\"file\"],description:(0,S.localize)(3,null)},add:{type:\"boolean\",cat:\"o\",alias:\"a\",args:\"folder\",description:(0,S.localize)(4,null)},goto:{type:\"boolean\",cat:\"o\",alias:\"g\",args:\"file:line[:character]\",description:(0,S.localize)(5,null)},\"new-window\":{type:\"boolean\",cat:\"o\",alias:\"n\",description:(0,S.localize)(6,null)},\"reuse-window\":{type:\"boolean\",cat:\"o\",alias:\"r\",description:(0,S.localize)(7,null)},wait:{type:\"boolean\",cat:\"o\",alias:\"w\",description:(0,S.localize)(8,null)},waitMarkerFilePath:{type:\"string\"},locale:{type:\"string\",cat:\"o\",args:\"locale\",description:(0,S.localize)(9,null)},\"user-data-dir\":{type:\"string\",cat:\"o\",args:\"dir\",description:(0,S.localize)(10,null)},help:{type:\"boolean\",cat:\"o\",alias:\"h\",description:(0,S.localize)(11,null)},\"extensions-dir\":{type:\"string\",deprecates:\"extensionHomePath\",cat:\"e\",args:\"dir\",description:(0,S.localize)(12,null)},\"extensions-download-dir\":{type:\"string\"},\"builtin-extensions-dir\":{type:\"string\"},\"list-extensions\":{type:\"boolean\",cat:\"e\",description:(0,S.localize)(13,null)},\"show-versions\":{type:\"boolean\",cat:\"e\",description:(0,S.localize)(14,null)},category:{type:\"string\",cat:\"e\",description:(0,S.localize)(15,null)},\"install-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id[@version] | path-to-vsix\",description:(0,S.localize)(16,null)},\"uninstall-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:(0,S.localize)(17,null)},\"enable-proposed-api\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:(0,S.localize)(18,null)},version:{type:\"boolean\",cat:\"t\",alias:\"v\",description:(0,S.localize)(19,null)},verbose:{type:\"boolean\",cat:\"t\",description:(0,S.localize)(20,null)},log:{type:\"string\",cat:\"t\",args:\"level\",description:(0,S.localize)(21,null)},status:{type:\"boolean\",alias:\"s\",cat:\"t\",description:(0,S.localize)(22,null)},\"prof-startup\":{type:\"boolean\",cat:\"t\",description:(0,S.localize)(23,null)},\"prof-append-timers\":{type:\"string\"},\"prof-startup-prefix\":{type:\"string\"},\"prof-v8-extensions\":{type:\"boolean\"},\"disable-extensions\":{type:\"boolean\",deprecates:\"disableExtensions\",cat:\"t\",description:(0,S.localize)(24,null)},\"disable-extension\":{type:\"string[]\",cat:\"t\",args:\"extension-id\",description:(0,S.localize)(25,null)},sync:{type:\"string\",cat:\"t\",description:(0,S.localize)(26,null),args:[\"on\",\"off\"]},\"inspect-extensions\":{type:\"string\",deprecates:\"debugPluginHost\",args:\"port\",cat:\"t\",description:(0,S.localize)(27,null)},\"inspect-brk-extensions\":{type:\"string\",deprecates:\"debugBrkPluginHost\",args:\"port\",cat:\"t\",description:(0,S.localize)(28,null)},\"disable-gpu\":{type:\"boolean\",cat:\"t\",description:(0,S.localize)(29,null)},\"max-memory\":{type:\"string\",cat:\"t\",description:(0,S.localize)(30,null)},telemetry:{type:\"boolean\",cat:\"t\",description:(0,S.localize)(31,null)},remote:{type:\"string\"},\"folder-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"file-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"locate-extension\":{type:\"string[]\"},extensionDevelopmentPath:{type:\"string[]\"},extensionDevelopmentKind:{type:\"string[]\"},extensionTestsPath:{type:\"string\"},debugId:{type:\"string\"},debugRenderer:{type:\"boolean\"},\"inspect-search\":{type:\"string\",deprecates:\"debugSearch\"},\"inspect-brk-search\":{type:\"string\",deprecates:\"debugBrkSearch\"},\"export-default-configuration\":{type:\"string\"},\"install-source\":{type:\"string\"},driver:{type:\"string\"},logExtensionHostCommunication:{type:\"boolean\"},\"skip-release-notes\":{type:\"boolean\"},\"disable-telemetry\":{type:\"boolean\"},\"disable-updates\":{type:\"boolean\"},\"disable-keytar\":{type:\"boolean\"},\"disable-crash-reporter\":{type:\"boolean\"},\"crash-reporter-directory\":{type:\"string\"},\"crash-reporter-id\":{type:\"string\"},\"skip-add-to-recently-opened\":{type:\"boolean\"},\"unity-launch\":{type:\"boolean\"},\"open-url\":{type:\"boolean\"},\"file-write\":{type:\"boolean\"},\"file-chmod\":{type:\"boolean\"},\"driver-verbose\":{type:\"boolean\"},\"install-builtin-extension\":{type:\"string[]\"},force:{type:\"boolean\"},\"do-not-sync\":{type:\"boolean\"},trace:{type:\"boolean\"},\"trace-category-filter\":{type:\"string\"},\"trace-options\":{type:\"string\"},\"force-user-env\":{type:\"boolean\"},\"force-disable-user-env\":{type:\"boolean\"},\"open-devtools\":{type:\"boolean\"},__sandbox:{type:\"boolean\"},logsPath:{type:\"string\"},\"no-proxy-server\":{type:\"boolean\"},\"proxy-server\":{type:\"string\"},\"proxy-bypass-list\":{type:\"string\"},\"proxy-pac-url\":{type:\"string\"},\"js-flags\":{type:\"string\"},inspect:{type:\"string\"},\"inspect-brk\":{type:\"string\"},nolazy:{type:\"boolean\"},\"force-device-scale-factor\":{type:\"string\"},\"force-renderer-accessibility\":{type:\"boolean\"},\"ignore-certificate-errors\":{type:\"boolean\"},\"allow-insecure-localhost\":{type:\"boolean\"},\"log-net-log\":{type:\"string\"},_urls:{type:\"string[]\"},_:{type:\"string[]\"}};const P={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(a,l,p=P){const m={},C=[],f=[];for(let i in l){const s=l[i];s.alias&&(m[i]=s.alias),s.type===\"string\"||s.type===\"string[]\"?(C.push(i),s.deprecates&&C.push(s.deprecates)):s.type===\"boolean\"&&(f.push(i),s.deprecates&&f.push(s.deprecates))}const u=v(a,{string:C,boolean:f,alias:m}),r={},n=u;r._=u._.map(i=>String(i)).filter(i=>i.length>0),delete n._;for(let i in l){const s=l[i];s.alias&&delete n[s.alias];let o=n[i];s.deprecates&&n.hasOwnProperty(s.deprecates)&&(o||(o=n[s.deprecates]),delete n[s.deprecates]),typeof o!=\"undefined\"&&(s.type===\"string[]\"?o&&!Array.isArray(o)&&(o=[o]):s.type===\"string\"&&Array.isArray(o)&&(o=o.pop(),p.onMultipleValues(i,o)),r[i]=o),delete n[i]}for(let i in n)p.onUnknownOption(i);return r}e.parseArgs=L;function h(a,l){let p=\"\";return l.args&&(Array.isArray(l.args)?p=` <${l.args.join(\"> <\")}>`:p=` <${l.args}>`),l.alias?`-${l.alias} --${a}${p}`:`--${a}${p}`}function t(a,l){let p=0,m=[];for(const r in a){const n=a[r],i=h(r,n);p=Math.max(p,i.length),m.push([i,n.description])}let C=p+2+1;if(l-C<25)return m.reduce((r,n)=>r.concat([` ${n[0]}`,` ${n[1]}`]),[]);let f=l-C-1,u=[];for(const r of m){let n=r[0],i=_(r[1],f),s=A(C-n.length-2);u.push(\" \"+n+s+i[0]);for(let o=1;o<i.length;o++)u.push(A(C)+i[o])}return u}e.formatOptions=t;function A(a){return\" \".repeat(a)}function _(a,l){let p=[];for(;a.length;){let m=a.length<l?a.length:a.lastIndexOf(\" \",l),C=a.slice(0,m).trim();a=a.slice(m),p.push(C)}return p}function w(a,l,p,m,C=!0){const f=process.stdout.isTTY&&process.stdout.columns||80;let u=[`${a} ${p}`];u.push(\"\"),u.push(`${(0,S.localize)(32,null)}: ${l} [${(0,S.localize)(33,null)}][${(0,S.localize)(34,null)}...]`),u.push(\"\"),C&&(I.isWindows?u.push((0,S.localize)(35,null,l)):u.push((0,S.localize)(36,null,l)),u.push(\"\"));const r={};for(const n in m){const i=m[n];if(i.description&&i.cat){let s=r[i.cat];s||(r[i.cat]=s={}),s[n]=i}}for(let n in r){const i=n;let s=r[i];s&&(u.push(y[i]),u.push(...t(s,f)),u.push(\"\"))}return u.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "进程PID": "", "异常时间": "2021-04-30 03:39:18", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(35)},function(e,t,r){\"use strict\";const n=r(0),s=r(36),o=r(37),i=r(3),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},s=i.isWindows(t),o=a.makeRe(e,t,!1,!0),c=o.state;delete o.state;let l=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};l=a(n.ignore,e,r)}const u=(r,i=!1)=>{let{isMatch:u,match:p,output:h}=a.test(r,o,t,{glob:e,posix:s}),f={glob:e,state:c,regex:o,posix:s,input:r,output:h,match:p,isMatch:u};return\"function\"==typeof n.onResult&&n.onResult(f),!1===u?(f.isMatch=!1,!!i&&f):l(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!i&&f):(\"function\"==typeof n.onMatch&&n.onMatch(f),!i||f)};return r&&(u.state=c),u};a.test=(e,t,r,{glob:n,posix:s}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let o=r||{},c=o.format||(s?i.toPosixSlashes:null),l=e===n,u=l&&c?c(e):e;return!1===l&&(u=c?c(e):e,l=u===n),!1!==l&&!0!==o.capture||(l=!0===o.matchBase||!0===o.basename?a.matchBase(e,t,r,s):t.exec(u)),{isMatch:!!l,match:l,output:u}},a.matchBase=(e,t,r,s=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>o(e,t),a.scan=(e,t)=>s(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let s,i=t||{},c=i.contains?\"\":\"^\",l=i.contains?\"\":\"$\",u={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=u.prefix=\"./\"),!1===i.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(s=o.fastpaths(e,t)),void 0===s&&(u=a.parse(e,t),u.prefix=p+(u.prefix||\"\"),s=u.output),!0===r)return s;let h=`${c}(?:${s})${l}`;u&&!0===u.negated&&(h=`^(?!${h}).*$`);let f=a.toRegex(h,t);return!0===n&&(f.state=u),f},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(4),e.exports=a},function(e,t,r){\"use strict\";const n=r(3),{CHAR_ASTERISK:s,CHAR_AT:o,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:y}=r(4);e.exports=(e,t)=>{let r,v,b=t||{},E=e.length-1,S=-1,x=0,C=0,R=!1,A=!1,w=!1,O=0,k=!1,T=()=>S>=E,N=()=>(r=v,e.charCodeAt(++S));for(;S<E;){let t;if(v=N(),v!==i){if(!0===k||v===p)for(O++;!T()&&(t=N());)if(t!==i)if(t!==p){if(!k&&t===c&&(t=N())===c){R=!0;break}if(!k&&t===a){R=!0;break}if(t===g&&(O--,0===O)){k=!1;break}}else O++;else A=!0,t=N();if(v!==u){if(v===s){R=!0;break}if(v===s||v===_){R=!0;break}if(v===f)for(;!T()&&(t=N());)if(t!==i){if(t===y){R=!0;break}}else A=!0,t=N();if((v===d||v===o||v===l)&&e.charCodeAt(S+1)===h){R=!0;break}if(v!==l||S!==x){if(v===h)for(;!T()&&(t=N());)if(t!==i){if(t===m){R=!0;break}}else A=!0,t=N();if(R)break}else w=!0,x++}else{if(r===c&&S===x+1){x+=2;continue}C=S+1}}else A=!0,t=N(),t===p&&(k=!0)}let L=\"\",P=e,I=e,H=\"\";return x>0&&(L=e.slice(0,x),e=e.slice(x),C-=x),I&&!0===R&&C>0?(I=e.slice(0,C),H=e.slice(C)):!0===R?(I=\"\",H=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===u||e===i)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===b.unescape&&(H&&(H=n.removeBackslashes(H)),I&&!0===A&&(I=n.removeBackslashes(I))),{prefix:L,input:P,base:I,glob:H,negated:w,isGlob:R}}},function(e,t,r){\"use strict\";const n=r(3),s=r(4),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=s,u=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},h=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,f=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=l[e]||e;let r={...t},f=\"number\"==typeof r.maxLength?Math.min(o,r.maxLength):o,d=e.length;if(d>f)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${f}`);let _={type:\"bos\",value:\"\",output:r.prepend||\"\"},g=[_],m=r.capture?\"\":\"?:\",y=n.isWindows(t);const v=s.globChars(y),b=s.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:S,SLASH_LITERAL:x,ONE_CHAR:C,DOTS_SLASH:R,NO_DOT:A,NO_DOT_SLASH:w,NO_DOTS_SLASH:O,QMARK:k,QMARK_NO_DOT:T,STAR:N,START_ANCHOR:L}=v,P=e=>`(${m}(?:(?!${L}${e.dot?R:E}).)*?)`;let I=r.dot?\"\":A,H=!0===r.bash?P(r):N,$=r.dot?k:T;r.capture&&(H=`(${H})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let M,B={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},D=[],j=[],U=_;const F=()=>B.index===d-1,q=B.peek=(t=1)=>e[B.index+t],G=B.advance=()=>e[++B.index],W=e=>{B.output+=null!=e.output?e.output:e.value,B.consumed+=e.value||\"\"},K=e=>{B[e]++,j.push(e)},Q=e=>{B[e]--,j.pop()},V=e=>{if(\"globstar\"===U.type){let t=B.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=D.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(B.output=B.output.slice(0,-U.output.length),U.type=\"star\",U.value=\"*\",U.output=H,B.output+=U.output)}D.length&&\"paren\"!==e.type&&!b[e.value]&&(D[D.length-1].inner+=e.value),(e.value||e.output)&&W(e),U&&\"text\"===U.type&&\"text\"===e.type?U.value+=e.value:(e.prev=U,g.push(e),U=e)},z=(e,t)=>{let n={...b[t],conditions:1,inner:\"\"};n.prev=U,n.parens=B.parens,n.output=B.output;let s=(r.capture?\"(\":\"\")+n.open;V({type:e,value:t,output:B.output?\"\":C}),V({type:\"paren\",extglob:!0,value:G(),output:s}),K(\"parens\"),D.push(n)},X=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let s=H;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(s=P(r)),(s!==H||F()||/^\\)+$/.test(e.slice(B.index+1)))&&(n=t.close=\")$))\"+s),\"bos\"===t.prev.type&&F()&&(B.negatedExtglob=!0)}V({type:\"paren\",extglob:!0,value:M,output:n}),Q(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,s,o,i)=>\"\\\\\"===s?(t=!0,e):\"?\"===s?r?r+s+(o?k.repeat(o.length):\"\"):0===i?$+(o?k.repeat(o.length):\"\"):k.repeat(n.length):\".\"===s?E.repeat(n.length):\"*\"===s?r?r+s+(o?H:\"\"):H:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),B.output=n,B}for(;!F();){if(M=G(),\"\\0\"===M)continue;if(\"\\\\\"===M){let t=q();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){M+=\"\\\\\",V({type:\"text\",value:M});continue}let n=/^\\\\+/.exec(e.slice(B.index+1)),s=0;if(n&&n[0].length>2&&(s=n[0].length,B.index+=s,s%2!=0&&(M+=\"\\\\\")),!0===r.unescape?M=G()||\"\":M+=G()||\"\",0===B.brackets){V({type:\"text\",value:M});continue}}if(B.brackets>0&&(\"]\"!==M||\"[\"===U.value||\"[^\"===U.value)){if(!1!==r.posix&&\":\"===M){let e=U.value.slice(1);if(e.includes(\"[\")&&(U.posix=!0,e.includes(\":\"))){let e=U.value.lastIndexOf(\"[\"),t=U.value.slice(0,e),r=U.value.slice(e+2),n=i[r];if(n){U.value=t+n,B.backtrack=!0,G(),_.output||1!==g.indexOf(U)||(_.output=C);continue}}}(\"[\"===M&&\":\"!==q()||\"-\"===M&&\"]\"===q())&&(M=\"\\\\\"+M),\"]\"!==M||\"[\"!==U.value&&\"[^\"!==U.value||(M=\"\\\\\"+M),!0===r.posix&&\"!\"===M&&\"[\"===U.value&&(M=\"^\"),U.value+=M,W({value:M});continue}if(1===B.quotes&&'\"'!==M){M=n.escapeRegex(M),U.value+=M,W({value:M});continue}if('\"'===M){B.quotes=1===B.quotes?0:1,!0===r.keepQuotes&&V({type:\"text\",value:M});continue}if(\"(\"===M){V({type:\"paren\",value:M}),K(\"parens\");continue}if(\")\"===M){if(0===B.parens&&!0===r.strictBrackets)throw new SyntaxError(h(\"opening\",\"(\"));let e=D[D.length-1];if(e&&B.parens===e.parens+1){X(D.pop());continue}V({type:\"paren\",value:M,output:B.parens?\")\":\"\\\\)\"}),Q(\"parens\");continue}if(\"[\"===M){if(!0!==r.nobracket&&e.slice(B.index+1).includes(\"]\"))K(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(h(\"closing\",\"]\"));M=\"\\\\\"+M}V({type:\"bracket\",value:M});continue}if(\"]\"===M){if(!0===r.nobracket||U&&\"bracket\"===U.type&&1===U.value.length){V({type:\"text\",value:M,output:\"\\\\\"+M});continue}if(0===B.brackets){if(!0===r.strictBrackets)throw new SyntaxError(h(\"opening\",\"[\"));V({type:\"text\",value:M,output:\"\\\\\"+M});continue}Q(\"brackets\");let e=U.value.slice(1);if(!0===U.posix||\"^\"!==e[0]||e.includes(\"/\")||(M=\"/\"+M),U.value+=M,W({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(U.value);if(B.output=B.output.slice(0,-U.value.length),!0===r.literalBrackets){B.output+=t,U.value=t;continue}U.value=`(${m}${t}|${U.value})`,B.output+=U.value;continue}if(\"{\"===M&&!0!==r.nobrace){V({type:\"brace\",value:M,output:\"(\"}),K(\"braces\");continue}if(\"}\"===M){if(!0===r.nobrace||0===B.braces){V({type:\"text\",value:M,output:\"\\\\\"+M});continue}let e=\")\";if(!0===B.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=u(n,r),B.backtrack=!0}V({type:\"brace\",value:M,output:e}),Q(\"braces\");continue}if(\"|\"===M){D.length>0&&D[D.length-1].conditions++,V({type:\"text\",value:M});continue}if(\",\"===M){let e=M;B.braces>0&&\"braces\"===j[j.length-1]&&(e=\"|\"),V({type:\"comma\",value:M,output:e});continue}if(\"/\"===M){if(\"dot\"===U.type&&1===B.index){B.start=B.index+1,B.consumed=\"\",B.output=\"\",g.pop(),U=_;continue}V({type:\"slash\",value:M,output:x});continue}if(\".\"===M){if(B.braces>0&&\"dot\"===U.type){\".\"===U.value&&(U.output=E),U.type=\"dots\",U.output+=M,U.value+=M,B.dots=!0;continue}V({type:\"dot\",value:M,output:E});continue}if(\"?\"===M){if(U&&\"paren\"===U.type){let e=q(),t=M;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===U.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(q(2)))&&(t=\"\\\\\"+M),V({type:\"text\",value:M,output:t});continue}if(!0!==r.noextglob&&\"(\"===q()&&\"?\"!==q(2)){z(\"qmark\",M);continue}if(!0!==r.dot&&(\"slash\"===U.type||\"bos\"===U.type)){V({type:\"qmark\",value:M,output:T});continue}V({type:\"qmark\",value:M,output:k});continue}if(\"!\"===M){if(!0!==r.noextglob&&\"(\"===q()&&(\"?\"!==q(2)||!/[!=<:]/.test(q(3)))){z(\"negate\",M);continue}if(!0!==r.nonegate&&0===B.index){p(B);continue}}if(\"+\"===M){if(!0!==r.noextglob&&\"(\"===q()&&\"?\"!==q(2)){z(\"plus\",M);continue}if(U&&(\"bracket\"===U.type||\"paren\"===U.type||\"brace\"===U.type)){let e=!0===U.extglob?\"\\\\\"+M:M;V({type:\"plus\",value:M,output:e});continue}if(B.parens>0&&!1!==r.regex){V({type:\"plus\",value:M});continue}V({type:\"plus\",value:S});continue}if(\"@\"===M){if(!0!==r.noextglob&&\"(\"===q()&&\"?\"!==q(2)){V({type:\"at\",value:M,output:\"\"});continue}V({type:\"text\",value:M});continue}if(\"*\"!==M){\"$\"!==M&&\"^\"!==M||(M=\"\\\\\"+M);let t=a.exec(e.slice(B.index+1));t&&(M+=t[0],B.index+=t[0].length),V({type:\"text\",value:M});continue}if(U&&(\"globstar\"===U.type||!0===U.star)){U.type=\"star\",U.star=!0,U.value+=M,U.output=H,B.backtrack=!0,B.consumed+=M;continue}if(!0!==r.noextglob&&\"(\"===q()&&\"?\"!==q(2)){z(\"star\",M);continue}if(\"star\"===U.type){if(!0===r.noglobstar){B.consumed+=M;continue}let t=U.prev,n=t.prev,s=\"slash\"===t.type||\"bos\"===t.type,o=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!s||!F()&&\"/\"!==q())){V({type:\"star\",value:M,output:\"\"});continue}let i=B.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=D.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!s&&\"paren\"!==t.type&&!i&&!a){V({type:\"star\",value:M,output:\"\"});continue}for(;\"/**\"===e.slice(B.index+1,B.index+4);){let t=e[B.index+4];if(t&&\"/\"!==t)break;B.consumed+=\"/**\",B.index+=3}if(\"bos\"===t.type&&F()){U.type=\"globstar\",U.value+=M,U.output=P(r),B.output=U.output,B.consumed+=M;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!o&&F()){B.output=B.output.slice(0,-(t.output+U.output).length),t.output=\"(?:\"+t.output,U.type=\"globstar\",U.output=P(r)+\"|$)\",U.value+=M,B.output+=t.output+U.output,B.consumed+=M;continue}let c=q();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==q(2)?\"|$\":\"\";B.output=B.output.slice(0,-(t.output+U.output).length),t.output=\"(?:\"+t.output,U.type=\"globstar\",U.output=`${P(r)}${x}|${x}${e})`,U.value+=M,B.output+=t.output+U.output,B.consumed+=M+G(),V({type:\"slash\",value:M,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){U.type=\"globstar\",U.value+=M,U.output=`(?:^|${x}|${P(r)}${x})`,B.output=U.output,B.consumed+=M+G(),V({type:\"slash\",value:M,output:\"\"});continue}B.output=B.output.slice(0,-U.output.length),U.type=\"globstar\",U.output=P(r),U.value+=M,B.output+=U.output,B.consumed+=M;continue}let t={type:\"star\",value:M,output:H};!0!==r.bash?!U||\"bracket\"!==U.type&&\"paren\"!==U.type||!0!==r.regex?(B.index!==B.start&&\"slash\"!==U.type&&\"dot\"!==U.type||(\"dot\"===U.type?(B.output+=w,U.output+=w):!0===r.dot?(B.output+=O,U.output+=O):(B.output+=I,U.output+=I),\"*\"!==q()&&(B.output+=C,U.output+=C)),V(t)):(t.output=M,V(t)):(t.output=\".*?\",\"bos\"!==U.type&&\"slash\"!==U.type||(t.output=I+t.output),V(t))}for(;B.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(h(\"closing\",\"]\"));B.output=n.escapeLast(B.output,\"[\"),Q(\"brackets\")}for(;B.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(h(\"closing\",\")\"));B.output=n.escapeLast(B.output,\"(\"),Q(\"parens\")}for(;B.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(h(\"closing\",\"}\"));B.output=n.escapeLast(B.output,\"{\"),Q(\"braces\")}if(!0===r.strictSlashes||\"star\"!==U.type&&\"bracket\"!==U.type||V({type:\"maybe_slash\",value:\"\",output:`${x}?`}),!0===B.backtrack){B.output=\"\";for(let e of B.tokens)B.output+=null!=e.output?e.output:e.value,e.suffix&&(B.output+=e.suffix)}return B};f.fastpaths=(e,t)=>{let r={...t},i=\"number\"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=l[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:u,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:m,START_ANCHOR:y}=s.globChars(c);let v=r.capture?\"\":\"?:\",b=!0===r.bash?\".*?\":m,E=r.dot?_:d,S=r.dot?g:d;r.capture&&(b=`(${b})`);const x=e=>`(${v}(?:(?!${y}${e.dot?f:u}).)*?)`,C=e=>{switch(e){case\"*\":return`${E}${h}${b}`;case\".*\":return`${u}${h}${b}`;case\"*.*\":return`${E}${b}${u}${h}${b}`;case\"*/*\":return`${E}${b}${p}${h}${S}${b}`;case\"**\":return E+x(r);case\"**/*\":return`(?:${E}${x(r)}${p})?${S}${h}${b}`;case\"**/*.*\":return`(?:${E}${x(r)}${p})?${S}${b}${u}${h}${b}`;case\"**/.*\":return`(?:${E}${x(r)}${p})?${u}${h}${b}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=C(r[1],t);if(!n)return;return n+u+r[2]}}};let R=C(e);return R&&!0!==r.strictSlashes&&(R+=`${p}?`),R},e.exports=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.findOpenPortSync=void 0;const n=r(9),s=r(13);var o=r(39);Object.defineProperty(t,\"acquirePortNumber\",{enumerable:!0,get:function(){return o.acquirePortNumber}}),t.findOpenPortSync=function({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){const n=i();let o=s.randomInRange(e,t);for(let s=Math.min(r,t-e);s>=0;s--){if(n(o))return o;o=o===t-1?e:o+1}throw new Error(\"No open port found\")};const i=()=>{const e=e=>0===n.spawnSync(process.execPath,[\"-e\",'require(\"net\").createServer().on(\"listening\",()=>process.exit(0)).on(\"error\",()=>process.exit(1)).listen(+process.env.PORT)'],{env:Object.assign(Object.assign({},process.env),{PORT:String(e),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:\"1\"})}).status;let t=\"win32\"===process.platform?e:r=>{var s;const o=n.spawnSync(\"nc\",[\"-z\",\"127.0.0.1\",String(r)]);return\"ENOENT\"===(null===(s=o.error)||void 0===s?void 0:s.code)&&(t=e),1===o.status};return e=>t(e)}},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.serverResolutionPromise=t.makeAcquireWebSocketServer=t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const i=o(r(14)),a=o(r(40)),c=r(49),l=r(13);function u(e,t=c.NeverCancelled){let r;return new Promise((n,s)=>{const o=i.createServer();o.listen(e,\"127.0.0.1\",()=>{const e=o.address();o.close(()=>n(e.port))}),o.on(\"error\",s),r=t.onCancellationRequested(()=>{o.close(),s(new c.TaskCancelledError(\"Port open lookup cancelled\"))})}).finally(()=>null==r?void 0:r.dispose())}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=u}={},s=c.NeverCancelled){let o=l.randomInRange(e,t);for(let i=Math.min(r,t-e);;i--)try{return await n(o,s)}catch(r){if(0===i||r instanceof c.TaskCancelledError)throw r;o=o===t-1?e:o+1}},t.isPortOpen=async function(e,t){try{return await u(e,t),!0}catch(e){return!1}},t.acquirePortNumber=u,t.makeAcquireTcpServer=e=>(r,n)=>{const s=i.createServer(e);return s.listen(r,\"127.0.0.1\"),t.serverResolutionPromise(s,n)},t.makeAcquireWebSocketServer=e=>(r,n)=>t.serverResolutionPromise(new a.Server(Object.assign(Object.assign({host:\"127.0.0.1\"},e),{port:r})),n),t.serverResolutionPromise=(e,t)=>{let r;return new Promise((n,s)=>{e.on(\"error\",s),e.on(\"listening\",()=>n(e)),r=t.onCancellationRequested(()=>{e.close(),s(new c.TaskCancelledError(\"Port open lookup cancelled\"))})}).finally(()=>null==r?void 0:r.dispose())}},function(e,t,r){\"use strict\";const n=r(15);n.createWebSocketStream=r(47),n.Server=r(48),n.Receiver=r(18),n.Sender=r(21),e.exports=n},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t){e.exports=require(\"url\")},function(e,t){e.exports=require(\"zlib\")},function(e,t,r){\"use strict\";const n=Symbol(\"kDone\"),s=Symbol(\"kRun\");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[s]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[s]()}[s](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){\"use strict\";class n{constructor(e,t){this.target=t,this.type=e}}class s extends n{constructor(e,t){super(\"message\",t),this.data=e}}class o extends n{constructor(e,t,r){super(\"close\",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends n{constructor(e){super(\"open\",e)}}class a extends n{constructor(e,t){super(\"error\",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new s(e,this))}function n(e,r){t.call(this,new o(e,r,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new i(this))}\"function\"==typeof t&&(\"message\"===e?(r._listener=t,this.on(e,r)):\"close\"===e?(n._listener=t,this.on(e,n)):\"error\"===e?(c._listener=t,this.on(e,c)):\"open\"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){\"use strict\";const{Duplex:n}=r(19);function s(e){e.emit(\"close\")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener(\"error\",i),this.destroy(),0===this.listenerCount(\"error\")&&this.emit(\"error\",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once(\"open\",(function(){e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a)})):(e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on(\"message\",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once(\"error\",(function(e){c.destroyed||c.destroy(e)})),e.once(\"close\",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(s,c);let n=!1;e.once(\"error\",(function(e){n=!0,r(e)})),e.once(\"close\",(function(){n||r(t),process.nextTick(s,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once(\"finish\",(function(){t()})),e.close())):e.once(\"open\",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once(\"open\",(function(){c._write(t,r,n)}))},c.on(\"end\",o),c.on(\"error\",i),c}},function(e,t,r){\"use strict\";const n=r(16),{createHash:s}=r(2),{createServer:o,STATUS_CODES:i}=r(17),a=r(5),c=r(15),{format:l,parse:u}=r(22),{GUID:p}=r(1),h=/^[+/0-9A-Za-z]{22}==$/,f=Symbol(\"kUsedByWebSocketServer\");function d(e){e.emit(\"close\")}function _(){this.destroy()}function g(e,t,r,n){e.writable&&(r=r||i[t],n={Connection:\"close\",\"Content-type\":\"text/html\",\"Content-Length\":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i[t]}\\r\\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join(\"\\r\\n\")+\"\\r\\n\\r\\n\"+r)),e.removeListener(\"error\",_),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the \"port\", \"server\", or \"noServer\" options must be specified');if(null!=e.port)this._server=o((e,t)=>{const r=i[426];t.writeHead(426,{\"Content-Length\":r.length,\"Content-Type\":\"text/plain\"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[f])throw new Error(\"The HTTP/S server is already being used by another WebSocket server\");e.server[f]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,\"listening\"),error:this.emit.bind(this,\"error\"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit(\"connection\",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in \"noServer\" mode');return this._server?this._server.address():null}close(e){if(e&&this.once(\"close\",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit(\"close\"));delete t[f]}process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf(\"?\");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on(\"error\",_);const s=void 0!==e.headers[\"sec-websocket-key\"]&&e.headers[\"sec-websocket-key\"].trim(),o=+e.headers[\"sec-websocket-version\"],i={};if(\"GET\"!==e.method||\"websocket\"!==e.headers.upgrade.toLowerCase()||!s||!h.test(s)||8!==o&&13!==o||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers[\"sec-websocket-extensions\"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),i[a.extensionName]=r)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===o?\"sec-websocket-origin\":\"origin\"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,c,l)=>{if(!o)return g(t,a||401,c,l);this.completeUpgrade(s,i,e,t,r,n)});if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(s,i,e,t,r,n)}completeUpgrade(e,t,r,n,o,i){if(!n.readable||!n.writable)return n.destroy();const u=[\"HTTP/1.1 101 Switching Protocols\",\"Upgrade: websocket\",\"Connection: Upgrade\",`Sec-WebSocket-Accept: ${s(\"sha1\").update(e+p).digest(\"base64\")}`],h=new c(null);let f=r.headers[\"sec-websocket-protocol\"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,r):f[0],f&&(u.push(`Sec-WebSocket-Protocol: ${f}`),h.protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push(`Sec-WebSocket-Extensions: ${r}`),h._extensions=t}this.emit(\"headers\",u,r),n.write(u.concat(\"\\r\\n\").join(\"\\r\\n\")),n.removeListener(\"error\",_),h.setSocket(n,o,this.options.maxPayload),this.clients&&(this.clients.add(h),h.on(\"close\",()=>this.clients.delete(h))),i(h)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(50),s=r(51),o=r(53);class i extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=i,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new i(r||\"Task cancelled\"));const n=o.getDeferred(),s=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new i(r||\"Task cancelled\")}),e.then(e=>(s.dispose(),e)).catch(e=>{throw s.dispose(),e})])},t.cancellableRace=function(e,t){const r=new c(t),n=e.map(async e=>{try{return await e(r.token)}finally{r.cancel()}});return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class c{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new c(t),n=r._token=new l,s=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(s)),r}get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token instanceof l&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof l&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=c;class l{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new s.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ProtocolError=void 0;class n extends Error{constructor(e){super(\"__errorMarker\"in e?e.error.format:e.format),this._cause=\"__errorMarker\"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ListenerMap=t.EventEmitter=void 0;const n=r(52);class s{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(s),s}}get size(){return this._listeners.size}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}t.EventEmitter=s;t.ListenerMap=class{constructor(){this.map=new Map,this.listeners=this.map}listen(e,t){let r=this.map.get(e);r||(r=new s,this.map.set(e,r));const o=r.event(t);return{dispose:n.once(()=>{o.dispose(),0===(null==r?void 0:r.size)&&this.map.delete(e)})}}emit(e,t){var r;null===(r=this.listeners.get(e))||void 0===r||r.fire(t)}}},function(e,t,r){\"use strict\";function n(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];t(s,n)&&(r[n]=s)}return r}Object.defineProperty(t,\"__esModule\",{value:!0}),t.upcastPartial=t.pick=t.flatten=t.bisectArray=t.trailingEdgeThrottle=t.debounce=t.memoizeWeak=t.memoize=t.once=t.getCaseInsensitiveProperty=t.caseInsensitiveMerge=t.walkObject=t.sortKeys=t.filterObject=t.mapKeys=t.mapValues=t.filterValues=t.assertNever=t.removeUndefined=t.removeNulls=t.truthy=void 0,t.truthy=e=>!!e,t.removeNulls=e=>n(e,e=>null!==e),t.removeUndefined=e=>n(e,e=>void 0!==e),t.assertNever=(e,t)=>{throw new Error(t.replace(\"{value}\",JSON.stringify(e)))},t.filterValues=n,t.mapValues=function(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];r[n]=t(s,n)}return r},t.mapKeys=function(e,t){const r={};for(const n of Object.keys(e)){const s=t(n,e[n]);void 0!==s&&(r[s]=e[n])}return r},t.filterObject=function(e,t){const r={};for(const n of Object.keys(e))t(n,e[n])&&(r[n]=e[n]);return r},t.sortKeys=function(e,t){if(!e||\"object\"!=typeof e||e instanceof Array)return e;const r={};for(const n of Object.keys(e).sort(t))r[n]=e[n];return r},t.walkObject=function e(t,r){if(t=r(t))if(t instanceof Array)t=t.map(t=>e(t,r));else if(\"object\"==typeof t&&t)for(const n of Object.keys(t))t[n]=e(t[n],r);return t},t.caseInsensitiveMerge=function(...e){if(0===e.length)return{};const t={},r=Object.create(null);for(const n of e)if(n)for(const e of Object.keys(n)){const s=e.toLowerCase();r[s]?t[r[s]]=n[e]:(r[s]=e,t[e]=n[e])}return t},t.getCaseInsensitiveProperty=function(e,t){if(e.hasOwnProperty(t))return e[t];const r=t.toLowerCase();for(const t of Object.keys(e))if(t.toLowerCase()===r)return e[t]};const s=Symbol(\"unset\");t.once=function(e){let t=s;const r=(...n)=>(t===s&&(r.value=t=e(...n)),t);return r.forget=()=>{t=s,r.value=void 0},r.value=void 0,r},t.memoize=function(e){const t=new Map,r=r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n};return r.clear=()=>t.clear(),r},t.memoizeWeak=function(e){const t=new WeakMap;return r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n}},t.debounce=function(e,t){let r;const n=()=>{void 0!==r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,t()},e)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.trailingEdgeThrottle=function(e,t){let r;const n=()=>{void 0===r&&(r=setTimeout(()=>{r=void 0,t()},e))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.bisectArray=function(e,t){const r=[],n=[];for(const s of e)t(s)?r.push(s):n.push(s);return[r,n]},t.flatten=function(e){let t=[];for(const r of e)t=t.concat(r);return t},t.pick=function(e,t){const r={};for(const n of t)r[n]=e[n];return r},t.upcastPartial=e=>e},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getDeferred=t.some=t.disposableTimeout=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise(t=>setTimeout(t,e)):new Promise(()=>{}),t.disposableTimeout=(e,t)=>{const r=setTimeout(e,t);return{dispose:()=>clearTimeout(r)}},t.some=function(e){return new Promise((t,r)=>{let n=e.length;for(const s of e)s.then(e=>{e?(t(e),n=-1):0==--n&&t(void 0)}).catch(r)})},t.getDeferred=function(){let e,t=null,r=null,n=!1;const s=new Promise((s,o)=>{t=t=>{n=!0,e=t,s(t)},r=e=>{n=!0,o(e)}});return{resolve:t,reject:r,promise:s,get settledValue(){return e},hasSettled:()=>n}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set([\"mocha\",\"jest\",\"jest-cli\",\"ava\",\"tape\",\"tap\",\"ts-node\",\"babel-node\"]);t.knownToolToken=\"$KNOWN_TOOLS$\",t.knownToolGlob=`{${[...n].join(\",\")}}`},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=\":::\";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(57),logger_1=__webpack_require__(23);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to lack of IPC server\"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to invalid lease file\"),!1)},exports.checkNotElectron=()=>{try{return eval(\"window\"),logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling in Electron (window is set)\"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r=\"\";try{r=__webpack_require__(59).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||\"\").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info(\"runtime.launch\",\"Disabling due to not matching pattern\",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&\"npm-cli.js\"===path_1.basename(e[1])&&\"prefix\"===e[2]&&\"-g\"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&\"node-gyp.js\"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.LeaseFile=void 0;const i=r(2),a=r(10),c=r(58),l=o(r(0));class u{constructor(){this.disposed=!1,this.path=l.join(c.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString(\"hex\")}`),this.file=a.promises.open(this.path,\"w\")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-u.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),u.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=u,u.updateInterval=1e3,u.recencyDeadline=2e3},function(e,t){e.exports=require(\"os\")},function(e,t){function r(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=59},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,\"watchdog.bundle.js\"),t.bootloaderDefaultPath=n.join(__dirname,\"bootloader.bundle.js\")},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createTargetId=void 0;const n=r(2);t.createTargetId=()=>n.randomBytes(12).toString(\"hex\")},function(e,t){e.exports=require(\"worker_threads\")}]);", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js", "进程PID": "", "异常时间": "2021-04-30 03:39:18", "所属用户": "root", "异常信息": "反弹shell类：\",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"}},function(e,t,r){\"use strict\";e.exports=r(389)},function(e,t,r){\"use strict\";const n=r(0),i=r(390),s=r(391),o=r(89),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if(\"string\"!=typeof e||\"\"===e)throw new TypeError(\"Expected pattern to be a non-empty string\");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return\"function\"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?(\"function\"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):(\"function\"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected input to be a string\");if(\"\"===e)return{isMatch:!1,output:\"\"};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||\"string\"!=typeof e)throw new TypeError(\"Expected a non-empty string\");let i,o=t||{},c=o.contains?\"\":\"^\",u=o.contains?\"\":\"$\",l={negated:!1,fastpaths:!0},p=\"\";if(e.startsWith(\"./\")&&(e=e.slice(2),p=l.prefix=\"./\"),!1===o.fastpaths||\".\"!==e[0]&&\"*\"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||\"\"),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?\"i\":\"\"))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(90),e.exports=a},function(e,t,r){\"use strict\";const n=r(89),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(90);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,C=!1,E=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else C=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else C=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else C=!0,t=M();if(P)break}else E=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else C=!0,t=M(),t===p&&(T=!0)}let A=\"\",R=e,I=e,D=\"\";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I=\"\",D=e):I=e,I&&\"\"!==I&&\"/\"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===C&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:E,isGlob:P}}},function(e,t,r){\"use strict\";const n=r(89),i=r(90),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if(\"function\"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join(\"-\")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join(\"..\")}return r},p=e=>{let t=1;for(;\"!\"===e.peek()&&(\"(\"!==e.peek(2)||\"?\"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: \"${t}\" - use \"\\\\\\\\${t}\" to match literal characters`,h=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");e=u[e]||e;let r={...t},h=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:\"bos\",value:\"\",output:r.prepend||\"\"},m=[g],y=r.capture?\"\":\"?:\",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:C,NO_DOT_SLASH:E,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?\"\":C,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),\"boolean\"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:\"\",output:\"\",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||\"\"},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if(\"globstar\"===$.type){let t=F.braces>0&&(\"comma\"===e.type||\"brace\"===e.type),r=B.length&&(\"pipe\"===e.type||\"paren\"===e.type);\"slash\"===e.type||\"paren\"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type=\"star\",$.value=\"*\",$.output=D,F.output+=$.output)}B.length&&\"paren\"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&\"text\"===$.type&&\"text\"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:\"\"};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?\"(\":\"\")+n.open;K({type:e,value:t,output:F.output?\"\":x}),K({type:\"paren\",extglob:!0,value:W(),output:i}),G(\"parens\"),B.push(n)},Q=t=>{let n=t.close+(r.capture?\")\":\"\");if(\"negate\"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(i=R(r)),(i!==D||q()||/^\\)+$/.test(e.slice(F.index+1)))&&(n=t.close=\")$))\"+i),\"bos\"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:\"paren\",extglob:!0,value:N,output:n}),z(\"parens\")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\\]}\"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>\"\\\\\"===i?(t=!0,e):\"?\"===i?r?r+i+(s?T.repeat(s.length):\"\"):0===o?L+(s?T.repeat(s.length):\"\"):T.repeat(n.length):\".\"===i?_.repeat(n.length):\"*\"===i?r?r+i+(s?D:\"\"):D:r?e:\"\\\\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\\\/g,\"\"):n.replace(/\\\\+/g,e=>e.length%2==0?\"\\\\\\\\\":e?\"\\\\\":\"\")),F.output=n,F}for(;!q();){if(N=W(),\"\\0\"===N)continue;if(\"\\\\\"===N){let t=V();if(\"/\"===t&&!0!==r.bash)continue;if(\".\"===t||\";\"===t)continue;if(!t){N+=\"\\\\\",K({type:\"text\",value:N});continue}let n=/^\\\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+=\"\\\\\")),!0===r.unescape?N=W()||\"\":N+=W()||\"\",0===F.brackets){K({type:\"text\",value:N});continue}}if(F.brackets>0&&(\"]\"!==N||\"[\"===$.value||\"[^\"===$.value)){if(!1!==r.posix&&\":\"===N){let e=$.value.slice(1);if(e.includes(\"[\")&&($.posix=!0,e.includes(\":\"))){let e=$.value.lastIndexOf(\"[\"),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}(\"[\"===N&&\":\"!==V()||\"-\"===N&&\"]\"===V())&&(N=\"\\\\\"+N),\"]\"!==N||\"[\"!==$.value&&\"[^\"!==$.value||(N=\"\\\\\"+N),!0===r.posix&&\"!\"===N&&\"[\"===$.value&&(N=\"^\"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'\"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('\"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:\"text\",value:N});continue}if(\"(\"===N){K({type:\"paren\",value:N}),G(\"parens\");continue}if(\")\"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"(\"));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:\"paren\",value:N,output:F.parens?\")\":\"\\\\)\"}),z(\"parens\");continue}if(\"[\"===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes(\"]\"))G(\"brackets\");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));N=\"\\\\\"+N}K({type:\"bracket\",value:N});continue}if(\"]\"===N){if(!0===r.nobracket||$&&\"bracket\"===$.type&&1===$.value.length){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d(\"opening\",\"[\"));K({type:\"text\",value:N,output:\"\\\\\"+N});continue}z(\"brackets\");let e=$.value.slice(1);if(!0===$.posix||\"^\"!==e[0]||e.includes(\"/\")||(N=\"/\"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if(\"{\"===N&&!0!==r.nobrace){K({type:\"brace\",value:N,output:\"(\"}),G(\"braces\");continue}if(\"}\"===N){if(!0===r.nobrace||0===F.braces){K({type:\"text\",value:N,output:\"\\\\\"+N});continue}let e=\")\";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:\"brace\",value:N,output:e}),z(\"braces\");continue}if(\"|\"===N){B.length>0&&B[B.length-1].conditions++,K({type:\"text\",value:N});continue}if(\",\"===N){let e=N;F.braces>0&&\"braces\"===U[U.length-1]&&(e=\"|\"),K({type:\"comma\",value:N,output:e});continue}if(\"/\"===N){if(\"dot\"===$.type&&1===F.index){F.start=F.index+1,F.consumed=\"\",F.output=\"\",m.pop(),$=g;continue}K({type:\"slash\",value:N,output:k});continue}if(\".\"===N){if(F.braces>0&&\"dot\"===$.type){\".\"===$.value&&($.output=_),$.type=\"dots\",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:\"dot\",value:N,output:_});continue}if(\"?\"===N){if($&&\"paren\"===$.type){let e=V(),t=N;if(\"<\"===e&&!n.supportsLookbehinds())throw new Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"===$.value&&!/[!=<:]/.test(e)||\"<\"===e&&!/[!=]/.test(V(2)))&&(t=\"\\\\\"+N),K({type:\"text\",value:N,output:t});continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"qmark\",N);continue}if(!0!==r.dot&&(\"slash\"===$.type||\"bos\"===$.type)){K({type:\"qmark\",value:N,output:j});continue}K({type:\"qmark\",value:N,output:T});continue}if(\"!\"===N){if(!0!==r.noextglob&&\"(\"===V()&&(\"?\"!==V(2)||!/[!=<:]/.test(V(3)))){J(\"negate\",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if(\"+\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"plus\",N);continue}if($&&(\"bracket\"===$.type||\"paren\"===$.type||\"brace\"===$.type)){let e=!0===$.extglob?\"\\\\\"+N:N;K({type:\"plus\",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:\"plus\",value:N});continue}K({type:\"plus\",value:S});continue}if(\"@\"===N){if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){K({type:\"at\",value:N,output:\"\"});continue}K({type:\"text\",value:N});continue}if(\"*\"!==N){\"$\"!==N&&\"^\"!==N||(N=\"\\\\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:\"text\",value:N});continue}if($&&(\"globstar\"===$.type||!0===$.star)){$.type=\"star\",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&\"(\"===V()&&\"?\"!==V(2)){J(\"star\",N);continue}if(\"star\"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i=\"slash\"===t.type||\"bos\"===t.type,s=n&&(\"star\"===n.type||\"globstar\"===n.type);if(!0===r.bash&&(!i||!q()&&\"/\"!==V())){K({type:\"star\",value:N,output:\"\"});continue}let o=F.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),a=B.length&&(\"pipe\"===t.type||\"paren\"===t.type);if(!i&&\"paren\"!==t.type&&!o&&!a){K({type:\"star\",value:N,output:\"\"});continue}for(;\"/**\"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&\"/\"!==t)break;F.consumed+=\"/**\",F.index+=3}if(\"bos\"===t.type&&q()){$.type=\"globstar\",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=R(r)+\"|$)\",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if(\"slash\"===t.type&&\"bos\"!==t.prev.type&&\"/\"===c){let e=void 0!==V(2)?\"|$\":\"\";F.output=F.output.slice(0,-(t.output+$.output).length),t.output=\"(?:\"+t.output,$.type=\"globstar\",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}if(\"bos\"===t.type&&\"/\"===c){$.type=\"globstar\",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:\"slash\",value:N,output:\"\"});continue}F.output=F.output.slice(0,-$.output.length),$.type=\"globstar\",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:\"star\",value:N,output:D};!0!==r.bash?!$||\"bracket\"!==$.type&&\"paren\"!==$.type||!0!==r.regex?(F.index!==F.start&&\"slash\"!==$.type&&\"dot\"!==$.type||(\"dot\"===$.type?(F.output+=E,$.output+=E):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),\"*\"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=\".*?\",\"bos\"!==$.type&&\"slash\"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"]\"));F.output=n.escapeLast(F.output,\"[\"),z(\"brackets\")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\")\"));F.output=n.escapeLast(F.output,\"(\"),z(\"parens\")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d(\"closing\",\"}\"));F.output=n.escapeLast(F.output,\"{\"),z(\"braces\")}if(!0===r.strictSlashes||\"star\"!==$.type&&\"bracket\"!==$.type||K({type:\"maybe_slash\",value:\"\",output:`${k}?`}),!0===F.backtrack){F.output=\"\";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o=\"number\"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?\"\":\"?:\",w=!0===r.bash?\".*?\":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case\"*\":return`${_}${d}${w}`;case\".*\":return`${l}${d}${w}`;case\"*.*\":return`${_}${w}${l}${d}${w}`;case\"*/*\":return`${_}${w}${p}${d}${S}${w}`;case\"**\":return _+k(r);case\"**/*\":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case\"**/*.*\":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case\"**/.*\":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\\.(\\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){\"use strict\";const n=Symbol(\"kDone\"),i=Symbol(\"kRun\");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){\"use strict\";class n{constructor(e,t){this.target=t,this.type=e}}class i extends n{constructor(e,t){super(\"message\",t),this.data=e}}class s extends n{constructor(e,t,r){super(\"close\",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class o extends n{constructor(e){super(\"open\",e)}}class a extends n{constructor(e,t){super(\"error\",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new i(e,this))}function n(e,r){t.call(this,new s(e,r,this))}function c(e){t.call(this,new a(e,this))}function u(){t.call(this,new o(this))}\"function\"==typeof t&&(\"message\"===e?(r._listener=t,this.on(e,r)):\"close\"===e?(n._listener=t,this.on(e,n)):\"error\"===e?(c._listener=t,this.on(e,c)):\"open\"===e?(u._listener=t,this.on(e,u)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){\"use strict\";const{Duplex:n}=r(17);function i(e){e.emit(\"close\")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener(\"error\",o),this.destroy(),0===this.listenerCount(\"error\")&&this.emit(\"error\",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once(\"open\",(function(){e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a)})):(e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on(\"message\",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once(\"error\",(function(e){c.destroyed||c.destroy(e)})),e.once(\"close\",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(i,c);let n=!1;e.once(\"error\",(function(e){n=!0,r(e)})),e.once(\"close\",(function(){n||r(t),process.nextTick(i,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once(\"finish\",(function(){t()})),e.close())):e.once(\"open\",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once(\"open\",(function(){c._write(t,r,n)}))},c.on(\"end\",s),c.on(\"error\",o),c}},function(e,t,r){\"use strict\";const n=r(32),{createHash:i}=r(34),{createServer:s,STATUS_CODES:o}=r(47),a=r(93),c=r(176),{format:u,parse:l}=r(180),{GUID:p}=r(52),d=/^[+/0-9A-Za-z]{22}==$/,h=Symbol(\"kUsedByWebSocketServer\");function f(e){e.emit(\"close\")}function g(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||o[t],n={Connection:\"close\",\"Content-type\":\"text/html\",\"Content-Length\":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${o[t]}\\r\\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join(\"\\r\\n\")+\"\\r\\n\\r\\n\"+r)),e.removeListener(\"error\",g),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the \"port\", \"server\", or \"noServer\" options must be specified');if(null!=e.port)this._server=s((e,t)=>{const r=o[426];t.writeHead(426,{\"Content-Length\":r.length,\"Content-Type\":\"text/plain\"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[h])throw new Error(\"The HTTP/S server is already being used by another WebSocket server\");e.server[h]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,\"listening\"),error:this.emit.bind(this,\"error\"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit(\"connection\",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in \"noServer\" mode');return this._server?this._server.address():null}close(e){if(e&&this.once(\"close\",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit(\"close\"));delete t[h]}process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf(\"?\");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on(\"error\",g);const i=void 0!==e.headers[\"sec-websocket-key\"]&&e.headers[\"sec-websocket-key\"].trim(),s=+e.headers[\"sec-websocket-version\"],o={};if(\"GET\"!==e.method||\"websocket\"!==e.headers.upgrade.toLowerCase()||!i||!d.test(i)||8!==s&&13!==s||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=l(e.headers[\"sec-websocket-extensions\"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),o[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===s?\"sec-websocket-origin\":\"origin\"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,c,u)=>{if(!s)return m(t,a||401,c,u);this.completeUpgrade(i,o,e,t,r,n)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(i,o,e,t,r,n)}completeUpgrade(e,t,r,n,s,o){if(!n.readable||!n.writable)return n.destroy();const l=[\"HTTP/1.1 101 Switching Protocols\",\"Upgrade: websocket\",\"Connection: Upgrade\",`Sec-WebSocket-Accept: ${i(\"sha1\").update(e+p).digest(\"base64\")}`],d=new c(null);let h=r.headers[\"sec-websocket-protocol\"];if(h&&(h=h.trim().split(/ *, */),h=this.options.handleProtocols?this.options.handleProtocols(h,r):h[0],h&&(l.push(`Sec-WebSocket-Protocol: ${h}`),d.protocol=h)),t[a.extensionName]){const e=t[a.extensionName].params,r=u({[a.extensionName]:[e]});l.push(`Sec-WebSocket-Extensions: ${r}`),d._extensions=t}this.emit(\"headers\",l,r),n.write(l.concat(\"\\r\\n\").join(\"\\r\\n\")),n.removeListener(\"error\",g),d.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on(\"close\",()=>this.clients.delete(d))),o(d)}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.randomInRange=void 0,t.randomInRange=(e,t)=>e+Math.floor(Math.random()*(t-e))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(29);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?\"variable\":\"property\",i=(e,t,i)=>{if(\"function\"!==t)return n;if(\"constructor\"===e)return\"class\";const s=String(i);return s.startsWith(\"class \")||s.includes(\"[native code]\")&&/^[A-Z]/.test(e)?\"class\":r?\"function\":\"method\"},s=[],o=new Set;let a=\"~\",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+=\"~\";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>\"{\".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,\"default\",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)\"default\"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,\"__esModule\",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(5)),a=r(69),c=r(406),u=o.loadMessageBundle(r(0).join(__dirname,\"adapter/console/queryObjectsMessage.js\"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:\"stderr\",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:\"console\"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:\"stderr\",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:\"console\",generatePreview:!0})}catch(e){return{category:\"stderr\",output:u(2,null,e.message)}}const n=\"", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "进程PID": "", "异常时间": "2021-04-23 02:10:00", "所属用户": "root", "异常信息": "反弹shell类：\"),0===n.length?e:e.replace(/\\{(\\d+)\\}/g,(function(e,t){var r=t[0],s=n[r],o=e;return\"string\"==typeof s?o=s:\"number\"!=typeof s&&\"boolean\"!=typeof s&&null!=s||(o=String(s)),o}))}!function(e){e.file=\"file\",e.bundle=\"bundle\",e.both=\"both\"}(t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone=\"standalone\",e.languagePack=\"languagePack\"}(t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&o(t.key)&&o(t.comment)}}(r||(r={})),t.isDefined=o,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=i,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i(t,n)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},,function(e,t){e.exports=require(\"events\")},function(e,t,n){e.exports=l,l.Minimatch=h;var r={sep:\"/\"};try{r=n(0)}catch(e){}var s=l.GLOBSTAR=h.GLOBSTAR={},o=n(82),i={\"!\":{open:\"(?:(?!(?:\",close:\"))[^/]*?)\"},\"?\":{open:\"(?:\",close:\")?\"},\"+\":{open:\"(?:\",close:\")+\"},\"*\":{open:\"(?:\",close:\")*\"},\"@\":{open:\"(?:\",close:\")\"}},a=\"().*{}+?[]^$\\\\!\".split(\"\").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if(\"string\"!=typeof t)throw new TypeError(\"glob pattern string required\");return n||(n={}),!(!n.nocomment&&\"#\"===t.charAt(0))&&(\"\"===t.trim()?\"\"===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if(\"string\"!=typeof e)throw new TypeError(\"glob pattern string required\");t||(t={}),e=e.trim(),\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError(\"undefined pattern\");return t.nobrace||!e.match(/\\{.*\\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,r,s){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,s){return t.minimatch(n,r,u(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&\"#\"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&\"!\"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError(\"pattern is too long\");var n=this.options;if(!n.noglobstar&&\"**\"===e)return s;if(\"\"===e)return\"\";var r,o=\"\",c=!!n.nocase,u=!1,l=[],h=[],p=!1,f=-1,g=-1,m=\".\"===e.charAt(0)?\"\":n.dot?\"(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))\":\"(?!\\\\.)\",_=this;function v(){if(r){switch(r){case\"*\":o+=\"[^/]*?\",c=!0;break;case\"?\":o+=\"[^/]\",c=!0;break;default:o+=\"\\\\\"+r}_.debug(\"clearStateChar %j %j\",r,o),r=!1}}for(var b,y=0,E=e.length;y<E&&(b=e.charAt(y));y++)if(this.debug(\"%s\\t%s %s %j\",e,y,o,b),u&&a[b])o+=\"\\\\\"+b,u=!1;else switch(b){case\"/\":return!1;case\"\\\\\":v(),u=!0;continue;case\"?\":case\"*\":case\"+\":case\"@\":case\"!\":if(this.debug(\"%s\\t%s %s %j <-- stateChar\",e,y,o,b),p){this.debug(\" in class\"),\"!\"===b&&y===g+1&&(b=\"^\"),o+=b;continue}_.debug(\"call clearStateChar %j\",r),v(),r=b,n.noext&&v();continue;case\"(\":if(p){o+=\"(\";continue}if(!r){o+=\"\\\\(\";continue}l.push({type:r,start:y-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+=\"!\"===r?\"(?:(?!(?:\":\"(?:\",this.debug(\"plType %j %j\",r,o),r=!1;continue;case\")\":if(p||!l.length){o+=\"\\\\)\";continue}v(),c=!0;var S=l.pop();o+=S.close,\"!\"===S.type&&h.push(S),S.reEnd=o.length;continue;case\"|\":if(p||!l.length||u){o+=\"\\\\|\",u=!1;continue}v(),o+=\"|\";continue;case\"[\":if(v(),p){o+=\"\\\\\"+b;continue}p=!0,g=y,f=o.length,o+=b;continue;case\"]\":if(y===g+1||!p){o+=\"\\\\\"+b,u=!1;continue}if(p){var R=e.substring(g+1,y);try{RegExp(\"[\"+R+\"]\")}catch(e){var C=this.parse(R,d);o=o.substr(0,f)+\"\\\\[\"+C[0]+\"\\\\]\",c=c||C[1],p=!1;continue}}c=!0,p=!1,o+=b;continue;default:v(),u?u=!1:!a[b]||\"^\"===b&&p||(o+=\"\\\\\"),o+=b}p&&(R=e.substr(g+1),C=this.parse(R,d),o=o.substr(0,f)+\"\\\\[\"+C[0],c=c||C[1]);for(S=l.pop();S;S=l.pop()){var w=o.slice(S.reStart+S.open.length);this.debug(\"setting tail\",o,S),w=w.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g,(function(e,t,n){return n||(n=\"\\\\\"),t+t+n+\"|\"})),this.debug(\"tail=%j\\n %s\",w,w,S,o);var O=\"*\"===S.type?\"[^/]*?\":\"?\"===S.type?\"[^/]\":\"\\\\\"+S.type;c=!0,o=o.slice(0,S.reStart)+O+\"\\\\(\"+w}v(),u&&(o+=\"\\\\\\\\\");var x=!1;switch(o.charAt(0)){case\".\":case\"[\":case\"(\":x=!0}for(var k=h.length-1;k>-1;k--){var P=h[k],A=o.slice(0,P.reStart),T=o.slice(P.reStart,P.reEnd-8),L=o.slice(P.reEnd-8,P.reEnd),F=o.slice(P.reEnd);L+=F;var M=A.split(\"(\").length-1,I=F;for(y=0;y<M;y++)I=I.replace(/\\)[+*?]?/,\"\");var N=\"\";\"\"===(F=I)&&t!==d&&(N=\"$\"),o=A+T+F+N+L}\"\"!==o&&c&&(o=\"(?=.)\"+o);x&&(o=m+o);if(t===d)return[o,c];if(!c)return function(e){return e.replace(/\\\\(.)/g,\"$1\")}(e);var j=n.nocase?\"i\":\"\";try{var D=new RegExp(\"^\"+o+\"$\",j)}catch(e){return new RegExp(\"$.\")}return D._glob=e,D._src=o,D};var d={};l.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?\"[^/]*?\":t.dot?\"(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?\":\"(?:(?!(?:\\\\/|^)\\\\.).)*?\",r=t.nocase?\"i\":\"\",o=e.map((function(e){return e.map((function(e){return e===s?n:\"string\"==typeof e?function(e){return e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")}(e):e._src})).join(\"\\\\/\")})).join(\"|\");o=\"^(?:\"+o+\")$\",this.negate&&(o=\"^(?!\"+o+\").*$\");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug(\"match\",e,this.pattern),this.comment)return!1;if(this.empty)return\"\"===e;if(\"/\"===e&&t)return!0;var n=this.options;\"/\"!==r.sep&&(e=e.split(r.sep).join(\"/\"));e=e.split(c),this.debug(this.pattern,\"split\",e);var s,o,i=this.set;for(this.debug(this.pattern,\"set\",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;if(n.matchBase&&1===a.length&&(u=[s]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug(\"matchOne\",{this:this,file:e,pattern:t}),this.debug(\"matchOne\",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug(\"matchOne loop\");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug(\"GLOBSTAR\",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug(\"** at the end\");o<a;o++)if(\".\"===e[o]||\"..\"===e[o]||!r.dot&&\".\"===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(\"\\nglobstar while\",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug(\"globstar found match!\",p,a,f),!0;if(\".\"===f||\"..\"===f||!r.dot&&\".\"===f.charAt(0)){this.debug(\"dot detected!\",e,p,t,d);break}this.debug(\"globstar swallow a segment, and continue\"),p++}return!(!n||(this.debug(\"\\n>>> no match, partial?\",e,p,t,d),p!==a))}if(\"string\"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug(\"string match\",l,h,u)):(u=h.match(l),this.debug(\"pattern match\",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&\"\"===e[o];throw new Error(\"wtf?\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=\"win32\"===process.platform,a=\"x64\"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",t=r.join(e,\"Sysnative\",\"bash.exe\"),n=r.join(e,\"System32\",\"bash.exe\"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\\\/g,\"/\")}`:e.replace(/\\\\/g,\"/\")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||\"C:\\\\WINDOWS\",c=r.join(e,\"Sysnative\",\"bash.exe\"),l=r.join(e,\"System32\",\"bash.exe\"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\\\/g,\"/\")),e.indexOf(\" \")>0?`'${e}'`:e)).join(\" \");return{cwd:n,executable:p,args:[\"-c\",d],combined:[p].concat([\"-c\",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(46),s=n(17),o=n(47),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||\"Thread #\"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,\"number\"==typeof s&&(this.namedVariables=s),\"number\"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;\"number\"==typeof t&&(s.line=t),\"number\"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends s.Event{constructor(e,t,n){super(\"stopped\"),this.body={reason:e},\"number\"==typeof t&&(this.body.threadId=t),\"string\"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends s.Event{constructor(e,t){super(\"continued\"),this.body={threadId:e},\"boolean\"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends s.Event{constructor(){super(\"initialized\")}}t.InitializedEvent=u;class l extends s.Event{constructor(e){if(super(\"terminated\"),\"boolean\"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=l;class h extends s.Event{constructor(e,t=\"console\",n){super(\"output\"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=h;class p extends s.Event{constructor(e,t){super(\"thread\"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class d extends s.Event{constructor(e,t){super(\"breakpoint\"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class f extends s.Event{constructor(e,t){super(\"module\"),this.body={reason:e,module:t}}}t.ModuleEvent=f;class g extends s.Event{constructor(e,t){super(\"loadedSource\"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class m extends s.Event{constructor(e){super(\"capabilities\"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class _ extends s.Event{constructor(e,t,n){super(\"progressStart\"),this.body={progressId:e,title:t},\"string\"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=_;class v extends s.Event{constructor(e,t){super(\"progressUpdate\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class b extends s.Event{constructor(e,t){super(\"progressEnd\"),this.body={progressId:e},\"string\"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=b;class y extends s.Event{constructor(e,t,n){super(\"invalidated\"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}var E;t.InvalidatedEvent=y,function(e){e[e.User=1]=\"User\",e[e.Telemetry=2]=\"Telemetry\"}(E=t.ErrorDestination||(t.ErrorDestination={}));class S extends r.ProtocolServer{constructor(e,t){super();const n=\"boolean\"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=\"boolean\"==typeof t&&t,this.on(\"close\",()=>{this.shutdown()}),this.on(\"error\",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=\"path\"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=E.User){let o;\"number\"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&E.User&&(o.showUser=!0),s&E.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=S.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest(\"runInTerminal\",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if(\"initialize\"===e.command){var n=e.arguments;if(\"boolean\"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),\"boolean\"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),\"path\"!==n.pathFormat)this.sendErrorResponse(t,2018,\"debug adapter only supports native paths\",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else\"launch\"===e.command?this.launchRequest(t,e.arguments,e):\"attach\"===e.command?this.attachRequest(t,e.arguments,e):\"disconnect\"===e.command?this.disconnectRequest(t,e.arguments,e):\"terminate\"===e.command?this.terminateRequest(t,e.arguments,e):\"restart\"===e.command?this.restartRequest(t,e.arguments,e):\"setBreakpoints\"===e.command?this.setBreakPointsRequest(t,e.arguments,e):\"setFunctionBreakpoints\"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):\"setExceptionBreakpoints\"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):\"configurationDone\"===e.command?this.configurationDoneRequest(t,e.arguments,e):\"continue\"===e.command?this.continueRequest(t,e.arguments,e):\"next\"===e.command?this.nextRequest(t,e.arguments,e):\"stepIn\"===e.command?this.stepInRequest(t,e.arguments,e):\"stepOut\"===e.command?this.stepOutRequest(t,e.arguments,e):\"stepBack\"===e.command?this.stepBackRequest(t,e.arguments,e):\"reverseContinue\"===e.command?this.reverseContinueRequest(t,e.arguments,e):\"restartFrame\"===e.command?this.restartFrameRequest(t,e.arguments,e):\"goto\"===e.command?this.gotoRequest(t,e.arguments,e):\"pause\"===e.command?this.pauseRequest(t,e.arguments,e):\"stackTrace\"===e.command?this.stackTraceRequest(t,e.arguments,e):\"scopes\"===e.command?this.scopesRequest(t,e.arguments,e):\"variables\"===e.command?this.variablesRequest(t,e.arguments,e):\"setVariable\"===e.command?this.setVariableRequest(t,e.arguments,e):\"setExpression\"===e.command?this.setExpressionRequest(t,e.arguments,e):\"source\"===e.command?this.sourceRequest(t,e.arguments,e):\"threads\"===e.command?this.threadsRequest(t,e):\"terminateThreads\"===e.command?this.terminateThreadsRequest(t,e.arguments,e):\"evaluate\"===e.command?this.evaluateRequest(t,e.arguments,e):\"stepInTargets\"===e.command?this.stepInTargetsRequest(t,e.arguments,e):\"gotoTargets\"===e.command?this.gotoTargetsRequest(t,e.arguments,e):\"completions\"===e.command?this.completionsRequest(t,e.arguments,e):\"exceptionInfo\"===e.command?this.exceptionInfoRequest(t,e.arguments,e):\"loadedSources\"===e.command?this.loadedSourcesRequest(t,e.arguments,e):\"dataBreakpointInfo\"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):\"setDataBreakpoints\"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):\"readMemory\"===e.command?this.readMemoryRequest(t,e.arguments,e):\"disassemble\"===e.command?this.disassembleRequest(t,e.arguments,e):\"cancel\"===e.command?this.cancelRequest(t,e.arguments,e):\"breakpointLocations\"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):\"setInstructionBreakpoints\"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,\"{_stack}\",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,\"unrecognized request\",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){\"win32\"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\\\/g,\"/\")),e=encodeURI(e);let t=new i.URL(\"file:\");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return\"win32\"===process.platform&&(/^\\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\\//g,\"\\\\\")),n}static formatPII(e,t,n){return e.replace(S._formatPIIRegexp,(function(e,r){return t&&r.length>0&&\"_\"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=S,S._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super(\"response\"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super(\"event\"),this.event=e,t&&(this.body=t)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(49),s=n(16);var o;!function(e){e[e.Verbose=0]=\"Verbose\",e[e.Log=1]=\"Log\",e[e.Warn=2]=\"Warn\",e[e.Error=3]=\"Error\",e[e.Stop=4]=\"Stop\"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+=\"\\n\",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+=\"\",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r=\"string\"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;class a extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?\"stderr\":t===o.Warn?\"console\":\"stdout\")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\\n|\\r\\n)$/,\"\")}},function(e,t){e.exports=require(\"tty\")},function(e,t){e.exports=require(\"assert\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(37),a=n(13);function c(e){const t=/^([A-Z])(\\:[\\\\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\\\/g,\"/\"),/^[a-zA-Z]\\:\\//.test(e)&&(e=\"/\"+e),e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i=\"\";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\\\/g,\"/\"),\"win32\"!==process.platform&&\"darwin\"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return\"win32\"===process.platform&&(e=e.replace(/\\//g,\"\\\\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\\:\\\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if(\"win32\"===process.platform){const e=n.WINDIR||\"C:\\\\Windows\";i=r.join(e,\"System32\",\"where.exe\")}else i=\"/usr/bin/which\";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\\r?\\n/);if(\"win32\"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+\";\")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if(\"win32\"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(\";\");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if(\"/\"===e.charAt(0))return!0;if(/^[a-zA-Z]\\:[\\\\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\\/[a-zA-Z]\\:\\//.test(e)&&(e=e.substr(1)),e=e.replace(/\\//g,\"\\\\\")},t.join=function(e,t){return e=u(e),t=u(t),\"/\"===e.charAt(e.length-1)?e+=t:e=e+\"/\"+t,e=(e=r.normalize(e)).replace(/\\\\/g,\"/\")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split(\"/\"),r=t.substr(1).split(\"/\");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(\"..\"),s--;return r.join(\"/\")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>\"!\"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==(\"!\"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&\"\\ufeff\"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){\"use strict\";function r(e){return\"/\"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/.exec(e),n=t[1]||\"\",r=Boolean(n&&\":\"!==n.charAt(1));return Boolean(t[2]||r)}e.exports=\"win32\"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require(\"os\")},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"tls\")},function(e,t,n){\"use strict\";n(58);const r=n(4).inherits,s=n(59),o=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;\"function\"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host=\"localhost\"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit(\"error\",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout((function(){o=null,i=!0;const e=new Error('A \"socket\" was not created for HTTP request before '+a+\"ms\");e.code=\"ETIMEOUT\",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&\"function\"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on(\"free\",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error(\"no Duplex stream was returned to agent-base for `\"+e.method+\" \"+e.path+\"`\"))}}),l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if(\"%%\"===n)return n;c++;var s=t.formatters[r];if(\"function\"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,\"function\"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&(\"-\"===(e=r[n].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){\"use strict\";const r=n(27),s=n(19),o=n(66),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o(\"color=16m\")||o(\"color=full\")||o(\"color=truecolor\"))return 3;if(o(\"color=256\"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if(\"dumb\"===i.TERM)return n;if(\"win32\"===process.platform){const e=r.release().split(\".\");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if(\"CI\"in i)return[\"TRAVIS\",\"CIRCLECI\",\"APPVEYOR\",\"GITLAB_CI\",\"GITHUB_ACTIONS\",\"BUILDKITE\"].some(e=>e in i)||\"codeship\"===i.CI_NAME?1:n;if(\"TEAMCITY_VERSION\"in i)return/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(i.TEAMCITY_VERSION)?1:0;if(\"truecolor\"===i.COLORTERM)return 3;if(\"TERM_PROGRAM\"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||\"\").split(\".\")[0],10);switch(i.TERM_PROGRAM){case\"iTerm.app\":return e>=3?3:2;case\"Apple_Terminal\":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||\"COLORTERM\"in i?1:n}o(\"no-color\")||o(\"no-colors\")||o(\"color=false\")||o(\"color=never\")?a=0:(o(\"color\")||o(\"colors\")||o(\"color=true\")||o(\"color=always\"))&&(a=1),\"FORCE_COLOR\"in i&&(a=\"true\"===i.FORCE_COLOR?1:\"false\"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){\"use strict\";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if(\"%%\"===e)return e;u++;var s=r.formatters[n];if(\"function\"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,\"function\"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?\":\":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable(\"\")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&(\"-\"===(e=n[t].replace(/\\*/g,\".*?\"))[0]?r.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):r.names.push(new RegExp(\"^\"+e+\"$\")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if(\"*\"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(70),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(35),s=n(8),o=n(36).ArraySet,i=n(76).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,\"file\",null),this._sourceRoot=s.getArg(e,\"sourceRoot\",null),this._skipValidation=s.getArg(e,\"skipValidation\",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},a.prototype.addMapping=function(e){var t=s.getArg(e,\"generated\"),n=s.getArg(e,\"original\",null),r=s.getArg(e,\"source\",null),o=s.getArg(e,\"name\",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\\'s \"file\" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&\"number\"!=typeof t.line&&\"number\"!=typeof t.column)throw new Error(\"original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.\");if((!(e&&\"line\"in e&&\"column\"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&\"line\"in e&&\"column\"in e&&t&&\"line\"in t&&\"column\"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error(\"Invalid mapping: \"+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p=\"\",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e=\"\",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=\";\",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=\",\"}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(75);t.encode=function(e){var t,n=\"\",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o=\"undefined\"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(38),o=n(13),i=(o.Minimatch,n(85)),a=n(12).EventEmitter,c=n(0),u=n(20),l=n(22),h=n(87),p=n(39),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(88),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(41);function b(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if(\"function\"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError(\"callback provided to sync glob\");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),\"function\"==typeof n&&(n=v(n),this.on(\"error\",n),this.on(\"end\",(function(e){n(null,e)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return i();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,i);function i(){--s._processing,s._processing<=0&&s._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||\"object\"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if(\"string\"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit(\"end\",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,(function(r,s){r?\"stat\"===r.syscall?a[n]=!0:o.emit(\"error\",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())}))}))},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit(\"abort\")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit(\"pause\"))},E.prototype.resume=function(){if(this.paused){if(this.emit(\"resume\"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u(\"function\"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;\"string\"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join(\"/\"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join(\"/\")}var a,c=e.slice(i);null===s?a=\".\":l(s)||l(e.join(\"/\"))?(s&&l(s)||(s=\"/\"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)}))},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||\".\"===h.charAt(0),d=[],f=0;f<i.length;f++){if(\".\"!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),\"/\"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m=\"/\"!==e?e+\"/\"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(\"DIR\"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit(\"stat\",t,s),this.emit(\"match\",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g(\"lstat\\0\"+e,(function(r,s){if(r&&\"ENOENT\"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]=\"FILE\",t())}));s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g(\"readdir\\0\"+e+\"\\0\"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||\"FILE\"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s=\"/\"===e?e+s:e+\"/\"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case\"ENOTSUP\":case\"ENOTDIR\":var r=this._makeAbs(e);if(this.cache[r]=\"FILE\",r===this.cwdAbs){var s=new Error(t.code+\" invalid cwd \"+this.cwd);s.path=this.cwd,s.code=t.code,this.emit(\"error\",s),this.abort()}break;case\"ENOENT\":case\"ELOOP\":case\"ENAMETOOLONG\":case\"UNKNOWN\":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit(\"error\",t),this.abort()),this.silent||console.error(\"glob error\",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)}))},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if(\".\"!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(s,o){r._processSimple2(e,t,s,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\\/\\\\]$/.test(e);\"/\"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+=\"/\"))}\"win32\"===process.platform&&(e=e.replace(/\\\\/g,\"/\")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s=\"/\"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o=\"DIR\"),!s||\"DIR\"===o)return t(null,o);if(s&&\"FILE\"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?\"DIR\":\"FILE\";return s&&\"FILE\"===a?t():t(null,a,i)}var c=this,u=g(\"stat\\0\"+n,(function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)}));c._stat2(e,n,s,o,t)}));u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&(\"ENOENT\"===n.code||\"ENOTDIR\"===n.code))return this.statCache[t]=!1,s();var o=\"/\"===e.slice(-1);if(this.statCache[t]=r,\"/\"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?\"DIR\":\"FILE\"),this.cache[t]=this.cache[t]||i,o&&\"FILE\"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\\./.test(i),c=n(81);function u(e){return e&&\"realpath\"===e.syscall&&(\"ELOOP\"===e.code||\"ENOMEM\"===e.code||\"ENAMETOOLONG\"===e.code)}function l(e,t,n){if(a)return s(e,t,n);\"function\"==typeof t&&(n=t,t=null),s(e,t,(function(r,s){u(r)?c.realpath(e,t,n):n(r,s)}))}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf(\"/\")){if(n.noglobstar)throw new Error(\"base matching requires globstar\");t=\"**/\"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,\"cwd\")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,\"/\"),e.root=s.resolve(e.root),\"win32\"===process.platform&&(e.root=e.root.replace(/\\\\/g,\"/\"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),\"win32\"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\\\/g,\"/\"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n=\"DIR\"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!p(e,t)})));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o=\"DIR\"===r||Array.isArray(r),i=\"/\"===t.slice(-1);if(o&&!i?s+=\"/\":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var s=n(0),o=n(13),i=n(22),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if(\"/**\"===e.slice(-3)){var n=e.replace(/(\\/\\*\\*)+$/,\"\");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n=\"/\"===t.charAt(0)?s.join(e.root,t):i(t)||\"\"===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),\"win32\"===process.platform&&(n=n.replace(/\\\\/g,\"/\")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if(\"function\"!=typeof t)throw new TypeError(\"need wrapper function\");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return\"function\"==typeof r&&r!==s&&Object.keys(s).forEach((function(e){r[e]=s[e]})),r}}},function(e,t,n){var r=n(40);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||\"Function wrapped with `once`\";return t.onceError=n+\" shouldn't be called more than once\",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s((function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})}))},,,function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(45),o=n(52),i=n(53),a=n(21),c=n(14),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,\"node/nodeDebug.ts\"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return\"named\"===t?e._createProperties(this._evalName,this._object,\"named\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t):\"number\"==typeof n&&\"number\"==typeof r?e._createProperties(this._evalName,this._object,\"indexed\",n,r):e._createProperties(this._evalName,this._object,\"all\").then(t=>this._this?e._createVariable(this._evalName,\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return\"named\"===t?e._createSetMapProperties(this._evalName,this._object):\"set\"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties(\"\",this._object,t).then(t=>this._this?e._createVariable(\"\",\"this\",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,\"%%\");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),\"%s\"):\"\"});if(n=n.replace(/'/g,\"\\\\'\"),t.length>0)return`console.log('${n}', ${t.join(\", \")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super(\"node-debug.txt\"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console=\"internalConsole\",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log(\"rc\",\"NodeV8Protocol hook: ref cache size: \"+this._refCache.size)}}),this._node.on(\"break\",e=>{this._stopped(\"break\"),this._handleNodeBreakEvent(e.body)}),this._node.on(\"exception\",e=>{this._stopped(\"exception\"),this._handleNodeExceptionEvent(e.body)}),this._node.on(\"afterCompile\",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent(\"new\",e))})}),this._node.on(\"close\",e=>{this._terminated(\"node v8protocol close\")}),this._node.on(\"error\",e=>{this._terminated(\"node v8protocol error\")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command(\"continue\");let t;if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"reject(\")){if(this._skipRejects&&!this._catchRejects)return void this._node.command(\"continue\");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent(\"exception\",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log(\"la\",\"_handleNodeBreakEvent: suppressed stop-on-entry event\"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&\"number\"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf(\"debugger\"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent(\"debugger_statement\")}let n=\"step\";this._restartFramePending&&(this._restartFramePending=!1,n=\"frame_entry\"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command(\"continue\",{stepaction:\"in\"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command(\"continue\"):this._sendStoppedEvent(\"breakpoint\")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log(\"ss\",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case\"step\":t=g(4,null);break;case\"breakpoint\":t=g(5,null);break;case\"exception\":t=g(6,null);break;case\"pause\":t=g(7,null);break;case\"entry\":t=g(8,null);break;case\"debugger_statement\":t=g(9,null);break;case\"frame_entry\":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(\"!\"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=\"VM\"+e.id;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,\"\")}_stopped(e){this._stoppedReason=e,this.log(\"la\",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log(\"rc\",\"_stopped: new ref cache\")}_terminated(e){this.log(\"la\",\"_terminated: \"+e),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log(\"la\",\"initializeRequest: adapterID: \"+t.adapterID),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,\"node/nodeDebug.ts\"))),\"boolean\"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:\"all\",default:!1},{label:g(12,null),filter:\"uncaught\",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:\"rejects\",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest=\"win32\"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&\"number\"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug=\"boolean\"==typeof t.noDebug&&t.noDebug,\"string\"==typeof t.console)switch(t.console){case\"internalConsole\":case\"integratedTerminal\":case\"externalTerminal\":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else\"boolean\"==typeof t.externalConsole&&t.externalConsole&&(this._console=\"externalTerminal\");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,\"runtimeExecutable\",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,\"{_runtime}\"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,\"{_runtime}\"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,\"program\",o);if(!d.existsSync(o)){if(!d.existsSync(o+\".js\"))return void this.sendNotExistErrorResponse(e,\"program\",o);o+=\".js\"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=[\"--nolazy\"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,\"{path}\"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,\"{path}\",\"outFiles\"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,\"{path}\"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log(\"sm\",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log(\"sm\",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,(function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,\"cwd\",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,\"cwd\",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(\"--debug-brk=\"+m):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on(\"listening\",e=>{const t=r.address();\"object\"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on(\"close\",()=>e(n)),r.on(\"error\",e=>t(e)),r.listen(0,\"127.0.0.1\")}),_.push(\"--debug-brk=\"+m))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const e=a.stripBOM(d.readFileSync(t.envFile,\"utf8\")),n={};e.split(\"\\n\").forEach(e=>{const t=e.match(/^\\s*([\\w\\.\\-]+)\\s*=\\s*(.*)?\\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let r=t[2]||\"\";r.length>0&&'\"'===r.charAt(0)&&'\"'===r.charAt(r.length-1)&&(r=r.replace(/\\\\n/gm,\"\\n\")),n[e]=r.replace(/(^['\"]|['\"]$)/g,\"\")}}}),y=a.extendObject(n,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,\"{_error}\"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&\"externalTerminal\"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||\"externalTerminal\"!==this._console&&\"integratedTerminal\"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y),y){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if(\"win32\"===process.platform&&E.executable.indexOf(\" \")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(\" \")>0?(t.push(`\"${n}\"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`\"${E.executable}\"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on(\"error\",t=>{this.sendErrorResponse(e,2017,g(25,null,\"{_error}\"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on(\"exit\",()=>{this._terminated(\"target exited\")}),r.on(\"close\",e=>{this._terminated(\"target closed\")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:\"integratedTerminal\"===this._console?\"integrated\":\"external\",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated(\"cannot track process\")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,\"{_error}\"),{_error:n.message}),this._terminated(\"terminal error: \"+n.message))})}}))}_sendLaunchCommandToConsole(e){let t=\"\";for(let n of e)n.indexOf(\" \")>=0?t+=\"'\"+n+\"'\":t+=n,t+=\" \";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stdout\"))}),e.stderr&&e.stderr.on(\"data\",e=>{this.sendEvent(new s.OutputEvent(e.toString(),\"stderr\"))})}_processCommonArgs(e,t){let n=!0;if(\"boolean\"==typeof t.trace?(this._trace=t.trace?[\"all\"]:void 0,this._traceAll=t.trace):\"string\"==typeof t.trace&&(this._trace=t.trace.split(\",\"),this._traceAll=this._trace.indexOf(\"all\")>=0,this._trace.indexOf(\"dap\")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),\"boolean\"==typeof t.stepBack&&(this._stepBack=t.stepBack),\"boolean\"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),\"boolean\"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),\"boolean\"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),\"boolean\"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"localRoot\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"localRoot\",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),\"boolean\"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,\"outDir\",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,\"outDir\",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&\"localhost\"!==r?r:\"127.0.0.1\",o||(o=R.ATTACH_TIMEOUT),this.log(\"la\",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on(\"connect\",t=>{this.log(\"la\",\"_attach: connected\"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on(\"error\",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,\"{_error}\"),{_error:r.message});else if(\"ECONNREFUSED\"===r.code||\"ECONNRESET\"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log(\"la\",\"_attach: retry socket.connect\"),c.connect(n,i)},200):\"number\"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,\"{_error}\"),{_error:r.message})}),c.on(\"end\",e=>{this._terminated(\"socket end\")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log(\"la\",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf(\"process is not defined\")>=0&&(this.log(\"la\",\"__initialize: process not defined error; got no pid\"),r.success=!0),r.success)t(r.running);else{if(this.log(\"la\",\"__initialize: retrieving process id from node failed\"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command(\"evaluate\",{expression:\"process.version\",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent(\"nodeVersion\",\"telemetry\",{version:t})),this.log(\"la\",\"_initialize: target node version: \"+t)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated(\"node process kill exception\")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),\"utf8\"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log(\"la\",\"_injectDebuggerExtensions: code injection successful\"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log(\"la\",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log(\"la\",\"_startInitialize: stopped: \"+e),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log(\"la\",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command(\"evaluate\",{expression:\"process.pid\",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log(\"la\",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log(\"la\",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command(\"frame\",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log(\"la\",\"_startInitialize2: fire initialized event\"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log(\"la\",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log(\"la\",\"_startInitialize2: fire stop-on-entry event\"),this._sendStoppedEvent(\"entry\")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log(\"la\",\"_startInitialize2: remember to do a 'Continue' later\"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,\"SIGINT\"),this.log(\"la\",\"terminateRequest: send response\"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log(\"la\",\"disconnectRequest: send response\"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command(\"disconnect\"),this._node.stop();else{this._node.stop(),this.log(\"la\",\"shutdown: kill debugee and sub-processes\");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,\"/bin/kill\",[\"-9\",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log(\"bp\",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||\">=\";\"=\"===e&&(e=\"==\");const r=n[2];t=Function(\"hitcnt\",\"%\"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),\"number\"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:\"boolean\"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,\"{_module}\"),{_module:o})});else{if(\"number\"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,\"No valid source specified.\",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve(\"\").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log(\"bp\",\"_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap\"),r=\"\"),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log(\"sm\",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case\"scriptId\":n===t.script_id&&r.push(t.number);break;case\"scriptRegExp\":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",\"_updateBreakpoints: result \"+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:\"scriptId\",target:e,line:n.line,column:n.column,condition:n.condition}:{type:\"scriptRegExp\",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log(\"bp\",\"_setBreakpoint: \"+JSON.stringify(o)),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log(\"sm\",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,(function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log(\"la\",\"_setBreakpoint2: remember to fire a breakpoint event later\"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))}))}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\\\.?*()^${}|[\\]])/g,\"\\\\$1\");if(/^[a-zA-Z]:\\\\/.test(e)){const e=t.substring(0,1).toUpperCase();t=\"[\"+e.toLowerCase()+e+\"]\"+t.substring(1)}return\"^(.*[\\\\/\\\\\\\\])?\"+t+\"$\"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log(\"bp\",\"setFunctionBreakPointsRequest: result \"+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:\"function\",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log(\"bp\",\"setExceptionBreakPointsRequest: \"+JSON.stringify(t.filters));let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf(\"all\")>=0,r=o.indexOf(\"uncaught\")>=0,this._catchRejects=o.indexOf(\"rejects\")>=0),Promise.all([this._node.setExceptionBreak({type:\"all\",enabled:n}),this._node.setExceptionBreak({type:\"uncaught\",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,\"Configuring exception break options failed ({_nodeError}).\",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n=\"nothing to do\";this._needContinue&&(this._needContinue=!1,n=\"do a 'Continue'\",this._node.command(\"continue\")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n=\"fire breakpoint event\",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n=\"fire debugger statement event\",this._sendStoppedEvent(\"debugger_statement\")),this.log(\"la\",\"configurationDoneRequest: \"+n),this.sendResponse(e)}threadsRequest(e){this._node.command(\"threads\",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r=\"number\"==typeof t.startFrame?t.startFrame:0,o=\"number\"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,\"Unexpected thread reference {_thread}.\",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log(\"va\",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error(\"no stack\")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{\"no stack\"===t.message?\"pause\"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if(\"file:\"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if(\"number\"!=typeof o.id)throw new Error(\"no script id\");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint=\"deemphasize\"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log(\"sm\",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log(\"sm\",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&(t=n.inferredName,t&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];n=n.replace(/\\r\\n/g,\"\\n\"),t=t.replace(/\\r\\n/g,\"\\n\"),t=t.replace(/^#!.*\\n/,\"\");return n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log(\"ls\",\"__readFile: \"+e),t=new Promise((t,n)=>{d.readFile(e,\"utf8\",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,\"stack frame not valid\",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a=\"scopes\";this._nodeInjectionAvailable&&(a=\"vscode_scopes\",i.maxLocals=this._maxVariablesPerScope),this.log(\"va\",\"scopesRequest: scope \"+r),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&\"number\"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n=\"indexed\"===t.filter||\"named\"===t.filter?t.filter:\"all\";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if(\"number\"==typeof t.vscode_indexedCnt&&\"number\"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2(\"vscode_slice\",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if(\"name\"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case\"all\":o.push(e);break;case\"named\":w(t)||o.push(e);break;case\"indexed\":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&(\"all\"===n||\"named\"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=\"\"+(s+e)}else i=n.name;if(this._node.v8Version&&\"undefined\"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:\"obj\",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log(\"va\",\"_createPropertyVariables: trigger getter\"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,\"undefined\"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='\"\"');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case\"undefined\":case\"null\":return Promise.resolve(this._createVar(o,t,n.type));case\"string\":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case\"number\":if(\"number\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case\"boolean\":if(\"boolean\"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case\"set\":case\"map\":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case\"object\":case\"function\":case\"regexp\":case\"promise\":case\"generator\":case\"error\":const i=n;let a=i.className;switch(a){case\"Array\":case\"ArrayBuffer\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":return this._createArrayVariable(e,t,n,r);case\"RegExp\":if(\"string\"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case\"Generator\":case\"Object\":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if(\"promise\"===n.type||\"generator\"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case\"Function\":case\"Error\":default:if(i.text){let e=i.text;if(e.indexOf(\"\\n\")>=0){const t=e.indexOf(\"{\");t>0&&(e=e.substring(0,t)+\"{", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js", "进程PID": "", "异常时间": "2021-05-05 05:51:07", "所属用户": "root", "异常信息": "反弹shell类：`):v}function P(v){return typeof v.code==\"string\"&&typeof v.errno==\"number\"&&typeof v.syscall==\"string\"?y.localize(1,null,v.message):v.message||y.localize(2,null)}function g(v=null,D=!1){if(!v)return y.localize(3,null);if(Array.isArray(v)){const k=p.coalesce(v),I=g(k[0],D);return k.length>1?y.localize(4,null,I,k.length):I}if(L.isString(v))return v;if(v.detail){const k=v.detail;if(k.error)return C(k.error,D);if(k.exception)return C(k.exception,D)}return v.stack?C(v,D):v.message?v.message:y.localize(5,null)}e.toErrorMessage=g}),define(x[45],ee([27,28]),function(z,e){return z.create(\"vs/base/node/processes\",e)}),define(x[29],ee([0,1,5,25,17,30,45,12,9,16,15,2,41,23]),function(z,e,y,L,p,C,N,P,g,v,D,k,I,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function r(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function _(l,i){if(k.isWindows)try{const t={stdio:[\"pipe\",\"pipe\",\"ignore\"]};i&&(t.cwd=i);const n=C.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",l.pid.toString()],t);return new Promise(s=>{n.once(\"error\",u=>{s({success:!1,error:u})}),n.once(\"exit\",(u,m)=>{s(u===0?{success:!0}:{success:!1,code:u!==null?u:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?r(t.status):1})}else if(k.isLinux||k.isMacintosh)try{const t=E.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",z).fsPath;return new Promise(n=>{C.execFile(t,[l.pid.toString()],{encoding:\"utf8\",shell:!0},(s,u,m)=>{n(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else l.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function A(l=P.env){return l.comspec||\"cmd.exe\"}e.getWindowsShell=A;class O{constructor(i,t,n,s){if(t!==void 0&&n!==void 0&&s!==void 0)this.cmd=i,this.args=t,this.shell=n,this.options=s;else{const u=i;this.cmd=u.command,this.shell=u.isShellCommand,this.args=u.args.slice(0),this.options=u.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const u=Object.create(null);Object.keys(P.env).forEach(m=>{u[m]=P.env[m]}),Object.keys(this.options.env).forEach(m=>{u[m]=this.options.env[m]}),this.options.env=u}}getSanitizedCommand(){let i=this.cmd.toLowerCase();const t=i.lastIndexOf(y.sep);return t!==-1&&(i=i.substring(t+1)),O.WellKnowCommands[i]?i:\"other\"}start(i){return k.isWindows&&(this.options&&this.options.cwd&&D.isUNC(this.options.cwd)||!this.options&&D.isUNC(P.cwd()))?Promise.reject(new Error(N.localize(0,null))):this.useExec().then(t=>{let n,s;const u=new Promise((m,h)=>{n=m,s=h});if(t){let m=this.cmd;this.args&&(m=m+\" \"+this.args.join(\" \")),this.childProcess=C.exec(m,this.options,(h,T,F)=>{this.childProcess=null;const H=h;H&&H.killed?s({killed:this.terminateRequested,stdout:T.toString(),stderr:F.toString()}):this.handleExec(n,i,h,T,F)})}else{let m=null;const h=T=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(T,n,i,s);const F={terminated:this.terminateRequested};g.isNumber(T)&&(F.cmdCode=T),n(F)};if(this.shell&&k.isWindows){const T=v.deepClone(this.options);T.windowsVerbatimArguments=!0,T.detached=!1;let F=!1,H=!1;const Z=[];let X=this.ensureQuotes(this.cmd);Z.push(X.value),F=X.quoted,this.args&&this.args.forEach(he=>{X=this.ensureQuotes(he),Z.push(X.value),H=H&&X.quoted});const se=[\"/s\",\"/c\"];F?H?se.push('\"'+Z.join(\" \")+'\"'):Z.length>1?se.push('\"'+Z[0]+'\" '+Z.slice(1).join(\" \")):se.push('\"'+Z[0]+'\"'):se.push(Z.join(\" \")),m=C.spawn(A(),se,T)}else this.cmd&&(m=C.spawn(this.cmd,this.args,this.options));m&&(this.childProcess=m,this.childProcessPromise=Promise.resolve(m),this.pidResolve&&(this.pidResolve(g.isNumber(m.pid)?m.pid:-1),this.pidResolve=void 0),m.on(\"error\",T=>{this.childProcess=null,s({terminated:this.terminateRequested,error:T})}),m.pid&&(this.childProcess.on(\"close\",h),this.handleSpawn(m,n,i,s,!0)))}return u})}handleClose(i,t,n,s){}ensureQuotes(i){return O.regexp.test(i)?{value:'\"'+i+'\"',quoted:!0}:{value:i,quoted:i.length>0&&i[0]==='\"'&&i[i.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(i=>i.pid,i=>-1):new Promise(i=>{this.pidResolve=i})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(i=>(this.terminateRequested=!0,_(i,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),i=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(i=>{if(!this.shell||!k.isWindows)return i(!1);const t=C.spawn(A(),[\"/s\",\"/c\"]);t.on(\"error\",n=>i(!0)),t.on(\"exit\",n=>i(!1))})}}e.AbstractProcess=O,O.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},O.regexp=/^[^\"].* .*[^\"]/;class R extends O{constructor(i,t,n,s){super(i,t,n,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(i,t,n,s,u){[s,u].forEach((m,h)=>{const T=new I.LineDecoder;T.write(m).forEach(Z=>{t({line:Z,source:h===0?0:1})});const H=T.end();H&&t({line:H,source:h===0?0:1})}),i({terminated:this.terminateRequested,error:n})}handleSpawn(i,t,n,s,u){const m=new I.LineDecoder,h=new I.LineDecoder;i.stdout.on(\"data\",T=>{m.write(T).forEach(H=>n({line:H,source:0}))}),i.stderr.on(\"data\",T=>{h.write(T).forEach(H=>n({line:H,source:1}))}),this.stdoutLineDecoder=m,this.stderrLineDecoder=h}handleClose(i,t,n,s){const u=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;u&&n({line:u,source:0});const m=this.stderrLineDecoder?this.stderrLineDecoder.end():null;m&&n({line:m,source:1})}}e.LineProcess=R;function a(l){let i=[],t=!1;const n=function(s){if(t){i.push(s);return}(!l.send(s,m=>{if(m&&console.error(m),t=!1,i.length>0){const h=i.slice(0);i=[],h.forEach(T=>n(T))}})||k.isWindows)&&(t=!0)};return{send:n}}e.createQueuedSender=a;var c;(function(l){async function i(t,n,s){if(y.isAbsolute(t))return t;if(n===void 0&&(n=P.cwd()),y.dirname(t)!==\".\"||(s===void 0&&g.isString(P.env.PATH)&&(s=P.env.PATH.split(y.delimiter)),s===void 0||s.length===0))return y.join(n,t);async function m(h){return await p.exists(h)?!(await L.promises.stat(h)).isDirectory():!1}for(let h of s){let T;if(y.isAbsolute(h)?T=y.join(h,t):T=y.join(n,h,t),await m(T))return T;let F=T+\".com\";if(await m(F)||(F=T+\".exe\",await m(F)))return F}return y.join(n,t)}l.findExecutable=i})(c=e.win32||(e.win32={}))}),define(x[46],ee([0,1,11,2,42,29]),function(z,e,y,L,p,C){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function N(E,r){return E===1?L.isWindows?k():C.getWindowsShell(r):v(E,r)}e.getSystemShell=N;function P(E,r){return E===1?L.isWindows?I(r):C.getWindowsShell(r):v(E,r)}e.getSystemShellSync=P;let g=null;function v(E,r){if(L.isLinux&&E===2||L.isMacintosh&&E===3)return\"/bin/bash\";if(!g){let _;if(L.isWindows)_=\"/bin/bash\";else{if(_=r.SHELL,!_)try{_=(0,y.userInfo)().shell}catch(A){}_||(_=\"sh\"),_===\"/bin/false\"&&(_=\"/bin/bash\")}g=_}return g}let D=null;async function k(){return D||(D=(await(0,p.getFirstAvailablePowerShellInstallation)()).exePath),D}function I(E){if(D)return D;const r=L.isWindows&&parseFloat((0,y.release)())>=10,_=E.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),A=`${E.windir}\\\\${_?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return r?A:C.getWindowsShell(E)}}),define(x[47],ee([0,1,30,3,10,16,4,29,26,36,13,7,14,2]),function(z,e,y,L,p,C,N,P,g,v,D,k,I,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Client=e.Server=void 0;class r extends g.ChannelServer{constructor(O){super({send:R=>{try{process.send&&process.send(R.buffer.toString(\"base64\"))}catch(a){}},onMessage:N.Event.fromNodeEventEmitter(process,\"message\",R=>I.VSBuffer.wrap(Buffer.from(R,\"base64\")))},O);process.once(\"disconnect\",()=>this.dispose())}}e.Server=r;class _{constructor(O,R){this.modulePath=O,this.options=R,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new N.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const a=R&&R.timeout?R.timeout:6e4;this.disposeDelayer=new p.Delayer(a),this.child=null,this._client=null}getChannel(O){const R=this;return{call(a,c,l){return R.requestPromise(O,a,c,l)},listen(a,c){return R.requestEvent(O,a,c)}}}requestPromise(O,R,a,c=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error(\"disposed\"));if(c.isCancellationRequested)return Promise.reject(k.canceled());this.disposeDelayer.cancel();const l=this.getCachedChannel(O),i=(0,p.createCancelablePromise)(s=>l.call(R,a,s)),t=c.onCancellationRequested(()=>i.cancel()),n=(0,L.toDisposable)(()=>i.cancel());return this.activeRequests.add(n),i.finally(()=>{t.dispose(),this.activeRequests.delete(n),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),i}requestEvent(O,R,a){if(!this.disposeDelayer)return N.Event.None;this.disposeDelayer.cancel();let c;const l=new N.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(O).listen(R,a)(l.fire,l),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return l.event}get client(){if(!this._client){const O=this.options&&this.options.args?this.options.args:[],R=Object.create(null);R.env=Object.assign(Object.assign({},(0,C.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(R.env=Object.assign(Object.assign({},R.env),this.options.env)),this.options&&this.options.freshExecArgv&&(R.execArgv=[]),this.options&&typeof this.options.debug==\"number\"&&(R.execArgv=[\"--nolazy\",\"--inspect=\"+this.options.debug]),this.options&&typeof this.options.debugBrk==\"number\"&&(R.execArgv=[\"--nolazy\",\"--inspect-brk=\"+this.options.debugBrk]),R.execArgv===void 0&&(R.execArgv=process.execArgv.filter(u=>!/^--inspect(-brk)?=/.test(u))),E.isMacintosh&&R.env&&delete R.env.DYLD_LIBRARY_PATH,this.child=(0,y.fork)(this.modulePath,O,R);const a=new N.Emitter;N.Event.fromNodeEventEmitter(this.child,\"message\",u=>u)(u=>{if((0,v.isRemoteConsoleLog)(u)){(0,v.log)(u,`IPC Library: ${this.options.serverName}`);return}a.fire(I.VSBuffer.wrap(Buffer.from(u,\"base64\")))});const l=this.options.useQueue?(0,P.createQueuedSender)(this.child):this.child,i=u=>this.child&&this.child.connected&&l.send(u.buffer.toString(\"base64\")),t=a.event,n={send:i,onMessage:t};this._client=new g.ChannelClient(n);const s=()=>this.disposeClient();process.once(\"exit\",s),this.child.on(\"error\",u=>console.warn('IPC \"'+this.options.serverName+'\" errored with '+u)),this.child.on(\"exit\",(u,m)=>{process.removeListener(\"exit\",s),this.activeRequests.forEach(h=>(0,L.dispose)(h)),this.activeRequests.clear(),u!==0&&m!==\"SIGTERM\"&&console.warn('IPC \"'+this.options.serverName+'\" crashed with exit code '+u+\" and signal \"+m),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:u,signal:m})})}return this._client}getCachedChannel(O){let R=this.channels.get(O);return R||(R=this.client.getChannel(O),this.channels.set(O,R)),R}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=_}),define(x[48],ee([27,28]),function(z,e){return z.create(\"vs/platform/terminal/node/terminalProcess\",e)}),define(x[31],ee([0,1]),function(z,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(P){P.serviceIds=new Map,P.DI_TARGET=\"$di$target\",P.DI_DEPENDENCIES=\"$di$dependencies\";function g(v){return v[P.DI_DEPENDENCIES]||[]}P.getServiceDependencies=g})(y=e._util||(e._util={})),e.IInstantiationService=p(\"instantiationService\");function L(P,g,v,D){g[y.DI_TARGET]===g?g[y.DI_DEPENDENCIES].push({id:P,index:v,optional:D}):(g[y.DI_DEPENDENCIES]=[{id:P,index:v,optional:D}],g[y.DI_TARGET]=g)}function p(P){if(y.serviceIds.has(P))return y.serviceIds.get(P);const g=function(v,D,k){if(arguments.length!==3)throw new Error(\"@IServiceName-decorator can only be used to decorate a parameter\");L(g,v,k,!1)};return g.toString=()=>P,y.serviceIds.set(P,g),g}e.createDecorator=p;function C(P){return P}e.refineServiceDecorator=C;function N(P){return function(g,v,D){if(arguments.length!==3)throw new Error(\"@optional-decorator can only be used to decorate a parameter\");L(P,g,D,!0)}}e.optional=N}),define(x[18],ee([0,1,31,3,2,4,44]),function(z,e,y,L,p,C,N){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,y.createDecorator)(\"logService\"),e.ILoggerService=(0,y.createDecorator)(\"loggerService\");function P(){return new Date().toISOString()}var g;(function(l){l[l.Trace=0]=\"Trace\",l[l.Debug=1]=\"Debug\",l[l.Info=2]=\"Info\",l[l.Warning=3]=\"Warning\",l[l.Error=4]=\"Error\",l[l.Critical=5]=\"Critical\",l[l.Off=6]=\"Off\"})(g=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=g.Info;class v extends L.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new C.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=v;class D extends v{constructor(i){super();this.logAlways=i}checkLogLevel(i){return this.logAlways||this.getLevel()<=i}trace(i,...t){this.checkLogLevel(g.Trace)&&this.log(g.Trace,this.format([i,...t]))}debug(i,...t){this.checkLogLevel(g.Debug)&&this.log(g.Debug,this.format([i,...t]))}info(i,...t){this.checkLogLevel(g.Info)&&this.log(g.Info,this.format([i,...t]))}warn(i,...t){this.checkLogLevel(g.Warning)&&this.log(g.Warning,this.format([i,...t]))}error(i,...t){if(this.checkLogLevel(g.Error))if(i instanceof Error){const n=Array.prototype.slice.call(arguments);n[0]=i.stack,this.log(g.Error,this.format(n))}else this.log(g.Error,this.format([i,...t]))}critical(i,...t){this.checkLogLevel(g.Critical)&&this.log(g.Critical,this.format([i,...t]))}flush(){}format(i){let t=\"\";for(let n=0;n<i.length;n++){let s=i[n];if(typeof s==\"object\")try{s=JSON.stringify(s)}catch(u){}t+=(n>0?\" \":\"\")+s}return t}}e.AbstractMessageLogger=D;class k extends v{constructor(i=e.DEFAULT_LOG_LEVEL){super();this.setLevel(i),this.useColors=!p.isWindows}trace(i,...t){this.getLevel()<=g.Trace&&(this.useColors?console.log(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js", "进程PID": "", "异常时间": "2021-05-05 05:51:07", "所属用户": "root", "异常信息": "反弹shell类：`):m}function R(m){return typeof m.code==\"string\"&&typeof m.errno==\"number\"&&typeof m.syscall==\"string\"?E.localize(1,null,m.message):m.message||E.localize(2,null)}function f(m=null,i=!1){if(!m)return E.localize(3,null);if(Array.isArray(m)){const I=C.coalesce(m),p=f(I[0],i);return I.length>1?E.localize(4,null,p,I.length):p}if(b.isString(m))return m;if(m.detail){const I=m.detail;if(I.error)return S(I.error,i);if(I.exception)return S(I.exception,i)}return m.stack?S(m,i):m.message?m.message:E.localize(5,null)}e.toErrorMessage=f}),define(de[134],me([9,10]),function(Y,e){return Y.create(\"vs/base/common/jsonErrorMessages\",e)}),define(de[135],me([0,1,134]),function(Y,e,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getParseErrorMessage=void 0;function b(C){switch(C){case 1:return(0,E.localize)(0,null);case 2:return(0,E.localize)(1,null);case 3:return(0,E.localize)(2,null);case 4:return(0,E.localize)(3,null);case 5:return(0,E.localize)(4,null);case 6:return(0,E.localize)(5,null);case 7:return(0,E.localize)(6,null);case 8:return(0,E.localize)(7,null);case 9:return(0,E.localize)(8,null);default:return\"\"}}e.getParseErrorMessage=b}),define(de[136],me([9,10]),function(Y,e){return Y.create(\"vs/base/node/processes\",e)}),define(de[83],me([0,1,4,15,21,37,136,24,11,20,29,5,75,8]),function(Y,e,E,b,C,S,k,R,f,m,i,I,p,D){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function o(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function a(c,t){if(I.isWindows)try{const n={stdio:[\"pipe\",\"pipe\",\"ignore\"]};t&&(n.cwd=t);const r=S.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",c.pid.toString()],n);return new Promise(s=>{r.once(\"error\",u=>{s({success:!1,error:u})}),r.once(\"exit\",(u,h)=>{s(u===0?{success:!0}:{success:!1,code:u!==null?u:1})})})}catch(n){return Promise.resolve({success:!1,error:n,code:n.status?o(n.status):1})}else if(I.isLinux||I.isMacintosh)try{const n=D.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",Y).fsPath;return new Promise(r=>{S.execFile(n,[c.pid.toString()],{encoding:\"utf8\",shell:!0},(s,u,h)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(n){return Promise.resolve({success:!1,error:n})}else c.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function w(c=R.env){return c.comspec||\"cmd.exe\"}e.getWindowsShell=w;class _{constructor(t,n,r,s){if(n!==void 0&&r!==void 0&&s!==void 0)this.cmd=t,this.args=n,this.shell=r,this.options=s;else{const u=t;this.cmd=u.command,this.shell=u.isShellCommand,this.args=u.args.slice(0),this.options=u.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const u=Object.create(null);Object.keys(R.env).forEach(h=>{u[h]=R.env[h]}),Object.keys(this.options.env).forEach(h=>{u[h]=this.options.env[h]}),this.options.env=u}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const n=t.lastIndexOf(E.sep);return n!==-1&&(t=t.substring(n+1)),_.WellKnowCommands[t]?t:\"other\"}start(t){return I.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(R.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(n=>{let r,s;const u=new Promise((h,y)=>{r=h,s=y});if(n){let h=this.cmd;this.args&&(h=h+\" \"+this.args.join(\" \")),this.childProcess=S.exec(h,this.options,(y,P,v)=>{this.childProcess=null;const g=y;g&&g.killed?s({killed:this.terminateRequested,stdout:P.toString(),stderr:v.toString()}):this.handleExec(r,t,y,P,v)})}else{let h=null;const y=P=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(P,r,t,s);const v={terminated:this.terminateRequested};f.isNumber(P)&&(v.cmdCode=P),r(v)};if(this.shell&&I.isWindows){const P=m.deepClone(this.options);P.windowsVerbatimArguments=!0,P.detached=!1;let v=!1,g=!1;const F=[];let O=this.ensureQuotes(this.cmd);F.push(O.value),v=O.quoted,this.args&&this.args.forEach(oe=>{O=this.ensureQuotes(oe),F.push(O.value),g=g&&O.quoted});const x=[\"/s\",\"/c\"];v?g?x.push('\"'+F.join(\" \")+'\"'):F.length>1?x.push('\"'+F[0]+'\" '+F.slice(1).join(\" \")):x.push('\"'+F[0]+'\"'):x.push(F.join(\" \")),h=S.spawn(w(),x,P)}else this.cmd&&(h=S.spawn(this.cmd,this.args,this.options));h&&(this.childProcess=h,this.childProcessPromise=Promise.resolve(h),this.pidResolve&&(this.pidResolve(f.isNumber(h.pid)?h.pid:-1),this.pidResolve=void 0),h.on(\"error\",P=>{this.childProcess=null,s({terminated:this.terminateRequested,error:P})}),h.pid&&(this.childProcess.on(\"close\",y),this.handleSpawn(h,r,t,s,!0)))}return u})}handleClose(t,n,r,s){}ensureQuotes(t){return _.regexp.test(t)?{value:'\"'+t+'\"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='\"'&&t[t.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,a(t,this.options.cwd).then(n=>(n.success&&(this.childProcess=null),n))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!I.isWindows)return t(!1);const n=S.spawn(w(),[\"/s\",\"/c\"]);n.on(\"error\",r=>t(!0)),n.on(\"exit\",r=>t(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^\"].* .*[^\"]/;class A extends _{constructor(t,n,r,s){super(t,n,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,n,r,s,u){[s,u].forEach((h,y)=>{const P=new p.LineDecoder;P.write(h).forEach(F=>{n({line:F,source:y===0?0:1})});const g=P.end();g&&n({line:g,source:y===0?0:1})}),t({terminated:this.terminateRequested,error:r})}handleSpawn(t,n,r,s,u){const h=new p.LineDecoder,y=new p.LineDecoder;t.stdout.on(\"data\",P=>{h.write(P).forEach(g=>r({line:g,source:0}))}),t.stderr.on(\"data\",P=>{y.write(P).forEach(g=>r({line:g,source:1}))}),this.stdoutLineDecoder=h,this.stderrLineDecoder=y}handleClose(t,n,r,s){const u=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;u&&r({line:u,source:0});const h=this.stderrLineDecoder?this.stderrLineDecoder.end():null;h&&r({line:h,source:1})}}e.LineProcess=A;function d(c){let t=[],n=!1;const r=function(s){if(n){t.push(s);return}(!c.send(s,h=>{if(h&&console.error(h),n=!1,t.length>0){const y=t.slice(0);t=[],y.forEach(P=>r(P))}})||I.isWindows)&&(n=!0)};return{send:r}}e.createQueuedSender=d;var l;(function(c){async function t(n,r,s){if(E.isAbsolute(n))return n;if(r===void 0&&(r=R.cwd()),E.dirname(n)!==\".\"||(s===void 0&&f.isString(R.env.PATH)&&(s=R.env.PATH.split(E.delimiter)),s===void 0||s.length===0))return E.join(r,n);async function h(y){return await C.exists(y)?!(await b.promises.stat(y)).isDirectory():!1}for(let y of s){let P;if(E.isAbsolute(y)?P=E.join(y,n):P=E.join(r,y,n),await h(P))return P;let v=P+\".com\";if(await h(v)||(v=P+\".exe\",await h(v)))return v}return E.join(r,n)}c.findExecutable=t})(l=e.win32||(e.win32={}))}),define(de[137],me([0,1,25,5,124,83]),function(Y,e,E,b,C,S){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(D,o){return D===1?b.isWindows?I():S.getWindowsShell(o):m(D,o)}e.getSystemShell=k;function R(D,o){return D===1?b.isWindows?p(o):S.getWindowsShell(o):m(D,o)}e.getSystemShellSync=R;let f=null;function m(D,o){if(b.isLinux&&D===2||b.isMacintosh&&D===3)return\"/bin/bash\";if(!f){let a;if(b.isWindows)a=\"/bin/bash\";else{if(a=o.SHELL,!a)try{a=(0,E.userInfo)().shell}catch(w){}a||(a=\"sh\"),a===\"/bin/false\"&&(a=\"/bin/bash\")}f=a}return f}let i=null;async function I(){return i||(i=(await(0,C.getFirstAvailablePowerShellInstallation)()).exePath),i}function p(D){if(i)return i;const o=b.isWindows&&parseFloat((0,E.release)())>=10,a=D.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),w=`${D.windir}\\\\${a?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return o?w:S.getWindowsShell(D)}}),define(de[54],me([0,1,37,2,14,20,6,83,35,116,28,12,18,5]),function(Y,e,E,b,C,S,k,R,f,m,i,I,p,D){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Client=e.Server=void 0;class o extends f.ChannelServer{constructor(_){super({send:A=>{try{process.send&&process.send(A.buffer.toString(\"base64\"))}catch(d){}},onMessage:k.Event.fromNodeEventEmitter(process,\"message\",A=>p.VSBuffer.wrap(Buffer.from(A,\"base64\")))},_);process.once(\"disconnect\",()=>this.dispose())}}e.Server=o;class a{constructor(_,A){this.modulePath=_,this.options=A,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const d=A&&A.timeout?A.timeout:6e4;this.disposeDelayer=new C.Delayer(d),this.child=null,this._client=null}getChannel(_){const A=this;return{call(d,l,c){return A.requestPromise(_,d,l,c)},listen(d,l){return A.requestEvent(_,d,l)}}}requestPromise(_,A,d,l=i.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error(\"disposed\"));if(l.isCancellationRequested)return Promise.reject(I.canceled());this.disposeDelayer.cancel();const c=this.getCachedChannel(_),t=(0,C.createCancelablePromise)(s=>c.call(A,d,s)),n=l.onCancellationRequested(()=>t.cancel()),r=(0,b.toDisposable)(()=>t.cancel());return this.activeRequests.add(r),t.finally(()=>{n.dispose(),this.activeRequests.delete(r),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(_,A,d){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let l;const c=new k.Emitter({onFirstListenerAdd:()=>{l=this.getCachedChannel(_).listen(A,d)(c.fire,c),this.activeRequests.add(l)},onLastListenerRemove:()=>{this.activeRequests.delete(l),l.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return c.event}get client(){if(!this._client){const _=this.options&&this.options.args?this.options.args:[],A=Object.create(null);A.env=Object.assign(Object.assign({},(0,S.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(A.env=Object.assign(Object.assign({},A.env),this.options.env)),this.options&&this.options.freshExecArgv&&(A.execArgv=[]),this.options&&typeof this.options.debug==\"number\"&&(A.execArgv=[\"--nolazy\",\"--inspect=\"+this.options.debug]),this.options&&typeof this.options.debugBrk==\"number\"&&(A.execArgv=[\"--nolazy\",\"--inspect-brk=\"+this.options.debugBrk]),A.execArgv===void 0&&(A.execArgv=process.execArgv.filter(u=>!/^--inspect(-brk)?=/.test(u))),D.isMacintosh&&A.env&&delete A.env.DYLD_LIBRARY_PATH,this.child=(0,E.fork)(this.modulePath,_,A);const d=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,\"message\",u=>u)(u=>{if((0,m.isRemoteConsoleLog)(u)){(0,m.log)(u,`IPC Library: ${this.options.serverName}`);return}d.fire(p.VSBuffer.wrap(Buffer.from(u,\"base64\")))});const c=this.options.useQueue?(0,R.createQueuedSender)(this.child):this.child,t=u=>this.child&&this.child.connected&&c.send(u.buffer.toString(\"base64\")),n=d.event,r={send:t,onMessage:n};this._client=new f.ChannelClient(r);const s=()=>this.disposeClient();process.once(\"exit\",s),this.child.on(\"error\",u=>console.warn('IPC \"'+this.options.serverName+'\" errored with '+u)),this.child.on(\"exit\",(u,h)=>{process.removeListener(\"exit\",s),this.activeRequests.forEach(y=>(0,b.dispose)(y)),this.activeRequests.clear(),u!==0&&h!==\"SIGTERM\"&&console.warn('IPC \"'+this.options.serverName+'\" crashed with exit code '+u+\" and signal \"+h),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:u,signal:h})})}return this._client}getCachedChannel(_){let A=this.channels.get(_);return A||(A=this.client.getChannel(_),this.channels.set(_,A)),A}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=a}),define(de[138],me([9,10]),function(Y,e){return Y.create(\"vs/base/node/zip\",e)}),define(de[139],me([9,10]),function(Y,e){return Y.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(de[140],me([9,10]),function(Y,e){return Y.create(\"vs/platform/environment/node/argv\",e)}),define(de[141],me([9,10]),function(Y,e){return Y.create(\"vs/platform/environment/node/argvHelper\",e)}),define(de[142],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(de[143],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensionManagement/common/extensionManagementCLIService\",e)}),define(de[144],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensionManagement/node/extensionManagementService\",e)}),define(de[145],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensionManagement/node/extensionManagementUtil\",e)}),define(de[146],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensionManagement/node/extensionsScanner\",e)}),define(de[147],me([9,10]),function(Y,e){return Y.create(\"vs/platform/extensions/common/extensionValidator\",e)}),define(de[148],me([9,10]),function(Y,e){return Y.create(\"vs/platform/files/common/fileService\",e)}),define(de[149],me([9,10]),function(Y,e){return Y.create(\"vs/platform/files/common/files\",e)}),define(de[150],me([9,10]),function(Y,e){return Y.create(\"vs/platform/files/common/io\",e)}),define(de[151],me([9,10]),function(Y,e){return Y.create(\"vs/platform/files/node/diskFileSystemProvider\",e)}),define(de[152],me([9,10]),function(Y,e){return Y.create(\"vs/platform/markers/common/markers\",e)}),define(de[153],me([9,10]),function(Y,e){return Y.create(\"vs/platform/request/common/request\",e)}),define(de[154],me([9,10]),function(Y,e){return Y.create(\"vs/platform/telemetry/common/telemetryService\",e)}),define(de[155],me([9,10]),function(Y,e){return Y.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(de[156],me([9,10]),function(Y,e){return Y.create(\"vs/server/remoteAgentEnvironmentImpl\",e)}),define(de[157],me([9,10]),function(Y,e){return Y.create(\"vs/server/serverEnvironmentService\",e)}),define(de[158],me([9,10]),function(Y,e){return Y.create(\"vs/workbench/common/editor\",e)}),define(de[159],me([9,10]),function(Y,e){return Y.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(de[160],me([9,10]),function(Y,e){return Y.create(\"vs/workbench/services/extensions/node/extensionPoints\",e)}),define(de[161],me([0,1,6,2]),function(Y,e,E,b){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class C{constructor(){this._onCloseEmitter=new E.Emitter,this._onReloadEmitter=new E.Emitter,this._onTerminateEmitter=new E.Emitter,this._onAttachEmitter=new E.Emitter}call(R,f,m){switch(f){case\"close\":return Promise.resolve(this._onCloseEmitter.fire({sessionId:m[0]}));case\"reload\":return Promise.resolve(this._onReloadEmitter.fire({sessionId:m[0]}));case\"terminate\":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:m[0]}));case\"attach\":return Promise.resolve(this._onAttachEmitter.fire({sessionId:m[0],port:m[1],subId:m[2]}))}throw new Error(\"Method not implemented.\")}listen(R,f,m){switch(f){case\"close\":return this._onCloseEmitter.event;case\"reload\":return this._onReloadEmitter.event;case\"terminate\":return this._onTerminateEmitter.event;case\"attach\":return this._onAttachEmitter.event}throw new Error(\"Method not implemented.\")}}e.ExtensionHostDebugBroadcastChannel=C,C.ChannelName=\"extensionhostdebugservice\";class S extends b.Disposable{constructor(R){super();this.channel=R}reload(R){this.channel.call(\"reload\",[R])}get onReload(){return this.channel.listen(\"reload\")}close(R){this.channel.call(\"close\",[R])}get onClose(){return this.channel.listen(\"close\")}attachSession(R,f,m){this.channel.call(\"attach\",[R,f,m])}get onAttachSession(){return this.channel.listen(\"attach\")}terminateSession(R,f){this.channel.call(\"terminate\",[R,f])}get onTerminateSession(){return this.channel.listen(\"terminate\")}openExtensionDevelopmentHostWindow(R,f,m){return this.channel.call(\"openExtensionDevelopmentHostWindow\",[R,f||{},m])}}e.ExtensionHostDebugChannelClient=S}),define(de[162],me([0,1,3]),function(Y,e,E){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class b{constructor(k){this.service=k}listen(k,R,f){throw new Error(\"Invalid listen\")}call(k,R,f){switch(R){case\"download\":return this.service.download(E.URI.revive(f[0]),E.URI.revive(f[1]))}throw new Error(\"Invalid call\")}}e.DownloadServiceChannel=b;class C{constructor(k,R){this.channel=k,this.getUriTransformer=R}async download(k,R){const f=this.getUriTransformer();f&&(k=f.transformOutgoingURI(k),R=f.transformOutgoingURI(R)),await this.channel.call(\"download\",[k,R])}}e.DownloadServiceChannelClient=C}),define(de[163],me([0,1]),function(Y,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var E;(function(k){k[k.ACTIVATE=0]=\"ACTIVATE\",k[k.RESTORE=1]=\"RESTORE\",k[k.PRESERVE=2]=\"PRESERVE\"})(E=e.EditorActivation||(e.EditorActivation={}));var b;(function(k){k[k.PICK=1]=\"PICK\",k[k.DISABLED=2]=\"DISABLED\"})(b=e.EditorOverride||(e.EditorOverride={}));var C;(function(k){k[k.API=0]=\"API\",k[k.USER=1]=\"USER\"})(C=e.EditorOpenContext||(e.EditorOpenContext={}));var S;(function(k){k[k.Center=0]=\"Center\",k[k.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",k[k.NearTop=2]=\"NearTop\",k[k.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(S=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))});var Oe=this&&this.__decorate||function(Y,e,E,b){var C=arguments.length,S=C<3?e:b===null?b=Object.getOwnPropertyDescriptor(e,E):b,k;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")S=Reflect.decorate(Y,e,E,b);else for(var R=Y.length-1;R>=0;R--)(k=Y[R])&&(S=(C<3?k(S):C>3?k(e,E,S):k(e,E))||S);return C>3&&S&&Object.defineProperty(e,E,S),S};define(de[164],me([0,1,4,17,109,132,8,3,24]),function(Y,e,E,b,C,S,k,R,f){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class m{constructor(o,a,w){this._args=o,this.paths=a,this.productService=w}get appRoot(){return(0,E.dirname)(k.FileAccess.asFileUri(\"\",Y).fsPath)}get userHome(){return R.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return R.URI.file((0,E.join)(this.userDataPath,\"User\"))}get tmpDir(){return R.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,b.joinPath)(this.userRoamingDataHome,\"settings.json\")}get userDataSyncHome(){return(0,b.joinPath)(this.userRoamingDataHome,\"sync\")}get logsPath(){if(!this.args.logsPath){const o=(0,S.toLocalISOString)(new Date).replace(/-|:|\\.\\d+Z$/g,\"\");this.args.logsPath=(0,E.join)(this.userDataPath,\"logs\",o)}return this.args.logsPath}get userDataSyncLogResource(){return R.URI.file((0,E.join)(this.logsPath,\"userDataSync.log\"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,b.joinPath)(R.URI.file((0,E.join)(this.userDataPath,\"Machine\")),\"settings.json\")}get globalStorageHome(){return R.URI.joinPath(this.appSettingsHome,\"globalStorage\")}get workspaceStorageHome(){return R.URI.joinPath(this.appSettingsHome,\"workspaceStorage\")}get keybindingsResource(){return(0,b.joinPath)(this.userRoamingDataHome,\"keybindings.json\")}get keyboardLayoutResource(){return(0,b.joinPath)(this.userRoamingDataHome,\"keyboardLayout.json\")}get argvResource(){const o=f.env.VSCODE_PORTABLE;return o?R.URI.file((0,E.join)(o,\"argv.json\")):(0,b.joinPath)(this.userHome,this.productService.dataFolderName,\"argv.json\")}get snippetsHome(){return(0,b.joinPath)(this.userRoamingDataHome,\"snippets\")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return R.URI.file((0,E.join)(this.userDataPath,\"Workspaces\"))}get installSourcePath(){return(0,E.join)(this.userDataPath,\"installSource\")}get builtinExtensionsPath(){const o=this.args[\"builtin-extensions-dir\"];return o?(0,E.resolve)(o):(0,E.normalize)((0,E.join)(k.FileAccess.asFileUri(\"\",Y).fsPath,\"..\",\"extensions\"))}get extensionsDownloadPath(){const o=this.args[\"extensions-download-dir\"];return o?(0,E.resolve)(o):(0,E.join)(this.userDataPath,\"CachedExtensionVSIXs\")}get extensionsPath(){const o=this.args[\"extensions-dir\"];if(o)return(0,E.resolve)(o);const a=f.env.VSCODE_EXTENSIONS;if(a)return a;const w=f.env.VSCODE_PORTABLE;return w?(0,E.join)(w,\"extensions\"):(0,b.joinPath)(this.userHome,this.productService.dataFolderName,\"extensions\").fsPath}get extensionDevelopmentLocationURI(){const o=this.args.extensionDevelopmentPath;if(Array.isArray(o))return o.map(a=>/^[^:/?#]+?:\\/\\//.test(a)?R.URI.parse(a):R.URI.file((0,E.normalize)(a)))}get extensionDevelopmentKind(){var o;return(o=this.args.extensionDevelopmentKind)===null||o===void 0?void 0:o.map(a=>a===\"ui\"||a===\"workspace\"||a===\"web\"?a:\"workspace\")}get extensionTestsLocationURI(){const o=this.args.extensionTestsPath;if(o)return/^[^:/?#]+?:\\/\\//.test(o)?R.URI.parse(o):R.URI.file((0,E.normalize)(o))}get disableExtensions(){if(this.args[\"disable-extensions\"])return!0;const o=this.args[\"disable-extension\"];if(o){if(typeof o==\"string\")return[o];if(Array.isArray(o)&&o.length>0)return o}return!1}get debugExtensionHost(){return i(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!f.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,b.joinPath)(R.URI.file(this.userDataPath),\"machineid\")}get crashReporterId(){return this.args[\"crash-reporter-id\"]}get crashReporterDirectory(){return this.args[\"crash-reporter-directory\"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return R.URI.file((0,E.join)(this.logsPath,\"telemetry.log\"))}get disableTelemetry(){return!!this.args[\"disable-telemetry\"]}get args(){return this._args}}Oe([C.memoize],m.prototype,\"appRoot\",null),Oe([C.memoize],m.prototype,\"userHome\",null),Oe([C.memoize],m.prototype,\"userDataPath\",null),Oe([C.memoize],m.prototype,\"appSettingsHome\",null),Oe([C.memoize],m.prototype,\"tmpDir\",null),Oe([C.memoize],m.prototype,\"userRoamingDataHome\",null),Oe([C.memoize],m.prototype,\"settingsResource\",null),Oe([C.memoize],m.prototype,\"userDataSyncHome\",null),Oe([C.memoize],m.prototype,\"userDataSyncLogResource\",null),Oe([C.memoize],m.prototype,\"sync\",null),Oe([C.memoize],m.prototype,\"machineSettingsResource\",null),Oe([C.memoize],m.prototype,\"globalStorageHome\",null),Oe([C.memoize],m.prototype,\"workspaceStorageHome\",null),Oe([C.memoize],m.prototype,\"keybindingsResource\",null),Oe([C.memoize],m.prototype,\"keyboardLayoutResource\",null),Oe([C.memoize],m.prototype,\"argvResource\",null),Oe([C.memoize],m.prototype,\"snippetsHome\",null),Oe([C.memoize],m.prototype,\"isExtensionDevelopment\",null),Oe([C.memoize],m.prototype,\"untitledWorkspacesHome\",null),Oe([C.memoize],m.prototype,\"installSourcePath\",null),Oe([C.memoize],m.prototype,\"builtinExtensionsPath\",null),Oe([C.memoize],m.prototype,\"extensionsPath\",null),Oe([C.memoize],m.prototype,\"extensionDevelopmentLocationURI\",null),Oe([C.memoize],m.prototype,\"extensionDevelopmentKind\",null),Oe([C.memoize],m.prototype,\"extensionTestsLocationURI\",null),Oe([C.memoize],m.prototype,\"debugExtensionHost\",null),Oe([C.memoize],m.prototype,\"serviceMachineIdResource\",null),Oe([C.memoize],m.prototype,\"telemetryLogResource\",null),e.AbstractNativeEnvironmentService=m;function i(D,o){return p(D[\"inspect-extensions\"],D[\"inspect-brk-extensions\"],5870,o,D.debugId)}e.parseExtensionHostPort=i;function I(D,o){return p(D[\"inspect-search\"],D[\"inspect-brk-search\"],5876,o)}e.parseSearchPort=I;function p(D,o,a,w,_){const d=Number(o||D)||(w?null:a),l=d?Boolean(!!o):!1;return{port:d,break:l,debugId:_}}}),define(de[55],me([0,1,234,140,5]),function(Y,e,E,b,C){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const S={o:(0,b.localize)(0,null),e:(0,b.localize)(1,null),t:(0,b.localize)(2,null)};e.OPTIONS={diff:{type:\"boolean\",cat:\"o\",alias:\"d\",args:[\"file\",\"file\"],description:(0,b.localize)(3,null)},add:{type:\"boolean\",cat:\"o\",alias:\"a\",args:\"folder\",description:(0,b.localize)(4,null)},goto:{type:\"boolean\",cat:\"o\",alias:\"g\",args:\"file:line[:character]\",description:(0,b.localize)(5,null)},\"new-window\":{type:\"boolean\",cat:\"o\",alias:\"n\",description:(0,b.localize)(6,null)},\"reuse-window\":{type:\"boolean\",cat:\"o\",alias:\"r\",description:(0,b.localize)(7,null)},wait:{type:\"boolean\",cat:\"o\",alias:\"w\",description:(0,b.localize)(8,null)},waitMarkerFilePath:{type:\"string\"},locale:{type:\"string\",cat:\"o\",args:\"locale\",description:(0,b.localize)(9,null)},\"user-data-dir\":{type:\"string\",cat:\"o\",args:\"dir\",description:(0,b.localize)(10,null)},help:{type:\"boolean\",cat:\"o\",alias:\"h\",description:(0,b.localize)(11,null)},\"extensions-dir\":{type:\"string\",deprecates:\"extensionHomePath\",cat:\"e\",args:\"dir\",description:(0,b.localize)(12,null)},\"extensions-download-dir\":{type:\"string\"},\"builtin-extensions-dir\":{type:\"string\"},\"list-extensions\":{type:\"boolean\",cat:\"e\",description:(0,b.localize)(13,null)},\"show-versions\":{type:\"boolean\",cat:\"e\",description:(0,b.localize)(14,null)},category:{type:\"string\",cat:\"e\",description:(0,b.localize)(15,null)},\"install-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id[@version] | path-to-vsix\",description:(0,b.localize)(16,null)},\"uninstall-extension\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:(0,b.localize)(17,null)},\"enable-proposed-api\":{type:\"string[]\",cat:\"e\",args:\"extension-id\",description:(0,b.localize)(18,null)},version:{type:\"boolean\",cat:\"t\",alias:\"v\",description:(0,b.localize)(19,null)},verbose:{type:\"boolean\",cat:\"t\",description:(0,b.localize)(20,null)},log:{type:\"string\",cat:\"t\",args:\"level\",description:(0,b.localize)(21,null)},status:{type:\"boolean\",alias:\"s\",cat:\"t\",description:(0,b.localize)(22,null)},\"prof-startup\":{type:\"boolean\",cat:\"t\",description:(0,b.localize)(23,null)},\"prof-append-timers\":{type:\"string\"},\"prof-startup-prefix\":{type:\"string\"},\"prof-v8-extensions\":{type:\"boolean\"},\"disable-extensions\":{type:\"boolean\",deprecates:\"disableExtensions\",cat:\"t\",description:(0,b.localize)(24,null)},\"disable-extension\":{type:\"string[]\",cat:\"t\",args:\"extension-id\",description:(0,b.localize)(25,null)},sync:{type:\"string\",cat:\"t\",description:(0,b.localize)(26,null),args:[\"on\",\"off\"]},\"inspect-extensions\":{type:\"string\",deprecates:\"debugPluginHost\",args:\"port\",cat:\"t\",description:(0,b.localize)(27,null)},\"inspect-brk-extensions\":{type:\"string\",deprecates:\"debugBrkPluginHost\",args:\"port\",cat:\"t\",description:(0,b.localize)(28,null)},\"disable-gpu\":{type:\"boolean\",cat:\"t\",description:(0,b.localize)(29,null)},\"max-memory\":{type:\"string\",cat:\"t\",description:(0,b.localize)(30,null)},telemetry:{type:\"boolean\",cat:\"t\",description:(0,b.localize)(31,null)},remote:{type:\"string\"},\"folder-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"file-uri\":{type:\"string[]\",cat:\"o\",args:\"uri\"},\"locate-extension\":{type:\"string[]\"},extensionDevelopmentPath:{type:\"string[]\"},extensionDevelopmentKind:{type:\"string[]\"},extensionTestsPath:{type:\"string\"},debugId:{type:\"string\"},debugRenderer:{type:\"boolean\"},\"inspect-search\":{type:\"string\",deprecates:\"debugSearch\"},\"inspect-brk-search\":{type:\"string\",deprecates:\"debugBrkSearch\"},\"export-default-configuration\":{type:\"string\"},\"install-source\":{type:\"string\"},driver:{type:\"string\"},logExtensionHostCommunication:{type:\"boolean\"},\"skip-release-notes\":{type:\"boolean\"},\"disable-telemetry\":{type:\"boolean\"},\"disable-updates\":{type:\"boolean\"},\"disable-keytar\":{type:\"boolean\"},\"disable-crash-reporter\":{type:\"boolean\"},\"crash-reporter-directory\":{type:\"string\"},\"crash-reporter-id\":{type:\"string\"},\"skip-add-to-recently-opened\":{type:\"boolean\"},\"unity-launch\":{type:\"boolean\"},\"open-url\":{type:\"boolean\"},\"file-write\":{type:\"boolean\"},\"file-chmod\":{type:\"boolean\"},\"driver-verbose\":{type:\"boolean\"},\"install-builtin-extension\":{type:\"string[]\"},force:{type:\"boolean\"},\"do-not-sync\":{type:\"boolean\"},trace:{type:\"boolean\"},\"trace-category-filter\":{type:\"string\"},\"trace-options\":{type:\"string\"},\"force-user-env\":{type:\"boolean\"},\"force-disable-user-env\":{type:\"boolean\"},\"open-devtools\":{type:\"boolean\"},__sandbox:{type:\"boolean\"},logsPath:{type:\"string\"},\"no-proxy-server\":{type:\"boolean\"},\"proxy-server\":{type:\"string\"},\"proxy-bypass-list\":{type:\"string\"},\"proxy-pac-url\":{type:\"string\"},\"js-flags\":{type:\"string\"},inspect:{type:\"string\"},\"inspect-brk\":{type:\"string\"},nolazy:{type:\"boolean\"},\"force-device-scale-factor\":{type:\"string\"},\"force-renderer-accessibility\":{type:\"boolean\"},\"ignore-certificate-errors\":{type:\"boolean\"},\"allow-insecure-localhost\":{type:\"boolean\"},\"log-net-log\":{type:\"string\"},vmodule:{type:\"string\"},_urls:{type:\"string[]\"},_:{type:\"string[]\"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function R(o,a,w=k){const _={},A=[],d=[];for(let n in a){const r=a[n];r.alias&&(_[n]=r.alias),r.type===\"string\"||r.type===\"string[]\"?(A.push(n),r.deprecates&&A.push(r.deprecates)):r.type===\"boolean\"&&(d.push(n),r.deprecates&&d.push(r.deprecates))}const l=E(o,{string:A,boolean:d,alias:_}),c={},t=l;c._=l._.map(n=>String(n)).filter(n=>n.length>0),delete t._;for(let n in a){const r=a[n];r.alias&&delete t[r.alias];let s=t[n];r.deprecates&&t.hasOwnProperty(r.deprecates)&&(s||(s=t[r.deprecates]),delete t[r.deprecates]),typeof s!=\"undefined\"&&(r.type===\"string[]\"?s&&!Array.isArray(s)&&(s=[s]):r.type===\"string\"&&Array.isArray(s)&&(s=s.pop(),w.onMultipleValues(n,s)),c[n]=s),delete t[n]}for(let n in t)w.onUnknownOption(n);return c}e.parseArgs=R;function f(o,a){let w=\"\";return a.args&&(Array.isArray(a.args)?w=` <${a.args.join(\"> <\")}>`:w=` <${a.args}>`),a.alias?`-${a.alias} --${o}${w}`:`--${o}${w}`}function m(o,a){let w=0,_=[];for(const c in o){const t=o[c],n=f(c,t);w=Math.max(w,n.length),_.push([n,t.description])}let A=w+2+1;if(a-A<25)return _.reduce((c,t)=>c.concat([` ${t[0]}`,` ${t[1]}`]),[]);let d=a-A-1,l=[];for(const c of _){let t=c[0],n=I(c[1],d),r=i(A-t.length-2);l.push(\" \"+t+r+n[0]);for(let s=1;s<n.length;s++)l.push(i(A)+n[s])}return l}e.formatOptions=m;function i(o){return\" \".repeat(o)}function I(o,a){let w=[];for(;o.length;){let _=o.length<a?o.length:o.lastIndexOf(\" \",a),A=o.slice(0,_).trim();o=o.slice(_),w.push(A)}return w}function p(o,a,w,_,A=!0){const d=process.stdout.isTTY&&process.stdout.columns||80;let l=[`${o} ${w}`];l.push(\"\"),l.push(`${(0,b.localize)(32,null)}: ${a} [${(0,b.localize)(33,null)}][${(0,b.localize)(34,null)}...]`),l.push(\"\"),A&&(C.isWindows?l.push((0,b.localize)(35,null,a)):l.push((0,b.localize)(36,null,a)),l.push(\"\"));const c={};for(const t in _){const n=_[t];if(n.description&&n.cat){let r=c[n.cat];r||(c[n.cat]=r={}),r[t]=n}}for(let t in c){const n=t;let r=c[n];r&&(l.push(S[n]),l.push(...m(r,d)),l.push(\"\"))}return l.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js", "进程PID": "", "异常时间": "2021-05-05 05:51:07", "所属用户": "root", "异常信息": "反弹shell类：`):k}function P(k){return typeof k.code==\"string\"&&typeof k.errno==\"number\"&&typeof k.syscall==\"string\"?_.localize(1,null,k.message):k.message||_.localize(2,null)}function D(k=null,i=!1){if(!k)return _.localize(3,null);if(Array.isArray(k)){const C=T.coalesce(k),f=D(C[0],i);return C.length>1?_.localize(4,null,f,C.length):f}if(I.isString(k))return k;if(k.detail){const C=k.detail;if(C.error)return A(C.error,i);if(C.exception)return A(C.exception,i)}return k.stack?A(k,i):k.message?k.message:_.localize(5,null)}e.toErrorMessage=D}),define(ge[148],pe([18,19]),function(G,e){return G.create(\"vs/base/node/processes\",e)}),define(ge[78],pe([0,1,8,37,26,38,148,36,11,23,29,10,137,12]),function(G,e,_,I,T,A,y,P,D,k,i,C,f,m){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(g){switch(g){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function d(g,t){if(C.isWindows)try{const n={stdio:[\"pipe\",\"pipe\",\"ignore\"]};t&&(n.cwd=t);const s=A.execFile(\"taskkill\",[\"/T\",\"/F\",\"/PID\",g.pid.toString()],n);return new Promise(r=>{s.once(\"error\",o=>{r({success:!1,error:o})}),s.once(\"exit\",(o,c)=>{r(o===0?{success:!0}:{success:!1,code:o!==null?o:1})})})}catch(n){return Promise.resolve({success:!1,error:n,code:n.status?a(n.status):1})}else if(C.isLinux||C.isMacintosh)try{const n=m.FileAccess.asFileUri(\"vs/base/node/terminateProcess.sh\",G).fsPath;return new Promise(s=>{A.execFile(n,[g.pid.toString()],{encoding:\"utf8\",shell:!0},(r,o,c)=>{s(r?{success:!1,error:r}:{success:!0})})})}catch(n){return Promise.resolve({success:!1,error:n})}else g.kill(\"SIGKILL\");return Promise.resolve({success:!0})}function E(g=P.env){return g.comspec||\"cmd.exe\"}e.getWindowsShell=E;class b{constructor(t,n,s,r){if(n!==void 0&&s!==void 0&&r!==void 0)this.cmd=t,this.args=n,this.shell=s,this.options=r;else{const o=t;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const o=Object.create(null);Object.keys(P.env).forEach(c=>{o[c]=P.env[c]}),Object.keys(this.options.env).forEach(c=>{o[c]=this.options.env[c]}),this.options.env=o}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const n=t.lastIndexOf(_.sep);return n!==-1&&(t=t.substring(n+1)),b.WellKnowCommands[t]?t:\"other\"}start(t){return C.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(P.cwd()))?Promise.reject(new Error(y.localize(0,null))):this.useExec().then(n=>{let s,r;const o=new Promise((c,p)=>{s=c,r=p});if(n){let c=this.cmd;this.args&&(c=c+\" \"+this.args.join(\" \")),this.childProcess=A.exec(c,this.options,(p,v,u)=>{this.childProcess=null;const w=p;w&&w.killed?r({killed:this.terminateRequested,stdout:v.toString(),stderr:u.toString()}):this.handleExec(s,t,p,v,u)})}else{let c=null;const p=v=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(v,s,t,r);const u={terminated:this.terminateRequested};D.isNumber(v)&&(u.cmdCode=v),s(u)};if(this.shell&&C.isWindows){const v=k.deepClone(this.options);v.windowsVerbatimArguments=!0,v.detached=!1;let u=!1,w=!1;const R=[];let N=this.ensureQuotes(this.cmd);R.push(N.value),u=N.quoted,this.args&&this.args.forEach(re=>{N=this.ensureQuotes(re),R.push(N.value),w=w&&N.quoted});const j=[\"/s\",\"/c\"];u?w?j.push('\"'+R.join(\" \")+'\"'):R.length>1?j.push('\"'+R[0]+'\" '+R.slice(1).join(\" \")):j.push('\"'+R[0]+'\"'):j.push(R.join(\" \")),c=A.spawn(E(),j,v)}else this.cmd&&(c=A.spawn(this.cmd,this.args,this.options));c&&(this.childProcess=c,this.childProcessPromise=Promise.resolve(c),this.pidResolve&&(this.pidResolve(D.isNumber(c.pid)?c.pid:-1),this.pidResolve=void 0),c.on(\"error\",v=>{this.childProcess=null,r({terminated:this.terminateRequested,error:v})}),c.pid&&(this.childProcess.on(\"close\",p),this.handleSpawn(c,s,t,r,!0)))}return o})}handleClose(t,n,s,r){}ensureQuotes(t){return b.regexp.test(t)?{value:'\"'+t+'\"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='\"'&&t[t.length-1]==='\"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,d(t,this.options.cwd).then(n=>(n.success&&(this.childProcess=null),n))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!C.isWindows)return t(!1);const n=A.spawn(E(),[\"/s\",\"/c\"]);n.on(\"error\",s=>t(!0)),n.on(\"exit\",s=>t(!1))})}}e.AbstractProcess=b,b.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},b.regexp=/^[^\"].* .*[^\"]/;class S extends b{constructor(t,n,s,r){super(t,n,s,r);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,n,s,r,o){[r,o].forEach((c,p)=>{const v=new f.LineDecoder;v.write(c).forEach(R=>{n({line:R,source:p===0?0:1})});const w=v.end();w&&n({line:w,source:p===0?0:1})}),t({terminated:this.terminateRequested,error:s})}handleSpawn(t,n,s,r,o){const c=new f.LineDecoder,p=new f.LineDecoder;t.stdout.on(\"data\",v=>{c.write(v).forEach(w=>s({line:w,source:0}))}),t.stderr.on(\"data\",v=>{p.write(v).forEach(w=>s({line:w,source:1}))}),this.stdoutLineDecoder=c,this.stderrLineDecoder=p}handleClose(t,n,s,r){const o=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;o&&s({line:o,source:0});const c=this.stderrLineDecoder?this.stderrLineDecoder.end():null;c&&s({line:c,source:1})}}e.LineProcess=S;function h(g){let t=[],n=!1;const s=function(r){if(n){t.push(r);return}(!g.send(r,c=>{if(c&&console.error(c),n=!1,t.length>0){const p=t.slice(0);t=[],p.forEach(v=>s(v))}})||C.isWindows)&&(n=!0)};return{send:s}}e.createQueuedSender=h;var l;(function(g){async function t(n,s,r){if(_.isAbsolute(n))return n;if(s===void 0&&(s=P.cwd()),_.dirname(n)!==\".\"||(r===void 0&&D.isString(P.env.PATH)&&(r=P.env.PATH.split(_.delimiter)),r===void 0||r.length===0))return _.join(s,n);async function c(p){return await T.exists(p)?!(await I.promises.stat(p)).isDirectory():!1}for(let p of r){let v;if(_.isAbsolute(p)?v=_.join(p,n):v=_.join(s,p,n),await c(v))return v;let u=v+\".com\";if(await c(u)||(u=v+\".exe\",await c(u)))return u}return _.join(s,n)}g.findExecutable=t})(l=e.win32||(e.win32={}))}),define(ge[149],pe([0,1,48,10,104,78]),function(G,e,_,I,T,A){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function y(m,a){return m===1?I.isWindows?C():A.getWindowsShell(a):k(m,a)}e.getSystemShell=y;function P(m,a){return m===1?I.isWindows?f(a):A.getWindowsShell(a):k(m,a)}e.getSystemShellSync=P;let D=null;function k(m,a){if(I.isLinux&&m===2||I.isMacintosh&&m===3)return\"/bin/bash\";if(!D){let d;if(I.isWindows)d=\"/bin/bash\";else{if(d=a.SHELL,!d)try{d=(0,_.userInfo)().shell}catch(E){}d||(d=\"sh\"),d===\"/bin/false\"&&(d=\"/bin/bash\")}D=d}return D}let i=null;async function C(){return i||(i=(await(0,T.getFirstAvailablePowerShellInstallation)()).exePath),i}function f(m){if(i)return i;const a=I.isWindows&&parseFloat((0,_.release)())>=10,d=m.hasOwnProperty(\"PROCESSOR_ARCHITEW6432\"),E=`${m.windir}\\\\${d?\"Sysnative\":\"System32\"}\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`;return a?E:A.getWindowsShell(m)}}),define(ge[150],pe([18,19]),function(G,e){return G.create(\"vs/editor/common/config/editorOptions\",e)}),define(ge[151],pe([0,1,150,10,109]),function(G,e,_,I,T){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var A;(function(J){J[J.None=0]=\"None\",J[J.Keep=1]=\"Keep\",J[J.Brackets=2]=\"Brackets\",J[J.Advanced=3]=\"Advanced\",J[J.Full=4]=\"Full\"})(A=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class y{constructor(ie){this._values=ie}hasChanged(ie){return this._values[ie]}}e.ConfigurationChangedEvent=y;class P{constructor(){this._values=[]}_read(ie){return this._values[ie]}get(ie){return this._values[ie]}_write(ie,_e){this._values[ie]=_e}}e.ValidatedEditorOptions=P;class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=D;class k{constructor(ie,_e,Ne,ze){this.id=ie,this.name=_e,this.defaultValue=Ne,this.schema=ze}compute(ie,_e,Ne){return Ne}}class i{constructor(ie,_e=null){this.schema=void 0,this.id=ie,this.name=\"_never_\",this.defaultValue=void 0,this.deps=_e}validate(ie){return this.defaultValue}}class C{constructor(ie,_e,Ne,ze){this.id=ie,this.name=_e,this.defaultValue=Ne,this.schema=ze}validate(ie){return typeof ie==\"undefined\"?this.defaultValue:ie}compute(ie,_e,Ne){return Ne}}function f(J,ie){return typeof J==\"undefined\"?ie:J===\"false\"?!1:Boolean(J)}e.boolean=f;class m extends C{constructor(ie,_e,Ne,ze=void 0){typeof ze!=\"undefined\"&&(ze.type=\"boolean\",ze.default=Ne),super(ie,_e,Ne,ze)}validate(ie){return f(ie,this.defaultValue)}}class a extends C{constructor(ie,_e,Ne,ze,$e,Ye=void 0){typeof Ye!=\"undefined\"&&(Ye.type=\"integer\",Ye.default=Ne,Ye.minimum=ze,Ye.maximum=$e),super(ie,_e,Ne,Ye),this.minimum=ze,this.maximum=$e}static clampedInt(ie,_e,Ne,ze){if(typeof ie==\"undefined\")return _e;let $e=parseInt(ie,10);return isNaN($e)?_e:($e=Math.max(Ne,$e),$e=Math.min(ze,$e),$e|0)}validate(ie){return a.clampedInt(ie,this.defaultValue,this.minimum,this.maximum)}}class d extends C{constructor(ie,_e,Ne,ze,$e){typeof $e!=\"undefined\"&&($e.type=\"number\",$e.default=Ne),super(ie,_e,Ne,$e),this.validationFn=ze}static clamp(ie,_e,Ne){return ie<_e?_e:ie>Ne?Ne:ie}static float(ie,_e){if(typeof ie==\"number\")return ie;if(typeof ie==\"undefined\")return _e;const Ne=parseFloat(ie);return isNaN(Ne)?_e:Ne}validate(ie){return this.validationFn(d.float(ie,this.defaultValue))}}class E extends C{static string(ie,_e){return typeof ie!=\"string\"?_e:ie}constructor(ie,_e,Ne,ze=void 0){typeof ze!=\"undefined\"&&(ze.type=\"string\",ze.default=Ne),super(ie,_e,Ne,ze)}validate(ie){return E.string(ie,this.defaultValue)}}function b(J,ie,_e){return typeof J!=\"string\"||_e.indexOf(J)===-1?ie:J}e.stringSet=b;class S extends C{constructor(ie,_e,Ne,ze,$e=void 0){typeof $e!=\"undefined\"&&($e.type=\"string\",$e.enum=ze,$e.default=Ne),super(ie,_e,Ne,$e),this._allowedValues=ze}validate(ie){return b(ie,this.defaultValue,this._allowedValues)}}class h extends k{constructor(ie,_e,Ne,ze,$e,Ye,K=void 0){typeof K!=\"undefined\"&&(K.type=\"string\",K.enum=$e,K.default=ze),super(ie,_e,Ne,K),this._allowedValues=$e,this._convert=Ye}validate(ie){return typeof ie!=\"string\"?this.defaultValue:this._allowedValues.indexOf(ie)===-1?this.defaultValue:this._convert(ie)}}function l(J){switch(J){case\"none\":return 0;case\"keep\":return 1;case\"brackets\":return 2;case\"advanced\":return 3;case\"full\":return 4}}class g extends k{constructor(){super(2,\"accessibilitySupport\",0,{type:\"string\",enum:[\"auto\",\"on\",\"off\"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:\"auto\",description:_.localize(3,null)})}validate(ie){switch(ie){case\"auto\":return 0;case\"off\":return 1;case\"on\":return 2}return this.defaultValue}compute(ie,_e,Ne){return Ne===0?ie.accessibilitySupport:Ne}}class t extends k{constructor(){const ie={insertSpace:!0,ignoreEmptyLines:!0};super(17,\"comments\",ie,{\"editor.comments.insertSpace\":{type:\"boolean\",default:ie.insertSpace,description:_.localize(4,null)},\"editor.comments.ignoreEmptyLines\":{type:\"boolean\",default:ie.ignoreEmptyLines,description:_.localize(5,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{insertSpace:f(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:f(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var n;(function(J){J[J.Hidden=0]=\"Hidden\",J[J.Blink=1]=\"Blink\",J[J.Smooth=2]=\"Smooth\",J[J.Phase=3]=\"Phase\",J[J.Expand=4]=\"Expand\",J[J.Solid=5]=\"Solid\"})(n=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(J){switch(J){case\"blink\":return 1;case\"smooth\":return 2;case\"phase\":return 3;case\"expand\":return 4;case\"solid\":return 5}}var r;(function(J){J[J.Line=1]=\"Line\",J[J.Block=2]=\"Block\",J[J.Underline=3]=\"Underline\",J[J.LineThin=4]=\"LineThin\",J[J.BlockOutline=5]=\"BlockOutline\",J[J.UnderlineThin=6]=\"UnderlineThin\"})(r=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function o(J){switch(J){case r.Line:return\"line\";case r.Block:return\"block\";case r.Underline:return\"underline\";case r.LineThin:return\"line-thin\";case r.BlockOutline:return\"block-outline\";case r.UnderlineThin:return\"underline-thin\"}}e.cursorStyleToString=o;function c(J){switch(J){case\"line\":return r.Line;case\"block\":return r.Block;case\"underline\":return r.Underline;case\"line-thin\":return r.LineThin;case\"block-outline\":return r.BlockOutline;case\"underline-thin\":return r.UnderlineThin}}class p extends i{constructor(){super(123,[62,31])}compute(ie,_e,Ne){const ze=[\"monaco-editor\"];return _e.get(31)&&ze.push(_e.get(31)),ie.extraEditorClassName&&ze.push(ie.extraEditorClassName),_e.get(62)===\"default\"?ze.push(\"mouse-default\"):_e.get(62)===\"copy\"&&ze.push(\"mouse-copy\"),_e.get(97)&&ze.push(\"showUnused\"),_e.get(121)&&ze.push(\"showDeprecated\"),ze.join(\" \")}}class v extends m{constructor(){super(30,\"emptySelectionClipboard\",!0,{description:_.localize(6,null)})}compute(ie,_e,Ne){return Ne&&ie.emptySelectionClipboard}}class u extends k{constructor(){const ie={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:\"never\",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,\"find\",ie,{\"editor.find.cursorMoveOnType\":{type:\"boolean\",default:ie.cursorMoveOnType,description:_.localize(7,null)},\"editor.find.seedSearchStringFromSelection\":{type:\"boolean\",default:ie.seedSearchStringFromSelection,description:_.localize(8,null)},\"editor.find.autoFindInSelection\":{type:\"string\",enum:[\"never\",\"always\",\"multiline\"],default:ie.autoFindInSelection,enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],description:_.localize(12,null)},\"editor.find.globalFindClipboard\":{type:\"boolean\",default:ie.globalFindClipboard,description:_.localize(13,null),included:I.isMacintosh},\"editor.find.addExtraSpaceOnTop\":{type:\"boolean\",default:ie.addExtraSpaceOnTop,description:_.localize(14,null)},\"editor.find.loop\":{type:\"boolean\",default:ie.loop,description:_.localize(15,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{cursorMoveOnType:f(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:f(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ie.autoFindInSelection==\"boolean\"?ie.autoFindInSelection?\"always\":\"never\":b(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,[\"never\",\"always\",\"multiline\"]),globalFindClipboard:f(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:f(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:f(_e.loop,this.defaultValue.loop)}}}class w extends k{constructor(){super(41,\"fontLigatures\",w.OFF,{anyOf:[{type:\"boolean\",description:_.localize(16,null)},{type:\"string\",description:_.localize(17,null)}],description:_.localize(18,null),default:!1})}validate(ie){return typeof ie==\"undefined\"?this.defaultValue:typeof ie==\"string\"?ie===\"false\"?w.OFF:ie===\"true\"?w.ON:ie:Boolean(ie)?w.ON:w.OFF}}e.EditorFontLigatures=w,w.OFF='\"liga\" off, \"calt\" off',w.ON='\"liga\" on, \"calt\" on';class R extends i{constructor(){super(40)}compute(ie,_e,Ne){return ie.fontInfo}}class N extends C{constructor(){super(42,\"fontSize\",e.EDITOR_FONT_DEFAULTS.fontSize,{type:\"number\",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(19,null)})}validate(ie){let _e=d.float(ie,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:d.clamp(_e,6,100)}compute(ie,_e,Ne){return ie.fontInfo.fontSize}}class j extends k{constructor(){super(43,\"fontWeight\",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:\"number\",minimum:j.MINIMUM_VALUE,maximum:j.MAXIMUM_VALUE,errorMessage:_.localize(20,null)},{type:\"string\",pattern:\"^(normal|bold|1000|[1-9][0-9]{0,2})$\"},{enum:j.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(21,null)})}validate(ie){return ie===\"normal\"||ie===\"bold\"?ie:String(a.clampedInt(ie,e.EDITOR_FONT_DEFAULTS.fontWeight,j.MINIMUM_VALUE,j.MAXIMUM_VALUE))}}j.SUGGESTION_VALUES=[\"normal\",\"bold\",\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"],j.MINIMUM_VALUE=1,j.MAXIMUM_VALUE=1e3;class re extends k{constructor(){const ie={multiple:\"peek\",multipleDefinitions:\"peek\",multipleTypeDefinitions:\"peek\",multipleDeclarations:\"peek\",multipleImplementations:\"peek\",multipleReferences:\"peek\",alternativeDefinitionCommand:\"editor.action.goToReferences\",alternativeTypeDefinitionCommand:\"editor.action.goToReferences\",alternativeDeclarationCommand:\"editor.action.goToReferences\",alternativeImplementationCommand:\"\",alternativeReferenceCommand:\"\"},_e={type:\"string\",enum:[\"peek\",\"gotoAndPeek\",\"goto\"],default:ie.multiple,enumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]},Ne=[\"\",\"editor.action.referenceSearch.trigger\",\"editor.action.goToReferences\",\"editor.action.peekImplementation\",\"editor.action.goToImplementation\",\"editor.action.peekTypeDefinition\",\"editor.action.goToTypeDefinition\",\"editor.action.peekDeclaration\",\"editor.action.revealDeclaration\",\"editor.action.peekDefinition\",\"editor.action.revealDefinitionAside\",\"editor.action.revealDefinition\"];super(47,\"gotoLocation\",ie,{\"editor.gotoLocation.multiple\":{deprecationMessage:_.localize(25,null)},\"editor.gotoLocation.multipleDefinitions\":Object.assign({description:_.localize(26,null)},_e),\"editor.gotoLocation.multipleTypeDefinitions\":Object.assign({description:_.localize(27,null)},_e),\"editor.gotoLocation.multipleDeclarations\":Object.assign({description:_.localize(28,null)},_e),\"editor.gotoLocation.multipleImplementations\":Object.assign({description:_.localize(29,null)},_e),\"editor.gotoLocation.multipleReferences\":Object.assign({description:_.localize(30,null)},_e),\"editor.gotoLocation.alternativeDefinitionCommand\":{type:\"string\",default:ie.alternativeDefinitionCommand,enum:Ne,description:_.localize(31,null)},\"editor.gotoLocation.alternativeTypeDefinitionCommand\":{type:\"string\",default:ie.alternativeTypeDefinitionCommand,enum:Ne,description:_.localize(32,null)},\"editor.gotoLocation.alternativeDeclarationCommand\":{type:\"string\",default:ie.alternativeDeclarationCommand,enum:Ne,description:_.localize(33,null)},\"editor.gotoLocation.alternativeImplementationCommand\":{type:\"string\",default:ie.alternativeImplementationCommand,enum:Ne,description:_.localize(34,null)},\"editor.gotoLocation.alternativeReferenceCommand\":{type:\"string\",default:ie.alternativeReferenceCommand,enum:Ne,description:_.localize(35,null)}})}validate(ie){var _e,Ne,ze,$e,Ye;if(!ie||typeof ie!=\"object\")return this.defaultValue;const K=ie;return{multiple:b(K.multiple,this.defaultValue.multiple,[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDefinitions:(_e=K.multipleDefinitions)!==null&&_e!==void 0?_e:b(K.multipleDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleTypeDefinitions:(Ne=K.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:b(K.multipleTypeDefinitions,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleDeclarations:(ze=K.multipleDeclarations)!==null&&ze!==void 0?ze:b(K.multipleDeclarations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleImplementations:($e=K.multipleImplementations)!==null&&$e!==void 0?$e:b(K.multipleImplementations,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),multipleReferences:(Ye=K.multipleReferences)!==null&&Ye!==void 0?Ye:b(K.multipleReferences,\"peek\",[\"peek\",\"gotoAndPeek\",\"goto\"]),alternativeDefinitionCommand:E.string(K.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:E.string(K.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:E.string(K.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:E.string(K.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:E.string(K.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends k{constructor(){const ie={enabled:!0,delay:300,sticky:!0};super(50,\"hover\",ie,{\"editor.hover.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(36,null)},\"editor.hover.delay\":{type:\"number\",default:ie.delay,description:_.localize(37,null)},\"editor.hover.sticky\":{type:\"boolean\",default:ie.sticky,description:_.localize(38,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),delay:a.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:f(_e.sticky,this.defaultValue.sticky)}}}var W;(function(J){J[J.None=0]=\"None\",J[J.Text=1]=\"Text\",J[J.Blocks=2]=\"Blocks\"})(W=e.RenderMinimap||(e.RenderMinimap={}));class $ extends i{constructor(){super(126,[46,54,35,61,89,56,57,91,113,116,117,118,2])}compute(ie,_e,Ne){return $.computeLayout(_e,{memory:ie.memory,outerWidth:ie.outerWidth,outerHeight:ie.outerHeight,isDominatedByLongLines:ie.isDominatedByLongLines,lineHeight:ie.fontInfo.lineHeight,viewLineCount:ie.viewLineCount,lineNumbersDigitCount:ie.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ie.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ie.fontInfo.maxDigitWidth,pixelRatio:ie.pixelRatio})}static computeContainedMinimapLineCount(ie){const _e=ie.height/ie.lineHeight,Ne=ie.scrollBeyondLastLine?_e-1:0,ze=(ie.viewLineCount+Ne)/(ie.pixelRatio*ie.height),$e=Math.floor(ie.viewLineCount/ze);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:ze,minimapLineCount:$e}}static _computeMinimapLayout(ie,_e){const Ne=ie.outerWidth,ze=ie.outerHeight,$e=ie.pixelRatio;if(!ie.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor($e*ze),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ze};const Ye=_e.stableMinimapLayoutInput,K=Ye&&ie.outerHeight===Ye.outerHeight&&ie.lineHeight===Ye.lineHeight&&ie.typicalHalfwidthCharacterWidth===Ye.typicalHalfwidthCharacterWidth&&ie.pixelRatio===Ye.pixelRatio&&ie.scrollBeyondLastLine===Ye.scrollBeyondLastLine&&ie.minimap.enabled===Ye.minimap.enabled&&ie.minimap.side===Ye.minimap.side&&ie.minimap.size===Ye.minimap.size&&ie.minimap.showSlider===Ye.minimap.showSlider&&ie.minimap.renderCharacters===Ye.minimap.renderCharacters&&ie.minimap.maxColumn===Ye.minimap.maxColumn&&ie.minimap.scale===Ye.minimap.scale&&ie.verticalScrollbarWidth===Ye.verticalScrollbarWidth&&ie.isViewportWrapping===Ye.isViewportWrapping,se=ie.lineHeight,he=ie.typicalHalfwidthCharacterWidth,Y=ie.scrollBeyondLastLine,ne=ie.minimap.renderCharacters;let ce=$e>=2?Math.round(ie.minimap.scale*2):ie.minimap.scale;const ve=ie.minimap.maxColumn,ye=ie.minimap.size,je=ie.minimap.side,He=ie.verticalScrollbarWidth,We=ie.viewLineCount,Ge=ie.remainingWidth,nt=ie.isViewportWrapping,dt=ne?2:3;let it=Math.floor($e*ze);const Xe=it/$e;let mt=!1,wt=!1,Ee=dt*ce,fe=ce/$e,le=1;if(ye===\"fill\"||ye===\"fit\"){const{typicalViewportLineCount:ht,extraLinesBeyondLastLine:Je,desiredRatio:ot,minimapLineCount:ft}=$.computeContainedMinimapLineCount({viewLineCount:We,scrollBeyondLastLine:Y,height:ze,lineHeight:se,pixelRatio:$e});if(We/ft>1)mt=!0,wt=!0,ce=1,Ee=1,fe=ce/$e;else{let St=!1,vt=ce+1;if(ye===\"fit\"){const kt=Math.ceil((We+Je)*Ee);nt&&K&&Ge<=_e.stableFitRemainingWidth?(St=!0,vt=_e.stableFitMaxMinimapScale):(St=kt>it,nt&&St?(_e.stableMinimapLayoutInput=ie,_e.stableFitRemainingWidth=Ge):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye===\"fill\"||St){mt=!0;const kt=ce;Ee=Math.min(se*$e,Math.max(1,Math.floor(1/ot))),ce=Math.min(vt,Math.max(1,Math.floor(Ee/dt))),ce>kt&&(le=Math.min(2,ce/kt)),fe=ce/$e/le,it=Math.ceil(Math.max(ht,We+Je)*Ee),nt&&St&&(_e.stableFitMaxMinimapScale=ce)}}}const Z=Math.floor(ve*fe),Fe=Math.min(Z,Math.max(0,Math.floor((Ge-He-2)*fe/(he+fe)))+e.MINIMAP_GUTTER_WIDTH);let Te=Math.floor($e*Fe);const Qe=Te/$e;Te=Math.floor(Te*le);const Ze=ne?1:2,ct=je===\"left\"?0:Ne-Fe-He;return{renderMinimap:Ze,minimapLeft:ct,minimapWidth:Fe,minimapHeightIsEditorHeight:mt,minimapIsSampling:wt,minimapScale:ce,minimapLineHeight:Ee,minimapCanvasInnerWidth:Te,minimapCanvasInnerHeight:it,minimapCanvasOuterWidth:Qe,minimapCanvasOuterHeight:Xe}}static computeLayout(ie,_e){const Ne=_e.outerWidth|0,ze=_e.outerHeight|0,$e=_e.lineHeight|0,Ye=_e.lineNumbersDigitCount|0,K=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,Y=_e.viewLineCount,ne=ie.get(118),ce=ne===\"inherit\"?ie.get(117):ne,ve=ce===\"inherit\"?ie.get(113):ce,ye=ie.get(116),je=ie.get(2),He=_e.isDominatedByLongLines,We=ie.get(46),Ge=ie.get(56).renderType!==0,nt=ie.get(57),dt=ie.get(91),it=ie.get(61),Xe=ie.get(89),mt=Xe.verticalScrollbarSize,wt=Xe.verticalHasArrows,Ee=Xe.arrowSize,fe=Xe.horizontalScrollbarSize,le=ie.get(54),Z=ie.get(35);let Fe;if(typeof le==\"string\"&&/^\\d+(\\.\\d+)?ch$/.test(le)){const _t=parseFloat(le.substr(0,le.length-2));Fe=a.clampedInt(_t*K,0,0,1e3)}else Fe=a.clampedInt(le,0,0,1e3);Z&&(Fe+=16);let Te=0;if(Ge){const _t=Math.max(Ye,nt);Te=Math.round(_t*se)}let Qe=0;We&&(Qe=$e);let Ze=0,ct=Ze+Qe,ht=ct+Te,Je=ht+Fe;const ot=Ne-Qe-Te-Fe;let ft=!1,at=!1,St=-1;je!==2&&(ce===\"inherit\"&&He?(ft=!0,at=!0):ve===\"on\"||ve===\"bounded\"?at=!0:ve===\"wordWrapColumn\"&&(St=ye));const vt=$._computeMinimapLayout({outerWidth:Ne,outerHeight:ze,lineHeight:$e,typicalHalfwidthCharacterWidth:K,pixelRatio:he,scrollBeyondLastLine:dt,minimap:it,verticalScrollbarWidth:mt,viewLineCount:Y,remainingWidth:ot,isViewportWrapping:at},_e.memory||new D);vt.renderMinimap!==0&&vt.minimapLeft===0&&(Ze+=vt.minimapWidth,ct+=vt.minimapWidth,ht+=vt.minimapWidth,Je+=vt.minimapWidth);const kt=ot-vt.minimapWidth,At=Math.max(1,Math.floor((kt-mt-2)/K)),Tt=wt?Ee:0;return at&&(St=Math.max(1,At),ve===\"bounded\"&&(St=Math.min(St,ye))),{width:Ne,height:ze,glyphMarginLeft:Ze,glyphMarginWidth:Qe,lineNumbersLeft:ct,lineNumbersWidth:Te,decorationsLeft:ht,decorationsWidth:Fe,contentLeft:Je,contentWidth:kt,minimap:vt,viewportColumn:At,isWordWrapMinified:ft,isViewportWrapping:at,wrappingColumn:St,verticalScrollbarWidth:mt,horizontalScrollbarHeight:fe,overviewRuler:{top:Tt,width:mt,height:ze-2*Tt,right:0}}}}e.EditorLayoutInfoComputer=$;class x extends k{constructor(){const ie={enabled:!0};super(53,\"lightbulb\",ie,{\"editor.lightbulb.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(39,null)}})}validate(ie){return!ie||typeof ie!=\"object\"?this.defaultValue:{enabled:f(ie.enabled,this.defaultValue.enabled)}}}class F extends k{constructor(){const ie={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(122,\"inlineHints\",ie,{\"editor.inlineHints.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(40,null)},\"editor.inlineHints.fontSize\":{type:\"number\",default:ie.fontSize,description:_.localize(41,null)},\"editor.inlineHints.fontFamily\":{type:\"string\",default:ie.fontFamily,description:_.localize(42,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:E.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class M extends a{constructor(){super(55,\"lineHeight\",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_.localize(43,null)})}compute(ie,_e,Ne){return ie.fontInfo.lineHeight}}class L extends k{constructor(){const ie={enabled:!0,size:\"proportional\",side:\"right\",showSlider:\"mouseover\",renderCharacters:!0,maxColumn:120,scale:1};super(61,\"minimap\",ie,{\"editor.minimap.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(44,null)},\"editor.minimap.size\":{type:\"string\",enum:[\"proportional\",\"fill\",\"fit\"],enumDescriptions:[_.localize(45,null),_.localize(46,null),_.localize(47,null)],default:ie.size,description:_.localize(48,null)},\"editor.minimap.side\":{type:\"string\",enum:[\"left\",\"right\"],default:ie.side,description:_.localize(49,null)},\"editor.minimap.showSlider\":{type:\"string\",enum:[\"always\",\"mouseover\"],default:ie.showSlider,description:_.localize(50,null)},\"editor.minimap.scale\":{type:\"number\",default:ie.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(51,null)},\"editor.minimap.renderCharacters\":{type:\"boolean\",default:ie.renderCharacters,description:_.localize(52,null)},\"editor.minimap.maxColumn\":{type:\"number\",default:ie.maxColumn,description:_.localize(53,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),size:b(_e.size,this.defaultValue.size,[\"proportional\",\"fill\",\"fit\"]),side:b(_e.side,this.defaultValue.side,[\"right\",\"left\"]),showSlider:b(_e.showSlider,this.defaultValue.showSlider,[\"always\",\"mouseover\"]),renderCharacters:f(_e.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(_e.scale,1,1,3),maxColumn:a.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(J){return J===\"ctrlCmd\"?I.isMacintosh?\"metaKey\":\"ctrlKey\":\"altKey\"}class B extends k{constructor(){super(71,\"padding\",{top:0,bottom:0},{\"editor.padding.top\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:_.localize(54,null)},\"editor.padding.bottom\":{type:\"number\",default:0,minimum:0,maximum:1e3,description:_.localize(55,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{top:a.clampedInt(_e.top,0,0,1e3),bottom:a.clampedInt(_e.bottom,0,0,1e3)}}}class q extends k{constructor(){const ie={enabled:!0,cycle:!1};super(72,\"parameterHints\",ie,{\"editor.parameterHints.enabled\":{type:\"boolean\",default:ie.enabled,description:_.localize(56,null)},\"editor.parameterHints.cycle\":{type:\"boolean\",default:ie.cycle,description:_.localize(57,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),cycle:f(_e.cycle,this.defaultValue.cycle)}}}class Q extends i{constructor(){super(124)}compute(ie,_e,Ne){return ie.pixelRatio}}class de extends k{constructor(){const ie={other:!0,comments:!1,strings:!1};super(75,\"quickSuggestions\",ie,{anyOf:[{type:\"boolean\"},{type:\"object\",properties:{strings:{type:\"boolean\",default:ie.strings,description:_.localize(58,null)},comments:{type:\"boolean\",default:ie.comments,description:_.localize(59,null)},other:{type:\"boolean\",default:ie.other,description:_.localize(60,null)}}}],default:ie,description:_.localize(61,null)});this.defaultValue=ie}validate(ie){if(typeof ie==\"boolean\")return ie;if(ie&&typeof ie==\"object\"){const _e=ie,Ne={other:f(_e.other,this.defaultValue.other),comments:f(_e.comments,this.defaultValue.comments),strings:f(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var be;(function(J){J[J.Off=0]=\"Off\",J[J.On=1]=\"On\",J[J.Relative=2]=\"Relative\",J[J.Interval=3]=\"Interval\",J[J.Custom=4]=\"Custom\"})(be=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Ae extends k{constructor(){super(56,\"lineNumbers\",{renderType:1,renderFn:null},{type:\"string\",enum:[\"off\",\"on\",\"relative\",\"interval\"],enumDescriptions:[_.localize(62,null),_.localize(63,null),_.localize(64,null),_.localize(65,null)],default:\"on\",description:_.localize(66,null)})}validate(ie){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ie!=\"undefined\"&&(typeof ie==\"function\"?(_e=4,Ne=ie):ie===\"interval\"?_e=3:ie===\"relative\"?_e=2:ie===\"on\"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Ce(J){const ie=J.get(84);return ie===\"editable\"?J.get(77):ie!==\"on\"}e.filterValidationDecorations=Ce;class Le extends k{constructor(){const ie=[],_e={type:\"number\",description:_.localize(67,null)};super(88,\"rulers\",ie,{type:\"array\",items:{anyOf:[_e,{type:[\"object\"],properties:{column:_e,color:{type:\"string\",description:_.localize(68,null),format:\"color-hex\"}}}]},default:ie,description:_.localize(69,null)})}validate(ie){if(Array.isArray(ie)){let _e=[];for(let Ne of ie)if(typeof Ne==\"number\")_e.push({column:a.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne==\"object\"){const ze=Ne;_e.push({column:a.clampedInt(ze.column,0,0,1e4),color:ze.color})}return _e.sort((Ne,ze)=>Ne.column-ze.column),_e}return this.defaultValue}}function z(J,ie){if(typeof J!=\"string\")return ie;switch(J){case\"hidden\":return 2;case\"visible\":return 3;default:return 1}}class X extends k{constructor(){super(89,\"scrollbar\",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie,Ne=a.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ze=a.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:z(_e.vertical,this.defaultValue.vertical),horizontal:z(_e.horizontal,this.defaultValue.horizontal),useShadows:f(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:f(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:f(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:f(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:f(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:a.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:ze,verticalSliderSize:a.clampedInt(_e.verticalSliderSize,ze,0,1e3),scrollByPage:f(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ee extends k{constructor(){const ie={insertMode:\"insert\",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,\"suggest\",ie,{\"editor.suggest.insertMode\":{type:\"string\",enum:[\"insert\",\"replace\"],enumDescriptions:[_.localize(70,null),_.localize(71,null)],default:ie.insertMode,description:_.localize(72,null)},\"editor.suggest.filterGraceful\":{type:\"boolean\",default:ie.filterGraceful,description:_.localize(73,null)},\"editor.suggest.localityBonus\":{type:\"boolean\",default:ie.localityBonus,description:_.localize(74,null)},\"editor.suggest.shareSuggestSelections\":{type:\"boolean\",default:ie.shareSuggestSelections,markdownDescription:_.localize(75,null)},\"editor.suggest.snippetsPreventQuickSuggestions\":{type:\"boolean\",default:ie.snippetsPreventQuickSuggestions,description:_.localize(76,null)},\"editor.suggest.showIcons\":{type:\"boolean\",default:ie.showIcons,description:_.localize(77,null)},\"editor.suggest.showStatusBar\":{type:\"boolean\",default:ie.showStatusBar,description:_.localize(78,null)},\"editor.suggest.showInlineDetails\":{type:\"boolean\",default:ie.showInlineDetails,description:_.localize(79,null)},\"editor.suggest.maxVisibleSuggestions\":{type:\"number\",deprecationMessage:_.localize(80,null)},\"editor.suggest.filteredTypes\":{type:\"object\",deprecationMessage:_.localize(81,null)},\"editor.suggest.showMethods\":{type:\"boolean\",default:!0,markdownDescription:_.localize(82,null)},\"editor.suggest.showFunctions\":{type:\"boolean\",default:!0,markdownDescription:_.localize(83,null)},\"editor.suggest.showConstructors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(84,null)},\"editor.suggest.showFields\":{type:\"boolean\",default:!0,markdownDescription:_.localize(85,null)},\"editor.suggest.showVariables\":{type:\"boolean\",default:!0,markdownDescription:_.localize(86,null)},\"editor.suggest.showClasses\":{type:\"boolean\",default:!0,markdownDescription:_.localize(87,null)},\"editor.suggest.showStructs\":{type:\"boolean\",default:!0,markdownDescription:_.localize(88,null)},\"editor.suggest.showInterfaces\":{type:\"boolean\",default:!0,markdownDescription:_.localize(89,null)},\"editor.suggest.showModules\":{type:\"boolean\",default:!0,markdownDescription:_.localize(90,null)},\"editor.suggest.showProperties\":{type:\"boolean\",default:!0,markdownDescription:_.localize(91,null)},\"editor.suggest.showEvents\":{type:\"boolean\",default:!0,markdownDescription:_.localize(92,null)},\"editor.suggest.showOperators\":{type:\"boolean\",default:!0,markdownDescription:_.localize(93,null)},\"editor.suggest.showUnits\":{type:\"boolean\",default:!0,markdownDescription:_.localize(94,null)},\"editor.suggest.showValues\":{type:\"boolean\",default:!0,markdownDescription:_.localize(95,null)},\"editor.suggest.showConstants\":{type:\"boolean\",default:!0,markdownDescription:_.localize(96,null)},\"editor.suggest.showEnums\":{type:\"boolean\",default:!0,markdownDescription:_.localize(97,null)},\"editor.suggest.showEnumMembers\":{type:\"boolean\",default:!0,markdownDescription:_.localize(98,null)},\"editor.suggest.showKeywords\":{type:\"boolean\",default:!0,markdownDescription:_.localize(99,null)},\"editor.suggest.showWords\":{type:\"boolean\",default:!0,markdownDescription:_.localize(100,null)},\"editor.suggest.showColors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(101,null)},\"editor.suggest.showFiles\":{type:\"boolean\",default:!0,markdownDescription:_.localize(102,null)},\"editor.suggest.showReferences\":{type:\"boolean\",default:!0,markdownDescription:_.localize(103,null)},\"editor.suggest.showCustomcolors\":{type:\"boolean\",default:!0,markdownDescription:_.localize(104,null)},\"editor.suggest.showFolders\":{type:\"boolean\",default:!0,markdownDescription:_.localize(105,null)},\"editor.suggest.showTypeParameters\":{type:\"boolean\",default:!0,markdownDescription:_.localize(106,null)},\"editor.suggest.showSnippets\":{type:\"boolean\",default:!0,markdownDescription:_.localize(107,null)},\"editor.suggest.showUsers\":{type:\"boolean\",default:!0,markdownDescription:_.localize(108,null)},\"editor.suggest.showIssues\":{type:\"boolean\",default:!0,markdownDescription:_.localize(109,null)}})}validate(ie){if(!ie||typeof ie!=\"object\")return this.defaultValue;const _e=ie;return{insertMode:b(_e.insertMode,this.defaultValue.insertMode,[\"insert\",\"replace\"]),filterGraceful:f(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:f(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:f(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:f(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:f(_e.showIcons,this.defaultValue.showIcons),showStatusBar:f(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:f(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:f(_e.showMethods,this.defaultValue.showMethods),showFunctions:f(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:f(_e.showConstructors,this.defaultValue.showConstructors),showFields:f(_e.showFields,this.defaultValue.showFields),showVariables:f(_e.showVariables,this.defaultValue.showVariables),showClasses:f(_e.showClasses,this.defaultValue.showClasses),showStructs:f(_e.showStructs,this.defaultValue.showStructs),showInterfaces:f(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:f(_e.showModules,this.defaultValue.showModules),showProperties:f(_e.showProperties,this.defaultValue.showProperties),showEvents:f(_e.showEvents,this.defaultValue.showEvents),showOperators:f(_e.showOperators,this.defaultValue.showOperators),showUnits:f(_e.showUnits,this.defaultValue.showUnits),showValues:f(_e.showValues,this.defaultValue.showValues),showConstants:f(_e.showConstants,this.defaultValue.showConstants),showEnums:f(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:f(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:f(_e.showKeywords,this.defaultValue.showKeywords),showWords:f(_e.showWords,this.defaultValue.showWords),showColors:f(_e.showColors,this.defaultValue.showColors),showFiles:f(_e.showFiles,this.defaultValue.showFiles),showReferences:f(_e.showReferences,this.defaultValue.showReferences),showFolders:f(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:f(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:f(_e.showSnippets,this.defaultValue.showSnippets),showUsers:f(_e.showUsers,this.defaultValue.showUsers),showIssues:f(_e.showIssues,this.defaultValue.showIssues)}}}class ae extends k{constructor(){super(99,\"smartSelect\",{selectLeadingAndTrailingWhitespace:!0},{\"editor.smartSelect.selectLeadingAndTrailingWhitespace\":{description:_.localize(110,null),default:!0,type:\"boolean\"}})}validate(ie){return!ie||typeof ie!=\"object\"?this.defaultValue:{selectLeadingAndTrailingWhitespace:f(ie.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class me extends i{constructor(){super(125,[77])}compute(ie,_e,Ne){return _e.get(77)?!0:ie.tabFocusMode}}var De;(function(J){J[J.None=0]=\"None\",J[J.Same=1]=\"Same\",J[J.Indent=2]=\"Indent\",J[J.DeepIndent=3]=\"DeepIndent\"})(De=e.WrappingIndent||(e.WrappingIndent={}));function Oe(J){switch(J){case\"none\":return 0;case\"same\":return 1;case\"indent\":return 2;case\"deepIndent\":return 3}}class we extends i{constructor(){super(127,[126])}compute(ie,_e,Ne){const ze=_e.get(126);return{isDominatedByLongLines:ie.isDominatedByLongLines,isWordWrapMinified:ze.isWordWrapMinified,isViewportWrapping:ze.isViewportWrapping,wrappingColumn:ze.wrappingColumn}}}const Pe=\"Consolas, 'Courier New', monospace\",Re=\"Menlo, Monaco, 'Courier New', monospace\",Be=\"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'\";e.EDITOR_FONT_DEFAULTS={fontFamily:I.isMacintosh?Re:I.isLinux?Be:Pe,fontWeight:\"normal\",fontSize:I.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Se(J){return e.editorOptionsRegistry[J.id]=J,J}var qe;(function(J){J[J.acceptSuggestionOnCommitCharacter=0]=\"acceptSuggestionOnCommitCharacter\",J[J.acceptSuggestionOnEnter=1]=\"acceptSuggestionOnEnter\",J[J.accessibilitySupport=2]=\"accessibilitySupport\",J[J.accessibilityPageSize=3]=\"accessibilityPageSize\",J[J.ariaLabel=4]=\"ariaLabel\",J[J.autoClosingBrackets=5]=\"autoClosingBrackets\",J[J.autoClosingDelete=6]=\"autoClosingDelete\",J[J.autoClosingOvertype=7]=\"autoClosingOvertype\",J[J.autoClosingQuotes=8]=\"autoClosingQuotes\",J[J.autoIndent=9]=\"autoIndent\",J[J.automaticLayout=10]=\"automaticLayout\",J[J.autoSurround=11]=\"autoSurround\",J[J.codeLens=12]=\"codeLens\",J[J.codeLensFontFamily=13]=\"codeLensFontFamily\",J[J.codeLensFontSize=14]=\"codeLensFontSize\",J[J.colorDecorators=15]=\"colorDecorators\",J[J.columnSelection=16]=\"columnSelection\",J[J.comments=17]=\"comments\",J[J.contextmenu=18]=\"contextmenu\",J[J.copyWithSyntaxHighlighting=19]=\"copyWithSyntaxHighlighting\",J[J.cursorBlinking=20]=\"cursorBlinking\",J[J.cursorSmoothCaretAnimation=21]=\"cursorSmoothCaretAnimation\",J[J.cursorStyle=22]=\"cursorStyle\",J[J.cursorSurroundingLines=23]=\"cursorSurroundingLines\",J[J.cursorSurroundingLinesStyle=24]=\"cursorSurroundingLinesStyle\",J[J.cursorWidth=25]=\"cursorWidth\",J[J.disableLayerHinting=26]=\"disableLayerHinting\",J[J.disableMonospaceOptimizations=27]=\"disableMonospaceOptimizations\",J[J.domReadOnly=28]=\"domReadOnly\",J[J.dragAndDrop=29]=\"dragAndDrop\",J[J.emptySelectionClipboard=30]=\"emptySelectionClipboard\",J[J.extraEditorClassName=31]=\"extraEditorClassName\",J[J.fastScrollSensitivity=32]=\"fastScrollSensitivity\",J[J.find=33]=\"find\",J[J.fixedOverflowWidgets=34]=\"fixedOverflowWidgets\",J[J.folding=35]=\"folding\",J[J.foldingStrategy=36]=\"foldingStrategy\",J[J.foldingHighlight=37]=\"foldingHighlight\",J[J.unfoldOnClickAfterEndOfLine=38]=\"unfoldOnClickAfterEndOfLine\",J[J.fontFamily=39]=\"fontFamily\",J[J.fontInfo=40]=\"fontInfo\",J[J.fontLigatures=41]=\"fontLigatures\",J[J.fontSize=42]=\"fontSize\",J[J.fontWeight=43]=\"fontWeight\",J[J.formatOnPaste=44]=\"formatOnPaste\",J[J.formatOnType=45]=\"formatOnType\",J[J.glyphMargin=46]=\"glyphMargin\",J[J.gotoLocation=47]=\"gotoLocation\",J[J.hideCursorInOverviewRuler=48]=\"hideCursorInOverviewRuler\",J[J.highlightActiveIndentGuide=49]=\"highlightActiveIndentGuide\",J[J.hover=50]=\"hover\",J[J.inDiffEditor=51]=\"inDiffEditor\",J[J.letterSpacing=52]=\"letterSpacing\",J[J.lightbulb=53]=\"lightbulb\",J[J.lineDecorationsWidth=54]=\"lineDecorationsWidth\",J[J.lineHeight=55]=\"lineHeight\",J[J.lineNumbers=56]=\"lineNumbers\",J[J.lineNumbersMinChars=57]=\"lineNumbersMinChars\",J[J.linkedEditing=58]=\"linkedEditing\",J[J.links=59]=\"links\",J[J.matchBrackets=60]=\"matchBrackets\",J[J.minimap=61]=\"minimap\",J[J.mouseStyle=62]=\"mouseStyle\",J[J.mouseWheelScrollSensitivity=63]=\"mouseWheelScrollSensitivity\",J[J.mouseWheelZoom=64]=\"mouseWheelZoom\",J[J.multiCursorMergeOverlapping=65]=\"multiCursorMergeOverlapping\",J[J.multiCursorModifier=66]=\"multiCursorModifier\",J[J.multiCursorPaste=67]=\"multiCursorPaste\",J[J.occurrencesHighlight=68]=\"occurrencesHighlight\",J[J.overviewRulerBorder=69]=\"overviewRulerBorder\",J[J.overviewRulerLanes=70]=\"overviewRulerLanes\",J[J.padding=71]=\"padding\",J[J.parameterHints=72]=\"parameterHints\",J[J.peekWidgetDefaultFocus=73]=\"peekWidgetDefaultFocus\",J[J.definitionLinkOpensInPeek=74]=\"definitionLinkOpensInPeek\",J[J.quickSuggestions=75]=\"quickSuggestions\",J[J.quickSuggestionsDelay=76]=\"quickSuggestionsDelay\",J[J.readOnly=77]=\"readOnly\",J[J.renameOnType=78]=\"renameOnType\",J[J.renderControlCharacters=79]=\"renderControlCharacters\",J[J.renderIndentGuides=80]=\"renderIndentGuides\",J[J.renderFinalNewline=81]=\"renderFinalNewline\",J[J.renderLineHighlight=82]=\"renderLineHighlight\",J[J.renderLineHighlightOnlyWhenFocus=83]=\"renderLineHighlightOnlyWhenFocus\",J[J.renderValidationDecorations=84]=\"renderValidationDecorations\",J[J.renderWhitespace=85]=\"renderWhitespace\",J[J.revealHorizontalRightPadding=86]=\"revealHorizontalRightPadding\",J[J.roundedSelection=87]=\"roundedSelection\",J[J.rulers=88]=\"rulers\",J[J.scrollbar=89]=\"scrollbar\",J[J.scrollBeyondLastColumn=90]=\"scrollBeyondLastColumn\",J[J.scrollBeyondLastLine=91]=\"scrollBeyondLastLine\",J[J.scrollPredominantAxis=92]=\"scrollPredominantAxis\",J[J.selectionClipboard=93]=\"selectionClipboard\",J[J.selectionHighlight=94]=\"selectionHighlight\",J[J.selectOnLineNumbers=95]=\"selectOnLineNumbers\",J[J.showFoldingControls=96]=\"showFoldingControls\",J[J.showUnused=97]=\"showUnused\",J[J.snippetSuggestions=98]=\"snippetSuggestions\",J[J.smartSelect=99]=\"smartSelect\",J[J.smoothScrolling=100]=\"smoothScrolling\",J[J.stickyTabStops=101]=\"stickyTabStops\",J[J.stopRenderingLineAfter=102]=\"stopRenderingLineAfter\",J[J.suggest=103]=\"suggest\",J[J.suggestFontSize=104]=\"suggestFontSize\",J[J.suggestLineHeight=105]=\"suggestLineHeight\",J[J.suggestOnTriggerCharacters=106]=\"suggestOnTriggerCharacters\",J[J.suggestSelection=107]=\"suggestSelection\",J[J.tabCompletion=108]=\"tabCompletion\",J[J.tabIndex=109]=\"tabIndex\",J[J.unusualLineTerminators=110]=\"unusualLineTerminators\",J[J.useTabStops=111]=\"useTabStops\",J[J.wordSeparators=112]=\"wordSeparators\",J[J.wordWrap=113]=\"wordWrap\",J[J.wordWrapBreakAfterCharacters=114]=\"wordWrapBreakAfterCharacters\",J[J.wordWrapBreakBeforeCharacters=115]=\"wordWrapBreakBeforeCharacters\",J[J.wordWrapColumn=116]=\"wordWrapColumn\",J[J.wordWrapOverride1=117]=\"wordWrapOverride1\",J[J.wordWrapOverride2=118]=\"wordWrapOverride2\",J[J.wrappingIndent=119]=\"wrappingIndent\",J[J.wrappingStrategy=120]=\"wrappingStrategy\",J[J.showDeprecated=121]=\"showDeprecated\",J[J.inlineHints=122]=\"inlineHints\",J[J.editorClassName=123]=\"editorClassName\",J[J.pixelRatio=124]=\"pixelRatio\",J[J.tabFocusMode=125]=\"tabFocusMode\",J[J.layoutInfo=126]=\"layoutInfo\",J[J.wrappingInfo=127]=\"wrappingInfo\"})(qe=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Se(new m(0,\"acceptSuggestionOnCommitCharacter\",!0,{markdownDescription:_.localize(111,null)})),acceptSuggestionOnEnter:Se(new S(1,\"acceptSuggestionOnEnter\",\"on\",[\"on\",\"smart\",\"off\"],{markdownEnumDescriptions:[\"\",_.localize(112,null),\"\"],markdownDescription:_.localize(113,null)})),accessibilitySupport:Se(new g),accessibilityPageSize:Se(new a(3,\"accessibilityPageSize\",10,1,1073741824,{description:_.localize(114,null)})),ariaLabel:Se(new E(4,\"ariaLabel\",_.localize(115,null))),autoClosingBrackets:Se(new S(5,\"autoClosingBrackets\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",_.localize(116,null),_.localize(117,null),\"\"],description:_.localize(118,null)})),autoClosingDelete:Se(new S(6,\"autoClosingDelete\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",_.localize(119,null),\"\"],description:_.localize(120,null)})),autoClosingOvertype:Se(new S(7,\"autoClosingOvertype\",\"auto\",[\"always\",\"auto\",\"never\"],{enumDescriptions:[\"\",_.localize(121,null),\"\"],description:_.localize(122,null)})),autoClosingQuotes:Se(new S(8,\"autoClosingQuotes\",\"languageDefined\",[\"always\",\"languageDefined\",\"beforeWhitespace\",\"never\"],{enumDescriptions:[\"\",_.localize(123,null),_.localize(124,null),\"\"],description:_.localize(125,null)})),autoIndent:Se(new h(9,\"autoIndent\",4,\"full\",[\"none\",\"keep\",\"brackets\",\"advanced\",\"full\"],l,{enumDescriptions:[_.localize(126,null),_.localize(127,null),_.localize(128,null),_.localize(129,null),_.localize(130,null)],description:_.localize(131,null)})),automaticLayout:Se(new m(10,\"automaticLayout\",!1)),autoSurround:Se(new S(11,\"autoSurround\",\"languageDefined\",[\"languageDefined\",\"quotes\",\"brackets\",\"never\"],{enumDescriptions:[_.localize(132,null),_.localize(133,null),_.localize(134,null),\"\"],description:_.localize(135,null)})),stickyTabStops:Se(new m(101,\"stickyTabStops\",!1,{description:_.localize(136,null)})),codeLens:Se(new m(12,\"codeLens\",!0,{description:_.localize(137,null)})),codeLensFontFamily:Se(new E(13,\"codeLensFontFamily\",\"\",{description:_.localize(138,null)})),codeLensFontSize:Se(new a(14,\"codeLensFontSize\",0,0,100,{type:\"number\",default:0,minimum:0,maximum:100,description:_.localize(139,null)})),colorDecorators:Se(new m(15,\"colorDecorators\",!0,{description:_.localize(140,null)})),columnSelection:Se(new m(16,\"columnSelection\",!1,{description:_.localize(141,null)})),comments:Se(new t),contextmenu:Se(new m(18,\"contextmenu\",!0)),copyWithSyntaxHighlighting:Se(new m(19,\"copyWithSyntaxHighlighting\",!0,{description:_.localize(142,null)})),cursorBlinking:Se(new h(20,\"cursorBlinking\",1,\"blink\",[\"blink\",\"smooth\",\"phase\",\"expand\",\"solid\"],s,{description:_.localize(143,null)})),cursorSmoothCaretAnimation:Se(new m(21,\"cursorSmoothCaretAnimation\",!1,{description:_.localize(144,null)})),cursorStyle:Se(new h(22,\"cursorStyle\",r.Line,\"line\",[\"line\",\"block\",\"underline\",\"line-thin\",\"block-outline\",\"underline-thin\"],c,{description:_.localize(145,null)})),cursorSurroundingLines:Se(new a(23,\"cursorSurroundingLines\",0,0,1073741824,{description:_.localize(146,null)})),cursorSurroundingLinesStyle:Se(new S(24,\"cursorSurroundingLinesStyle\",\"default\",[\"default\",\"all\"],{enumDescriptions:[_.localize(147,null),_.localize(148,null)],description:_.localize(149,null)})),cursorWidth:Se(new a(25,\"cursorWidth\",0,0,1073741824,{markdownDescription:_.localize(150,null)})),disableLayerHinting:Se(new m(26,\"disableLayerHinting\",!1)),disableMonospaceOptimizations:Se(new m(27,\"disableMonospaceOptimizations\",!1)),domReadOnly:Se(new m(28,\"domReadOnly\",!1)),dragAndDrop:Se(new m(29,\"dragAndDrop\",!0,{description:_.localize(151,null)})),emptySelectionClipboard:Se(new v),extraEditorClassName:Se(new E(31,\"extraEditorClassName\",\"\")),fastScrollSensitivity:Se(new d(32,\"fastScrollSensitivity\",5,J=>J<=0?5:J,{markdownDescription:_.localize(152,null)})),find:Se(new u),fixedOverflowWidgets:Se(new m(34,\"fixedOverflowWidgets\",!1)),folding:Se(new m(35,\"folding\",!0,{description:_.localize(153,null)})),foldingStrategy:Se(new S(36,\"foldingStrategy\",\"auto\",[\"auto\",\"indentation\"],{enumDescriptions:[_.localize(154,null),_.localize(155,null)],description:_.localize(156,null)})),foldingHighlight:Se(new m(37,\"foldingHighlight\",!0,{description:_.localize(157,null)})),unfoldOnClickAfterEndOfLine:Se(new m(38,\"unfoldOnClickAfterEndOfLine\",!1,{description:_.localize(158,null)})),fontFamily:Se(new E(39,\"fontFamily\",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(159,null)})),fontInfo:Se(new R),fontLigatures2:Se(new w),fontSize:Se(new N),fontWeight:Se(new j),formatOnPaste:Se(new m(44,\"formatOnPaste\",!1,{description:_.localize(160,null)})),formatOnType:Se(new m(45,\"formatOnType\",!1,{description:_.localize(161,null)})),glyphMargin:Se(new m(46,\"glyphMargin\",!0,{description:_.localize(162,null)})),gotoLocation:Se(new re),hideCursorInOverviewRuler:Se(new m(48,\"hideCursorInOverviewRuler\",!1,{description:_.localize(163,null)})),highlightActiveIndentGuide:Se(new m(49,\"highlightActiveIndentGuide\",!0,{description:_.localize(164,null)})),hover:Se(new V),inDiffEditor:Se(new m(51,\"inDiffEditor\",!1)),letterSpacing:Se(new d(52,\"letterSpacing\",e.EDITOR_FONT_DEFAULTS.letterSpacing,J=>d.clamp(J,-5,20),{description:_.localize(165,null)})),lightbulb:Se(new x),lineDecorationsWidth:Se(new C(54,\"lineDecorationsWidth\",10)),lineHeight:Se(new M),lineNumbers:Se(new Ae),lineNumbersMinChars:Se(new a(57,\"lineNumbersMinChars\",5,1,300)),linkedEditing:Se(new m(58,\"linkedEditing\",!1,{description:_.localize(166,null)})),links:Se(new m(59,\"links\",!0,{description:_.localize(167,null)})),matchBrackets:Se(new S(60,\"matchBrackets\",\"always\",[\"always\",\"near\",\"never\"],{description:_.localize(168,null)})),minimap:Se(new L),mouseStyle:Se(new S(62,\"mouseStyle\",\"text\",[\"text\",\"default\",\"copy\"])),mouseWheelScrollSensitivity:Se(new d(63,\"mouseWheelScrollSensitivity\",1,J=>J===0?1:J,{markdownDescription:_.localize(169,null)})),mouseWheelZoom:Se(new m(64,\"mouseWheelZoom\",!1,{markdownDescription:_.localize(170,null)})),multiCursorMergeOverlapping:Se(new m(65,\"multiCursorMergeOverlapping\",!0,{description:_.localize(171,null)})),multiCursorModifier:Se(new h(66,\"multiCursorModifier\",\"altKey\",\"alt\",[\"ctrlCmd\",\"alt\"],O,{markdownEnumDescriptions:[_.localize(172,null),_.localize(173,null)],markdownDescription:_.localize(174,null)})),multiCursorPaste:Se(new S(67,\"multiCursorPaste\",\"spread\",[\"spread\",\"full\"],{markdownEnumDescriptions:[_.localize(175,null),_.localize(176,null)],markdownDescription:_.localize(177,null)})),occurrencesHighlight:Se(new m(68,\"occurrencesHighlight\",!0,{description:_.localize(178,null)})),overviewRulerBorder:Se(new m(69,\"overviewRulerBorder\",!0,{description:_.localize(179,null)})),overviewRulerLanes:Se(new a(70,\"overviewRulerLanes\",3,0,3)),padding:Se(new B),parameterHints:Se(new q),peekWidgetDefaultFocus:Se(new S(73,\"peekWidgetDefaultFocus\",\"tree\",[\"tree\",\"editor\"],{enumDescriptions:[_.localize(180,null),_.localize(181,null)],description:_.localize(182,null)})),definitionLinkOpensInPeek:Se(new m(74,\"definitionLinkOpensInPeek\",!1,{description:_.localize(183,null)})),quickSuggestions:Se(new de),quickSuggestionsDelay:Se(new a(76,\"quickSuggestionsDelay\",10,0,1073741824,{description:_.localize(184,null)})),readOnly:Se(new m(77,\"readOnly\",!1)),renameOnType:Se(new m(78,\"renameOnType\",!1,{description:_.localize(185,null),markdownDeprecationMessage:_.localize(186,null)})),renderControlCharacters:Se(new m(79,\"renderControlCharacters\",!1,{description:_.localize(187,null)})),renderIndentGuides:Se(new m(80,\"renderIndentGuides\",!0,{description:_.localize(188,null)})),renderFinalNewline:Se(new m(81,\"renderFinalNewline\",!0,{description:_.localize(189,null)})),renderLineHighlight:Se(new S(82,\"renderLineHighlight\",\"line\",[\"none\",\"gutter\",\"line\",\"all\"],{enumDescriptions:[\"\",\"\",\"\",_.localize(190,null)],description:_.localize(191,null)})),renderLineHighlightOnlyWhenFocus:Se(new m(83,\"renderLineHighlightOnlyWhenFocus\",!1,{description:_.localize(192,null)})),renderValidationDecorations:Se(new S(84,\"renderValidationDecorations\",\"editable\",[\"editable\",\"on\",\"off\"])),renderWhitespace:Se(new S(85,\"renderWhitespace\",\"selection\",[\"none\",\"boundary\",\"selection\",\"trailing\",\"all\"],{enumDescriptions:[\"\",_.localize(193,null),_.localize(194,null),_.localize(195,null),\"\"],description:_.localize(196,null)})),revealHorizontalRightPadding:Se(new a(86,\"revealHorizontalRightPadding\",30,0,1e3)),roundedSelection:Se(new m(87,\"roundedSelection\",!0,{description:_.localize(197,null)})),rulers:Se(new Le),scrollbar:Se(new X),scrollBeyondLastColumn:Se(new a(90,\"scrollBeyondLastColumn\",5,0,1073741824,{description:_.localize(198,null)})),scrollBeyondLastLine:Se(new m(91,\"scrollBeyondLastLine\",!0,{description:_.localize(199,null)})),scrollPredominantAxis:Se(new m(92,\"scrollPredominantAxis\",!0,{description:_.localize(200,null)})),selectionClipboard:Se(new m(93,\"selectionClipboard\",!0,{description:_.localize(201,null),included:I.isLinux})),selectionHighlight:Se(new m(94,\"selectionHighlight\",!0,{description:_.localize(202,null)})),selectOnLineNumbers:Se(new m(95,\"selectOnLineNumbers\",!0)),showFoldingControls:Se(new S(96,\"showFoldingControls\",\"mouseover\",[\"always\",\"mouseover\"],{enumDescriptions:[_.localize(203,null),_.localize(204,null)],description:_.localize(205,null)})),showUnused:Se(new m(97,\"showUnused\",!0,{description:_.localize(206,null)})),showDeprecated:Se(new m(121,\"showDeprecated\",!0,{description:_.localize(207,null)})),inlineHints:Se(new F),snippetSuggestions:Se(new S(98,\"snippetSuggestions\",\"inline\",[\"top\",\"bottom\",\"inline\",\"none\"],{enumDescriptions:[_.localize(208,null),_.localize(209,null),_.localize(210,null),_.localize(211,null)],description:_.localize(212,null)})),smartSelect:Se(new ae),smoothScrolling:Se(new m(100,\"smoothScrolling\",!1,{description:_.localize(213,null)})),stopRenderingLineAfter:Se(new a(102,\"stopRenderingLineAfter\",1e4,-1,1073741824)),suggest:Se(new ee),suggestFontSize:Se(new a(104,\"suggestFontSize\",0,0,1e3,{markdownDescription:_.localize(214,null)})),suggestLineHeight:Se(new a(105,\"suggestLineHeight\",0,0,1e3,{markdownDescription:_.localize(215,null)})),suggestOnTriggerCharacters:Se(new m(106,\"suggestOnTriggerCharacters\",!0,{description:_.localize(216,null)})),suggestSelection:Se(new S(107,\"suggestSelection\",\"recentlyUsed\",[\"first\",\"recentlyUsed\",\"recentlyUsedByPrefix\"],{markdownEnumDescriptions:[_.localize(217,null),_.localize(218,null),_.localize(219,null)],description:_.localize(220,null)})),tabCompletion:Se(new S(108,\"tabCompletion\",\"off\",[\"on\",\"off\",\"onlySnippets\"],{enumDescriptions:[_.localize(221,null),_.localize(222,null),_.localize(223,null)],description:_.localize(224,null)})),tabIndex:Se(new a(109,\"tabIndex\",0,-1,1073741824)),unusualLineTerminators:Se(new S(110,\"unusualLineTerminators\",\"prompt\",[\"auto\",\"off\",\"prompt\"],{enumDescriptions:[_.localize(225,null),_.localize(226,null),_.localize(227,null)],description:_.localize(228,null)})),useTabStops:Se(new m(111,\"useTabStops\",!0,{description:_.localize(229,null)})),wordSeparators:Se(new E(112,\"wordSeparators\",T.USUAL_WORD_SEPARATORS,{description:_.localize(230,null)})),wordWrap:Se(new S(113,\"wordWrap\",\"off\",[\"off\",\"on\",\"wordWrapColumn\",\"bounded\"],{markdownEnumDescriptions:[_.localize(231,null),_.localize(232,null),_.localize(233,null),_.localize(234,null)],description:_.localize(235,null)})),wordWrapBreakAfterCharacters:Se(new E(114,\"wordWrapBreakAfterCharacters\",\" })]?|/&.,;\\xA2\\xB0\\u2032\\u2033\\u2030\\u2103\\u3001\\u3002\\uFF61\\uFF64\\uFFE0\\uFF0C\\uFF0E\\uFF1A\\uFF1B\\uFF1F\\uFF01\\uFF05\\u30FB\\uFF65\\u309D\\u309E\\u30FD\\u30FE\\u30FC\\u30A1\\u30A3\\u30A5\\u30A7\\u30A9\\u30C3\\u30E3\\u30E5\\u30E7\\u30EE\\u30F5\\u30F6\\u3041\\u3043\\u3045\\u3047\\u3049\\u3063\\u3083\\u3085\\u3087\\u308E\\u3095\\u3096\\u31F0\\u31F1\\u31F2\\u31F3\\u31F4\\u31F5\\u31F6\\u31F7\\u31F8\\u31F9\\u31FA\\u31FB\\u31FC\\u31FD\\u31FE\\u31FF\\u3005\\u303B\\uFF67\\uFF68\\uFF69\\uFF6A\\uFF6B\\uFF6C\\uFF6D\\uFF6E\\uFF6F\\uFF70\\u201D\\u3009\\u300B\\u300D\\u300F\\u3011\\u3015\\uFF09\\uFF3D\\uFF5D\\uFF63\")),wordWrapBreakBeforeCharacters:Se(new E(115,\"wordWrapBreakBeforeCharacters\",\"([{\\u2018\\u201C\\u3008\\u300A\\u300C\\u300E\\u3010\\u3014\\uFF08\\uFF3B\\uFF5B\\uFF62\\xA3\\xA5\\uFF04\\uFFE1\\uFFE5+\\uFF0B\")),wordWrapColumn:Se(new a(116,\"wordWrapColumn\",80,1,1073741824,{markdownDescription:_.localize(236,null)})),wordWrapOverride1:Se(new S(117,\"wordWrapOverride1\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wordWrapOverride2:Se(new S(118,\"wordWrapOverride2\",\"inherit\",[\"off\",\"on\",\"inherit\"])),wrappingIndent:Se(new h(119,\"wrappingIndent\",1,\"same\",[\"none\",\"same\",\"indent\",\"deepIndent\"],Oe,{enumDescriptions:[_.localize(237,null),_.localize(238,null),_.localize(239,null),_.localize(240,null)],description:_.localize(241,null)})),wrappingStrategy:Se(new S(120,\"wrappingStrategy\",\"simple\",[\"simple\",\"advanced\"],{enumDescriptions:[_.localize(242,null),_.localize(243,null)],description:_.localize(244,null)})),editorClassName:Se(new p),pixelRatio:Se(new Q),tabFocusMode:Se(new me),layoutInfo:Se(new $),wrappingInfo:Se(new we)}}),define(ge[152],pe([18,19]),function(G,e){return G.create(\"vs/platform/configuration/common/configurationRegistry\",e)}),define(ge[153],pe([18,19]),function(G,e){return G.create(\"vs/platform/extensionManagement/common/extensionManagement\",e)}),define(ge[154],pe([18,19]),function(G,e){return G.create(\"vs/platform/extensions/common/extensionValidator\",e)}),define(ge[155],pe([18,19]),function(G,e){return G.create(\"vs/platform/files/common/files\",e)}),define(ge[156],pe([18,19]),function(G,e){return G.create(\"vs/platform/markers/common/markers\",e)}),define(ge[157],pe([18,19]),function(G,e){return G.create(\"vs/platform/theme/common/iconRegistry\",e)}),define(ge[158],pe([18,19]),function(G,e){return G.create(\"vs/platform/workspaces/common/workspaces\",e)}),define(ge[159],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHost.api.impl\",e)}),define(ge[160],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostDiagnostics\",e)}),define(ge[161],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostExtensionService\",e)}),define(ge[162],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostProgress\",e)}),define(ge[163],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostStatusBar\",e)}),define(ge[164],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostTerminalService\",e)}),define(ge[165],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostTreeViews\",e)}),define(ge[166],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/common/extHostWorkspace\",e)}),define(ge[167],pe([18,19]),function(G,e){return G.create(\"vs/workbench/api/node/extHostDebugService\",e)}),define(ge[168],pe([18,19]),function(G,e){return G.create(\"vs/workbench/common/views\",e)}),define(ge[169],pe([18,19]),function(G,e){return G.create(\"vs/workbench/contrib/debug/common/abstractDebugAdapter\",e)}),define(ge[170],pe([18,19]),function(G,e){return G.create(\"vs/workbench/contrib/debug/node/debugAdapter\",e)}),define(ge[171],pe([18,19]),function(G,e){return G.create(\"vs/workbench/contrib/externalTerminal/node/externalTerminalService\",e)}),define(ge[172],pe([18,19]),function(G,e){return G.create(\"vs/workbench/contrib/search/common/queryBuilder\",e)}),define(ge[173],pe([18,19]),function(G,e){return G.create(\"vs/workbench/contrib/tasks/common/taskService\",e)}),define(ge[174],pe([18,19]),function(G,e){return G.create(\"vs/workbench/services/configurationResolver/common/variableResolver\",e)}),define(ge[175],pe([0,1]),function(G,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var _;(function(y){y[y.ACTIVATE=0]=\"ACTIVATE\",y[y.RESTORE=1]=\"RESTORE\",y[y.PRESERVE=2]=\"PRESERVE\"})(_=e.EditorActivation||(e.EditorActivation={}));var I;(function(y){y[y.PICK=1]=\"PICK\",y[y.DISABLED=2]=\"DISABLED\"})(I=e.EditorOverride||(e.EditorOverride={}));var T;(function(y){y[y.API=0]=\"API\",y[y.USER=1]=\"USER\"})(T=e.EditorOpenContext||(e.EditorOpenContext={}));var A;(function(y){y[y.Center=0]=\"Center\",y[y.CenterIfOutsideViewport=1]=\"CenterIfOutsideViewport\",y[y.NearTop=2]=\"NearTop\",y[y.NearTopIfOutsideViewport=3]=\"NearTopIfOutsideViewport\"})(A=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[176],pe([0,1,154]),function(G,e,_){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.isVersionValid=e.isEngineValid=e.isValidExtensionVersion=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const I=/^(\\^|>=)?((\\d+)|x)\\.((\\d+)|x)\\.((\\d+)|x)(\\-.*)?$/;function T(C){return C=C.trim(),C===\"*\"||I.test(C)}e.isValidVersionStr=T;function A(C){if(!T(C))return null;if(C=C.trim(),C===\"*\")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};let f=C.match(I);return f?{hasCaret:f[1]===\"^\",hasGreaterEquals:f[1]===\">=\",majorBase:f[2]===\"x\"?0:parseInt(f[2],10),majorMustEqual:f[2]!==\"x\",minorBase:f[4]===\"x\"?0:parseInt(f[4],10),minorMustEqual:f[4]!==\"x\",patchBase:f[6]===\"x\"?0:parseInt(f[6],10),patchMustEqual:f[6]!==\"x\",preRelease:f[8]||null}:null}e.parseVersion=A;function y(C){if(!C)return null;let f=C.majorBase,m=C.majorMustEqual,a=C.minorBase,d=C.minorMustEqual,E=C.patchBase,b=C.patchMustEqual;return C.hasCaret&&(f===0||(d=!1),b=!1),{majorBase:f,majorMustEqual:m,minorBase:a,minorMustEqual:d,patchBase:E,patchMustEqual:b,isMinimum:C.hasGreaterEquals}}e.normalizeVersion=y;function P(C,f){let m;typeof C==\"string\"?m=y(A(C)):m=C;let a;if(typeof f==\"string\"?a=y(A(f)):a=f,!m||!a)return!1;let d=m.majorBase,E=m.minorBase,b=m.patchBase,S=a.majorBase,h=a.minorBase,l=a.patchBase,g=a.majorMustEqual,t=a.minorMustEqual,n=a.patchMustEqual;return a.isMinimum?d>S?!0:d<S?!1:E>h?!0:E<h?!1:b>=l:(d===1&&S===0&&(!g||!t||!n)&&(S=1,h=0,l=0,g=!0,t=!1,n=!1),d<S?!1:d>S?!g:E<h?!1:E>h?!t:b<l?!1:b>l?!n:!0)}e.isValidVersion=P;function D(C,f,m){return f.isBuiltin||typeof f.main==\"undefined\"?!0:i(C,f.engines.vscode,m)}e.isValidExtensionVersion=D;function k(C,f){return C===\"*\"||i(f,C)}e.isEngineValid=k;function i(C,f,m=[]){let a=y(A(f));if(!a)return m.push(_.localize(0,null,f)),!1;if(a.majorBase===0){if(!a.majorMustEqual||!a.minorMustEqual)return m.push(_.localize(1,null,f)),!1}else if(!a.majorMustEqual)return m.push(_.localize(2,null,f)),!1;return P(C,a)?!0:(m.push(_.localize(3,null,C,f)),!1)}e.isVersionValid=i}),define(ge[112],pe([0,1]),function(G,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class _{constructor(A,y=[],P=!1){this.ctor=A,this.staticArguments=y,this.supportsDelayedInstantiation=P}}e.SyncDescriptor=_;const I=(T,...A)=>new _(T,A);e.createSyncDescriptor=I}),define(ge[79],pe([0,1,112]),function(G,e,_){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const I=[];function T(y,P,D){P instanceof _.SyncDescriptor||(P=new _.SyncDescriptor(P,[],D)),I.push([y,P])}e.registerSingleton=T;function A(){return I}e.getSingletonServiceDescriptors=A}),define(ge[177],pe([0,1]),function(G,e){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(A){this.incoming=new Map,this.outgoing=new Map,this.data=A}}e.Node=_;class I{constructor(A){this._hashFn=A,this._nodes=new Map}roots(){const A=[];for(let y of this._nodes.values())y.outgoing.size===0&&A.push(y);return A}insertEdge(A,y){const P=this.lookupOrInsertNode(A),D=this.lookupOrInsertNode(y);P.outgoing.set(this._hashFn(y),D),D.incoming.set(this._hashFn(A),P)}removeNode(A){const y=this._hashFn(A);this._nodes.delete(y);for(let P of this._nodes.values())P.outgoing.delete(y),P.incoming.delete(y)}lookupOrInsertNode(A){const y=this._hashFn(A);let P=this._nodes.get(y);return P||(P=new _(A),this._nodes.set(y,P)),P}lookup(A){return this._nodes.get(this._hashFn(A))}isEmpty(){return this._nodes.size===0}toString(){let A=[];for(let[y,P]of this._nodes)A.push(`${y}, (incoming)[${[...P.incoming.keys()].join(\", \")}], (outgoing)[${[...P.outgoing.keys()].join(\",\")}]`);return A.join(`", "手工排查确认": "[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件"}
{"检测项": "文件类安全检测", "风险名称": "用户目录文件安全扫描", "异常文件": "/root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py", "进程PID": "", "异常时间": "2021-05-12 09:56:42", "所属用户": "root", "异常信息": "反弹shell类： # certain interactive subprocesses, such as bash -i.", "手工排查确认": "[1]rpm -qa /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py [2]strings /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py", "风险级别": "风险", "处理方案": "rm /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py #删除恶意文件"}

开始主机历史操作类安全扫描
 [1]所有历史操作的可疑记录              [ OK  ]

开始进程类安全扫描
 [1]CUP和内存类异常进程排查             [ OK  ]
 [2]隐藏进程安全扫描                    [ OK  ]
 [3]反弹shell类进程扫描                 [ OK  ]
 [4]恶意进程信息安全扫描                [ OK  ]
 [5]exe程序安全扫描                     [ OK  ]

开始网络链接类安全扫描
 [1]当前网络对外连接扫描                [ OK  ]
 [2]恶意特征类链接扫描                  [ OK  ]
 [3]网卡混杂模式扫描                    [ OK  ]

开始后门类安全扫描
 [1]LD_PRELOAD 后门检测                 [ OK  ]
 [2]LD_AOUT_PRELOAD 后门检测            [ OK  ]
 [3]LD_ELF_PRELOAD 后门检测             [ OK  ]
 [4]LD_LIBRARY_PATH 后门检测            [ OK  ]
 [5]ld.so.preload 后门检测              [ OK  ]
 [6]PROMPT_COMMAND 后门检测             [ OK  ]
 [7]cron定时任务后门检测                [ OK  ]
 [8]未知环境变量 后门检测               [ OK  ]
 [9]ssh 后门检测                        [ OK  ]
 [10]SSH wrapper 后门检测               [ OK  ]
 [11]inetd.conf 后门检测                [ OK  ]
 [12]xinetd.conf 后门检测               [ OK  ]
 [13]setuid 后门检测                    [ OK  ]
 [14]系统启动项后门检测                 [ OK  ]

开始账户类安全扫描
 [1]root权限账户安全扫描                [ OK  ]
 [2]特权组账户安全扫描                  [ OK  ]
 [3]空口令账户安全扫描                  [ OK  ]
 [4]sudoers权限安全扫描                 [ OK  ]
 [5]账户免密码证书安全扫描              [ 警告  ]
 [6]账户密码文件扫描                    [ OK  ]
------------------------------
账户类安全检测
{"检测项": "账户类安全检测", "风险名称": "账户免密码证书安全扫描", "异常文件": "/root/.ssh/authorized_keys", "进程PID": "", "异常时间": "2021-03-18 11:02:23", "所属用户": "root", "异常信息": "用户root存在免密登录的证书，证书客户端名称：root@k8s-ansible & root@h5_162_119 &", "手工排查确认": "[1]cat /root/.ssh/authorized_keys", "风险级别": "可疑", "处理方案": "vi /root/.ssh/authorized_keys #删除证书设置"}

开始日志类安全扫描
 [1]secure日志安全扫描                  [ OK  ]
 [2]wtmp日志日志安全扫描                [ OK  ]
 [3]utmp日志日志安全扫描                [ OK  ]
 [4]lastlog日志日志安全扫描             [ OK  ]

开始配置类安全扫描
 [1]DNS设置扫描                         [ 警告  ]
 [2]防火墙设置扫描                      [ 警告  ]
 [3]hosts设置扫描                       [ OK  ]
------------------------------
配置类安全检测
{"检测项": "配置类安全检测", "风险名称": "DNS安全配置", "异常文件": "/etc/resolv.conf", "进程PID": "", "异常时间": "2020-12-21 10:17:58", "所属用户": "root", "异常信息": "DNS设置为境外IP: 114.114.114.114", "手工排查确认": "[1]cat /etc/resolv.conf", "风险级别": "可疑", "处理方案": "vi /etc/resolv.conf #删除或者更改DNS境外配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: :INPUT ACCEPT [0:0]", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: :FORWARD ACCEPT [0:0]", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: :OUTPUT ACCEPT [0:0]", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -p icmp -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -i lo -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}
{"检测项": "配置类安全检测", "风险名称": "防火墙安全配置", "异常文件": "/etc/sysconfig/iptables", "进程PID": "", "异常时间": "2020-12-10 17:58:21", "所属用户": "root", "异常信息": "存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 10050 -j ACCEPT", "手工排查确认": "[1]cat /etc/sysconfig/iptables", "风险级别": "可疑", "处理方案": "vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置"}

开始Rootkit类安全扫描
 [1]55808 Variant A                     [ OK  ]
 [2]Adore Rootkit                       [ OK  ]
 [3]AjaKit Rootkit                      [ OK  ]
 [4]aPa Kit Rootkit                     [ OK  ]
 [5]Apache Worm                         [ OK  ]
 [6]Ambient Rootkit                     [ OK  ]
 [7]Balaur Rootkit                      [ OK  ]
 [8]Beastkit Rootkit                    [ OK  ]
 [9]beX2 Rootkit                        [ OK  ]
 [10]BOBkit Rootkit                     [ OK  ]
 [11]OSX Boonana-A Trojan               [ OK  ]
 [12]cb Rootkit                         [ OK  ]
 [13]CiNIK Worm                         [ OK  ]
 [14]CX Rootkit                         [ OK  ]
 [15]Abuse Kit                          [ OK  ]
 [16]Devil Rootkit                      [ OK  ]
 [17]Diamorphine LKM                    [ OK  ]
 [18]Dica-Kit Rootkit                   [ OK  ]
 [19]Dreams Rootkit                     [ OK  ]
 [20]Duarawkz Rootkit                   [ OK  ]
 [21]Ebury sshd backdoor                [ OK  ]
 [22]ENYE LKM                           [ OK  ]
 [23]Flea Rootkit                       [ OK  ]
 [24]FreeBSD Rootkit                    [ OK  ]
 [25]Fu Rootkit                         [ OK  ]
 [26]Fuckit Rootkit                     [ OK  ]
 [27]GasKit Rootkit                     [ OK  ]
 [28]Heroin LKM                         [ OK  ]
 [29]HjC Kit Rootkit                    [ OK  ]
 [30]ignoKit Rootkit                    [ OK  ]
 [31]iLLogiC Rootkit                    [ OK  ]
 [32]OSX Inqtana Variant A              [ OK  ]
 [33]OSX Inqtana Variant B              [ OK  ]
 [34]OSX Inqtana Variant C              [ OK  ]
 [35]IntoXonia-NG Rootkit               [ OK  ]
 [36]Irix Rootkit                       [ OK  ]
 [37]Jynx Rootkit                       [ OK  ]
 [38]Jynx2 Rootkit                      [ OK  ]
 [39]KBeast Rootkit                     [ OK  ]
 [40]OSX Keydnap backdoor               [ OK  ]
 [41]Kitko Rootkit                      [ OK  ]
 [42]Knark Rootkit                      [ OK  ]
 [43]OSX Komplex Trojan                 [ OK  ]
 [44]ld-linuxv rootkit                  [ OK  ]
 [45]Lion Worm                          [ OK  ]
 [46]Lockit Rootkit                     [ OK  ]
 [47]Mokes backdoor                     [ OK  ]
 [48]MRK RootKit                        [ OK  ]
 [49]Mood-NT Rootkit                    [ OK  ]
 [50]Ni0 Rootkit                        [ OK  ]
 [51]Ohhara Rootkit                     [ OK  ]
 [52]Optic Kit Rootkit                  [ OK  ]
 [53]OSXRK                              [ OK  ]
 [54]Oz Rootkit                         [ OK  ]
 [55]Phalanx Rootkit                    [ OK  ]
 [56]Phalanx2 Rootkit                   [ OK  ]
 [57]Portacelo Rootkit                  [ OK  ]
 [58]OSX Proton backdoor                [ OK  ]
 [59]R3dstorm Toolkit                   [ OK  ]
 [60]RH-Sharpe Rootkit                  [ OK  ]
 [61]RSHA Rootkit                       [ OK  ]
 [62]Shutdown Rootkit                   [ OK  ]
 [63]Scalper Worm                       [ OK  ]
 [64]SHV4 Rootkit                       [ OK  ]
 [65]SHV5 Rootkit                       [ OK  ]
 [66]Sin Rootkit                        [ OK  ]
 [67]Slapper Worm                       [ OK  ]
 [68]Sneakin Rootkit                    [ OK  ]
 [69]Solaris Wanuk backdoor             [ OK  ]
 [70]Solaris Wanuk Worm                 [ OK  ]
 [71]Spanish Rootkit                    [ OK  ]
 [72]Suckit Rootkit                     [ OK  ]
 [73]NSDAP Rootkit                      [ OK  ]
 [74]SunOS Rootkit                      [ OK  ]
 [75]Superkit Rootkit                   [ OK  ]
 [76]TBD(Telnet Backdoor)               [ OK  ]
 [77]TeLeKiT Rootkit                    [ OK  ]
 [78]OSX Togroot Rootkit                [ OK  ]
 [79]T0rn Rootkit                       [ OK  ]
 [80]trNkit Rootkit                     [ OK  ]
 [81]Trojanit Kit Rootkit               [ OK  ]
 [82]Turtle Rootkit                     [ OK  ]
 [83]Tuxtendo Rootkit                   [ OK  ]
 [84]Universal Rootkit                  [ OK  ]
 [85]VcKit Rootkit                      [ OK  ]
 [86]Vampire Rootkit                    [ OK  ]
 [87]Volc Rootkit                       [ OK  ]
 [88]weaponX                            [ OK  ]
 [89]Xzibit Rootkit                     [ OK  ]
 [90]X-Org SunOS Rootkit                [ OK  ]
 [91]zaRwT.KiT Rootkit                  [ OK  ]
 [92]ZK Rootkit                         [ OK  ]
 [93]Miscellaneous login backdoors      [ OK  ]
 [94]Sniffer log                        [ OK  ]
 [95]Suspicious dir                     [ OK  ]
 [96]Apache backdoor                    [ OK  ]
 [97]检测LKM内核模块                    [ OK  ]

开始Webshell安全扫描
 [1]Webshell安全扫描                    [ 跳过  ]
------------------------------
根据系统分析的情况，溯源后的攻击行动轨迹为：
[起点信息] 进程服务5014/sshd 端口0.0.0.0:22 对外部公开，可能会被作为入侵起点，属于排查参考方向
[起点信息] 进程服务4133/docker-proxy 端口:::80 对外部公开，可能会被作为入侵起点，属于排查参考方向
[起点信息] 进程服务5014/sshd 端口:::22 对外部公开，可能会被作为入侵起点，属于排查参考方向
[1][风险] 黑客在2020-08-24 18:48:56时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js，反弹shell类："),0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var r=n[0],s=t[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):g(e[t],r):f(n)?(console.warn("Message "+n+" didn't get externalized correctly."),g(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return g(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:"utf8",flag:"r"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(o,function(e){e&&console.error("Deleting corrupted bundle "+o+" failed.")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=m(n).contents,s=m(u.join(t,"nls.metadata.json")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+"/"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],g=l[f(d)?d:d.key];void 0===g&&(g=c.messages[p]),h.push(g)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=m(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return m(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,"utf8"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),o=b(s,null)}}catch(e){console.error("Failed to read header file",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\/g,"/"),g=o.nlsBundle[f];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):_(g)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=m(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf("-");s>0?n=n.substring(0,s):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=m(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,"corrupted","utf8",function(e){console.error(e)})}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,R}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},,function(e,t){e.exports=require("net")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(i=c[l])?c.splice(l,1):".."===i?u++:u>0&&(""===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=s(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var c=r.path.lastIndexOf("/");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=f,f.Minimatch=m;var r={sep:"/"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=m.GLOBSTAR={},o=n(77),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var p=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,p=[],d=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function y(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,o,E),l&&h[E])o+="\\"+E,l=!1;else switch(E){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,o,E),f){this.debug(" in class"),"!"===E&&S===g+1&&(E="^"),o+=E;continue}b.debug("call clearStateChar %j",r),y(),r=E,n.noext&&y();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}y(),u=!0;var C=p.pop();o+=C.close,"!"===C.type&&d.push(C),C.reEnd=o.length;continue;case"|":if(f||!p.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),f){o+="\\"+E;continue}f=!0,g=S,m=o.length,o+=E;continue;case"]":if(S===g+1||!f){o+="\\"+E,l=!1;continue}if(f){var w=e.substring(g+1,S);try{RegExp("["+w+"]")}catch(e){var O=this.parse(w,_);o=o.substr(0,m)+"\\["+O[0]+"\\]",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||"^"===E&&f||(o+="\\"),o+=E}f&&(w=e.substr(g+1),O=this.parse(w,_),o=o.substr(0,m)+"\\["+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n %s",x,x,C,o);var k="*"===C.type?c:"?"===C.type?a:"\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+"\\("+x}y(),l&&(o+="\\\\");var A=!1;switch(o.charAt(0)){case".":case"[":case"(":A=!0}for(var T=d.length-1;T>-1;T--){var P=d[T],L=o.slice(0,P.reStart),F=o.slice(P.reStart,P.reEnd-8),M=o.slice(P.reEnd-8,P.reEnd),I=o.slice(P.reEnd);M+=I;var N=L.split("(").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\)[+*?]?/,"");var D="";""===(I=j)&&t!==_&&(D="$"),o=L+F+I+D+M}""!==o&&u&&(o="(?=.)"+o);A&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var q=n.nocase?"i":"";try{var $=new RegExp("^"+o+"$",q)}catch(e){return new RegExp("$.")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===s?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new m(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(p),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44),s=n(15),o=n(7),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super("initialized")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}};var a;t.ProgressEndEvent=class extends s.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}},function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach(function(e,n,r){const s=/^--server=(\d{4,5})$/.exec(e);s&&(t=parseInt(s[1],10))}),t>0)console.error(`waiting for debug protocol on port ${t}`),o.createServer(t=>{console.error(">> accepted connection from client"),t.on("end",()=>{console.error(">> client connection closed\n")});const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)}).listen(t);else{const t=new e(!1);process.on("SIGTERM",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}c._formatPIIRegexp=/{([^}]+)}/g,t.DebugSession=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(1),o=n(0),i=n(46),a=n(14);var c;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(c=t.LogLevel||(t.LogLevel={}));class u{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new l(e,n),this._logFilePathFromInit=t}}t.Logger=u,t.logger=new u;class l{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return r(this,void 0,void 0,function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(o.isAbsolute(e.logFilePath)){const n=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,c.Error);try{yield(t=o.dirname(e.logFilePath),new Promise((e,n)=>{i(t,t=>{t?n(t):e()})})),this.log("Verbose logs are written to:\n",c.Warn),this.log(e.logFilePath+"\n",c.Warn),this._logFileStream=s.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",e=>{n(e)})}catch(e){n(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,c.Error);var t})}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}`+"-"+e.getUTCDate()+", "+d();this.log(t+"\n",c.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,n=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===c.Error?console.error:t===c.Warn?console.warn:null;n&&n(p(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&n&&(e="["+d()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const n=new h(e,t);this._logCallback(n)}}}class h extends a.OutputEvent{constructor(e,t){super(e,t===c.Error?"stderr":t===c.Warn?"console":"stdout")}}function p(e){return e.replace(/(\n|\r\n)$/,"")}function d(){let e=new Date;return f(2,String(e.getUTCHours()))+":"+f(2,String(e.getUTCMinutes()))+":"+f(2,String(e.getUTCSeconds()))+"."+f(3,String(e.getUTCMilliseconds()))+" UTC"}function f(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=p},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(54);const r=n(4).inherits,s=n(55),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",function(){c(t,r)}),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(60),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(24),s=n(62),{env:o}=process;let i;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if("dumb"===o.TERM)return t;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)?1:"COLORTERM"in o?1:t}(e))}s("no-color")||s("no-colors")||s("color=false")?i=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(i=1),"FORCE_COLOR"in o&&(i=!0===o.FORCE_COLOR||"true"===o.FORCE_COLOR?1:!1===o.FORCE_COLOR||"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(66),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(71).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,m=d.length;f<m;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(70);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(80)),a=n(10).EventEmitter,c=n(0),u=n(16),l=n(18),h=n(82),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,m=n(83),g=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(g=i[f]).charAt(0)||p)(l&&!e?!g.match(u):g.match(u))&&d.push(g)}var m=d.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<m;f++){var g=d[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(s,g)}return a()}r.shift();for(f=0;f<m;f++){g=d[f];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=m("lstat\0"+e,function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var m=u.concat(i[d],r);this._process(m,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=m("stat\0"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(76);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(18),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(43),o=n(48),i=n(49),a=n(17),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let m=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class g{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}t.Expander=g,g.SET_VALUE_ERROR=m(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(g.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=m(1,null),e.exception.text?e.exception.text=m(2,null,e.exception.text):e.exception.text=m(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=m(4,null);break;case"breakpoint":t=m(5,null);break;case"exception":t=m(6,null);break;case"pause":t=m(7,null);break;case"entry":t=m(8,null);break;case"debugger_statement":t=m(9,null);break;case"frame_entry":t=m(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(m=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:m(11,null),filter:"all",default:!1},{label:m(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:m(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,m(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,m(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,m(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(m(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,m(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,m(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,m(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let g=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${g}`):(g=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push(`--debug-brk=${g}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,"utf8")),r={};n.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||"";n.length>0&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.replace(/\\n/gm,"\n")),r[e]=n.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,m(22,null,"{_error}"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&E.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`"${E.executable}"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,m(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,g,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:m(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,g,v,b)):(this.sendErrorResponse(e,2011,m(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}})}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr&&e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,m(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,m(27,null)):this.sendErrorResponse(e,2034,m(28,null))}else this.sendErrorResponse(e,2010,m(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=m(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,m(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=m(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,m(33,null)):this.sendErrorResponse(e,2023,m(34,null)):this.sendErrorResponse(e,2018,m(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=m(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=m(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=m(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=m(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=m(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=m(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=m(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\r\n/g,"\n"),t=(t=t.replace(/\r\n/g,"\n")).replace(/^#!.*\n/,""),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=m(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=m(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=m(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js
[2][风险] 黑客在2020-09-04 13:05:05时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md，境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md
[3][风险] 黑客在2020-09-04 13:05:06时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md，境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md
[4][风险] 黑客在2020-09-04 13:05:07时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md，境外ip操作类：var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md
[5][风险] 黑客在2020-09-05 01:31:06时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(21)},function(e,t,r){"use strict";const n=r(0),o=r(22),s=r(23),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let p=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};p=a(n.ignore,e,r)}const l=(r,i=!1)=>{let{isMatch:l,match:c,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:c,isMatch:l};return"function"==typeof n.onResult&&n.onResult(d),!1===l?(d.isMatch=!1,!!i&&d):p(r)?("function"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):("function"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(l.state=u),l};a.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),p=e===n,l=p&&u?u(e):e;return!1===p&&(l=u?u(e):e,p=l===n),!1!==p&&!0!==s.capture||(p=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(l)),{isMatch:!!p,match:p,output:l}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o,i=t||{},u=i.contains?"":"^",p=i.contains?"":"$",l={negated:!1,fastpaths:!0},c="";if(e.startsWith("./")&&(e=e.slice(2),c=l.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(l=a.parse(e,t),l.prefix=c+(l.prefix||""),o=l.output),!0===r)return o;let f=`${u}(?:${o})${p}`;l&&!0===l.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=l),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){"use strict";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:p,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:c,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:h,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,S=0,x=0,b=!1,m=!1,O=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===c)for(H++;!L()&&(t=N());)if(t!==i)if(t!==c){if(!T&&t===u&&(t=N())===u){b=!0;break}if(!T&&t===a){b=!0;break}if(t===h&&(H--,0===H)){T=!1;break}}else H++;else m=!0,t=N();if(E!==l){if(E===o){b=!0;break}if(E===o||E===g){b=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){b=!0;break}}else m=!0,t=N();if((E===_||E===s||E===p)&&e.charCodeAt(v+1)===f){b=!0;break}if(E!==p||v!==S){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){b=!0;break}}else m=!0,t=N();if(b)break}else O=!0,S++}else{if(r===u&&v===S+1){S+=2;continue}x=v+1}}else m=!0,t=N(),t===c&&(T=!0)}let w="",$=e,I=e,k="";return S>0&&(w=e.slice(0,S),e=e.slice(S),x-=S),I&&!0===b&&x>0?(I=e.slice(0,x),k=e.slice(x)):!0===b?(I="",k=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===i)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),I&&!0===m&&(I=n.removeBackslashes(I))),{prefix:w,input:$,base:I,glob:k,negated:O,isGlob:b}}},function(e,t,r){"use strict";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:p}=o,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},c=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=p[e]||e;let r={...t},d="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let g={type:"bos",value:"",output:r.prepend||""},h=[g],A=r.capture?"":"?:",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:S,ONE_CHAR:x,DOTS_SLASH:b,NO_DOT:m,NO_DOT_SLASH:O,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,$=e=>`(${A}(?:(?!${w}${e.dot?b:C}).)*?)`;let I=r.dot?"":m,k=!0===r.bash?$(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:h},B=[],U=[],F=g;const K=()=>D.index===_-1,G=D.peek=(t=1)=>e[D.index+t],j=D.advance=()=>e[++D.index],Q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||""},q=e=>{D[e]++,U.push(e)},W=e=>{D[e]--,U.pop()},X=e=>{if("globstar"===F.type){let t=D.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(D.output=D.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=k,D.output+=F.output)}B.length&&"paren"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&Q(e),F&&"text"===F.type&&"text"===e.type?F.value+=e.value:(e.prev=F,h.push(e),F=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:""};n.prev=F,n.parens=D.parens,n.output=D.output;let o=(r.capture?"(":"")+n.open;X({type:e,value:t,output:D.output?"":x}),X({type:"paren",extglob:!0,value:j(),output:o}),q("parens"),B.push(n)},V=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(o=$(r)),(o!==k||K()||/^\)+$/.test(e.slice(D.index+1)))&&(n=t.close=")$))"+o),"bos"===t.prev.type&&K()&&(D.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:M,output:n}),W("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>"\\"===o?(t=!0,e):"?"===o?r?r+o+(s?T.repeat(s.length):""):0===i?P+(s?T.repeat(s.length):""):T.repeat(n.length):"."===o?C.repeat(n.length):"*"===o?r?r+o+(s?k:""):k:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),D.output=n,D}for(;!K();){if(M=j(),"\0"===M)continue;if("\\"===M){let t=G();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",X({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+="\\")),!0===r.unescape?M=j()||"":M+=j()||"",0===D.brackets){X({type:"text",value:M});continue}}if(D.brackets>0&&("]"!==M||"["===F.value||"[^"===F.value)){if(!1!==r.posix&&":"===M){let e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){let e=F.value.lastIndexOf("["),t=F.value.slice(0,e),r=F.value.slice(e+2),n=i[r];if(n){F.value=t+n,D.backtrack=!0,j(),g.output||1!==h.indexOf(F)||(g.output=x);continue}}}("["===M&&":"!==G()||"-"===M&&"]"===G())&&(M="\\"+M),"]"!==M||"["!==F.value&&"[^"!==F.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===F.value&&(M="^"),F.value+=M,Q({value:M});continue}if(1===D.quotes&&'"'!==M){M=n.escapeRegex(M),F.value+=M,Q({value:M});continue}if('"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:M});continue}if("("===M){X({type:"paren",value:M}),q("parens");continue}if(")"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f("opening","("));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:"paren",value:M,output:D.parens?")":"\\)"}),W("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes("]"))q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));M="\\"+M}X({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||F&&"bracket"===F.type&&1===F.value.length){X({type:"text",value:M,output:"\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f("opening","["));X({type:"text",value:M,output:"\\"+M});continue}W("brackets");let e=F.value.slice(1);if(!0===F.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),F.value+=M,Q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(F.value);if(D.output=D.output.slice(0,-F.value.length),!0===r.literalBrackets){D.output+=t,F.value=t;continue}F.value=`(${A}${t}|${F.value})`,D.output+=F.value;continue}if("{"===M&&!0!==r.nobrace){X({type:"brace",value:M,output:"("}),q("braces");continue}if("}"===M){if(!0===r.nobrace||0===D.braces){X({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===D.dots){let t=h.slice(),n=[];for(let e=t.length-1;e>=0&&(h.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),D.backtrack=!0}X({type:"brace",value:M,output:e}),W("braces");continue}if("|"===M){B.length>0&&B[B.length-1].conditions++,X({type:"text",value:M});continue}if(","===M){let e=M;D.braces>0&&"braces"===U[U.length-1]&&(e="|"),X({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===F.type&&1===D.index){D.start=D.index+1,D.consumed="",D.output="",h.pop(),F=g;continue}X({type:"slash",value:M,output:S});continue}if("."===M){if(D.braces>0&&"dot"===F.type){"."===F.value&&(F.output=C),F.type="dots",F.output+=M,F.value+=M,D.dots=!0;continue}X({type:"dot",value:M,output:C});continue}if("?"===M){if(F&&"paren"===F.type){let e=G(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(G(2)))&&(t="\\"+M),X({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){Z("qmark",M);continue}if(!0!==r.dot&&("slash"===F.type||"bos"===F.type)){X({type:"qmark",value:M,output:L});continue}X({type:"qmark",value:M,output:T});continue}if("!"===M){if(!0!==r.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){Z("negate",M);continue}if(!0!==r.nonegate&&0===D.index){c(D);continue}}if("+"===M){if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){Z("plus",M);continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)){let e=!0===F.extglob?"\\"+M:M;X({type:"plus",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:"plus",value:M});continue}X({type:"plus",value:v});continue}if("@"===M){if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){X({type:"at",value:M,output:""});continue}X({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:"text",value:M});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=M,F.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&"("===G()&&"?"!==G(2)){Z("star",M);continue}if("star"===F.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=F.prev,n=t.prev,o="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!o||!K()&&"/"!==G())){X({type:"star",value:M,output:""});continue}let i=D.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!o&&"paren"!==t.type&&!i&&!a){X({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&"/"!==t)break;D.consumed+="/**",D.index+=3}if("bos"===t.type&&K()){F.type="globstar",F.value+=M,F.output=$(r),D.output=F.output,D.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&K()){D.output=D.output.slice(0,-(t.output+F.output).length),t.output="(?:"+t.output,F.type="globstar",F.output=$(r)+"|$)",F.value+=M,D.output+=t.output+F.output,D.consumed+=M;continue}let u=G();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===u){let e=void 0!==G(2)?"|$":"";D.output=D.output.slice(0,-(t.output+F.output).length),t.output="(?:"+t.output,F.type="globstar",F.output=`${$(r)}${S}|${S}${e})`,F.value+=M,D.output+=t.output+F.output,D.consumed+=M+j(),X({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===u){F.type="globstar",F.value+=M,F.output=`(?:^|${S}|${$(r)}${S})`,D.output=F.output,D.consumed+=M+j(),X({type:"slash",value:M,output:""});continue}D.output=D.output.slice(0,-F.output.length),F.type="globstar",F.output=$(r),F.value+=M,D.output+=F.output,D.consumed+=M;continue}let t={type:"star",value:M,output:k};!0!==r.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==r.regex?(D.index!==D.start&&"slash"!==F.type&&"dot"!==F.type||("dot"===F.type?(D.output+=O,F.output+=O):!0===r.dot?(D.output+=H,F.output+=H):(D.output+=I,F.output+=I),"*"!==G()&&(D.output+=x,F.output+=x)),X(t)):(t.output=M,X(t)):(t.output=".*?","bos"!==F.type&&"slash"!==F.type||(t.output=I+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));D.output=n.escapeLast(D.output,"["),W("brackets")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing",")"));D.output=n.escapeLast(D.output,"("),W("parens")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","}"));D.output=n.escapeLast(D.output,"{"),W("braces")}if(!0===r.strictSlashes||"star"!==F.type&&"bracket"!==F.type||X({type:"maybe_slash",value:"",output:`${S}?`}),!0===D.backtrack){D.output="";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=p[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:c,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:g,NO_DOTS_SLASH:h,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?"":"?:",y=!0===r.bash?".*?":A,C=r.dot?g:_,v=r.dot?h:_;r.capture&&(y=`(${y})`);const S=e=>`(${E}(?:(?!${R}${e.dot?d:l}).)*?)`,x=e=>{switch(e){case"*":return`${C}${f}${y}`;case".*":return`${l}${f}${y}`;case"*.*":return`${C}${y}${l}${f}${y}`;case"*/*":return`${C}${y}${c}${f}${v}${y}`;case"**":return C+S(r);case"**/*":return`(?:${C}${S(r)}${c})?${v}${f}${y}`;case"**/*.*":return`(?:${C}${S(r)}${c})?${v}${y}${l}${f}${y}`;case"**/.*":return`(?:${C}${S(r)}${c})?${l}${f}${y}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let b=x(e);return b&&!0!==r.strictSlashes&&(b+=`${c}?`),b},e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new Set(["node_modules/mocha","node_modules/jest","node_modules/jest-cli","node_modules/ava","node_modules/tape","node_modules/tap","node_modules/ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(27),logger_1=__webpack_require__(8);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkReentrant=e=>e.ppid!==process.pid||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to a duplicate bootloader"),!1),exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])};const allChecks=[exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkReentrant,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(28),s=r(5),i=r(29),a=n(r(0));class u{constructor(){this.disposed=!1,this.path=a.join(i.tmpdir(),`node-debug-callback-${o.randomBytes(8).toString("hex")}`),this.file=s.promises.open(this.path,"w")}static isValid(e){try{const t=s.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-u.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),u.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await s.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=u,u.updateInterval=1e3,u.recencyDeadline=2e3},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")}]);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js
[6][风险] 黑客在2020-09-05 01:31:06时间，植入了恶意文件/root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(372)},function(e,t,r){"use strict";const n=r(0),i=r(373),a=r(374),o=r(77),s=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>s(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=o.isWindows(t),a=s.makeRe(e,t,!1,!0),c=a.state;delete a.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=s(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:d,output:p}=s.test(r,a,t,{glob:e,posix:i}),f={glob:e,state:c,regex:a,posix:i,input:r,output:p,match:d,isMatch:l};return"function"==typeof n.onResult&&n.onResult(f),!1===l?(f.isMatch=!1,!!o&&f):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!o&&f):("function"==typeof n.onMatch&&n.onMatch(f),!o||f)};return r&&(l.state=c),l};s.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let a=r||{},c=a.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==a.capture||(u=!0===a.matchBase||!0===a.basename?s.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},s.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:s.makeRe(t,r)).test(n.basename(e)),s.isMatch=(e,t,r)=>s(t,r)(e),s.parse=(e,t)=>a(e,t),s.scan=(e,t)=>i(e,t),s.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},d="";if(e.startsWith("./")&&(e=e.slice(2),d=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=a.fastpaths(e,t)),void 0===i&&(l=s.parse(e,t),l.prefix=d+(l.prefix||""),i=l.output),!0===r)return i;let p=`${c}(?:${i})${u}`;l&&!0===l.negated&&(p=`^(?!${p}).*$`);let f=s.toRegex(p,t);return!0===n&&(f.state=l),f},s.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},s.constants=r(78),e.exports=s},function(e,t,r){"use strict";const n=r(77),{CHAR_ASTERISK:i,CHAR_AT:a,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:s,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:_,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:h,CHAR_RIGHT_SQUARE_BRACKET:y}=r(78);e.exports=(e,t)=>{let r,v,b=t||{},x=e.length-1,S=-1,w=0,k=0,C=!1,D=!1,T=!1,E=0,P=!1,A=()=>S>=x,N=()=>(r=v,e.charCodeAt(++S));for(;S<x;){let t;if(v=N(),v!==o){if(!0===P||v===d)for(E++;!A()&&(t=N());)if(t!==o)if(t!==d){if(!P&&t===c&&(t=N())===c){C=!0;break}if(!P&&t===s){C=!0;break}if(t===m&&(E--,0===E)){P=!1;break}}else E++;else D=!0,t=N();if(v!==l){if(v===i){C=!0;break}if(v===i||v===g){C=!0;break}if(v===f)for(;!A()&&(t=N());)if(t!==o){if(t===y){C=!0;break}}else D=!0,t=N();if((v===_||v===a||v===u)&&e.charCodeAt(S+1)===p){C=!0;break}if(v!==u||S!==w){if(v===p)for(;!A()&&(t=N());)if(t!==o){if(t===h){C=!0;break}}else D=!0,t=N();if(C)break}else T=!0,w++}else{if(r===c&&S===w+1){w+=2;continue}k=S+1}}else D=!0,t=N(),t===d&&(P=!0)}let F="",O=e,I=e,M="";return w>0&&(F=e.slice(0,w),e=e.slice(w),k-=w),I&&!0===C&&k>0?(I=e.slice(0,k),M=e.slice(k)):!0===C?(I="",M=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===b.unescape&&(M&&(M=n.removeBackslashes(M)),I&&!0===D&&(I=n.removeBackslashes(I))),{prefix:F,input:O,base:I,glob:M,negated:T,isGlob:C}}},function(e,t,r){"use strict";const n=r(77),i=r(78),{MAX_LENGTH:a,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:s,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},d=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},p=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,f=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let r={...t},f="number"==typeof r.maxLength?Math.min(a,r.maxLength):a,_=e.length;if(_>f)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${f}`);let g={type:"bos",value:"",output:r.prepend||""},m=[g],h=r.capture?"":"?:",y=n.isWindows(t);const v=i.globChars(y),b=i.extglobChars(v),{DOT_LITERAL:x,PLUS_LITERAL:S,SLASH_LITERAL:w,ONE_CHAR:k,DOTS_SLASH:C,NO_DOT:D,NO_DOT_SLASH:T,NO_DOTS_SLASH:E,QMARK:P,QMARK_NO_DOT:A,STAR:N,START_ANCHOR:F}=v,O=e=>`(${h}(?:(?!${F}${e.dot?C:x}).)*?)`;let I=r.dot?"":D,M=!0===r.bash?O(r):N,R=r.dot?P:A;r.capture&&(M=`(${M})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let L,j={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],q=g;const V=()=>j.index===_-1,z=j.peek=(t=1)=>e[j.index+t],W=j.advance=()=>e[++j.index],J=e=>{j.output+=null!=e.output?e.output:e.value,j.consumed+=e.value||""},H=e=>{j[e]++,U.push(e)},K=e=>{j[e]--,U.pop()},G=e=>{if("globstar"===q.type){let t=j.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(j.output=j.output.slice(0,-q.output.length),q.type="star",q.value="*",q.output=M,j.output+=q.output)}B.length&&"paren"!==e.type&&!b[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&J(e),q&&"text"===q.type&&"text"===e.type?q.value+=e.value:(e.prev=q,m.push(e),q=e)},$=(e,t)=>{let n={...b[t],conditions:1,inner:""};n.prev=q,n.parens=j.parens,n.output=j.output;let i=(r.capture?"(":"")+n.open;G({type:e,value:t,output:j.output?"":k}),G({type:"paren",extglob:!0,value:W(),output:i}),H("parens"),B.push(n)},Q=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let i=M;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=O(r)),(i!==M||V()||/^\)+$/.test(e.slice(j.index+1)))&&(n=t.close=")$))"+i),"bos"===t.prev.type&&V()&&(j.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:L,output:n}),K("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,a,o)=>"\\"===i?(t=!0,e):"?"===i?r?r+i+(a?P.repeat(a.length):""):0===o?R+(a?P.repeat(a.length):""):P.repeat(n.length):"."===i?x.repeat(n.length):"*"===i?r?r+i+(a?M:""):M:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),j.output=n,j}for(;!V();){if(L=W(),"\0"===L)continue;if("\\"===L){let t=z();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){L+="\\",G({type:"text",value:L});continue}let n=/^\\+/.exec(e.slice(j.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,j.index+=i,i%2!=0&&(L+="\\")),!0===r.unescape?L=W()||"":L+=W()||"",0===j.brackets){G({type:"text",value:L});continue}}if(j.brackets>0&&("]"!==L||"["===q.value||"[^"===q.value)){if(!1!==r.posix&&":"===L){let e=q.value.slice(1);if(e.includes("[")&&(q.posix=!0,e.includes(":"))){let e=q.value.lastIndexOf("["),t=q.value.slice(0,e),r=q.value.slice(e+2),n=o[r];if(n){q.value=t+n,j.backtrack=!0,W(),g.output||1!==m.indexOf(q)||(g.output=k);continue}}}("["===L&&":"!==z()||"-"===L&&"]"===z())&&(L="\\"+L),"]"!==L||"["!==q.value&&"[^"!==q.value||(L="\\"+L),!0===r.posix&&"!"===L&&"["===q.value&&(L="^"),q.value+=L,J({value:L});continue}if(1===j.quotes&&'"'!==L){L=n.escapeRegex(L),q.value+=L,J({value:L});continue}if('"'===L){j.quotes=1===j.quotes?0:1,!0===r.keepQuotes&&G({type:"text",value:L});continue}if("("===L){G({type:"paren",value:L}),H("parens");continue}if(")"===L){if(0===j.parens&&!0===r.strictBrackets)throw new SyntaxError(p("opening","("));let e=B[B.length-1];if(e&&j.parens===e.parens+1){Q(B.pop());continue}G({type:"paren",value:L,output:j.parens?")":"\\)"}),K("parens");continue}if("["===L){if(!0!==r.nobracket&&e.slice(j.index+1).includes("]"))H("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));L="\\"+L}G({type:"bracket",value:L});continue}if("]"===L){if(!0===r.nobracket||q&&"bracket"===q.type&&1===q.value.length){G({type:"text",value:L,output:"\\"+L});continue}if(0===j.brackets){if(!0===r.strictBrackets)throw new SyntaxError(p("opening","["));G({type:"text",value:L,output:"\\"+L});continue}K("brackets");let e=q.value.slice(1);if(!0===q.posix||"^"!==e[0]||e.includes("/")||(L="/"+L),q.value+=L,J({value:L}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(q.value);if(j.output=j.output.slice(0,-q.value.length),!0===r.literalBrackets){j.output+=t,q.value=t;continue}q.value=`(${h}${t}|${q.value})`,j.output+=q.value;continue}if("{"===L&&!0!==r.nobrace){G({type:"brace",value:L,output:"("}),H("braces");continue}if("}"===L){if(!0===r.nobrace||0===j.braces){G({type:"text",value:L,output:"\\"+L});continue}let e=")";if(!0===j.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),j.backtrack=!0}G({type:"brace",value:L,output:e}),K("braces");continue}if("|"===L){B.length>0&&B[B.length-1].conditions++,G({type:"text",value:L});continue}if(","===L){let e=L;j.braces>0&&"braces"===U[U.length-1]&&(e="|"),G({type:"comma",value:L,output:e});continue}if("/"===L){if("dot"===q.type&&1===j.index){j.start=j.index+1,j.consumed="",j.output="",m.pop(),q=g;continue}G({type:"slash",value:L,output:w});continue}if("."===L){if(j.braces>0&&"dot"===q.type){"."===q.value&&(q.output=x),q.type="dots",q.output+=L,q.value+=L,j.dots=!0;continue}G({type:"dot",value:L,output:x});continue}if("?"===L){if(q&&"paren"===q.type){let e=z(),t=L;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===q.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(z(2)))&&(t="\\"+L),G({type:"text",value:L,output:t});continue}if(!0!==r.noextglob&&"("===z()&&"?"!==z(2)){$("qmark",L);continue}if(!0!==r.dot&&("slash"===q.type||"bos"===q.type)){G({type:"qmark",value:L,output:A});continue}G({type:"qmark",value:L,output:P});continue}if("!"===L){if(!0!==r.noextglob&&"("===z()&&("?"!==z(2)||!/[!=<:]/.test(z(3)))){$("negate",L);continue}if(!0!==r.nonegate&&0===j.index){d(j);continue}}if("+"===L){if(!0!==r.noextglob&&"("===z()&&"?"!==z(2)){$("plus",L);continue}if(q&&("bracket"===q.type||"paren"===q.type||"brace"===q.type)){let e=!0===q.extglob?"\\"+L:L;G({type:"plus",value:L,output:e});continue}if(j.parens>0&&!1!==r.regex){G({type:"plus",value:L});continue}G({type:"plus",value:S});continue}if("@"===L){if(!0!==r.noextglob&&"("===z()&&"?"!==z(2)){G({type:"at",value:L,output:""});continue}G({type:"text",value:L});continue}if("*"!==L){"$"!==L&&"^"!==L||(L="\\"+L);let t=s.exec(e.slice(j.index+1));t&&(L+=t[0],j.index+=t[0].length),G({type:"text",value:L});continue}if(q&&("globstar"===q.type||!0===q.star)){q.type="star",q.star=!0,q.value+=L,q.output=M,j.backtrack=!0,j.consumed+=L;continue}if(!0!==r.noextglob&&"("===z()&&"?"!==z(2)){$("star",L);continue}if("star"===q.type){if(!0===r.noglobstar){j.consumed+=L;continue}let t=q.prev,n=t.prev,i="slash"===t.type||"bos"===t.type,a=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!i||!V()&&"/"!==z())){G({type:"star",value:L,output:""});continue}let o=j.braces>0&&("comma"===t.type||"brace"===t.type),s=B.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!s){G({type:"star",value:L,output:""});continue}for(;"/**"===e.slice(j.index+1,j.index+4);){let t=e[j.index+4];if(t&&"/"!==t)break;j.consumed+="/**",j.index+=3}if("bos"===t.type&&V()){q.type="globstar",q.value+=L,q.output=O(r),j.output=q.output,j.consumed+=L;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!a&&V()){j.output=j.output.slice(0,-(t.output+q.output).length),t.output="(?:"+t.output,q.type="globstar",q.output=O(r)+"|$)",q.value+=L,j.output+=t.output+q.output,j.consumed+=L;continue}let c=z();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==z(2)?"|$":"";j.output=j.output.slice(0,-(t.output+q.output).length),t.output="(?:"+t.output,q.type="globstar",q.output=`${O(r)}${w}|${w}${e})`,q.value+=L,j.output+=t.output+q.output,j.consumed+=L+W(),G({type:"slash",value:L,output:""});continue}if("bos"===t.type&&"/"===c){q.type="globstar",q.value+=L,q.output=`(?:^|${w}|${O(r)}${w})`,j.output=q.output,j.consumed+=L+W(),G({type:"slash",value:L,output:""});continue}j.output=j.output.slice(0,-q.output.length),q.type="globstar",q.output=O(r),q.value+=L,j.output+=q.output,j.consumed+=L;continue}let t={type:"star",value:L,output:M};!0!==r.bash?!q||"bracket"!==q.type&&"paren"!==q.type||!0!==r.regex?(j.index!==j.start&&"slash"!==q.type&&"dot"!==q.type||("dot"===q.type?(j.output+=T,q.output+=T):!0===r.dot?(j.output+=E,q.output+=E):(j.output+=I,q.output+=I),"*"!==z()&&(j.output+=k,q.output+=k)),G(t)):(t.output=L,G(t)):(t.output=".*?","bos"!==q.type&&"slash"!==q.type||(t.output=I+t.output),G(t))}for(;j.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));j.output=n.escapeLast(j.output,"["),K("brackets")}for(;j.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing",")"));j.output=n.escapeLast(j.output,"("),K("parens")}for(;j.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","}"));j.output=n.escapeLast(j.output,"{"),K("braces")}if(!0===r.strictSlashes||"star"!==q.type&&"bracket"!==q.type||G({type:"maybe_slash",value:"",output:`${w}?`}),!0===j.backtrack){j.output="";for(let e of j.tokens)j.output+=null!=e.output?e.output:e.value,e.suffix&&(j.output+=e.suffix)}return j};f.fastpaths=(e,t)=>{let r={...t},o="number"==typeof r.maxLength?Math.min(a,r.maxLength):a,s=e.length;if(s>o)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:_,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:h,START_ANCHOR:y}=i.globChars(c);let v=r.capture?"":"?:",b=!0===r.bash?".*?":h,x=r.dot?g:_,S=r.dot?m:_;r.capture&&(b=`(${b})`);const w=e=>`(${v}(?:(?!${y}${e.dot?f:l}).)*?)`,k=e=>{switch(e){case"*":return`${x}${p}${b}`;case".*":return`${l}${p}${b}`;case"*.*":return`${x}${b}${l}${p}${b}`;case"*/*":return`${x}${b}${d}${p}${S}${b}`;case"**":return x+w(r);case"**/*":return`(?:${x}${w(r)}${d})?${S}${p}${b}`;case"**/*.*":return`(?:${x}${w(r)}${d})?${S}${b}${l}${p}${b}`;case"**/.*":return`(?:${x}${w(r)}${d})?${l}${p}${b}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=k(r[1],t);if(!n)return;return n+l+r[2]}}};let C=k(e);return C&&!0!==r.strictSlashes&&(C+=`${d}?`),C},e.exports=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(33);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const a=String(i);return a.startsWith("class ")||a.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},a=[],o=new Set;let s="~",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){s+="~";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}a.push({label:t,sortText:s+t.replace(/^_+/,e=>"{".repeat(e.length)),type:r})}r=!1}return{result:a,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(4)),a=r(61),o=r(384),s=i.loadMessageBundle(r(0).join(__dirname,"adapter/console/queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:s(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:s(1,null)};let r;try{r=await o.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:s(2,null,e.message)}}const n="
           排查参考：[1]rpm -qa /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js
[7][风险] 黑客在2020-09-29 00:50:20时间，植入了恶意文件/root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py，反弹shell类： # certain interactive subprocesses, such as bash -i.
           排查参考：[1]rpm -qa /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py [2]strings /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py
[8][风险] 黑客在2020-09-29 00:50:20时间，植入了恶意文件/root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py，反弹shell类： # certain interactive subprocesses, such as bash -i.
           排查参考：[1]rpm -qa /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py [2]strings /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py
[9][风险] 黑客在2020-11-11 09:54:36时间，植入了恶意文件/root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py，境外ip操作类： http://132.154.8.8:1010/t/tk-abkdehc1n38cCBDHN-cje/more/stuf/like/this.html?q=bar
           排查参考：[1]rpm -qa /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py [2]strings /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py
[10][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: :INPUT ACCEPT [0:0]
           排查参考：[1]cat /etc/sysconfig/iptables
[11][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: :FORWARD ACCEPT [0:0]
           排查参考：[1]cat /etc/sysconfig/iptables
[12][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: :OUTPUT ACCEPT [0:0]
           排查参考：[1]cat /etc/sysconfig/iptables
[13][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[14][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -p icmp -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[15][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -i lo -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[16][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[17][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[18][可疑] 黑客在2020-12-10 17:58:21时间，进行了防火墙安全配置变更，存在iptables ACCEPT策略: -A INPUT -m state --state NEW -m tcp -p tcp --dport 10050 -j ACCEPT
           排查参考：[1]cat /etc/sysconfig/iptables
[19][可疑] 黑客在2020-12-21 10:17:58时间，进行了DNS安全配置变更，DNS设置为境外IP: 114.114.114.114
           排查参考：[1]cat /etc/resolv.conf
[20][风险] 黑客在2021-02-25 07:29:04时间，植入了恶意文件/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(22)},function(e,t,r){"use strict";const n=r(0),o=r(23),s=r(24),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const p=(r,i=!1)=>{let{isMatch:p,match:l,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:l,isMatch:p};return"function"==typeof n.onResult&&n.onResult(d),!1===p?(d.isMatch=!1,!!i&&d):c(r)?("function"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):("function"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(p.state=u),p};a.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,p=c&&u?u(e):e;return!1===c&&(p=u?u(e):e,c=p===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(p)),{isMatch:!!c,match:c,output:p}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o,i=t||{},u=i.contains?"":"^",c=i.contains?"":"$",p={negated:!1,fastpaths:!0},l="";if(e.startsWith("./")&&(e=e.slice(2),l=p.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(p=a.parse(e,t),p.prefix=l+(p.prefix||""),o=p.output),!0===r)return o;let f=`${u}(?:${o})${c}`;p&&!0===p.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=p),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){"use strict";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,b=0,x=0,S=!1,O=!1,m=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===l)for(H++;!L()&&(t=N());)if(t!==i)if(t!==l){if(!T&&t===u&&(t=N())===u){S=!0;break}if(!T&&t===a){S=!0;break}if(t===g&&(H--,0===H)){T=!1;break}}else H++;else O=!0,t=N();if(E!==p){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else O=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(v+1)===f){S=!0;break}if(E!==c||v!==b){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else O=!0,t=N();if(S)break}else m=!0,b++}else{if(r===u&&v===b+1){b+=2;continue}x=v+1}}else O=!0,t=N(),t===l&&(T=!0)}let w="",I=e,$=e,k="";return b>0&&(w=e.slice(0,b),e=e.slice(b),x-=b),$&&!0===S&&x>0?($=e.slice(0,x),k=e.slice(x)):!0===S?($="",k=e):$=e,$&&""!==$&&"/"!==$&&$!==e&&(e=>e===p||e===i)($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),$&&!0===O&&($=n.removeBackslashes($))),{prefix:w,input:I,base:$,glob:k,negated:m,isGlob:S}}},function(e,t,r){"use strict";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,p=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},l=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;let r={...t},d="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:"bos",value:"",output:r.prepend||""},g=[h],A=r.capture?"":"?:",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:b,ONE_CHAR:x,DOTS_SLASH:S,NO_DOT:O,NO_DOT_SLASH:m,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,I=e=>`(${A}(?:(?!${w}${e.dot?S:C}).)*?)`;let $=r.dot?"":O,k=!0===r.bash?I(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],F=[],K=h;const j=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],Q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||""},q=e=>{D[e]++,F.push(e)},W=e=>{D[e]--,F.pop()},X=e=>{if("globstar"===K.type){let t=D.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(D.output=D.output.slice(0,-K.output.length),K.type="star",K.value="*",K.output=k,D.output+=K.output)}B.length&&"paren"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&Q(e),K&&"text"===K.type&&"text"===e.type?K.value+=e.value:(e.prev=K,g.push(e),K=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:""};n.prev=K,n.parens=D.parens,n.output=D.output;let o=(r.capture?"(":"")+n.open;X({type:e,value:t,output:D.output?"":x}),X({type:"paren",extglob:!0,value:G(),output:o}),q("parens"),B.push(n)},V=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(o=I(r)),(o!==k||j()||/^\)+$/.test(e.slice(D.index+1)))&&(n=t.close=")$))"+o),"bos"===t.prev.type&&j()&&(D.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:M,output:n}),W("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>"\\"===o?(t=!0,e):"?"===o?r?r+o+(s?T.repeat(s.length):""):0===i?P+(s?T.repeat(s.length):""):T.repeat(n.length):"."===o?C.repeat(n.length):"*"===o?r?r+o+(s?k:""):k:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),D.output=n,D}for(;!j();){if(M=G(),"\0"===M)continue;if("\\"===M){let t=U();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",X({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+="\\")),!0===r.unescape?M=G()||"":M+=G()||"",0===D.brackets){X({type:"text",value:M});continue}}if(D.brackets>0&&("]"!==M||"["===K.value||"[^"===K.value)){if(!1!==r.posix&&":"===M){let e=K.value.slice(1);if(e.includes("[")&&(K.posix=!0,e.includes(":"))){let e=K.value.lastIndexOf("["),t=K.value.slice(0,e),r=K.value.slice(e+2),n=i[r];if(n){K.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(K)||(h.output=x);continue}}}("["===M&&":"!==U()||"-"===M&&"]"===U())&&(M="\\"+M),"]"!==M||"["!==K.value&&"[^"!==K.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===K.value&&(M="^"),K.value+=M,Q({value:M});continue}if(1===D.quotes&&'"'!==M){M=n.escapeRegex(M),K.value+=M,Q({value:M});continue}if('"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:M});continue}if("("===M){X({type:"paren",value:M}),q("parens");continue}if(")"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f("opening","("));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:"paren",value:M,output:D.parens?")":"\\)"}),W("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes("]"))q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));M="\\"+M}X({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||K&&"bracket"===K.type&&1===K.value.length){X({type:"text",value:M,output:"\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f("opening","["));X({type:"text",value:M,output:"\\"+M});continue}W("brackets");let e=K.value.slice(1);if(!0===K.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),K.value+=M,Q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(K.value);if(D.output=D.output.slice(0,-K.value.length),!0===r.literalBrackets){D.output+=t,K.value=t;continue}K.value=`(${A}${t}|${K.value})`,D.output+=K.value;continue}if("{"===M&&!0!==r.nobrace){X({type:"brace",value:M,output:"("}),q("braces");continue}if("}"===M){if(!0===r.nobrace||0===D.braces){X({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=p(n,r),D.backtrack=!0}X({type:"brace",value:M,output:e}),W("braces");continue}if("|"===M){B.length>0&&B[B.length-1].conditions++,X({type:"text",value:M});continue}if(","===M){let e=M;D.braces>0&&"braces"===F[F.length-1]&&(e="|"),X({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===K.type&&1===D.index){D.start=D.index+1,D.consumed="",D.output="",g.pop(),K=h;continue}X({type:"slash",value:M,output:b});continue}if("."===M){if(D.braces>0&&"dot"===K.type){"."===K.value&&(K.output=C),K.type="dots",K.output+=M,K.value+=M,D.dots=!0;continue}X({type:"dot",value:M,output:C});continue}if("?"===M){if(K&&"paren"===K.type){let e=U(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===K.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(U(2)))&&(t="\\"+M),X({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("qmark",M);continue}if(!0!==r.dot&&("slash"===K.type||"bos"===K.type)){X({type:"qmark",value:M,output:L});continue}X({type:"qmark",value:M,output:T});continue}if("!"===M){if(!0!==r.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){Z("negate",M);continue}if(!0!==r.nonegate&&0===D.index){l(D);continue}}if("+"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("plus",M);continue}if(K&&("bracket"===K.type||"paren"===K.type||"brace"===K.type)){let e=!0===K.extglob?"\\"+M:M;X({type:"plus",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:"plus",value:M});continue}X({type:"plus",value:v});continue}if("@"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){X({type:"at",value:M,output:""});continue}X({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:"text",value:M});continue}if(K&&("globstar"===K.type||!0===K.star)){K.type="star",K.star=!0,K.value+=M,K.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("star",M);continue}if("star"===K.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=K.prev,n=t.prev,o="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!o||!j()&&"/"!==U())){X({type:"star",value:M,output:""});continue}let i=D.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!o&&"paren"!==t.type&&!i&&!a){X({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&"/"!==t)break;D.consumed+="/**",D.index+=3}if("bos"===t.type&&j()){K.type="globstar",K.value+=M,K.output=I(r),D.output=K.output,D.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&j()){D.output=D.output.slice(0,-(t.output+K.output).length),t.output="(?:"+t.output,K.type="globstar",K.output=I(r)+"|$)",K.value+=M,D.output+=t.output+K.output,D.consumed+=M;continue}let u=U();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===u){let e=void 0!==U(2)?"|$":"";D.output=D.output.slice(0,-(t.output+K.output).length),t.output="(?:"+t.output,K.type="globstar",K.output=`${I(r)}${b}|${b}${e})`,K.value+=M,D.output+=t.output+K.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===u){K.type="globstar",K.value+=M,K.output=`(?:^|${b}|${I(r)}${b})`,D.output=K.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}D.output=D.output.slice(0,-K.output.length),K.type="globstar",K.output=I(r),K.value+=M,D.output+=K.output,D.consumed+=M;continue}let t={type:"star",value:M,output:k};!0!==r.bash?!K||"bracket"!==K.type&&"paren"!==K.type||!0!==r.regex?(D.index!==D.start&&"slash"!==K.type&&"dot"!==K.type||("dot"===K.type?(D.output+=m,K.output+=m):!0===r.dot?(D.output+=H,K.output+=H):(D.output+=$,K.output+=$),"*"!==U()&&(D.output+=x,K.output+=x)),X(t)):(t.output=M,X(t)):(t.output=".*?","bos"!==K.type&&"slash"!==K.type||(t.output=$+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));D.output=n.escapeLast(D.output,"["),W("brackets")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing",")"));D.output=n.escapeLast(D.output,"("),W("parens")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","}"));D.output=n.escapeLast(D.output,"{"),W("braces")}if(!0===r.strictSlashes||"star"!==K.type&&"bracket"!==K.type||X({type:"maybe_slash",value:"",output:`${b}?`}),!0===D.backtrack){D.output="";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:p,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?"":"?:",y=!0===r.bash?".*?":A,C=r.dot?h:_,v=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${R}${e.dot?d:p}).)*?)`,x=e=>{switch(e){case"*":return`${C}${f}${y}`;case".*":return`${p}${f}${y}`;case"*.*":return`${C}${y}${p}${f}${y}`;case"*/*":return`${C}${y}${l}${f}${v}${y}`;case"**":return C+b(r);case"**/*":return`(?:${C}${b(r)}${l})?${v}${f}${y}`;case"**/*.*":return`(?:${C}${b(r)}${l})?${v}${y}${p}${f}${y}`;case"**/.*":return`(?:${C}${b(r)}${l})?${p}${f}${y}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+p+r[2]}}};let S=x(e);return S&&!0!==r.strictSlashes&&(S+=`${l}?`),S},e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(28),logger_1=__webpack_require__(9);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&"node-gyp.js"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const i=r(8),a=r(5),u=r(29),c=s(r(0));class p{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-p.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),p.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=p,p.updateInterval=1e3,p.recencyDeadline=2e3},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(8);t.createTargetId=()=>n.randomBytes(12).toString("hex")}]);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js
[21][风险] 黑客在2021-02-25 07:29:04时间，植入了恶意文件/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(371)},function(e,t,r){"use strict";const n=r(0),i=r(372),s=r(373),o=r(82),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return"function"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):("function"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||""),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(83),e.exports=a},function(e,t,r){"use strict";const n=r(82),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(83);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A="",R=e,I=e,D="";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I="",D=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){"use strict";const n=r(82),i=r(83),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let r={...t},h="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:"bos",value:"",output:r.prepend||""},m=[g],y=r.capture?"":"?:",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?"":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||""},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if("globstar"===$.type){let t=F.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=D,F.output+=$.output)}B.length&&"paren"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&"text"===$.type&&"text"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:""};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?"(":"")+n.open;K({type:e,value:t,output:F.output?"":x}),K({type:"paren",extglob:!0,value:W(),output:i}),G("parens"),B.push(n)},Q=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=R(r)),(i!==D||q()||/^\)+$/.test(e.slice(F.index+1)))&&(n=t.close=")$))"+i),"bos"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:"paren",extglob:!0,value:N,output:n}),z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?r?r+i+(s?T.repeat(s.length):""):0===o?L+(s?T.repeat(s.length):""):T.repeat(n.length):"."===i?_.repeat(n.length):"*"===i?r?r+i+(s?D:""):D:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),F.output=n,F}for(;!q();){if(N=W(),"\0"===N)continue;if("\\"===N){let t=V();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){N+="\\",K({type:"text",value:N});continue}let n=/^\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+="\\")),!0===r.unescape?N=W()||"":N+=W()||"",0===F.brackets){K({type:"text",value:N});continue}}if(F.brackets>0&&("]"!==N||"["===$.value||"[^"===$.value)){if(!1!==r.posix&&":"===N){let e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){let e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}("["===N&&":"!==V()||"-"===N&&"]"===V())&&(N="\\"+N),"]"!==N||"["!==$.value&&"[^"!==$.value||(N="\\"+N),!0===r.posix&&"!"===N&&"["===$.value&&(N="^"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:"text",value:N});continue}if("("===N){K({type:"paren",value:N}),G("parens");continue}if(")"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:"paren",value:N,output:F.parens?")":"\\)"}),z("parens");continue}if("["===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes("]"))G("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));N="\\"+N}K({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||$&&"bracket"===$.type&&1===$.value.length){K({type:"text",value:N,output:"\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));K({type:"text",value:N,output:"\\"+N});continue}z("brackets");let e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(N="/"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if("{"===N&&!0!==r.nobrace){K({type:"brace",value:N,output:"("}),G("braces");continue}if("}"===N){if(!0===r.nobrace||0===F.braces){K({type:"text",value:N,output:"\\"+N});continue}let e=")";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:"brace",value:N,output:e}),z("braces");continue}if("|"===N){B.length>0&&B[B.length-1].conditions++,K({type:"text",value:N});continue}if(","===N){let e=N;F.braces>0&&"braces"===U[U.length-1]&&(e="|"),K({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===$.type&&1===F.index){F.start=F.index+1,F.consumed="",F.output="",m.pop(),$=g;continue}K({type:"slash",value:N,output:k});continue}if("."===N){if(F.braces>0&&"dot"===$.type){"."===$.value&&($.output=_),$.type="dots",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:"dot",value:N,output:_});continue}if("?"===N){if($&&"paren"===$.type){let e=V(),t=N;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===$.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(V(2)))&&(t="\\"+N),K({type:"text",value:N,output:t});continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("qmark",N);continue}if(!0!==r.dot&&("slash"===$.type||"bos"===$.type)){K({type:"qmark",value:N,output:j});continue}K({type:"qmark",value:N,output:T});continue}if("!"===N){if(!0!==r.noextglob&&"("===V()&&("?"!==V(2)||!/[!=<:]/.test(V(3)))){J("negate",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if("+"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("plus",N);continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)){let e=!0===$.extglob?"\\"+N:N;K({type:"plus",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:"plus",value:N});continue}K({type:"plus",value:S});continue}if("@"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){K({type:"at",value:N,output:""});continue}K({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N="\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:"text",value:N});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("star",N);continue}if("star"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!i||!q()&&"/"!==V())){K({type:"star",value:N,output:""});continue}let o=F.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){K({type:"star",value:N,output:""});continue}for(;"/**"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&"/"!==t)break;F.consumed+="/**",F.index+=3}if("bos"===t.type&&q()){$.type="globstar",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=R(r)+"|$)",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==V(2)?"|$":"";F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}if("bos"===t.type&&"/"===c){$.type="globstar",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}F.output=F.output.slice(0,-$.output.length),$.type="globstar",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:"star",value:N,output:D};!0!==r.bash?!$||"bracket"!==$.type&&"paren"!==$.type||!0!==r.regex?(F.index!==F.start&&"slash"!==$.type&&"dot"!==$.type||("dot"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),"*"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=".*?","bos"!==$.type&&"slash"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));F.output=n.escapeLast(F.output,"["),z("brackets")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));F.output=n.escapeLast(F.output,"("),z("parens")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));F.output=n.escapeLast(F.output,"{"),z("braces")}if(!0===r.strictSlashes||"star"!==$.type&&"bracket"!==$.type||K({type:"maybe_slash",value:"",output:`${k}?`}),!0===F.backtrack){F.output="";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?"":"?:",w=!0===r.bash?".*?":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case"*":return`${_}${d}${w}`;case".*":return`${l}${d}${w}`;case"*.*":return`${_}${w}${l}${d}${w}`;case"*/*":return`${_}${w}${p}${d}${S}${w}`;case"**":return _+k(r);case"**/*":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case"**/*.*":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case"**/.*":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const s=String(i);return s.startsWith("class ")||s.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},s=[],o=new Set;let a="~",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+="~";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>"{".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(61),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,"adapter/console/queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:u(2,null,e.message)}}const n="
           排查参考：[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js
[22][风险] 黑客在2021-02-25 18:53:48时间，植入了恶意文件/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js，反弹shell类："),0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var r=n[0],s=t[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],r):f(n)?(console.warn("Message "+n+" didn't get externalized correctly."),m(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:"utf8",flag:"r"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(o,function(e){e&&console.error("Deleting corrupted bundle "+o+" failed.")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,s=g(u.join(t,"nls.metadata.json")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+"/"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[f(d)?d:d.key];void 0===m&&(m=c.messages[p]),h.push(m)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=g(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,"utf8"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),o=b(s,null)}}catch(e){console.error("Failed to read header file",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\/g,"/"),m=o.nlsBundle[f];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):_(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf("-");s>0?n=n.substring(0,s):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,"corrupted","utf8",function(e){console.error(e)})}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,R}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},,function(e,t){e.exports=require("net")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(i=c[l])?c.splice(l,1):".."===i?u++:u>0&&(""===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=s(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var c=r.path.lastIndexOf("/");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=f,f.Minimatch=g;var r={sep:"/"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=g.GLOBSTAR={},o=n(79),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var p=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,p=[],d=[],f=!1,g=-1,m=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function y(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,o,E),l&&h[E])o+="\\"+E,l=!1;else switch(E){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,o,E),f){this.debug(" in class"),"!"===E&&S===m+1&&(E="^"),o+=E;continue}b.debug("call clearStateChar %j",r),y(),r=E,n.noext&&y();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}y(),u=!0;var C=p.pop();o+=C.close,"!"===C.type&&d.push(C),C.reEnd=o.length;continue;case"|":if(f||!p.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),f){o+="\\"+E;continue}f=!0,m=S,g=o.length,o+=E;continue;case"]":if(S===m+1||!f){o+="\\"+E,l=!1;continue}if(f){var w=e.substring(m+1,S);try{RegExp("["+w+"]")}catch(e){var O=this.parse(w,_);o=o.substr(0,g)+"\\["+O[0]+"\\]",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||"^"===E&&f||(o+="\\"),o+=E}f&&(w=e.substr(m+1),O=this.parse(w,_),o=o.substr(0,g)+"\\["+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n %s",x,x,C,o);var k="*"===C.type?c:"?"===C.type?a:"\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+"\\("+x}y(),l&&(o+="\\\\");var P=!1;switch(o.charAt(0)){case".":case"[":case"(":P=!0}for(var A=d.length-1;A>-1;A--){var T=d[A],L=o.slice(0,T.reStart),F=o.slice(T.reStart,T.reEnd-8),M=o.slice(T.reEnd-8,T.reEnd),I=o.slice(T.reEnd);M+=I;var N=L.split("(").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\)[+*?]?/,"");var D="";""===(I=j)&&t!==_&&(D="$"),o=L+F+I+D+M}""!==o&&u&&(o="(?=.)"+o);P&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var q=n.nocase?"i":"";try{var $=new RegExp("^"+o+"$",q)}catch(e){return new RegExp("$.")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===s?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(p),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(44),s=n(15),o=n(45),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super("initialized")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}};t.ProgressEndEvent=class extends s.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}};var a;t.InvalidatedEvent=class extends s.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}},function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}t.DebugSession=c,c._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(47),s=n(14);var o;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;t.LogOutputEvent=class extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?"stderr":t===o.Warn?"console":"stdout")}},t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(56);const r=n(4).inherits,s=n(57),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",function(){c(t,r)}),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(62),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";const r=n(25),s=n(17),o=n(64),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in i)||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:"COLORTERM"in i?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(68),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(73).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(72);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(82)),a=n(10).EventEmitter,c=n(0),u=n(18),l=n(20),h=n(84),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(85),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g("lstat\0"+e,function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=g("stat\0"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(78);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(20),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(43),o=n(50),i=n(51),a=n(19),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=g(4,null);break;case"breakpoint":t=g(5,null);break;case"exception":t=g(6,null);break;case"pause":t=g(7,null);break;case"entry":t=g(8,null);break;case"debugger_statement":t=g(9,null);break;case"frame_entry":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:"all",default:!1},{label:g(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${m}`):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push(`--debug-brk=${m}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,"utf8")),r={};n.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||"";n.length>0&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.replace(/\\n/gm,"\n")),r[e]=n.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,"{_error}"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&E.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`"${E.executable}"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,g(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}})}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr&&e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\r\n/g,"\n"),t=(t=t.replace(/\r\n/g,"\n")).replace(/^#!.*\n/,""),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{
           排查参考：[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js
[23][风险] 黑客在2021-02-25 18:53:48时间，植入了恶意文件/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js，反弹shell类："),0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var r=n[0],s=t[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o})}function _(e){return function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],r):f(n)?(console.warn("Message "+n+" didn't get externalized correctly."),m(n,r)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function v(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return m(t,n)}function b(e,t){return i[e]=t,t}function y(e,t){var n,r,s,o=u.join(a.cacheRoot,e.id+"-"+e.hash+".json"),i=!1,c=!1;try{return n=JSON.parse(l.readFileSync(o,{encoding:"utf8",flag:"r"})),r=o,s=new Date,l.utimes(r,s,s,function(){}),n}catch(e){if("ENOENT"===e.code)c=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),l.unlink(o,function(e){e&&console.error("Deleting corrupted bundle "+o+" failed.")}),i=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var r=g(n).contents,s=g(u.join(t,"nls.metadata.json")),o=Object.create(null);for(var i in s){var c=s[i],l=r[e.outDir+"/"+i];if(l){for(var h=[],p=0;p<c.keys.length;p++){var d=c.keys[p],m=l[f(d)?d:d.key];void 0===m&&(m=c.messages[p]),h.push(m)}o[i]=h}else o[i]=c.messages}return o}}(e,t))||i)return n;if(c)try{l.writeFileSync(o,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function E(e){try{return function(e){var t=g(u.join(e,"nls.metadata.json")),n=Object.create(null);for(var r in t){var s=t[r];n[r]=s.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function S(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return E(t);var r=function(e){for(var t=a.language;t;){var n=u.join(e,"nls.bundle."+t+".json");if(l.existsSync(n))return n;var r=t.lastIndexOf("-");t=r>0?t.substring(0,r):void 0}if(void 0===t){n=u.join(e,"nls.bundle.json");if(l.existsSync(n))return n}}(t);if(r)try{return g(r)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=E(t)}return n}function R(e){if(!e)return v;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===r.both||a.messageFormat===r.bundle){var n=function(e){for(var t,n=u.dirname(e);t=u.join(n,"nls.metadata.header.json"),!l.existsSync(t);){var r=u.dirname(n);if(r===n){t=void 0;break}n=r}return t}(e);if(n){var s=u.dirname(n),o=i[s];if(void 0===o)try{var h=JSON.parse(l.readFileSync(n,"utf8"));try{var d=S(h,s);o=b(s,d?{header:h,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),o=b(s,null)}}catch(e){console.error("Failed to read header file",e),o=b(s,null)}if(o){var f=e.substr(s.length+1).replace(/\\/g,"/"),m=o.nlsBundle[f];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):_(m)}}}if(a.messageFormat===r.both||a.messageFormat===r.file)try{var y=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var r=".nls."+n+".json";if(l.existsSync(e+r)){t=r;break}var s=n.lastIndexOf("-");s>0?n=n.substring(0,s):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(y)?_(y):p(y.messages)&&p(y.keys)?_(y.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(r=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(s=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&p(t.key)&&p(t.comment)}}(o||(o={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:r.bundle},f(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];f(n)&&(t=n)}if(f(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),f(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),f(e._languagePackId)&&(a.languagePackId=e._languagePackId),f(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&l.writeFile(e._corruptedFile,"corrupted","utf8",function(e){console.error(e)})}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=R,t.config=function(e){return e&&(f(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===s.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,R}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("url")},,function(e,t){e.exports=require("net")},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=s(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(i=c[l])?c.splice(l,1):".."===i?u++:u>0&&(""===i?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=s,t.urlGenerate=o,t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=h(e.source,t.source))?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=h(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=s(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var c=r.path.lastIndexOf("/");c>=0&&(r.path=r.path.substring(0,c+1))}t=a(o(r),t)}return i(t)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=f,f.Minimatch=g;var r={sep:"/"};try{r=n(0)}catch(e){}var s=f.GLOBSTAR=g.GLOBSTAR={},o=n(79),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var p=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}f.filter=function(e,t){return t=t||{},function(n,r,s){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,r,s){return t.minimatch(n,r,d(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(p)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},f.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,p=[],d=[],f=!1,g=-1,m=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function y(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,S=0,R=e.length;S<R&&(E=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,o,E),l&&h[E])o+="\\"+E,l=!1;else switch(E){case"/":return!1;case"\\":y(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,o,E),f){this.debug(" in class"),"!"===E&&S===m+1&&(E="^"),o+=E;continue}b.debug("call clearStateChar %j",r),y(),r=E,n.noext&&y();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:S-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}y(),u=!0;var C=p.pop();o+=C.close,"!"===C.type&&d.push(C),C.reEnd=o.length;continue;case"|":if(f||!p.length||l){o+="\\|",l=!1;continue}y(),o+="|";continue;case"[":if(y(),f){o+="\\"+E;continue}f=!0,m=S,g=o.length,o+=E;continue;case"]":if(S===m+1||!f){o+="\\"+E,l=!1;continue}if(f){var w=e.substring(m+1,S);try{RegExp("["+w+"]")}catch(e){var O=this.parse(w,_);o=o.substr(0,g)+"\\["+O[0]+"\\]",u=u||O[1],f=!1;continue}}u=!0,f=!1,o+=E;continue;default:y(),l?l=!1:!h[E]||"^"===E&&f||(o+="\\"),o+=E}f&&(w=e.substr(m+1),O=this.parse(w,_),o=o.substr(0,g)+"\\["+O[0],u=u||O[1]);for(C=p.pop();C;C=p.pop()){var x=o.slice(C.reStart+C.open.length);this.debug("setting tail",o,C),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n %s",x,x,C,o);var k="*"===C.type?c:"?"===C.type?a:"\\"+C.type;u=!0,o=o.slice(0,C.reStart)+k+"\\("+x}y(),l&&(o+="\\\\");var P=!1;switch(o.charAt(0)){case".":case"[":case"(":P=!0}for(var A=d.length-1;A>-1;A--){var T=d[A],L=o.slice(0,T.reStart),F=o.slice(T.reStart,T.reEnd-8),M=o.slice(T.reEnd-8,T.reEnd),I=o.slice(T.reEnd);M+=I;var N=L.split("(").length-1,j=I;for(S=0;S<N;S++)j=j.replace(/\)[+*?]?/,"");var D="";""===(I=j)&&t!==_&&(D="$"),o=L+F+I+D+M}""!==o&&u&&(o="(?=.)"+o);P&&(o=v+o);if(t===_)return[o,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var q=n.nocase?"i":"";try{var $=new RegExp("^"+o+"$",q)}catch(e){return new RegExp("$.")}return $._glob=e,$._src=o,$};var _={};f.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===s?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(p),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;if(n.matchBase&&1===a.length&&(c=[s]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(44),s=n(15),o=n(45),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};t.StoppedEvent=class extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}};t.ContinuedEvent=class extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}};t.InitializedEvent=class extends s.Event{constructor(){super("initialized")}};t.TerminatedEvent=class extends s.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}};t.OutputEvent=class extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}};t.ThreadEvent=class extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}};t.BreakpointEvent=class extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}};t.ModuleEvent=class extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}};t.CapabilitiesEvent=class extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}};t.ProgressStartEvent=class extends s.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}};t.ProgressUpdateEvent=class extends s.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}};t.ProgressEndEvent=class extends s.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}};var a;t.InvalidatedEvent=class extends s.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}},function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(a=t.ErrorDestination||(t.ErrorDestination={}));class c extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=a.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&a.User&&(o.showUser=!0),s&a.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=c.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,a.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,a.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?c.uri2path(e):c.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?c.uri2path(e):c.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(c._formatPIIRegexp,function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e})}}t.DebugSession=c,c._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(47),s=n(14);var o;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;t.LogOutputEvent=class extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?"stderr":t===o.Warn?"console":"stdout")}},t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(35),a=n(11);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(56);const r=n(4).inherits,s=n(57),o=n(10).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout(function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)},a));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",function(){c(t,r)}),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n}),t.formatArgs.call(e,i),(r.log||t.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(62),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";const r=n(25),s=n(17),o=n(64),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in i)||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:"COLORTERM"in i?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(68),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(33),s=n(8),o=n(34).ArraySet,i=n(73).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)}),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(72);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(36),o=n(11),i=(o.Minimatch,n(82)),a=n(10).EventEmitter,c=n(0),u=n(18),l=n(20),h=n(84),p=n(37),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(85),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(39);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1,a);function a(){--s._processing,s._processing<=0&&(o?process.nextTick(function(){s._finish()}):s._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())})})},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)})},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g("lstat\0"+e,function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)})},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(s,o){r._processSimple2(e,t,s,o,n)})},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=g("stat\0"+n,function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)});c._stat2(e,n,s,o,t)});u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(78);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,function(r,s){u(r)?c.realpath(e,t,n):n(r,s)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!p(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var s=n(0),o=n(11),i=n(20),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},function(e,t,n){var r=n(38);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(43),o=n(50),i=n(51),a=n(19),c=n(12),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc",`NodeV8Protocol hook: ref cache size: ${this._refCache.size}`)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=g(4,null);break;case"breakpoint":t=g(5,null);break;case"exception":t=g(6,null);break;case"pause":t=g(7,null);break;case"entry":t=g(8,null);break;case"debugger_statement":t=g(9,null);break;case"frame_entry":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t=`VM${e.id}`;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la",`_terminated: ${e}`),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la",`initializeRequest: adapterID: ${t.adapterID}`),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:"all",default:!1},{label:g(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push(`--debug-brk=${m}`):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push(`--debug-brk=${m}`))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const n=a.stripBOM(d.readFileSync(t.envFile,"utf8")),r={};n.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let n=t[2]||"";n.length>0&&'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.replace(/\\n/gm,"\n")),r[e]=n.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(r,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,"{_error}"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y)){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&E.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`"${E.executable}"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,g(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}})}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr&&e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la",`_initialize: target node version: ${t}`)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la",`_startInitialize: stopped: ${e}`),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`_updateBreakpoints: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp",`_setBreakpoint: ${JSON.stringify(o)}`),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))})}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp",`setFunctionBreakPointsRequest: result ${JSON.stringify(t)}`)}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp",`setExceptionBreakPointsRequest: ${JSON.stringify(t.filters)}`);let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la",`configurationDoneRequest: ${n}`),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&((t=n.inferredName)&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];return n=n.replace(/\r\n/g,"\n"),t=(t=t.replace(/\r\n/g,"\n")).replace(/^#!.*\n/,""),n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls",`__readFile: ${e}`),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va",`scopesRequest: scope ${r}`),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=`${s+e}`}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{
           排查参考：[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js
[24][风险] 黑客在2021-03-05 06:32:37时间，植入了恶意文件/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js，反弹shell类：`):n}function L(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?S.localize(1,null,n.message):n.message||S.localize(2,null)}function h(n=null,D=!1){if(!n)return S.localize(3,null);if(Array.isArray(n)){const b=P.coalesce(n),I=h(b[0],D);return b.length>1?S.localize(4,null,I,b.length):I}if(d.isString(n))return n;if(n.detail){const b=n.detail;if(b.error)return y(b.error,D);if(b.exception)return y(b.exception,D)}return n.stack?y(n,D):n.message?n.message:S.localize(5,null)}e.toErrorMessage=h}),define(fe[134],he([9,10]),function(Q,e){return Q.create("vs/base/common/jsonErrorMessages",e)}),define(fe[135],he([0,1,134]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function d(P){switch(P){case 1:return S.localize(0,null);case 2:return S.localize(1,null);case 3:return S.localize(2,null);case 4:return S.localize(3,null);case 5:return S.localize(4,null);case 6:return S.localize(5,null);case 7:return S.localize(6,null);case 8:return S.localize(7,null);case 9:return S.localize(8,null);default:return""}}e.getParseErrorMessage=d}),define(fe[136],he([9,10]),function(Q,e){return Q.create("vs/base/node/processes",e)}),define(fe[80],he([0,1,2,15,20,32,136,11,19,28,5,74,8]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function E(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(c,r){if(D.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};r&&(t.cwd=r);const i=y.execFile("taskkill",["/T","/F","/PID",c.pid.toString()],t);return new Promise(o=>{i.once("error",a=>{o({success:!1,error:a})}),i.once("exit",(a,s)=>{o(a===0?{success:!0}:{success:!1,code:a!==null?a:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?E(t.status):1})}else if(D.isLinux||D.isMacintosh)try{const t=I.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Q).fsPath;return new Promise(i=>{y.execFile(t,[c.pid.toString()],{encoding:"utf8",shell:!0},(o,a,s)=>{i(o?{success:!1,error:o}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else c.kill("SIGKILL");return Promise.resolve({success:!0})}function v(c=process.env){return c.comspec||"cmd.exe"}e.getWindowsShell=v;class _{constructor(r,t,i,o){if(t!==void 0&&i!==void 0&&o!==void 0)this.cmd=r,this.args=t,this.shell=i,this.options=o;else{const a=r;this.cmd=a.command,this.shell=a.isShellCommand,this.args=a.args.slice(0),this.options=a.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const a=Object.create(null);Object.keys(process.env).forEach(s=>{a[s]=process.env[s]}),Object.keys(this.options.env).forEach(s=>{a[s]=this.options.env[s]}),this.options.env=a}}getSanitizedCommand(){let r=this.cmd.toLowerCase();const t=r.lastIndexOf(S.sep);return t!==-1&&(r=r.substring(t+1)),_.WellKnowCommands[r]?r:"other"}start(r){return D.isWindows&&(this.options&&this.options.cwd&&n.isUNC(this.options.cwd)||!this.options&&n.isUNC(process.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(t=>{let i,o;const a=new Promise((s,g)=>{i=s,o=g});if(t){let s=this.cmd;this.args&&(s=s+" "+this.args.join(" ")),this.childProcess=y.exec(s,this.options,(g,C,R)=>{this.childProcess=null;const p=g;p&&p.killed?o({killed:this.terminateRequested,stdout:C.toString(),stderr:R.toString()}):this.handleExec(i,r,g,C,R)})}else{let s=null;const g=C=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(C,i,r,o);const R={terminated:this.terminateRequested};L.isNumber(C)&&(R.cmdCode=C),i(R)};if(this.shell&&D.isWindows){const C=h.deepClone(this.options);C.windowsVerbatimArguments=!0,C.detached=!1;let R=!1,p=!1;const f=[];let T=this.ensureQuotes(this.cmd);f.push(T.value),R=T.quoted,this.args&&this.args.forEach(H=>{T=this.ensureQuotes(H),f.push(T.value),p=p&&T.quoted});const O=["/s","/c"];R?p?O.push('"'+f.join(" ")+'"'):f.length>1?O.push('"'+f[0]+'" '+f.slice(1).join(" ")):O.push('"'+f[0]+'"'):O.push(f.join(" ")),s=y.spawn(v(),O,C)}else this.cmd&&(s=y.spawn(this.cmd,this.args,this.options));s&&(this.childProcess=s,this.childProcessPromise=Promise.resolve(s),this.pidResolve&&(this.pidResolve(L.isNumber(s.pid)?s.pid:-1),this.pidResolve=void 0),s.on("error",C=>{this.childProcess=null,o({terminated:this.terminateRequested,error:C})}),s.pid&&(this.childProcess.on("close",g),this.handleSpawn(s,i,r,o,!0)))}return a})}handleClose(r,t,i,o){}ensureQuotes(r){return _.regexp.test(r)?{value:'"'+r+'"',quoted:!0}:{value:r,quoted:r.length>0&&r[0]==='"'&&r[r.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(r=>r.pid,r=>-1):new Promise(r=>{this.pidResolve=r})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(r=>(this.terminateRequested=!0,u(r,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),r=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(r=>{if(!this.shell||!D.isWindows)return r(!1);const t=y.spawn(v(),["/s","/c"]);t.on("error",i=>r(!0)),t.on("exit",i=>r(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^"].* .*[^"]/;class w extends _{constructor(r,t,i,o){super(r,t,i,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(r,t,i,o,a){[o,a].forEach((s,g)=>{const C=new b.LineDecoder;C.write(s).forEach(f=>{t({line:f,source:g===0?0:1})});const p=C.end();p&&t({line:p,source:g===0?0:1})}),r({terminated:this.terminateRequested,error:i})}handleSpawn(r,t,i,o,a){const s=new b.LineDecoder,g=new b.LineDecoder;r.stdout.on("data",C=>{s.write(C).forEach(p=>i({line:p,source:0}))}),r.stderr.on("data",C=>{g.write(C).forEach(p=>i({line:p,source:1}))}),this.stdoutLineDecoder=s,this.stderrLineDecoder=g}handleClose(r,t,i,o){const a=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;a&&i({line:a,source:0});const s=this.stderrLineDecoder?this.stderrLineDecoder.end():null;s&&i({line:s,source:1})}}e.LineProcess=w;function m(c){let r=[],t=!1;const i=function(o){if(t){r.push(o);return}(!c.send(o,s=>{if(s&&console.error(s),t=!1,r.length>0){const g=r.slice(0);r=[],g.forEach(C=>i(C))}})||D.isWindows)&&(t=!0)};return{send:i}}e.createQueuedSender=m;var l;(function(c){async function r(t,i,o){if(S.isAbsolute(t))return t;if(i===void 0&&(i=process.cwd()),S.dirname(t)!=="."||(o===void 0&&L.isString(process.env.PATH)&&(o=process.env.PATH.split(S.delimiter)),o===void 0||o.length===0))return S.join(i,t);async function s(g){return await P.exists(g)?!(await d.promises.stat(g)).isDirectory():!1}for(let g of o){let C;if(S.isAbsolute(g)?C=S.join(g,t):C=S.join(i,g,t),await s(C))return C;let R=C+".com";if(await s(R)||(R=C+".exe",await s(R)))return R}return S.join(i,t)}c.findExecutable=r})(l=e.win32||(e.win32={}))}),define(fe[81],he([0,1,22,5,123,80]),function(Q,e,S,d,P,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(E,u=process.env){return E===3?d.isWindows?b():y.getWindowsShell(u):n(E,u)}e.getSystemShell=k;function L(E,u=process.env){return E===3?d.isWindows?I(u):y.getWindowsShell(u):n(E,u)}e.getSystemShellSync=L;let h=null;function n(E,u){if(d.isLinux&&E===1||d.isMacintosh&&E===2)return"/bin/bash";if(!h){let v;if(d.isWindows)v="/bin/bash";else{if(v=u.SHELL,!v)try{v=S.userInfo().shell}catch(_){}v||(v="sh"),v==="/bin/false"&&(v="/bin/bash")}h=v}return h}let D=null;async function b(){return D||(D=(await P.getFirstAvailablePowerShellInstallation()).exePath),D}function I(E){if(D)return D;const u=d.isWindows&&parseFloat(S.release())>=10,v=E.hasOwnProperty("PROCESSOR_ARCHITEW6432"),_=`${E.windir}\\${v?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return u?_:y.getWindowsShell(E)}}),define(fe[82],he([0,1,32,4,13,19,6,80,37,114,27,12,18,5]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class u extends h.ChannelServer{constructor(w){super({send:m=>{try{process.send&&process.send(m.buffer.toString("base64"))}catch(l){}},onMessage:k.Event.fromNodeEventEmitter(process,"message",m=>I.VSBuffer.wrap(Buffer.from(m,"base64")))},w);process.once("disconnect",()=>this.dispose())}}e.Server=u;class v{constructor(w,m){this.modulePath=w,this.options=m,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const l=m&&m.timeout?m.timeout:6e4;this.disposeDelayer=new P.Delayer(l),this.child=null,this._client=null}getChannel(w){const m=this;return{call(l,c,r){return m.requestPromise(w,l,c,r)},listen(l,c){return m.requestEvent(w,l,c)}}}requestPromise(w,m,l,c=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(c.isCancellationRequested)return Promise.reject(b.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(w),t=P.createCancelablePromise(a=>r.call(m,l,a)),i=c.onCancellationRequested(()=>t.cancel()),o=d.toDisposable(()=>t.cancel());return this.activeRequests.add(o),t.finally(()=>{i.dispose(),this.activeRequests.delete(o),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(w,m,l){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let c;const r=new k.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(w).listen(m,l)(r.fire,r),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const w=this.options&&this.options.args?this.options.args:[],m=Object.create(null);m.env=Object.assign(Object.assign({},y.deepClone(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(m.env=Object.assign(Object.assign({},m.env),this.options.env)),this.options&&this.options.freshExecArgv&&(m.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(m.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(m.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),m.execArgv===void 0&&(m.execArgv=process.execArgv.filter(s=>!/^--inspect(-brk)?=/.test(s))),E.isMacintosh&&m.env&&delete m.env.DYLD_LIBRARY_PATH,this.child=S.fork(this.modulePath,w,m);const l=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,"message",s=>s)(s=>{if(n.isRemoteConsoleLog(s)){n.log(s,`IPC Library: ${this.options.serverName}`);return}l.fire(I.VSBuffer.wrap(Buffer.from(s,"base64")))});const r=this.options.useQueue?L.createQueuedSender(this.child):this.child,t=s=>this.child&&this.child.connected&&r.send(s.buffer.toString("base64")),i=l.event,o={send:t,onMessage:i};this._client=new h.ChannelClient(o);const a=()=>this.disposeClient();process.once("exit",a),this.child.on("error",s=>console.warn('IPC "'+this.options.serverName+'" errored with '+s)),this.child.on("exit",(s,g)=>{process.removeListener("exit",a),this.activeRequests.forEach(C=>d.dispose(C)),this.activeRequests.clear(),s!==0&&g!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+s+" and signal "+g),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:s,signal:g})})}return this._client}getCachedChannel(w){let m=this.channels.get(w);return m||(m=this.client.getChannel(w),this.channels.set(w,m)),m}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=v}),define(fe[137],he([9,10]),function(Q,e){return Q.create("vs/base/node/zip",e)}),define(fe[138],he([9,10]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(fe[139],he([9,10]),function(Q,e){return Q.create("vs/platform/environment/node/argv",e)}),define(fe[140],he([9,10]),function(Q,e){return Q.create("vs/platform/environment/node/argvHelper",e)}),define(fe[141],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(fe[142],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(fe[143],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(fe[144],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(fe[145],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(fe[146],he([9,10]),function(Q,e){return Q.create("vs/platform/extensions/common/extensionValidator",e)}),define(fe[147],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/fileService",e)}),define(fe[148],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/files",e)}),define(fe[149],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/io",e)}),define(fe[150],he([9,10]),function(Q,e){return Q.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(fe[151],he([9,10]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(fe[152],he([9,10]),function(Q,e){return Q.create("vs/platform/request/common/request",e)}),define(fe[153],he([9,10]),function(Q,e){return Q.create("vs/platform/telemetry/common/telemetryService",e)}),define(fe[154],he([9,10]),function(Q,e){return Q.create("vs/platform/terminal/node/terminalProcess",e)}),define(fe[155],he([9,10]),function(Q,e){return Q.create("vs/platform/workspaces/common/workspaces",e)}),define(fe[156],he([9,10]),function(Q,e){return Q.create("vs/server/remoteAgentEnvironmentImpl",e)}),define(fe[157],he([9,10]),function(Q,e){return Q.create("vs/server/serverEnvironmentService",e)}),define(fe[158],he([9,10]),function(Q,e){return Q.create("vs/workbench/common/editor",e)}),define(fe[159],he([9,10]),function(Q,e){return Q.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(fe[160],he([9,10]),function(Q,e){return Q.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(fe[161],he([9,10]),function(Q,e){return Q.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(fe[162],he([0,1,6,4]),function(Q,e,S,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class P{constructor(){this._onCloseEmitter=new S.Emitter,this._onReloadEmitter=new S.Emitter,this._onTerminateEmitter=new S.Emitter,this._onAttachEmitter=new S.Emitter}call(L,h,n){switch(h){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:n[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:n[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:n[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:n[0],port:n[1],subId:n[2]}))}throw new Error("Method not implemented.")}listen(L,h,n){switch(h){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=P,P.ChannelName="extensionhostdebugservice";class y extends d.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call("reload",[L])}get onReload(){return this.channel.listen("reload")}close(L){this.channel.call("close",[L])}get onClose(){return this.channel.listen("close")}attachSession(L,h,n){this.channel.call("attach",[L,h,n])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(L,h){this.channel.call("terminate",[L,h])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(L,h,n){return this.channel.call("openExtensionDevelopmentHostWindow",[L,h,n])}}e.ExtensionHostDebugChannelClient=y}),define(fe[163],he([0,1,3]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class d{constructor(k){this.service=k}listen(k,L,h){throw new Error("Invalid listen")}call(k,L,h){switch(L){case"download":return this.service.download(S.URI.revive(h[0]),S.URI.revive(h[1]))}throw new Error("Invalid call")}}e.DownloadServiceChannel=d;class P{constructor(k,L){this.channel=k,this.getUriTransformer=L}async download(k,L){const h=this.getUriTransformer();h&&(k=h.transformOutgoingURI(k),L=h.transformOutgoingURI(L)),await this.channel.call("download",[k,L])}}e.DownloadServiceChannelClient=P}),define(fe[164],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var S;(function(k){k[k.ACTIVATE=0]="ACTIVATE",k[k.RESTORE=1]="RESTORE",k[k.PRESERVE=2]="PRESERVE"})(S=e.EditorActivation||(e.EditorActivation={}));var d;(function(k){k[k.PICK=1]="PICK",k[k.DISABLED=2]="DISABLED"})(d=e.EditorOverride||(e.EditorOverride={}));var P;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(P=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(k){k[k.Center=0]="Center",k[k.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",k[k.NearTop=2]="NearTop",k[k.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(fe[56],he([0,1,234,139,5]),function(Q,e,S,d,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:d.localize(0,null),e:d.localize(1,null),t:d.localize(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:d.localize(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:d.localize(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:d.localize(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:d.localize(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:d.localize(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:d.localize(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:d.localize(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:d.localize(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:d.localize(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:d.localize(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:d.localize(13,null)},"show-versions":{type:"boolean",cat:"e",description:d.localize(14,null)},category:{type:"string",cat:"e",description:d.localize(15,null)},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:d.localize(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:d.localize(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:d.localize(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:d.localize(19,null)},verbose:{type:"boolean",cat:"t",description:d.localize(20,null)},log:{type:"string",cat:"t",args:"level",description:d.localize(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:d.localize(22,null)},"prof-startup":{type:"boolean",cat:"t",description:d.localize(23,null)},"prof-append-timers":{type:"string"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:d.localize(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:d.localize(25,null)},sync:{type:"string",cat:"t",description:d.localize(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:d.localize(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:d.localize(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:d.localize(29,null)},"max-memory":{type:"string",cat:"t",description:d.localize(30,null)},telemetry:{type:"boolean",cat:"t",description:d.localize(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionTestsPath:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(u,v,_=k){const w={},m=[],l=[];for(let i in v){const o=v[i];o.alias&&(w[i]=o.alias),o.type==="string"||o.type==="string[]"?(m.push(i),o.deprecates&&m.push(o.deprecates)):o.type==="boolean"&&(l.push(i),o.deprecates&&l.push(o.deprecates))}const c=S(u,{string:m,boolean:l,alias:w}),r={},t=c;r._=c._.map(i=>String(i)).filter(i=>i.length>0),delete t._;for(let i in v){const o=v[i];o.alias&&delete t[o.alias];let a=t[i];o.deprecates&&t.hasOwnProperty(o.deprecates)&&(a||(a=t[o.deprecates]),delete t[o.deprecates]),typeof a!="undefined"&&(o.type==="string[]"?a&&!Array.isArray(a)&&(a=[a]):o.type==="string"&&Array.isArray(a)&&(a=a.pop(),_.onMultipleValues(i,a)),r[i]=a),delete t[i]}for(let i in t)_.onUnknownOption(i);return r}e.parseArgs=L;function h(u,v){let _="";return v.args&&(Array.isArray(v.args)?_=` <${v.args.join("> <")}>`:_=` <${v.args}>`),v.alias?`-${v.alias} --${u}${_}`:`--${u}${_}`}function n(u,v){let _=0,w=[];for(const r in u){const t=u[r],i=h(r,t);_=Math.max(_,i.length),w.push([i,t.description])}let m=_+2+1;if(v-m<25)return w.reduce((r,t)=>r.concat([` ${t[0]}`,` ${t[1]}`]),[]);let l=v-m-1,c=[];for(const r of w){let t=r[0],i=b(r[1],l),o=D(m-t.length-2);c.push(" "+t+o+i[0]);for(let a=1;a<i.length;a++)c.push(D(m)+i[a])}return c}e.formatOptions=n;function D(u){return" ".repeat(u)}function b(u,v){let _=[];for(;u.length;){let w=u.length<v?u.length:u.lastIndexOf(" ",v),m=u.slice(0,w).trim();u=u.slice(w),_.push(m)}return _}function I(u,v,_,w,m=!0){const l=process.stdout.isTTY&&process.stdout.columns||80;let c=[`${u} ${_}`];c.push(""),c.push(`${d.localize(32,null)}: ${v} [${d.localize(33,null)}][${d.localize(34,null)}...]`),c.push(""),m&&(P.isWindows?c.push(d.localize(35,null,v)):c.push(d.localize(36,null,v)),c.push(""));const r={};for(const t in w){const i=w[t];if(i.description&&i.cat){let o=r[i.cat];o||(r[i.cat]=o={}),o[t]=i}}for(let t in r){const i=t;let o=r[i];o&&(c.push(y[i]),c.push(...n(o,l)),c.push(""))}return c.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js
[25][风险] 黑客在2021-03-05 06:32:37时间，植入了恶意文件/root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js，反弹shell类：`):i}function I(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function y(i=null,T=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const k=R.coalesce(i),p=y(k[0],T);return k.length>1?v.localize(4,null,p,k.length):p}if(D.isString(i))return i;if(i.detail){const k=i.detail;if(k.error)return P(k.error,T);if(k.exception)return P(k.exception,T)}return i.stack?P(i,T):i.message?i.message:v.localize(5,null)}e.toErrorMessage=y}),define(ge[145],pe([17,18]),function(Q,e){return Q.create("vs/base/node/processes",e)}),define(ge[79],pe([0,1,7,29,24,35,145,16,23,31,9,133,13]),function(Q,e,v,D,R,P,C,I,y,i,T,k,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function f(u){switch(u){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(u,c){if(T.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};c&&(t.cwd=c);const r=P.execFile("taskkill",["/T","/F","/PID",u.pid.toString()],t);return new Promise(s=>{r.once("error",o=>{s({success:!1,error:o})}),r.once("exit",(o,n)=>{s(o===0?{success:!0}:{success:!1,code:o!==null?o:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?f(t.status):1})}else if(T.isLinux||T.isMacintosh)try{const t=p.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Q).fsPath;return new Promise(r=>{P.execFile(t,[u.pid.toString()],{encoding:"utf8",shell:!0},(s,o,n)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else u.kill("SIGKILL");return Promise.resolve({success:!0})}function m(u=process.env){return u.comspec||"cmd.exe"}e.getWindowsShell=m;class S{constructor(c,t,r,s){if(t!==void 0&&r!==void 0&&s!==void 0)this.cmd=c,this.args=t,this.shell=r,this.options=s;else{const o=c;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const o=Object.create(null);Object.keys(process.env).forEach(n=>{o[n]=process.env[n]}),Object.keys(this.options.env).forEach(n=>{o[n]=this.options.env[n]}),this.options.env=o}}getSanitizedCommand(){let c=this.cmd.toLowerCase();const t=c.lastIndexOf(v.sep);return t!==-1&&(c=c.substring(t+1)),S.WellKnowCommands[c]?c:"other"}start(c){return T.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(process.cwd()))?Promise.reject(new Error(C.localize(0,null))):this.useExec().then(t=>{let r,s;const o=new Promise((n,d)=>{r=n,s=d});if(t){let n=this.cmd;this.args&&(n=n+" "+this.args.join(" ")),this.childProcess=P.exec(n,this.options,(d,_,E)=>{this.childProcess=null;const h=d;h&&h.killed?s({killed:this.terminateRequested,stdout:_.toString(),stderr:E.toString()}):this.handleExec(r,c,d,_,E)})}else{let n=null;const d=_=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(_,r,c,s);const E={terminated:this.terminateRequested};I.isNumber(_)&&(E.cmdCode=_),r(E)};if(this.shell&&T.isWindows){const _=y.deepClone(this.options);_.windowsVerbatimArguments=!0,_.detached=!1;let E=!1,h=!1;const b=[];let A=this.ensureQuotes(this.cmd);b.push(A.value),E=A.quoted,this.args&&this.args.forEach(M=>{A=this.ensureQuotes(M),b.push(A.value),h=h&&A.quoted});const L=["/s","/c"];E?h?L.push('"'+b.join(" ")+'"'):b.length>1?L.push('"'+b[0]+'" '+b.slice(1).join(" ")):L.push('"'+b[0]+'"'):L.push(b.join(" ")),n=P.spawn(m(),L,_)}else this.cmd&&(n=P.spawn(this.cmd,this.args,this.options));n&&(this.childProcess=n,this.childProcessPromise=Promise.resolve(n),this.pidResolve&&(this.pidResolve(I.isNumber(n.pid)?n.pid:-1),this.pidResolve=void 0),n.on("error",_=>{this.childProcess=null,s({terminated:this.terminateRequested,error:_})}),n.pid&&(this.childProcess.on("close",d),this.handleSpawn(n,r,c,s,!0)))}return o})}handleClose(c,t,r,s){}ensureQuotes(c){return S.regexp.test(c)?{value:'"'+c+'"',quoted:!0}:{value:c,quoted:c.length>0&&c[0]==='"'&&c[c.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(c=>c.pid,c=>-1):new Promise(c=>{this.pidResolve=c})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(c=>(this.terminateRequested=!0,l(c,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),c=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(c=>{if(!this.shell||!T.isWindows)return c(!1);const t=P.spawn(m(),["/s","/c"]);t.on("error",r=>c(!0)),t.on("exit",r=>c(!1))})}}e.AbstractProcess=S,S.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},S.regexp=/^[^"].* .*[^"]/;class w extends S{constructor(c,t,r,s){super(c,t,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(c,t,r,s,o){[s,o].forEach((n,d)=>{const _=new k.LineDecoder;_.write(n).forEach(b=>{t({line:b,source:d===0?0:1})});const h=_.end();h&&t({line:h,source:d===0?0:1})}),c({terminated:this.terminateRequested,error:r})}handleSpawn(c,t,r,s,o){const n=new k.LineDecoder,d=new k.LineDecoder;c.stdout.on("data",_=>{n.write(_).forEach(h=>r({line:h,source:0}))}),c.stderr.on("data",_=>{d.write(_).forEach(h=>r({line:h,source:1}))}),this.stdoutLineDecoder=n,this.stderrLineDecoder=d}handleClose(c,t,r,s){const o=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;o&&r({line:o,source:0});const n=this.stderrLineDecoder?this.stderrLineDecoder.end():null;n&&r({line:n,source:1})}}e.LineProcess=w;function g(u){let c=[],t=!1;const r=function(s){if(t){c.push(s);return}(!u.send(s,n=>{if(n&&console.error(n),t=!1,c.length>0){const d=c.slice(0);c=[],d.forEach(_=>r(_))}})||T.isWindows)&&(t=!0)};return{send:r}}e.createQueuedSender=g;var a;(function(u){async function c(t,r,s){if(v.isAbsolute(t))return t;if(r===void 0&&(r=process.cwd()),v.dirname(t)!=="."||(s===void 0&&I.isString(process.env.PATH)&&(s=process.env.PATH.split(v.delimiter)),s===void 0||s.length===0))return v.join(r,t);async function n(d){return await R.exists(d)?!(await D.promises.stat(d)).isDirectory():!1}for(let d of s){let _;if(v.isAbsolute(d)?_=v.join(d,t):_=v.join(r,d,t),await n(_))return _;let E=_+".com";if(await n(E)||(E=_+".exe",await n(E)))return E}return v.join(r,t)}u.findExecutable=c})(a=e.win32||(e.win32={}))}),define(ge[146],pe([0,1,39,9,99,79]),function(Q,e,v,D,R,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function C(f,l=process.env){return f===3?D.isWindows?k():P.getWindowsShell(l):i(f,l)}e.getSystemShell=C;function I(f,l=process.env){return f===3?D.isWindows?p(l):P.getWindowsShell(l):i(f,l)}e.getSystemShellSync=I;let y=null;function i(f,l){if(D.isLinux&&f===1||D.isMacintosh&&f===2)return"/bin/bash";if(!y){let m;if(D.isWindows)m="/bin/bash";else{if(m=l.SHELL,!m)try{m=v.userInfo().shell}catch(S){}m||(m="sh"),m==="/bin/false"&&(m="/bin/bash")}y=m}return y}let T=null;async function k(){return T||(T=(await R.getFirstAvailablePowerShellInstallation()).exePath),T}function p(f){if(T)return T;const l=D.isWindows&&parseFloat(v.release())>=10,m=f.hasOwnProperty("PROCESSOR_ARCHITEW6432"),S=`${f.windir}\\${m?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return l?S:P.getWindowsShell(f)}}),define(ge[147],pe([17,18]),function(Q,e){return Q.create("vs/editor/common/config/editorOptions",e)}),define(ge[148],pe([0,1,147,9,104]),function(Q,e,v,D,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var P;(function(X){X[X.None=0]="None",X[X.Keep=1]="Keep",X[X.Brackets=2]="Brackets",X[X.Advanced=3]="Advanced",X[X.Full=4]="Full"})(P=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ne){this._values=ne}hasChanged(ne){return this._values[ne]}}e.ConfigurationChangedEvent=C;class I{constructor(){this._values=[]}_read(ne){return this._values[ne]}get(ne){return this._values[ne]}_write(ne,_e){this._values[ne]=_e}}e.ValidatedEditorOptions=I;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class i{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}compute(ne,_e,Ne){return Ne}}class T{constructor(ne,_e=null){this.schema=void 0,this.id=ne,this.name="_never_",this.defaultValue=void 0,this.deps=_e}validate(ne){return this.defaultValue}}class k{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}validate(ne){return typeof ne=="undefined"?this.defaultValue:ne}compute(ne,_e,Ne){return Ne}}function p(X,ne){return typeof X=="undefined"?ne:X==="false"?!1:Boolean(X)}e.boolean=p;class f extends k{constructor(ne,_e,Ne,Be=void 0){typeof Be!="undefined"&&(Be.type="boolean",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return p(ne,this.defaultValue)}}class l extends k{constructor(ne,_e,Ne,Be,We,Je=void 0){typeof Je!="undefined"&&(Je.type="integer",Je.default=Ne,Je.minimum=Be,Je.maximum=We),super(ne,_e,Ne,Je),this.minimum=Be,this.maximum=We}static clampedInt(ne,_e,Ne,Be){if(typeof ne=="undefined")return _e;let We=parseInt(ne,10);return isNaN(We)?_e:(We=Math.max(Ne,We),We=Math.min(Be,We),We|0)}validate(ne){return l.clampedInt(ne,this.defaultValue,this.minimum,this.maximum)}}class m extends k{constructor(ne,_e,Ne,Be,We){typeof We!="undefined"&&(We.type="number",We.default=Ne),super(ne,_e,Ne,We),this.validationFn=Be}static clamp(ne,_e,Ne){return ne<_e?_e:ne>Ne?Ne:ne}static float(ne,_e){if(typeof ne=="number")return ne;if(typeof ne=="undefined")return _e;const Ne=parseFloat(ne);return isNaN(Ne)?_e:Ne}validate(ne){return this.validationFn(m.float(ne,this.defaultValue))}}class S extends k{static string(ne,_e){return typeof ne!="string"?_e:ne}constructor(ne,_e,Ne,Be=void 0){typeof Be!="undefined"&&(Be.type="string",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return S.string(ne,this.defaultValue)}}function w(X,ne,_e){return typeof X!="string"||_e.indexOf(X)===-1?ne:X}e.stringSet=w;class g extends k{constructor(ne,_e,Ne,Be,We=void 0){typeof We!="undefined"&&(We.type="string",We.enum=Be,We.default=Ne),super(ne,_e,Ne,We),this._allowedValues=Be}validate(ne){return w(ne,this.defaultValue,this._allowedValues)}}class a extends i{constructor(ne,_e,Ne,Be,We,Je,G=void 0){typeof G!="undefined"&&(G.type="string",G.enum=We,G.default=Be),super(ne,_e,Ne,G),this._allowedValues=We,this._convert=Je}validate(ne){return typeof ne!="string"?this.defaultValue:this._allowedValues.indexOf(ne)===-1?this.defaultValue:this._convert(ne)}}function u(X){switch(X){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class c extends i{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:"auto",description:v.localize(3,null)})}validate(ne){switch(ne){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ne,_e,Ne){return Ne===0?ne.accessibilitySupport:Ne}}class t extends i{constructor(){const ne={insertSpace:!0,ignoreEmptyLines:!0};super(16,"comments",ne,{"editor.comments.insertSpace":{type:"boolean",default:ne.insertSpace,description:v.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ne.ignoreEmptyLines,description:v.localize(5,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{insertSpace:p(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:p(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var r;(function(X){X[X.Hidden=0]="Hidden",X[X.Blink=1]="Blink",X[X.Smooth=2]="Smooth",X[X.Phase=3]="Phase",X[X.Expand=4]="Expand",X[X.Solid=5]="Solid"})(r=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(X){switch(X){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var o;(function(X){X[X.Line=1]="Line",X[X.Block=2]="Block",X[X.Underline=3]="Underline",X[X.LineThin=4]="LineThin",X[X.BlockOutline=5]="BlockOutline",X[X.UnderlineThin=6]="UnderlineThin"})(o=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function n(X){switch(X){case o.Line:return"line";case o.Block:return"block";case o.Underline:return"underline";case o.LineThin:return"line-thin";case o.BlockOutline:return"block-outline";case o.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=n;function d(X){switch(X){case"line":return o.Line;case"block":return o.Block;case"underline":return o.Underline;case"line-thin":return o.LineThin;case"block-outline":return o.BlockOutline;case"underline-thin":return o.UnderlineThin}}class _ extends T{constructor(){super(121,[60,29])}compute(ne,_e,Ne){const Be=["monaco-editor"];return _e.get(29)&&Be.push(_e.get(29)),ne.extraEditorClassName&&Be.push(ne.extraEditorClassName),_e.get(60)==="default"?Be.push("mouse-default"):_e.get(60)==="copy"&&Be.push("mouse-copy"),_e.get(95)&&Be.push("showUnused"),_e.get(119)&&Be.push("showDeprecated"),Be.join(" ")}}class E extends f{constructor(){super(28,"emptySelectionClipboard",!0,{description:v.localize(6,null)})}compute(ne,_e,Ne){return Ne&&ne.emptySelectionClipboard}}class h extends i{constructor(){const ne={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,"find",ne,{"editor.find.cursorMoveOnType":{type:"boolean",default:ne.cursorMoveOnType,description:v.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:ne.seedSearchStringFromSelection,description:v.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ne.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ne.globalFindClipboard,description:v.localize(13,null),included:D.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ne.addExtraSpaceOnTop,description:v.localize(14,null)},"editor.find.loop":{type:"boolean",default:ne.loop,description:v.localize(15,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{cursorMoveOnType:p(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:p(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ne.autoFindInSelection=="boolean"?ne.autoFindInSelection?"always":"never":w(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:p(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:p(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:p(_e.loop,this.defaultValue.loop)}}}class b extends i{constructor(){super(39,"fontLigatures",b.OFF,{anyOf:[{type:"boolean",description:v.localize(16,null)},{type:"string",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(ne){return typeof ne=="undefined"?this.defaultValue:typeof ne=="string"?ne==="false"?b.OFF:ne==="true"?b.ON:ne:Boolean(ne)?b.ON:b.OFF}}e.EditorFontLigatures=b,b.OFF='"liga" off, "calt" off',b.ON='"liga" on, "calt" on';class A extends T{constructor(){super(38)}compute(ne,_e,Ne){return ne.fontInfo}}class L extends k{constructor(){super(40,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(ne){let _e=m.float(ne,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:m.clamp(_e,6,100)}compute(ne,_e,Ne){return ne.fontInfo.fontSize}}class M extends i{constructor(){super(41,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(ne){return ne==="normal"||ne==="bold"?ne:String(l.clampedInt(ne,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class z extends i{constructor(){const ne={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:ne.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]};super(45,"gotoLocation",ne,{"editor.gotoLocation.multiple":{deprecationMessage:v.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v.localize(26,null)},_e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v.localize(27,null)},_e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v.localize(28,null)},_e),"editor.gotoLocation.multipleImplementations":Object.assign({description:v.localize(29,null)},_e),"editor.gotoLocation.multipleReferences":Object.assign({description:v.localize(30,null)},_e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ne.alternativeDefinitionCommand,description:v.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ne.alternativeTypeDefinitionCommand,description:v.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ne.alternativeDeclarationCommand,description:v.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ne.alternativeImplementationCommand,description:v.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ne.alternativeReferenceCommand,description:v.localize(35,null)}})}validate(ne){var _e,Ne,Be,We,Je;if(!ne||typeof ne!="object")return this.defaultValue;const G=ne;return{multiple:w(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=G.multipleDefinitions)!==null&&_e!==void 0?_e:w(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ne=G.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:w(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Be=G.multipleDeclarations)!==null&&Be!==void 0?Be:w(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(We=G.multipleImplementations)!==null&&We!==void 0?We:w(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Je=G.multipleReferences)!==null&&Je!==void 0?Je:w(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:S.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends i{constructor(){const ne={enabled:!0,delay:300,sticky:!0};super(48,"hover",ne,{"editor.hover.enabled":{type:"boolean",default:ne.enabled,description:v.localize(36,null)},"editor.hover.delay":{type:"number",default:ne.delay,description:v.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:ne.sticky,description:v.localize(38,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:p(_e.sticky,this.defaultValue.sticky)}}}var W;(function(X){X[X.None=0]="None",X[X.Text=1]="Text",X[X.Blocks=2]="Blocks"})(W=e.RenderMinimap||(e.RenderMinimap={}));class K extends T{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(ne,_e,Ne){return K.computeLayout(_e,{memory:ne.memory,outerWidth:ne.outerWidth,outerHeight:ne.outerHeight,isDominatedByLongLines:ne.isDominatedByLongLines,lineHeight:ne.fontInfo.lineHeight,viewLineCount:ne.viewLineCount,lineNumbersDigitCount:ne.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ne.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ne.fontInfo.maxDigitWidth,pixelRatio:ne.pixelRatio})}static computeContainedMinimapLineCount(ne){const _e=ne.height/ne.lineHeight,Ne=ne.scrollBeyondLastLine?_e-1:0,Be=(ne.viewLineCount+Ne)/(ne.pixelRatio*ne.height),We=Math.floor(ne.viewLineCount/Be);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:Be,minimapLineCount:We}}static _computeMinimapLayout(ne,_e){const Ne=ne.outerWidth,Be=ne.outerHeight,We=ne.pixelRatio;if(!ne.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const Je=_e.stableMinimapLayoutInput,G=Je&&ne.outerHeight===Je.outerHeight&&ne.lineHeight===Je.lineHeight&&ne.typicalHalfwidthCharacterWidth===Je.typicalHalfwidthCharacterWidth&&ne.pixelRatio===Je.pixelRatio&&ne.scrollBeyondLastLine===Je.scrollBeyondLastLine&&ne.minimap.enabled===Je.minimap.enabled&&ne.minimap.side===Je.minimap.side&&ne.minimap.size===Je.minimap.size&&ne.minimap.showSlider===Je.minimap.showSlider&&ne.minimap.renderCharacters===Je.minimap.renderCharacters&&ne.minimap.maxColumn===Je.minimap.maxColumn&&ne.minimap.scale===Je.minimap.scale&&ne.verticalScrollbarWidth===Je.verticalScrollbarWidth&&ne.isViewportWrapping===Je.isViewportWrapping,se=ne.lineHeight,he=ne.typicalHalfwidthCharacterWidth,J=ne.scrollBeyondLastLine,re=ne.minimap.renderCharacters;let de=We>=2?Math.round(ne.minimap.scale*2):ne.minimap.scale;const me=ne.minimap.maxColumn,ye=ne.minimap.size,je=ne.minimap.side,He=ne.verticalScrollbarWidth,qe=ne.viewLineCount,Qe=ne.remainingWidth,Ze=ne.isViewportWrapping,be=re?2:3;let De=Math.floor(We*Be);const ue=De/We;let ee=!1,Fe=!1,xe=be*de,Ye=de/We,Ae=1;if(ye==="fill"||ye==="fit"){const{typicalViewportLineCount:wt,extraLinesBeyondLastLine:Dt,desiredRatio:yt,minimapLineCount:gt}=K.computeContainedMinimapLineCount({viewLineCount:qe,scrollBeyondLastLine:J,height:Be,lineHeight:se,pixelRatio:We});if(qe/gt>1)ee=!0,Fe=!0,de=1,xe=1,Ye=de/We;else{let ut=!1,_t=de+1;if(ye==="fit"){const vt=Math.ceil((qe+Dt)*xe);Ze&&G&&Qe<=_e.stableFitRemainingWidth?(ut=!0,_t=_e.stableFitMaxMinimapScale):(ut=vt>De,Ze&&ut?(_e.stableMinimapLayoutInput=ne,_e.stableFitRemainingWidth=Qe):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye==="fill"||ut){ee=!0;const vt=de;xe=Math.min(se*We,Math.max(1,Math.floor(1/yt))),de=Math.min(_t,Math.max(1,Math.floor(xe/be))),de>vt&&(Ae=Math.min(2,de/vt)),Ye=de/We/Ae,De=Math.ceil(Math.max(wt,qe+Dt)*xe),Ze&&ut&&(_e.stableFitMaxMinimapScale=de)}}}const st=Math.floor(me*Ye),rt=Math.min(st,Math.max(0,Math.floor((Qe-He-2)*Ye/(he+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Xe=Math.floor(We*rt);const ct=Xe/We;Xe=Math.floor(Xe*Ae);const dt=re?1:2,ht=je==="left"?0:Ne-rt-He;return{renderMinimap:dt,minimapLeft:ht,minimapWidth:rt,minimapHeightIsEditorHeight:ee,minimapIsSampling:Fe,minimapScale:de,minimapLineHeight:xe,minimapCanvasInnerWidth:Xe,minimapCanvasInnerHeight:De,minimapCanvasOuterWidth:ct,minimapCanvasOuterHeight:ue}}static computeLayout(ne,_e){const Ne=_e.outerWidth|0,Be=_e.outerHeight|0,We=_e.lineHeight|0,Je=_e.lineNumbersDigitCount|0,G=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,J=_e.viewLineCount,re=ne.get(116),de=re==="inherit"?ne.get(115):re,me=de==="inherit"?ne.get(111):de,ye=ne.get(114),je=ne.get(2),He=_e.isDominatedByLongLines,qe=ne.get(44),Qe=ne.get(54).renderType!==0,Ze=ne.get(55),be=ne.get(89),De=ne.get(59),ue=ne.get(87),ee=ue.verticalScrollbarSize,Fe=ue.verticalHasArrows,xe=ue.arrowSize,Ye=ue.horizontalScrollbarSize,Ae=ne.get(52),st=ne.get(33);let rt;if(typeof Ae=="string"&&/^\d+(\.\d+)?ch$/.test(Ae)){const It=parseFloat(Ae.substr(0,Ae.length-2));rt=l.clampedInt(It*G,0,0,1e3)}else rt=l.clampedInt(Ae,0,0,1e3);st&&(rt+=16);let Xe=0;if(Qe){const It=Math.max(Je,Ze);Xe=Math.round(It*se)}let ct=0;qe&&(ct=We);let dt=0,ht=dt+ct,wt=ht+Xe,Dt=wt+rt;const yt=Ne-ct-Xe-rt;let gt=!1,mt=!1,ut=-1;je!==2&&(de==="inherit"&&He?(gt=!0,mt=!0):me==="on"||me==="bounded"?mt=!0:me==="wordWrapColumn"&&(ut=ye));const _t=K._computeMinimapLayout({outerWidth:Ne,outerHeight:Be,lineHeight:We,typicalHalfwidthCharacterWidth:G,pixelRatio:he,scrollBeyondLastLine:be,minimap:De,verticalScrollbarWidth:ee,viewLineCount:J,remainingWidth:yt,isViewportWrapping:mt},_e.memory||new y);_t.renderMinimap!==0&&_t.minimapLeft===0&&(dt+=_t.minimapWidth,ht+=_t.minimapWidth,wt+=_t.minimapWidth,Dt+=_t.minimapWidth);const vt=yt-_t.minimapWidth,Rt=Math.max(1,Math.floor((vt-ee-2)/G)),Pt=Fe?xe:0;return mt&&(ut=Math.max(1,Rt),me==="bounded"&&(ut=Math.min(ut,ye))),{width:Ne,height:Be,glyphMarginLeft:dt,glyphMarginWidth:ct,lineNumbersLeft:ht,lineNumbersWidth:Xe,decorationsLeft:wt,decorationsWidth:rt,contentLeft:Dt,contentWidth:vt,minimap:_t,viewportColumn:Rt,isWordWrapMinified:gt,isViewportWrapping:mt,wrappingColumn:ut,verticalScrollbarWidth:ee,horizontalScrollbarHeight:Ye,overviewRuler:{top:Pt,width:ee,height:Be-2*Pt,right:0}}}}e.EditorLayoutInfoComputer=K;class x extends i{constructor(){const ne={enabled:!0};super(51,"lightbulb",ne,{"editor.lightbulb.enabled":{type:"boolean",default:ne.enabled,description:v.localize(39,null)}})}validate(ne){return!ne||typeof ne!="object"?this.defaultValue:{enabled:p(ne.enabled,this.defaultValue.enabled)}}}class N extends i{constructor(){const ne={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,"inlineHints",ne,{"editor.inlineHints.enabled":{type:"boolean",default:ne.enabled,description:v.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:ne.fontSize,description:v.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:ne.fontFamily,description:v.localize(42,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class U extends l{constructor(){super(53,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(ne,_e,Ne){return ne.fontInfo.lineHeight}}class F extends i{constructor(){const ne={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(59,"minimap",ne,{"editor.minimap.enabled":{type:"boolean",default:ne.enabled,description:v.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:ne.size,description:v.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ne.side,description:v.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ne.showSlider,description:v.localize(50,null)},"editor.minimap.scale":{type:"number",default:ne.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ne.renderCharacters,description:v.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:ne.maxColumn,description:v.localize(53,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),size:w(_e.size,this.defaultValue.size,["proportional","fill","fit"]),side:w(_e.side,this.defaultValue.side,["right","left"]),showSlider:w(_e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:p(_e.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(_e.scale,1,1,3),maxColumn:l.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(X){return X==="ctrlCmd"?D.isMacintosh?"metaKey":"ctrlKey":"altKey"}class $ extends i{constructor(){super(69,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class q extends i{constructor(){const ne={enabled:!0,cycle:!1};super(70,"parameterHints",ne,{"editor.parameterHints.enabled":{type:"boolean",default:ne.enabled,description:v.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:ne.cycle,description:v.localize(57,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:p(_e.enabled,this.defaultValue.enabled),cycle:p(_e.cycle,this.defaultValue.cycle)}}}class Z extends T{constructor(){super(122)}compute(ne,_e,Ne){return ne.pixelRatio}}class ae extends i{constructor(){const ne={other:!0,comments:!1,strings:!1};super(73,"quickSuggestions",ne,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ne.strings,description:v.localize(58,null)},comments:{type:"boolean",default:ne.comments,description:v.localize(59,null)},other:{type:"boolean",default:ne.other,description:v.localize(60,null)}}}],default:ne,description:v.localize(61,null)});this.defaultValue=ne}validate(ne){if(typeof ne=="boolean")return ne;if(ne&&typeof ne=="object"){const _e=ne,Ne={other:p(_e.other,this.defaultValue.other),comments:p(_e.comments,this.defaultValue.comments),strings:p(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var fe;(function(X){X[X.Off=0]="Off",X[X.On=1]="On",X[X.Relative=2]="Relative",X[X.Interval=3]="Interval",X[X.Custom=4]="Custom"})(fe=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Te extends i{constructor(){super(54,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:"on",description:v.localize(66,null)})}validate(ne){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ne!="undefined"&&(typeof ne=="function"?(_e=4,Ne=ne):ne==="interval"?_e=3:ne==="relative"?_e=2:ne==="on"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Se(X){const ne=X.get(82);return ne==="editable"?X.get(75):ne!=="on"}e.filterValidationDecorations=Se;class Le extends i{constructor(){const ne=[],_e={type:"number",description:v.localize(67,null)};super(86,"rulers",ne,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:v.localize(68,null),format:"color-hex"}}}]},default:ne,description:v.localize(69,null)})}validate(ne){if(Array.isArray(ne)){let _e=[];for(let Ne of ne)if(typeof Ne=="number")_e.push({column:l.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne=="object"){const Be=Ne;_e.push({column:l.clampedInt(Be.column,0,0,1e4),color:Be.color})}return _e.sort((Ne,Be)=>Ne.column-Be.column),_e}return this.defaultValue}}function H(X,ne){if(typeof X!="string")return ne;switch(X){case"hidden":return 2;case"visible":return 3;default:return 1}}class Y extends i{constructor(){super(87,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne,Ne=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:H(_e.vertical,this.defaultValue.vertical),horizontal:H(_e.horizontal,this.defaultValue.horizontal),useShadows:p(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:p(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:p(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:p(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:p(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,Be,0,1e3),scrollByPage:p(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ie extends i{constructor(){const ne={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,"suggest",ne,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:ne.insertMode,description:v.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ne.filterGraceful,description:v.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:ne.localityBonus,description:v.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ne.shareSuggestSelections,markdownDescription:v.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ne.snippetsPreventQuickSuggestions,description:v.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:ne.showIcons,description:v.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ne.showStatusBar,description:v.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ne.showInlineDetails,description:v.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.localize(109,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{insertMode:w(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:p(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:p(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:p(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:p(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:p(_e.showIcons,this.defaultValue.showIcons),showStatusBar:p(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:p(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:p(_e.showMethods,this.defaultValue.showMethods),showFunctions:p(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:p(_e.showConstructors,this.defaultValue.showConstructors),showFields:p(_e.showFields,this.defaultValue.showFields),showVariables:p(_e.showVariables,this.defaultValue.showVariables),showClasses:p(_e.showClasses,this.defaultValue.showClasses),showStructs:p(_e.showStructs,this.defaultValue.showStructs),showInterfaces:p(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:p(_e.showModules,this.defaultValue.showModules),showProperties:p(_e.showProperties,this.defaultValue.showProperties),showEvents:p(_e.showEvents,this.defaultValue.showEvents),showOperators:p(_e.showOperators,this.defaultValue.showOperators),showUnits:p(_e.showUnits,this.defaultValue.showUnits),showValues:p(_e.showValues,this.defaultValue.showValues),showConstants:p(_e.showConstants,this.defaultValue.showConstants),showEnums:p(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:p(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:p(_e.showKeywords,this.defaultValue.showKeywords),showWords:p(_e.showWords,this.defaultValue.showWords),showColors:p(_e.showColors,this.defaultValue.showColors),showFiles:p(_e.showFiles,this.defaultValue.showFiles),showReferences:p(_e.showReferences,this.defaultValue.showReferences),showFolders:p(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:p(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:p(_e.showSnippets,this.defaultValue.showSnippets),showUsers:p(_e.showUsers,this.defaultValue.showUsers),showIssues:p(_e.showIssues,this.defaultValue.showIssues)}}}class oe extends i{constructor(){super(97,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.localize(110,null),default:!0,type:"boolean"}})}validate(ne){return!ne||typeof ne!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:p(ne.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ve extends T{constructor(){super(123,[75])}compute(ne,_e,Ne){return _e.get(75)?!0:ne.tabFocusMode}}var ke;(function(X){X[X.None=0]="None",X[X.Same=1]="Same",X[X.Indent=2]="Indent",X[X.DeepIndent=3]="DeepIndent"})(ke=e.WrappingIndent||(e.WrappingIndent={}));function Me(X){switch(X){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class we extends T{constructor(){super(125,[124])}compute(ne,_e,Ne){const Be=_e.get(124);return{isDominatedByLongLines:ne.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}const Pe="Consolas, 'Courier New', monospace",Re="Menlo, Monaco, 'Courier New', monospace",Ue="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:D.isMacintosh?Re:D.isLinux?Ue:Pe,fontWeight:"normal",fontSize:D.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Ee(X){return e.editorOptionsRegistry[X.id]=X,X}var Ke;(function(X){X[X.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",X[X.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",X[X.accessibilitySupport=2]="accessibilitySupport",X[X.accessibilityPageSize=3]="accessibilityPageSize",X[X.ariaLabel=4]="ariaLabel",X[X.autoClosingBrackets=5]="autoClosingBrackets",X[X.autoClosingOvertype=6]="autoClosingOvertype",X[X.autoClosingQuotes=7]="autoClosingQuotes",X[X.autoIndent=8]="autoIndent",X[X.automaticLayout=9]="automaticLayout",X[X.autoSurround=10]="autoSurround",X[X.codeLens=11]="codeLens",X[X.codeLensFontFamily=12]="codeLensFontFamily",X[X.codeLensFontSize=13]="codeLensFontSize",X[X.colorDecorators=14]="colorDecorators",X[X.columnSelection=15]="columnSelection",X[X.comments=16]="comments",X[X.contextmenu=17]="contextmenu",X[X.copyWithSyntaxHighlighting=18]="copyWithSyntaxHighlighting",X[X.cursorBlinking=19]="cursorBlinking",X[X.cursorSmoothCaretAnimation=20]="cursorSmoothCaretAnimation",X[X.cursorStyle=21]="cursorStyle",X[X.cursorSurroundingLines=22]="cursorSurroundingLines",X[X.cursorSurroundingLinesStyle=23]="cursorSurroundingLinesStyle",X[X.cursorWidth=24]="cursorWidth",X[X.disableLayerHinting=25]="disableLayerHinting",X[X.disableMonospaceOptimizations=26]="disableMonospaceOptimizations",X[X.dragAndDrop=27]="dragAndDrop",X[X.emptySelectionClipboard=28]="emptySelectionClipboard",X[X.extraEditorClassName=29]="extraEditorClassName",X[X.fastScrollSensitivity=30]="fastScrollSensitivity",X[X.find=31]="find",X[X.fixedOverflowWidgets=32]="fixedOverflowWidgets",X[X.folding=33]="folding",X[X.foldingStrategy=34]="foldingStrategy",X[X.foldingHighlight=35]="foldingHighlight",X[X.unfoldOnClickAfterEndOfLine=36]="unfoldOnClickAfterEndOfLine",X[X.fontFamily=37]="fontFamily",X[X.fontInfo=38]="fontInfo",X[X.fontLigatures=39]="fontLigatures",X[X.fontSize=40]="fontSize",X[X.fontWeight=41]="fontWeight",X[X.formatOnPaste=42]="formatOnPaste",X[X.formatOnType=43]="formatOnType",X[X.glyphMargin=44]="glyphMargin",X[X.gotoLocation=45]="gotoLocation",X[X.hideCursorInOverviewRuler=46]="hideCursorInOverviewRuler",X[X.highlightActiveIndentGuide=47]="highlightActiveIndentGuide",X[X.hover=48]="hover",X[X.inDiffEditor=49]="inDiffEditor",X[X.letterSpacing=50]="letterSpacing",X[X.lightbulb=51]="lightbulb",X[X.lineDecorationsWidth=52]="lineDecorationsWidth",X[X.lineHeight=53]="lineHeight",X[X.lineNumbers=54]="lineNumbers",X[X.lineNumbersMinChars=55]="lineNumbersMinChars",X[X.linkedEditing=56]="linkedEditing",X[X.links=57]="links",X[X.matchBrackets=58]="matchBrackets",X[X.minimap=59]="minimap",X[X.mouseStyle=60]="mouseStyle",X[X.mouseWheelScrollSensitivity=61]="mouseWheelScrollSensitivity",X[X.mouseWheelZoom=62]="mouseWheelZoom",X[X.multiCursorMergeOverlapping=63]="multiCursorMergeOverlapping",X[X.multiCursorModifier=64]="multiCursorModifier",X[X.multiCursorPaste=65]="multiCursorPaste",X[X.occurrencesHighlight=66]="occurrencesHighlight",X[X.overviewRulerBorder=67]="overviewRulerBorder",X[X.overviewRulerLanes=68]="overviewRulerLanes",X[X.padding=69]="padding",X[X.parameterHints=70]="parameterHints",X[X.peekWidgetDefaultFocus=71]="peekWidgetDefaultFocus",X[X.definitionLinkOpensInPeek=72]="definitionLinkOpensInPeek",X[X.quickSuggestions=73]="quickSuggestions",X[X.quickSuggestionsDelay=74]="quickSuggestionsDelay",X[X.readOnly=75]="readOnly",X[X.renameOnType=76]="renameOnType",X[X.renderControlCharacters=77]="renderControlCharacters",X[X.renderIndentGuides=78]="renderIndentGuides",X[X.renderFinalNewline=79]="renderFinalNewline",X[X.renderLineHighlight=80]="renderLineHighlight",X[X.renderLineHighlightOnlyWhenFocus=81]="renderLineHighlightOnlyWhenFocus",X[X.renderValidationDecorations=82]="renderValidationDecorations",X[X.renderWhitespace=83]="renderWhitespace",X[X.revealHorizontalRightPadding=84]="revealHorizontalRightPadding",X[X.roundedSelection=85]="roundedSelection",X[X.rulers=86]="rulers",X[X.scrollbar=87]="scrollbar",X[X.scrollBeyondLastColumn=88]="scrollBeyondLastColumn",X[X.scrollBeyondLastLine=89]="scrollBeyondLastLine",X[X.scrollPredominantAxis=90]="scrollPredominantAxis",X[X.selectionClipboard=91]="selectionClipboard",X[X.selectionHighlight=92]="selectionHighlight",X[X.selectOnLineNumbers=93]="selectOnLineNumbers",X[X.showFoldingControls=94]="showFoldingControls",X[X.showUnused=95]="showUnused",X[X.snippetSuggestions=96]="snippetSuggestions",X[X.smartSelect=97]="smartSelect",X[X.smoothScrolling=98]="smoothScrolling",X[X.stickyTabStops=99]="stickyTabStops",X[X.stopRenderingLineAfter=100]="stopRenderingLineAfter",X[X.suggest=101]="suggest",X[X.suggestFontSize=102]="suggestFontSize",X[X.suggestLineHeight=103]="suggestLineHeight",X[X.suggestOnTriggerCharacters=104]="suggestOnTriggerCharacters",X[X.suggestSelection=105]="suggestSelection",X[X.tabCompletion=106]="tabCompletion",X[X.tabIndex=107]="tabIndex",X[X.unusualLineTerminators=108]="unusualLineTerminators",X[X.useTabStops=109]="useTabStops",X[X.wordSeparators=110]="wordSeparators",X[X.wordWrap=111]="wordWrap",X[X.wordWrapBreakAfterCharacters=112]="wordWrapBreakAfterCharacters",X[X.wordWrapBreakBeforeCharacters=113]="wordWrapBreakBeforeCharacters",X[X.wordWrapColumn=114]="wordWrapColumn",X[X.wordWrapOverride1=115]="wordWrapOverride1",X[X.wordWrapOverride2=116]="wordWrapOverride2",X[X.wrappingIndent=117]="wrappingIndent",X[X.wrappingStrategy=118]="wrappingStrategy",X[X.showDeprecated=119]="showDeprecated",X[X.inlineHints=120]="inlineHints",X[X.editorClassName=121]="editorClassName",X[X.pixelRatio=122]="pixelRatio",X[X.tabFocusMode=123]="tabFocusMode",X[X.layoutInfo=124]="layoutInfo",X[X.wrappingInfo=125]="wrappingInfo"})(Ke=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new f(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:Ee(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.localize(112,null),""],markdownDescription:v.localize(113,null)})),accessibilitySupport:Ee(new c),accessibilityPageSize:Ee(new l(3,"accessibilityPageSize",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:Ee(new S(4,"ariaLabel",v.localize(115,null))),autoClosingBrackets:Ee(new g(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(116,null),v.localize(117,null),""],description:v.localize(118,null)})),autoClosingOvertype:Ee(new g(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.localize(119,null),""],description:v.localize(120,null)})),autoClosingQuotes:Ee(new g(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(121,null),v.localize(122,null),""],description:v.localize(123,null)})),autoIndent:Ee(new a(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],u,{enumDescriptions:[v.localize(124,null),v.localize(125,null),v.localize(126,null),v.localize(127,null),v.localize(128,null)],description:v.localize(129,null)})),automaticLayout:Ee(new f(9,"automaticLayout",!1)),autoSurround:Ee(new g(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.localize(130,null),v.localize(131,null),v.localize(132,null),""],description:v.localize(133,null)})),stickyTabStops:Ee(new f(99,"stickyTabStops",!1,{description:v.localize(134,null)})),codeLens:Ee(new f(11,"codeLens",!0,{description:v.localize(135,null)})),codeLensFontFamily:Ee(new S(12,"codeLensFontFamily","",{description:v.localize(136,null)})),codeLensFontSize:Ee(new l(13,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:v.localize(137,null)})),colorDecorators:Ee(new f(14,"colorDecorators",!0,{description:v.localize(138,null)})),columnSelection:Ee(new f(15,"columnSelection",!1,{description:v.localize(139,null)})),comments:Ee(new t),contextmenu:Ee(new f(17,"contextmenu",!0)),copyWithSyntaxHighlighting:Ee(new f(18,"copyWithSyntaxHighlighting",!0,{description:v.localize(140,null)})),cursorBlinking:Ee(new a(19,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],s,{description:v.localize(141,null)})),cursorSmoothCaretAnimation:Ee(new f(20,"cursorSmoothCaretAnimation",!1,{description:v.localize(142,null)})),cursorStyle:Ee(new a(21,"cursorStyle",o.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],d,{description:v.localize(143,null)})),cursorSurroundingLines:Ee(new l(22,"cursorSurroundingLines",0,0,1073741824,{description:v.localize(144,null)})),cursorSurroundingLinesStyle:Ee(new g(23,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.localize(145,null),v.localize(146,null)],description:v.localize(147,null)})),cursorWidth:Ee(new l(24,"cursorWidth",0,0,1073741824,{markdownDescription:v.localize(148,null)})),disableLayerHinting:Ee(new f(25,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ee(new f(26,"disableMonospaceOptimizations",!1)),dragAndDrop:Ee(new f(27,"dragAndDrop",!0,{description:v.localize(149,null)})),emptySelectionClipboard:Ee(new E),extraEditorClassName:Ee(new S(29,"extraEditorClassName","")),fastScrollSensitivity:Ee(new m(30,"fastScrollSensitivity",5,X=>X<=0?5:X,{markdownDescription:v.localize(150,null)})),find:Ee(new h),fixedOverflowWidgets:Ee(new f(32,"fixedOverflowWidgets",!1)),folding:Ee(new f(33,"folding",!0,{description:v.localize(151,null)})),foldingStrategy:Ee(new g(34,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.localize(152,null),v.localize(153,null)],description:v.localize(154,null)})),foldingHighlight:Ee(new f(35,"foldingHighlight",!0,{description:v.localize(155,null)})),unfoldOnClickAfterEndOfLine:Ee(new f(36,"unfoldOnClickAfterEndOfLine",!1,{description:v.localize(156,null)})),fontFamily:Ee(new S(37,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(157,null)})),fontInfo:Ee(new A),fontLigatures2:Ee(new b),fontSize:Ee(new L),fontWeight:Ee(new M),formatOnPaste:Ee(new f(42,"formatOnPaste",!1,{description:v.localize(158,null)})),formatOnType:Ee(new f(43,"formatOnType",!1,{description:v.localize(159,null)})),glyphMargin:Ee(new f(44,"glyphMargin",!0,{description:v.localize(160,null)})),gotoLocation:Ee(new z),hideCursorInOverviewRuler:Ee(new f(46,"hideCursorInOverviewRuler",!1,{description:v.localize(161,null)})),highlightActiveIndentGuide:Ee(new f(47,"highlightActiveIndentGuide",!0,{description:v.localize(162,null)})),hover:Ee(new V),inDiffEditor:Ee(new f(49,"inDiffEditor",!1)),letterSpacing:Ee(new m(50,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,X=>m.clamp(X,-5,20),{description:v.localize(163,null)})),lightbulb:Ee(new x),lineDecorationsWidth:Ee(new k(52,"lineDecorationsWidth",10)),lineHeight:Ee(new U),lineNumbers:Ee(new Te),lineNumbersMinChars:Ee(new l(55,"lineNumbersMinChars",5,1,300)),linkedEditing:Ee(new f(56,"linkedEditing",!1,{description:v.localize(164,null)})),links:Ee(new f(57,"links",!0,{description:v.localize(165,null)})),matchBrackets:Ee(new g(58,"matchBrackets","always",["always","near","never"],{description:v.localize(166,null)})),minimap:Ee(new F),mouseStyle:Ee(new g(60,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ee(new m(61,"mouseWheelScrollSensitivity",1,X=>X===0?1:X,{markdownDescription:v.localize(167,null)})),mouseWheelZoom:Ee(new f(62,"mouseWheelZoom",!1,{markdownDescription:v.localize(168,null)})),multiCursorMergeOverlapping:Ee(new f(63,"multiCursorMergeOverlapping",!0,{description:v.localize(169,null)})),multiCursorModifier:Ee(new a(64,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],O,{markdownEnumDescriptions:[v.localize(170,null),v.localize(171,null)],markdownDescription:v.localize(172,null)})),multiCursorPaste:Ee(new g(65,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.localize(173,null),v.localize(174,null)],markdownDescription:v.localize(175,null)})),occurrencesHighlight:Ee(new f(66,"occurrencesHighlight",!0,{description:v.localize(176,null)})),overviewRulerBorder:Ee(new f(67,"overviewRulerBorder",!0,{description:v.localize(177,null)})),overviewRulerLanes:Ee(new l(68,"overviewRulerLanes",3,0,3)),padding:Ee(new $),parameterHints:Ee(new q),peekWidgetDefaultFocus:Ee(new g(71,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.localize(178,null),v.localize(179,null)],description:v.localize(180,null)})),definitionLinkOpensInPeek:Ee(new f(72,"definitionLinkOpensInPeek",!1,{description:v.localize(181,null)})),quickSuggestions:Ee(new ae),quickSuggestionsDelay:Ee(new l(74,"quickSuggestionsDelay",10,0,1073741824,{description:v.localize(182,null)})),readOnly:Ee(new f(75,"readOnly",!1)),renameOnType:Ee(new f(76,"renameOnType",!1,{description:v.localize(183,null),markdownDeprecationMessage:v.localize(184,null)})),renderControlCharacters:Ee(new f(77,"renderControlCharacters",!1,{description:v.localize(185,null)})),renderIndentGuides:Ee(new f(78,"renderIndentGuides",!0,{description:v.localize(186,null)})),renderFinalNewline:Ee(new f(79,"renderFinalNewline",!0,{description:v.localize(187,null)})),renderLineHighlight:Ee(new g(80,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.localize(188,null)],description:v.localize(189,null)})),renderLineHighlightOnlyWhenFocus:Ee(new f(81,"renderLineHighlightOnlyWhenFocus",!1,{description:v.localize(190,null)})),renderValidationDecorations:Ee(new g(82,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ee(new g(83,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.localize(191,null),v.localize(192,null),v.localize(193,null),""],description:v.localize(194,null)})),revealHorizontalRightPadding:Ee(new l(84,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ee(new f(85,"roundedSelection",!0,{description:v.localize(195,null)})),rulers:Ee(new Le),scrollbar:Ee(new Y),scrollBeyondLastColumn:Ee(new l(88,"scrollBeyondLastColumn",5,0,1073741824,{description:v.localize(196,null)})),scrollBeyondLastLine:Ee(new f(89,"scrollBeyondLastLine",!0,{description:v.localize(197,null)})),scrollPredominantAxis:Ee(new f(90,"scrollPredominantAxis",!0,{description:v.localize(198,null)})),selectionClipboard:Ee(new f(91,"selectionClipboard",!0,{description:v.localize(199,null),included:D.isLinux})),selectionHighlight:Ee(new f(92,"selectionHighlight",!0,{description:v.localize(200,null)})),selectOnLineNumbers:Ee(new f(93,"selectOnLineNumbers",!0)),showFoldingControls:Ee(new g(94,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[v.localize(201,null),v.localize(202,null)],description:v.localize(203,null)})),showUnused:Ee(new f(95,"showUnused",!0,{description:v.localize(204,null)})),showDeprecated:Ee(new f(119,"showDeprecated",!0,{description:v.localize(205,null)})),inlineHints:Ee(new N),snippetSuggestions:Ee(new g(96,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.localize(206,null),v.localize(207,null),v.localize(208,null),v.localize(209,null)],description:v.localize(210,null)})),smartSelect:Ee(new oe),smoothScrolling:Ee(new f(98,"smoothScrolling",!1,{description:v.localize(211,null)})),stopRenderingLineAfter:Ee(new l(100,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ee(new ie),suggestFontSize:Ee(new l(102,"suggestFontSize",0,0,1e3,{markdownDescription:v.localize(212,null)})),suggestLineHeight:Ee(new l(103,"suggestLineHeight",0,0,1e3,{markdownDescription:v.localize(213,null)})),suggestOnTriggerCharacters:Ee(new f(104,"suggestOnTriggerCharacters",!0,{description:v.localize(214,null)})),suggestSelection:Ee(new g(105,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.localize(215,null),v.localize(216,null),v.localize(217,null)],description:v.localize(218,null)})),tabCompletion:Ee(new g(106,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.localize(219,null),v.localize(220,null),v.localize(221,null)],description:v.localize(222,null)})),tabIndex:Ee(new l(107,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Ee(new g(108,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.localize(223,null),v.localize(224,null),v.localize(225,null)],description:v.localize(226,null)})),useTabStops:Ee(new f(109,"useTabStops",!0,{description:v.localize(227,null)})),wordSeparators:Ee(new S(110,"wordSeparators",R.USUAL_WORD_SEPARATORS,{description:v.localize(228,null)})),wordWrap:Ee(new g(111,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.localize(229,null),v.localize(230,null),v.localize(231,null),v.localize(232,null)],description:v.localize(233,null)})),wordWrapBreakAfterCharacters:Ee(new S(112,"wordWrapBreakAfterCharacters"," })]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ee(new S(113,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ee(new l(114,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.localize(234,null)})),wordWrapOverride1:Ee(new g(115,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ee(new g(116,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ee(new a(117,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Me,{enumDescriptions:[v.localize(235,null),v.localize(236,null),v.localize(237,null),v.localize(238,null)],description:v.localize(239,null)})),wrappingStrategy:Ee(new g(118,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v.localize(240,null),v.localize(241,null)],description:v.localize(242,null)})),editorClassName:Ee(new _),pixelRatio:Ee(new Z),tabFocusMode:Ee(new ve),layoutInfo:Ee(new K),wrappingInfo:Ee(new we)}}),define(ge[149],pe([17,18]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ge[150],pe([17,18]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ge[151],pe([17,18]),function(Q,e){return Q.create("vs/platform/files/common/files",e)}),define(ge[152],pe([17,18]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(ge[153],pe([17,18]),function(Q,e){return Q.create("vs/platform/terminal/node/terminalProcess",e)}),define(ge[154],pe([17,18]),function(Q,e){return Q.create("vs/platform/theme/common/iconRegistry",e)}),define(ge[155],pe([17,18]),function(Q,e){return Q.create("vs/platform/workspaces/common/workspaces",e)}),define(ge[156],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHost.api.impl",e)}),define(ge[157],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ge[158],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostExtensionActivator",e)}),define(ge[159],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ge[160],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostProgress",e)}),define(ge[161],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ge[162],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ge[163],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ge[164],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ge[165],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/node/extHostDebugService",e)}),define(ge[166],pe([17,18]),function(Q,e){return Q.create("vs/workbench/common/views",e)}),define(ge[167],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ge[168],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/debug/node/debugAdapter",e)}),define(ge[169],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/externalTerminal/node/externalTerminalService",e)}),define(ge[170],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/search/common/queryBuilder",e)}),define(ge[171],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(ge[172],pe([17,18]),function(Q,e){return Q.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ge[173],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(C){C[C.ACTIVATE=0]="ACTIVATE",C[C.RESTORE=1]="RESTORE",C[C.PRESERVE=2]="PRESERVE"})(v=e.EditorActivation||(e.EditorActivation={}));var D;(function(C){C[C.PICK=1]="PICK",C[C.DISABLED=2]="DISABLED"})(D=e.EditorOverride||(e.EditorOverride={}));var R;(function(C){C[C.API=0]="API",C[C.USER=1]="USER"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var P;(function(C){C[C.Center=0]="Center",C[C.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",C[C.NearTop=2]="NearTop",C[C.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(P=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[107],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class v{constructor(P,C=[],I=!1){this.ctor=P,this.staticArguments=C,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=v;const D=(R,...P)=>new v(R,P);e.createSyncDescriptor=D}),define(ge[80],pe([0,1,107]),function(Q,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const D=[];function R(C,I,y){I instanceof v.SyncDescriptor||(I=new v.SyncDescriptor(I,[],y)),D.push([C,I])}e.registerSingleton=R;function P(){return D}e.getSingletonServiceDescriptors=P}),define(ge[174],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(P){this.incoming=new Map,this.outgoing=new Map,this.data=P}}e.Node=v;class D{constructor(P){this._hashFn=P,this._nodes=new Map}roots(){const P=[];for(let C of this._nodes.values())C.outgoing.size===0&&P.push(C);return P}insertEdge(P,C){const I=this.lookupOrInsertNode(P),y=this.lookupOrInsertNode(C);I.outgoing.set(this._hashFn(C),y),y.incoming.set(this._hashFn(P),I)}removeNode(P){const C=this._hashFn(P);this._nodes.delete(C);for(let I of this._nodes.values())I.outgoing.delete(C),I.incoming.delete(C)}lookupOrInsertNode(P){const C=this._hashFn(P);let I=this._nodes.get(C);return I||(I=new v(P),this._nodes.set(C,I)),I}lookup(P){return this._nodes.get(this._hashFn(P))}isEmpty(){return this._nodes.size===0}toString(){let P=[];for(let[C,I]of this._nodes)P.push(`${C}, (incoming)[${[...I.incoming.keys()].join(", ")}], (outgoing)[${[...I.outgoing.keys()].join(",")}]`);return P.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js
[26][风险] 黑客在2021-03-06 06:00:32时间，植入了恶意文件/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(22)},function(e,t,r){"use strict";const n=r(0),o=r(23),s=r(24),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const p=(r,i=!1)=>{let{isMatch:p,match:l,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:l,isMatch:p};return"function"==typeof n.onResult&&n.onResult(d),!1===p?(d.isMatch=!1,!!i&&d):c(r)?("function"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):("function"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(p.state=u),p};a.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,p=c&&u?u(e):e;return!1===c&&(p=u?u(e):e,c=p===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(p)),{isMatch:!!c,match:c,output:p}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o,i=t||{},u=i.contains?"":"^",c=i.contains?"":"$",p={negated:!1,fastpaths:!0},l="";if(e.startsWith("./")&&(e=e.slice(2),l=p.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(p=a.parse(e,t),p.prefix=l+(p.prefix||""),o=p.output),!0===r)return o;let f=`${u}(?:${o})${c}`;p&&!0===p.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=p),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){"use strict";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:R}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},C=e.length-1,v=-1,b=0,x=0,S=!1,O=!1,m=!1,H=0,T=!1,L=()=>v>=C,N=()=>(r=E,e.charCodeAt(++v));for(;v<C;){let t;if(E=N(),E!==i){if(!0===T||E===l)for(H++;!L()&&(t=N());)if(t!==i)if(t!==l){if(!T&&t===u&&(t=N())===u){S=!0;break}if(!T&&t===a){S=!0;break}if(t===g&&(H--,0===H)){T=!1;break}}else H++;else O=!0,t=N();if(E!==p){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!L()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else O=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(v+1)===f){S=!0;break}if(E!==c||v!==b){if(E===f)for(;!L()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else O=!0,t=N();if(S)break}else m=!0,b++}else{if(r===u&&v===b+1){b+=2;continue}x=v+1}}else O=!0,t=N(),t===l&&(T=!0)}let w="",I=e,$=e,k="";return b>0&&(w=e.slice(0,b),e=e.slice(b),x-=b),$&&!0===S&&x>0?($=e.slice(0,x),k=e.slice(x)):!0===S?($="",k=e):$=e,$&&""!==$&&"/"!==$&&$!==e&&(e=>e===p||e===i)($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===y.unescape&&(k&&(k=n.removeBackslashes(k)),$&&!0===O&&($=n.removeBackslashes($))),{prefix:w,input:I,base:$,glob:k,negated:m,isGlob:S}}},function(e,t,r){"use strict";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,p=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},l=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;let r={...t},d="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:"bos",value:"",output:r.prepend||""},g=[h],A=r.capture?"":"?:",R=n.isWindows(t);const E=o.globChars(R),y=o.extglobChars(E),{DOT_LITERAL:C,PLUS_LITERAL:v,SLASH_LITERAL:b,ONE_CHAR:x,DOTS_SLASH:S,NO_DOT:O,NO_DOT_SLASH:m,NO_DOTS_SLASH:H,QMARK:T,QMARK_NO_DOT:L,STAR:N,START_ANCHOR:w}=E,I=e=>`(${A}(?:(?!${w}${e.dot?S:C}).)*?)`;let $=r.dot?"":O,k=!0===r.bash?I(r):N,P=r.dot?T:L;r.capture&&(k=`(${k})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],F=[],K=h;const j=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||""},Q=e=>{D[e]++,F.push(e)},W=e=>{D[e]--,F.pop()},X=e=>{if("globstar"===K.type){let t=D.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(D.output=D.output.slice(0,-K.output.length),K.type="star",K.value="*",K.output=k,D.output+=K.output)}B.length&&"paren"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&q(e),K&&"text"===K.type&&"text"===e.type?K.value+=e.value:(e.prev=K,g.push(e),K=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:""};n.prev=K,n.parens=D.parens,n.output=D.output;let o=(r.capture?"(":"")+n.open;X({type:e,value:t,output:D.output?"":x}),X({type:"paren",extglob:!0,value:G(),output:o}),Q("parens"),B.push(n)},V=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let o=k;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(o=I(r)),(o!==k||j()||/^\)+$/.test(e.slice(D.index+1)))&&(n=t.close=")$))"+o),"bos"===t.prev.type&&j()&&(D.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:M,output:n}),W("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>"\\"===o?(t=!0,e):"?"===o?r?r+o+(s?T.repeat(s.length):""):0===i?P+(s?T.repeat(s.length):""):T.repeat(n.length):"."===o?C.repeat(n.length):"*"===o?r?r+o+(s?k:""):k:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),D.output=n,D}for(;!j();){if(M=G(),"\0"===M)continue;if("\\"===M){let t=U();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",X({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+="\\")),!0===r.unescape?M=G()||"":M+=G()||"",0===D.brackets){X({type:"text",value:M});continue}}if(D.brackets>0&&("]"!==M||"["===K.value||"[^"===K.value)){if(!1!==r.posix&&":"===M){let e=K.value.slice(1);if(e.includes("[")&&(K.posix=!0,e.includes(":"))){let e=K.value.lastIndexOf("["),t=K.value.slice(0,e),r=K.value.slice(e+2),n=i[r];if(n){K.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(K)||(h.output=x);continue}}}("["===M&&":"!==U()||"-"===M&&"]"===U())&&(M="\\"+M),"]"!==M||"["!==K.value&&"[^"!==K.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===K.value&&(M="^"),K.value+=M,q({value:M});continue}if(1===D.quotes&&'"'!==M){M=n.escapeRegex(M),K.value+=M,q({value:M});continue}if('"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:M});continue}if("("===M){X({type:"paren",value:M}),Q("parens");continue}if(")"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f("opening","("));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:"paren",value:M,output:D.parens?")":"\\)"}),W("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));M="\\"+M}X({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||K&&"bracket"===K.type&&1===K.value.length){X({type:"text",value:M,output:"\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f("opening","["));X({type:"text",value:M,output:"\\"+M});continue}W("brackets");let e=K.value.slice(1);if(!0===K.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),K.value+=M,q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(K.value);if(D.output=D.output.slice(0,-K.value.length),!0===r.literalBrackets){D.output+=t,K.value=t;continue}K.value=`(${A}${t}|${K.value})`,D.output+=K.value;continue}if("{"===M&&!0!==r.nobrace){X({type:"brace",value:M,output:"("}),Q("braces");continue}if("}"===M){if(!0===r.nobrace||0===D.braces){X({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=p(n,r),D.backtrack=!0}X({type:"brace",value:M,output:e}),W("braces");continue}if("|"===M){B.length>0&&B[B.length-1].conditions++,X({type:"text",value:M});continue}if(","===M){let e=M;D.braces>0&&"braces"===F[F.length-1]&&(e="|"),X({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===K.type&&1===D.index){D.start=D.index+1,D.consumed="",D.output="",g.pop(),K=h;continue}X({type:"slash",value:M,output:b});continue}if("."===M){if(D.braces>0&&"dot"===K.type){"."===K.value&&(K.output=C),K.type="dots",K.output+=M,K.value+=M,D.dots=!0;continue}X({type:"dot",value:M,output:C});continue}if("?"===M){if(K&&"paren"===K.type){let e=U(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===K.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(U(2)))&&(t="\\"+M),X({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("qmark",M);continue}if(!0!==r.dot&&("slash"===K.type||"bos"===K.type)){X({type:"qmark",value:M,output:L});continue}X({type:"qmark",value:M,output:T});continue}if("!"===M){if(!0!==r.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){Z("negate",M);continue}if(!0!==r.nonegate&&0===D.index){l(D);continue}}if("+"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("plus",M);continue}if(K&&("bracket"===K.type||"paren"===K.type||"brace"===K.type)){let e=!0===K.extglob?"\\"+M:M;X({type:"plus",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:"plus",value:M});continue}X({type:"plus",value:v});continue}if("@"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){X({type:"at",value:M,output:""});continue}X({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:"text",value:M});continue}if(K&&("globstar"===K.type||!0===K.star)){K.type="star",K.star=!0,K.value+=M,K.output=k,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("star",M);continue}if("star"===K.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=K.prev,n=t.prev,o="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!o||!j()&&"/"!==U())){X({type:"star",value:M,output:""});continue}let i=D.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!o&&"paren"!==t.type&&!i&&!a){X({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&"/"!==t)break;D.consumed+="/**",D.index+=3}if("bos"===t.type&&j()){K.type="globstar",K.value+=M,K.output=I(r),D.output=K.output,D.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&j()){D.output=D.output.slice(0,-(t.output+K.output).length),t.output="(?:"+t.output,K.type="globstar",K.output=I(r)+"|$)",K.value+=M,D.output+=t.output+K.output,D.consumed+=M;continue}let u=U();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===u){let e=void 0!==U(2)?"|$":"";D.output=D.output.slice(0,-(t.output+K.output).length),t.output="(?:"+t.output,K.type="globstar",K.output=`${I(r)}${b}|${b}${e})`,K.value+=M,D.output+=t.output+K.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===u){K.type="globstar",K.value+=M,K.output=`(?:^|${b}|${I(r)}${b})`,D.output=K.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}D.output=D.output.slice(0,-K.output.length),K.type="globstar",K.output=I(r),K.value+=M,D.output+=K.output,D.consumed+=M;continue}let t={type:"star",value:M,output:k};!0!==r.bash?!K||"bracket"!==K.type&&"paren"!==K.type||!0!==r.regex?(D.index!==D.start&&"slash"!==K.type&&"dot"!==K.type||("dot"===K.type?(D.output+=m,K.output+=m):!0===r.dot?(D.output+=H,K.output+=H):(D.output+=$,K.output+=$),"*"!==U()&&(D.output+=x,K.output+=x)),X(t)):(t.output=M,X(t)):(t.output=".*?","bos"!==K.type&&"slash"!==K.type||(t.output=$+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));D.output=n.escapeLast(D.output,"["),W("brackets")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing",")"));D.output=n.escapeLast(D.output,"("),W("parens")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","}"));D.output=n.escapeLast(D.output,"{"),W("braces")}if(!0===r.strictSlashes||"star"!==K.type&&"bracket"!==K.type||X({type:"maybe_slash",value:"",output:`${b}?`}),!0===D.backtrack){D.output="";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:p,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:A,START_ANCHOR:R}=o.globChars(u);let E=r.capture?"":"?:",y=!0===r.bash?".*?":A,C=r.dot?h:_,v=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${R}${e.dot?d:p}).)*?)`,x=e=>{switch(e){case"*":return`${C}${f}${y}`;case".*":return`${p}${f}${y}`;case"*.*":return`${C}${y}${p}${f}${y}`;case"*/*":return`${C}${y}${l}${f}${v}${y}`;case"**":return C+b(r);case"**/*":return`(?:${C}${b(r)}${l})?${v}${f}${y}`;case"**/*.*":return`(?:${C}${b(r)}${l})?${v}${y}${p}${f}${y}`;case"**/.*":return`(?:${C}${b(r)}${l})?${p}${f}${y}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+p+r[2]}}};let S=x(e);return S&&!0!==r.strictSlashes&&(S+=`${l}?`),S},e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(28),logger_1=__webpack_require__(9);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(30).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&"node-gyp.js"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const i=r(8),a=r(5),u=r(29),c=s(r(0));class p{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-p.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),p.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=p,p.updateInterval=1e3,p.recencyDeadline=2e3},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=30},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(8);t.createTargetId=()=>n.randomBytes(12).toString("hex")},function(e,t){e.exports=require("worker_threads")}]);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js
[27][风险] 黑客在2021-03-06 06:00:32时间，植入了恶意文件/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(371)},function(e,t,r){"use strict";const n=r(0),i=r(372),s=r(373),o=r(82),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return"function"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):("function"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||""),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(83),e.exports=a},function(e,t,r){"use strict";const n=r(82),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(83);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A="",R=e,I=e,D="";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I="",D=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){"use strict";const n=r(82),i=r(83),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let r={...t},h="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:"bos",value:"",output:r.prepend||""},m=[g],y=r.capture?"":"?:",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?"":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||""},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if("globstar"===$.type){let t=F.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=D,F.output+=$.output)}B.length&&"paren"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&"text"===$.type&&"text"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:""};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?"(":"")+n.open;K({type:e,value:t,output:F.output?"":x}),K({type:"paren",extglob:!0,value:W(),output:i}),G("parens"),B.push(n)},Q=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=R(r)),(i!==D||q()||/^\)+$/.test(e.slice(F.index+1)))&&(n=t.close=")$))"+i),"bos"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:"paren",extglob:!0,value:N,output:n}),z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?r?r+i+(s?T.repeat(s.length):""):0===o?L+(s?T.repeat(s.length):""):T.repeat(n.length):"."===i?_.repeat(n.length):"*"===i?r?r+i+(s?D:""):D:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),F.output=n,F}for(;!q();){if(N=W(),"\0"===N)continue;if("\\"===N){let t=V();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){N+="\\",K({type:"text",value:N});continue}let n=/^\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+="\\")),!0===r.unescape?N=W()||"":N+=W()||"",0===F.brackets){K({type:"text",value:N});continue}}if(F.brackets>0&&("]"!==N||"["===$.value||"[^"===$.value)){if(!1!==r.posix&&":"===N){let e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){let e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}("["===N&&":"!==V()||"-"===N&&"]"===V())&&(N="\\"+N),"]"!==N||"["!==$.value&&"[^"!==$.value||(N="\\"+N),!0===r.posix&&"!"===N&&"["===$.value&&(N="^"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:"text",value:N});continue}if("("===N){K({type:"paren",value:N}),G("parens");continue}if(")"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:"paren",value:N,output:F.parens?")":"\\)"}),z("parens");continue}if("["===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes("]"))G("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));N="\\"+N}K({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||$&&"bracket"===$.type&&1===$.value.length){K({type:"text",value:N,output:"\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));K({type:"text",value:N,output:"\\"+N});continue}z("brackets");let e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(N="/"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if("{"===N&&!0!==r.nobrace){K({type:"brace",value:N,output:"("}),G("braces");continue}if("}"===N){if(!0===r.nobrace||0===F.braces){K({type:"text",value:N,output:"\\"+N});continue}let e=")";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:"brace",value:N,output:e}),z("braces");continue}if("|"===N){B.length>0&&B[B.length-1].conditions++,K({type:"text",value:N});continue}if(","===N){let e=N;F.braces>0&&"braces"===U[U.length-1]&&(e="|"),K({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===$.type&&1===F.index){F.start=F.index+1,F.consumed="",F.output="",m.pop(),$=g;continue}K({type:"slash",value:N,output:k});continue}if("."===N){if(F.braces>0&&"dot"===$.type){"."===$.value&&($.output=_),$.type="dots",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:"dot",value:N,output:_});continue}if("?"===N){if($&&"paren"===$.type){let e=V(),t=N;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===$.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(V(2)))&&(t="\\"+N),K({type:"text",value:N,output:t});continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("qmark",N);continue}if(!0!==r.dot&&("slash"===$.type||"bos"===$.type)){K({type:"qmark",value:N,output:j});continue}K({type:"qmark",value:N,output:T});continue}if("!"===N){if(!0!==r.noextglob&&"("===V()&&("?"!==V(2)||!/[!=<:]/.test(V(3)))){J("negate",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if("+"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("plus",N);continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)){let e=!0===$.extglob?"\\"+N:N;K({type:"plus",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:"plus",value:N});continue}K({type:"plus",value:S});continue}if("@"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){K({type:"at",value:N,output:""});continue}K({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N="\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:"text",value:N});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("star",N);continue}if("star"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!i||!q()&&"/"!==V())){K({type:"star",value:N,output:""});continue}let o=F.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){K({type:"star",value:N,output:""});continue}for(;"/**"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&"/"!==t)break;F.consumed+="/**",F.index+=3}if("bos"===t.type&&q()){$.type="globstar",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=R(r)+"|$)",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==V(2)?"|$":"";F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}if("bos"===t.type&&"/"===c){$.type="globstar",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}F.output=F.output.slice(0,-$.output.length),$.type="globstar",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:"star",value:N,output:D};!0!==r.bash?!$||"bracket"!==$.type&&"paren"!==$.type||!0!==r.regex?(F.index!==F.start&&"slash"!==$.type&&"dot"!==$.type||("dot"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),"*"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=".*?","bos"!==$.type&&"slash"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));F.output=n.escapeLast(F.output,"["),z("brackets")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));F.output=n.escapeLast(F.output,"("),z("parens")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));F.output=n.escapeLast(F.output,"{"),z("braces")}if(!0===r.strictSlashes||"star"!==$.type&&"bracket"!==$.type||K({type:"maybe_slash",value:"",output:`${k}?`}),!0===F.backtrack){F.output="";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?"":"?:",w=!0===r.bash?".*?":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case"*":return`${_}${d}${w}`;case".*":return`${l}${d}${w}`;case"*.*":return`${_}${w}${l}${d}${w}`;case"*/*":return`${_}${w}${p}${d}${S}${w}`;case"**":return _+k(r);case"**/*":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case"**/*.*":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case"**/.*":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const s=String(i);return s.startsWith("class ")||s.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},s=[],o=new Set;let a="~",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+="~";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>"{".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(61),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,"adapter/console/queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:u(2,null,e.message)}}const n="
           排查参考：[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js
[28][风险] 黑客在2021-03-15 18:49:08时间，植入了恶意文件/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js，反弹shell类：`):n}function L(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?S.localize(1,null,n.message):n.message||S.localize(2,null)}function h(n=null,D=!1){if(!n)return S.localize(3,null);if(Array.isArray(n)){const b=P.coalesce(n),I=h(b[0],D);return b.length>1?S.localize(4,null,I,b.length):I}if(d.isString(n))return n;if(n.detail){const b=n.detail;if(b.error)return y(b.error,D);if(b.exception)return y(b.exception,D)}return n.stack?y(n,D):n.message?n.message:S.localize(5,null)}e.toErrorMessage=h}),define(fe[135],he([9,10]),function(Q,e){return Q.create("vs/base/common/jsonErrorMessages",e)}),define(fe[136],he([0,1,135]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function d(P){switch(P){case 1:return S.localize(0,null);case 2:return S.localize(1,null);case 3:return S.localize(2,null);case 4:return S.localize(3,null);case 5:return S.localize(4,null);case 6:return S.localize(5,null);case 7:return S.localize(6,null);case 8:return S.localize(7,null);case 9:return S.localize(8,null);default:return""}}e.getParseErrorMessage=d}),define(fe[137],he([9,10]),function(Q,e){return Q.create("vs/base/node/processes",e)}),define(fe[81],he([0,1,2,15,20,32,137,11,19,28,5,74,8]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function E(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(l,r){if(D.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};r&&(t.cwd=r);const i=y.execFile("taskkill",["/T","/F","/PID",l.pid.toString()],t);return new Promise(s=>{i.once("error",c=>{s({success:!1,error:c})}),i.once("exit",(c,o)=>{s(c===0?{success:!0}:{success:!1,code:c!==null?c:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?E(t.status):1})}else if(D.isLinux||D.isMacintosh)try{const t=I.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Q).fsPath;return new Promise(i=>{y.execFile(t,[l.pid.toString()],{encoding:"utf8",shell:!0},(s,c,o)=>{i(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else l.kill("SIGKILL");return Promise.resolve({success:!0})}function g(l=process.env){return l.comspec||"cmd.exe"}e.getWindowsShell=g;class _{constructor(r,t,i,s){if(t!==void 0&&i!==void 0&&s!==void 0)this.cmd=r,this.args=t,this.shell=i,this.options=s;else{const c=r;this.cmd=c.command,this.shell=c.isShellCommand,this.args=c.args.slice(0),this.options=c.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const c=Object.create(null);Object.keys(process.env).forEach(o=>{c[o]=process.env[o]}),Object.keys(this.options.env).forEach(o=>{c[o]=this.options.env[o]}),this.options.env=c}}getSanitizedCommand(){let r=this.cmd.toLowerCase();const t=r.lastIndexOf(S.sep);return t!==-1&&(r=r.substring(t+1)),_.WellKnowCommands[r]?r:"other"}start(r){return D.isWindows&&(this.options&&this.options.cwd&&n.isUNC(this.options.cwd)||!this.options&&n.isUNC(process.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(t=>{let i,s;const c=new Promise((o,m)=>{i=o,s=m});if(t){let o=this.cmd;this.args&&(o=o+" "+this.args.join(" ")),this.childProcess=y.exec(o,this.options,(m,C,R)=>{this.childProcess=null;const v=m;v&&v.killed?s({killed:this.terminateRequested,stdout:C.toString(),stderr:R.toString()}):this.handleExec(i,r,m,C,R)})}else{let o=null;const m=C=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(C,i,r,s);const R={terminated:this.terminateRequested};L.isNumber(C)&&(R.cmdCode=C),i(R)};if(this.shell&&D.isWindows){const C=h.deepClone(this.options);C.windowsVerbatimArguments=!0,C.detached=!1;let R=!1,v=!1;const f=[];let T=this.ensureQuotes(this.cmd);f.push(T.value),R=T.quoted,this.args&&this.args.forEach(H=>{T=this.ensureQuotes(H),f.push(T.value),v=v&&T.quoted});const O=["/s","/c"];R?v?O.push('"'+f.join(" ")+'"'):f.length>1?O.push('"'+f[0]+'" '+f.slice(1).join(" ")):O.push('"'+f[0]+'"'):O.push(f.join(" ")),o=y.spawn(g(),O,C)}else this.cmd&&(o=y.spawn(this.cmd,this.args,this.options));o&&(this.childProcess=o,this.childProcessPromise=Promise.resolve(o),this.pidResolve&&(this.pidResolve(L.isNumber(o.pid)?o.pid:-1),this.pidResolve=void 0),o.on("error",C=>{this.childProcess=null,s({terminated:this.terminateRequested,error:C})}),o.pid&&(this.childProcess.on("close",m),this.handleSpawn(o,i,r,s,!0)))}return c})}handleClose(r,t,i,s){}ensureQuotes(r){return _.regexp.test(r)?{value:'"'+r+'"',quoted:!0}:{value:r,quoted:r.length>0&&r[0]==='"'&&r[r.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(r=>r.pid,r=>-1):new Promise(r=>{this.pidResolve=r})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(r=>(this.terminateRequested=!0,u(r,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),r=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(r=>{if(!this.shell||!D.isWindows)return r(!1);const t=y.spawn(g(),["/s","/c"]);t.on("error",i=>r(!0)),t.on("exit",i=>r(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^"].* .*[^"]/;class p extends _{constructor(r,t,i,s){super(r,t,i,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(r,t,i,s,c){[s,c].forEach((o,m)=>{const C=new b.LineDecoder;C.write(o).forEach(f=>{t({line:f,source:m===0?0:1})});const v=C.end();v&&t({line:v,source:m===0?0:1})}),r({terminated:this.terminateRequested,error:i})}handleSpawn(r,t,i,s,c){const o=new b.LineDecoder,m=new b.LineDecoder;r.stdout.on("data",C=>{o.write(C).forEach(v=>i({line:v,source:0}))}),r.stderr.on("data",C=>{m.write(C).forEach(v=>i({line:v,source:1}))}),this.stdoutLineDecoder=o,this.stderrLineDecoder=m}handleClose(r,t,i,s){const c=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;c&&i({line:c,source:0});const o=this.stderrLineDecoder?this.stderrLineDecoder.end():null;o&&i({line:o,source:1})}}e.LineProcess=p;function w(l){let r=[],t=!1;const i=function(s){if(t){r.push(s);return}(!l.send(s,o=>{if(o&&console.error(o),t=!1,r.length>0){const m=r.slice(0);r=[],m.forEach(C=>i(C))}})||D.isWindows)&&(t=!0)};return{send:i}}e.createQueuedSender=w;var a;(function(l){async function r(t,i,s){if(S.isAbsolute(t))return t;if(i===void 0&&(i=process.cwd()),S.dirname(t)!=="."||(s===void 0&&L.isString(process.env.PATH)&&(s=process.env.PATH.split(S.delimiter)),s===void 0||s.length===0))return S.join(i,t);async function o(m){return await P.exists(m)?!(await d.promises.stat(m)).isDirectory():!1}for(let m of s){let C;if(S.isAbsolute(m)?C=S.join(m,t):C=S.join(i,m,t),await o(C))return C;let R=C+".com";if(await o(R)||(R=C+".exe",await o(R)))return R}return S.join(i,t)}l.findExecutable=r})(a=e.win32||(e.win32={}))}),define(fe[82],he([0,1,22,5,124,81]),function(Q,e,S,d,P,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(E,u=process.env){return E===3?d.isWindows?b():y.getWindowsShell(u):n(E,u)}e.getSystemShell=k;function L(E,u=process.env){return E===3?d.isWindows?I(u):y.getWindowsShell(u):n(E,u)}e.getSystemShellSync=L;let h=null;function n(E,u){if(d.isLinux&&E===1||d.isMacintosh&&E===2)return"/bin/bash";if(!h){let g;if(d.isWindows)g="/bin/bash";else{if(g=u.SHELL,!g)try{g=S.userInfo().shell}catch(_){}g||(g="sh"),g==="/bin/false"&&(g="/bin/bash")}h=g}return h}let D=null;async function b(){return D||(D=(await P.getFirstAvailablePowerShellInstallation()).exePath),D}function I(E){if(D)return D;const u=d.isWindows&&parseFloat(S.release())>=10,g=E.hasOwnProperty("PROCESSOR_ARCHITEW6432"),_=`${E.windir}\\${g?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return u?_:y.getWindowsShell(E)}}),define(fe[83],he([0,1,32,4,13,19,6,81,37,115,27,12,18,5]),function(Q,e,S,d,P,y,k,L,h,n,D,b,I,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class u extends h.ChannelServer{constructor(p){super({send:w=>{try{process.send&&process.send(w.buffer.toString("base64"))}catch(a){}},onMessage:k.Event.fromNodeEventEmitter(process,"message",w=>I.VSBuffer.wrap(Buffer.from(w,"base64")))},p);process.once("disconnect",()=>this.dispose())}}e.Server=u;class g{constructor(p,w){this.modulePath=p,this.options=w,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const a=w&&w.timeout?w.timeout:6e4;this.disposeDelayer=new P.Delayer(a),this.child=null,this._client=null}getChannel(p){const w=this;return{call(a,l,r){return w.requestPromise(p,a,l,r)},listen(a,l){return w.requestEvent(p,a,l)}}}requestPromise(p,w,a,l=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(l.isCancellationRequested)return Promise.reject(b.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(p),t=P.createCancelablePromise(c=>r.call(w,a,c)),i=l.onCancellationRequested(()=>t.cancel()),s=d.toDisposable(()=>t.cancel());return this.activeRequests.add(s),t.finally(()=>{i.dispose(),this.activeRequests.delete(s),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(p,w,a){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let l;const r=new k.Emitter({onFirstListenerAdd:()=>{l=this.getCachedChannel(p).listen(w,a)(r.fire,r),this.activeRequests.add(l)},onLastListenerRemove:()=>{this.activeRequests.delete(l),l.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const p=this.options&&this.options.args?this.options.args:[],w=Object.create(null);w.env=Object.assign(Object.assign({},y.deepClone(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(w.env=Object.assign(Object.assign({},w.env),this.options.env)),this.options&&this.options.freshExecArgv&&(w.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(w.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(w.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),w.execArgv===void 0&&(w.execArgv=process.execArgv.filter(o=>!/^--inspect(-brk)?=/.test(o))),E.isMacintosh&&w.env&&delete w.env.DYLD_LIBRARY_PATH,this.child=S.fork(this.modulePath,p,w);const a=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,"message",o=>o)(o=>{if(n.isRemoteConsoleLog(o)){n.log(o,`IPC Library: ${this.options.serverName}`);return}a.fire(I.VSBuffer.wrap(Buffer.from(o,"base64")))});const r=this.options.useQueue?L.createQueuedSender(this.child):this.child,t=o=>this.child&&this.child.connected&&r.send(o.buffer.toString("base64")),i=a.event,s={send:t,onMessage:i};this._client=new h.ChannelClient(s);const c=()=>this.disposeClient();process.once("exit",c),this.child.on("error",o=>console.warn('IPC "'+this.options.serverName+'" errored with '+o)),this.child.on("exit",(o,m)=>{process.removeListener("exit",c),this.activeRequests.forEach(C=>d.dispose(C)),this.activeRequests.clear(),o!==0&&m!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+o+" and signal "+m),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:o,signal:m})})}return this._client}getCachedChannel(p){let w=this.channels.get(p);return w||(w=this.client.getChannel(p),this.channels.set(p,w)),w}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=g}),define(fe[138],he([9,10]),function(Q,e){return Q.create("vs/base/node/zip",e)}),define(fe[139],he([9,10]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(fe[140],he([9,10]),function(Q,e){return Q.create("vs/platform/environment/node/argv",e)}),define(fe[141],he([9,10]),function(Q,e){return Q.create("vs/platform/environment/node/argvHelper",e)}),define(fe[142],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(fe[143],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(fe[144],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(fe[145],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(fe[146],he([9,10]),function(Q,e){return Q.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(fe[147],he([9,10]),function(Q,e){return Q.create("vs/platform/extensions/common/extensionValidator",e)}),define(fe[148],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/fileService",e)}),define(fe[149],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/files",e)}),define(fe[150],he([9,10]),function(Q,e){return Q.create("vs/platform/files/common/io",e)}),define(fe[151],he([9,10]),function(Q,e){return Q.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(fe[152],he([9,10]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(fe[153],he([9,10]),function(Q,e){return Q.create("vs/platform/request/common/request",e)}),define(fe[154],he([9,10]),function(Q,e){return Q.create("vs/platform/telemetry/common/telemetryService",e)}),define(fe[155],he([9,10]),function(Q,e){return Q.create("vs/platform/terminal/node/terminalProcess",e)}),define(fe[156],he([9,10]),function(Q,e){return Q.create("vs/platform/workspaces/common/workspaces",e)}),define(fe[157],he([9,10]),function(Q,e){return Q.create("vs/server/remoteAgentEnvironmentImpl",e)}),define(fe[158],he([9,10]),function(Q,e){return Q.create("vs/server/serverEnvironmentService",e)}),define(fe[159],he([9,10]),function(Q,e){return Q.create("vs/workbench/common/editor",e)}),define(fe[160],he([9,10]),function(Q,e){return Q.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(fe[161],he([9,10]),function(Q,e){return Q.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(fe[162],he([9,10]),function(Q,e){return Q.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(fe[163],he([0,1,6,4]),function(Q,e,S,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class P{constructor(){this._onCloseEmitter=new S.Emitter,this._onReloadEmitter=new S.Emitter,this._onTerminateEmitter=new S.Emitter,this._onAttachEmitter=new S.Emitter}call(L,h,n){switch(h){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:n[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:n[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:n[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:n[0],port:n[1],subId:n[2]}))}throw new Error("Method not implemented.")}listen(L,h,n){switch(h){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=P,P.ChannelName="extensionhostdebugservice";class y extends d.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call("reload",[L])}get onReload(){return this.channel.listen("reload")}close(L){this.channel.call("close",[L])}get onClose(){return this.channel.listen("close")}attachSession(L,h,n){this.channel.call("attach",[L,h,n])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(L,h){this.channel.call("terminate",[L,h])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(L,h,n){return this.channel.call("openExtensionDevelopmentHostWindow",[L,h,n])}}e.ExtensionHostDebugChannelClient=y}),define(fe[164],he([0,1,3]),function(Q,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class d{constructor(k){this.service=k}listen(k,L,h){throw new Error("Invalid listen")}call(k,L,h){switch(L){case"download":return this.service.download(S.URI.revive(h[0]),S.URI.revive(h[1]))}throw new Error("Invalid call")}}e.DownloadServiceChannel=d;class P{constructor(k,L){this.channel=k,this.getUriTransformer=L}async download(k,L){const h=this.getUriTransformer();h&&(k=h.transformOutgoingURI(k),L=h.transformOutgoingURI(L)),await this.channel.call("download",[k,L])}}e.DownloadServiceChannelClient=P}),define(fe[165],he([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var S;(function(k){k[k.ACTIVATE=0]="ACTIVATE",k[k.RESTORE=1]="RESTORE",k[k.PRESERVE=2]="PRESERVE"})(S=e.EditorActivation||(e.EditorActivation={}));var d;(function(k){k[k.PICK=1]="PICK",k[k.DISABLED=2]="DISABLED"})(d=e.EditorOverride||(e.EditorOverride={}));var P;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(P=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(k){k[k.Center=0]="Center",k[k.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",k[k.NearTop=2]="NearTop",k[k.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(fe[56],he([0,1,234,140,5]),function(Q,e,S,d,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:d.localize(0,null),e:d.localize(1,null),t:d.localize(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:d.localize(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:d.localize(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:d.localize(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:d.localize(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:d.localize(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:d.localize(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:d.localize(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:d.localize(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:d.localize(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:d.localize(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:d.localize(13,null)},"show-versions":{type:"boolean",cat:"e",description:d.localize(14,null)},category:{type:"string",cat:"e",description:d.localize(15,null)},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:d.localize(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:d.localize(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:d.localize(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:d.localize(19,null)},verbose:{type:"boolean",cat:"t",description:d.localize(20,null)},log:{type:"string",cat:"t",args:"level",description:d.localize(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:d.localize(22,null)},"prof-startup":{type:"boolean",cat:"t",description:d.localize(23,null)},"prof-append-timers":{type:"string"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:d.localize(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:d.localize(25,null)},sync:{type:"string",cat:"t",description:d.localize(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:d.localize(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:d.localize(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:d.localize(29,null)},"max-memory":{type:"string",cat:"t",description:d.localize(30,null)},telemetry:{type:"boolean",cat:"t",description:d.localize(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionTestsPath:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(u,g,_=k){const p={},w=[],a=[];for(let i in g){const s=g[i];s.alias&&(p[i]=s.alias),s.type==="string"||s.type==="string[]"?(w.push(i),s.deprecates&&w.push(s.deprecates)):s.type==="boolean"&&(a.push(i),s.deprecates&&a.push(s.deprecates))}const l=S(u,{string:w,boolean:a,alias:p}),r={},t=l;r._=l._.map(i=>String(i)).filter(i=>i.length>0),delete t._;for(let i in g){const s=g[i];s.alias&&delete t[s.alias];let c=t[i];s.deprecates&&t.hasOwnProperty(s.deprecates)&&(c||(c=t[s.deprecates]),delete t[s.deprecates]),typeof c!="undefined"&&(s.type==="string[]"?c&&!Array.isArray(c)&&(c=[c]):s.type==="string"&&Array.isArray(c)&&(c=c.pop(),_.onMultipleValues(i,c)),r[i]=c),delete t[i]}for(let i in t)_.onUnknownOption(i);return r}e.parseArgs=L;function h(u,g){let _="";return g.args&&(Array.isArray(g.args)?_=` <${g.args.join("> <")}>`:_=` <${g.args}>`),g.alias?`-${g.alias} --${u}${_}`:`--${u}${_}`}function n(u,g){let _=0,p=[];for(const r in u){const t=u[r],i=h(r,t);_=Math.max(_,i.length),p.push([i,t.description])}let w=_+2+1;if(g-w<25)return p.reduce((r,t)=>r.concat([` ${t[0]}`,` ${t[1]}`]),[]);let a=g-w-1,l=[];for(const r of p){let t=r[0],i=b(r[1],a),s=D(w-t.length-2);l.push(" "+t+s+i[0]);for(let c=1;c<i.length;c++)l.push(D(w)+i[c])}return l}e.formatOptions=n;function D(u){return" ".repeat(u)}function b(u,g){let _=[];for(;u.length;){let p=u.length<g?u.length:u.lastIndexOf(" ",g),w=u.slice(0,p).trim();u=u.slice(p),_.push(w)}return _}function I(u,g,_,p,w=!0){const a=process.stdout.isTTY&&process.stdout.columns||80;let l=[`${u} ${_}`];l.push(""),l.push(`${d.localize(32,null)}: ${g} [${d.localize(33,null)}][${d.localize(34,null)}...]`),l.push(""),w&&(P.isWindows?l.push(d.localize(35,null,g)):l.push(d.localize(36,null,g)),l.push(""));const r={};for(const t in p){const i=p[t];if(i.description&&i.cat){let s=r[i.cat];s||(r[i.cat]=s={}),s[t]=i}}for(let t in r){const i=t;let s=r[i];s&&(l.push(y[i]),l.push(...n(s,a)),l.push(""))}return l.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js
[29][风险] 黑客在2021-03-15 18:49:08时间，植入了恶意文件/root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js，反弹shell类：`):i}function I(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function y(i=null,T=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const k=R.coalesce(i),g=y(k[0],T);return k.length>1?v.localize(4,null,g,k.length):g}if(D.isString(i))return i;if(i.detail){const k=i.detail;if(k.error)return P(k.error,T);if(k.exception)return P(k.exception,T)}return i.stack?P(i,T):i.message?i.message:v.localize(5,null)}e.toErrorMessage=y}),define(ge[145],pe([17,18]),function(Q,e){return Q.create("vs/base/node/processes",e)}),define(ge[79],pe([0,1,7,29,24,35,145,16,23,31,9,133,13]),function(Q,e,v,D,R,P,C,I,y,i,T,k,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function f(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(c,u){if(T.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};u&&(t.cwd=u);const r=P.execFile("taskkill",["/T","/F","/PID",c.pid.toString()],t);return new Promise(s=>{r.once("error",a=>{s({success:!1,error:a})}),r.once("exit",(a,n)=>{s(a===0?{success:!0}:{success:!1,code:a!==null?a:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?f(t.status):1})}else if(T.isLinux||T.isMacintosh)try{const t=g.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Q).fsPath;return new Promise(r=>{P.execFile(t,[c.pid.toString()],{encoding:"utf8",shell:!0},(s,a,n)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else c.kill("SIGKILL");return Promise.resolve({success:!0})}function m(c=process.env){return c.comspec||"cmd.exe"}e.getWindowsShell=m;class S{constructor(u,t,r,s){if(t!==void 0&&r!==void 0&&s!==void 0)this.cmd=u,this.args=t,this.shell=r,this.options=s;else{const a=u;this.cmd=a.command,this.shell=a.isShellCommand,this.args=a.args.slice(0),this.options=a.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const a=Object.create(null);Object.keys(process.env).forEach(n=>{a[n]=process.env[n]}),Object.keys(this.options.env).forEach(n=>{a[n]=this.options.env[n]}),this.options.env=a}}getSanitizedCommand(){let u=this.cmd.toLowerCase();const t=u.lastIndexOf(v.sep);return t!==-1&&(u=u.substring(t+1)),S.WellKnowCommands[u]?u:"other"}start(u){return T.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(process.cwd()))?Promise.reject(new Error(C.localize(0,null))):this.useExec().then(t=>{let r,s;const a=new Promise((n,d)=>{r=n,s=d});if(t){let n=this.cmd;this.args&&(n=n+" "+this.args.join(" ")),this.childProcess=P.exec(n,this.options,(d,b,E)=>{this.childProcess=null;const h=d;h&&h.killed?s({killed:this.terminateRequested,stdout:b.toString(),stderr:E.toString()}):this.handleExec(r,u,d,b,E)})}else{let n=null;const d=b=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(b,r,u,s);const E={terminated:this.terminateRequested};I.isNumber(b)&&(E.cmdCode=b),r(E)};if(this.shell&&T.isWindows){const b=y.deepClone(this.options);b.windowsVerbatimArguments=!0,b.detached=!1;let E=!1,h=!1;const _=[];let A=this.ensureQuotes(this.cmd);_.push(A.value),E=A.quoted,this.args&&this.args.forEach(M=>{A=this.ensureQuotes(M),_.push(A.value),h=h&&A.quoted});const L=["/s","/c"];E?h?L.push('"'+_.join(" ")+'"'):_.length>1?L.push('"'+_[0]+'" '+_.slice(1).join(" ")):L.push('"'+_[0]+'"'):L.push(_.join(" ")),n=P.spawn(m(),L,b)}else this.cmd&&(n=P.spawn(this.cmd,this.args,this.options));n&&(this.childProcess=n,this.childProcessPromise=Promise.resolve(n),this.pidResolve&&(this.pidResolve(I.isNumber(n.pid)?n.pid:-1),this.pidResolve=void 0),n.on("error",b=>{this.childProcess=null,s({terminated:this.terminateRequested,error:b})}),n.pid&&(this.childProcess.on("close",d),this.handleSpawn(n,r,u,s,!0)))}return a})}handleClose(u,t,r,s){}ensureQuotes(u){return S.regexp.test(u)?{value:'"'+u+'"',quoted:!0}:{value:u,quoted:u.length>0&&u[0]==='"'&&u[u.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(u=>u.pid,u=>-1):new Promise(u=>{this.pidResolve=u})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(u=>(this.terminateRequested=!0,l(u,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),u=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(u=>{if(!this.shell||!T.isWindows)return u(!1);const t=P.spawn(m(),["/s","/c"]);t.on("error",r=>u(!0)),t.on("exit",r=>u(!1))})}}e.AbstractProcess=S,S.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},S.regexp=/^[^"].* .*[^"]/;class w extends S{constructor(u,t,r,s){super(u,t,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(u,t,r,s,a){[s,a].forEach((n,d)=>{const b=new k.LineDecoder;b.write(n).forEach(_=>{t({line:_,source:d===0?0:1})});const h=b.end();h&&t({line:h,source:d===0?0:1})}),u({terminated:this.terminateRequested,error:r})}handleSpawn(u,t,r,s,a){const n=new k.LineDecoder,d=new k.LineDecoder;u.stdout.on("data",b=>{n.write(b).forEach(h=>r({line:h,source:0}))}),u.stderr.on("data",b=>{d.write(b).forEach(h=>r({line:h,source:1}))}),this.stdoutLineDecoder=n,this.stderrLineDecoder=d}handleClose(u,t,r,s){const a=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;a&&r({line:a,source:0});const n=this.stderrLineDecoder?this.stderrLineDecoder.end():null;n&&r({line:n,source:1})}}e.LineProcess=w;function p(c){let u=[],t=!1;const r=function(s){if(t){u.push(s);return}(!c.send(s,n=>{if(n&&console.error(n),t=!1,u.length>0){const d=u.slice(0);u=[],d.forEach(b=>r(b))}})||T.isWindows)&&(t=!0)};return{send:r}}e.createQueuedSender=p;var o;(function(c){async function u(t,r,s){if(v.isAbsolute(t))return t;if(r===void 0&&(r=process.cwd()),v.dirname(t)!=="."||(s===void 0&&I.isString(process.env.PATH)&&(s=process.env.PATH.split(v.delimiter)),s===void 0||s.length===0))return v.join(r,t);async function n(d){return await R.exists(d)?!(await D.promises.stat(d)).isDirectory():!1}for(let d of s){let b;if(v.isAbsolute(d)?b=v.join(d,t):b=v.join(r,d,t),await n(b))return b;let E=b+".com";if(await n(E)||(E=b+".exe",await n(E)))return E}return v.join(r,t)}c.findExecutable=u})(o=e.win32||(e.win32={}))}),define(ge[146],pe([0,1,39,9,99,79]),function(Q,e,v,D,R,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function C(f,l=process.env){return f===3?D.isWindows?k():P.getWindowsShell(l):i(f,l)}e.getSystemShell=C;function I(f,l=process.env){return f===3?D.isWindows?g(l):P.getWindowsShell(l):i(f,l)}e.getSystemShellSync=I;let y=null;function i(f,l){if(D.isLinux&&f===1||D.isMacintosh&&f===2)return"/bin/bash";if(!y){let m;if(D.isWindows)m="/bin/bash";else{if(m=l.SHELL,!m)try{m=v.userInfo().shell}catch(S){}m||(m="sh"),m==="/bin/false"&&(m="/bin/bash")}y=m}return y}let T=null;async function k(){return T||(T=(await R.getFirstAvailablePowerShellInstallation()).exePath),T}function g(f){if(T)return T;const l=D.isWindows&&parseFloat(v.release())>=10,m=f.hasOwnProperty("PROCESSOR_ARCHITEW6432"),S=`${f.windir}\\${m?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return l?S:P.getWindowsShell(f)}}),define(ge[147],pe([17,18]),function(Q,e){return Q.create("vs/editor/common/config/editorOptions",e)}),define(ge[148],pe([0,1,147,9,104]),function(Q,e,v,D,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var P;(function(X){X[X.None=0]="None",X[X.Keep=1]="Keep",X[X.Brackets=2]="Brackets",X[X.Advanced=3]="Advanced",X[X.Full=4]="Full"})(P=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class C{constructor(ne){this._values=ne}hasChanged(ne){return this._values[ne]}}e.ConfigurationChangedEvent=C;class I{constructor(){this._values=[]}_read(ne){return this._values[ne]}get(ne){return this._values[ne]}_write(ne,_e){this._values[ne]=_e}}e.ValidatedEditorOptions=I;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class i{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}compute(ne,_e,Ne){return Ne}}class T{constructor(ne,_e=null){this.schema=void 0,this.id=ne,this.name="_never_",this.defaultValue=void 0,this.deps=_e}validate(ne){return this.defaultValue}}class k{constructor(ne,_e,Ne,Be){this.id=ne,this.name=_e,this.defaultValue=Ne,this.schema=Be}validate(ne){return typeof ne=="undefined"?this.defaultValue:ne}compute(ne,_e,Ne){return Ne}}function g(X,ne){return typeof X=="undefined"?ne:X==="false"?!1:Boolean(X)}e.boolean=g;class f extends k{constructor(ne,_e,Ne,Be=void 0){typeof Be!="undefined"&&(Be.type="boolean",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return g(ne,this.defaultValue)}}class l extends k{constructor(ne,_e,Ne,Be,We,Je=void 0){typeof Je!="undefined"&&(Je.type="integer",Je.default=Ne,Je.minimum=Be,Je.maximum=We),super(ne,_e,Ne,Je),this.minimum=Be,this.maximum=We}static clampedInt(ne,_e,Ne,Be){if(typeof ne=="undefined")return _e;let We=parseInt(ne,10);return isNaN(We)?_e:(We=Math.max(Ne,We),We=Math.min(Be,We),We|0)}validate(ne){return l.clampedInt(ne,this.defaultValue,this.minimum,this.maximum)}}class m extends k{constructor(ne,_e,Ne,Be,We){typeof We!="undefined"&&(We.type="number",We.default=Ne),super(ne,_e,Ne,We),this.validationFn=Be}static clamp(ne,_e,Ne){return ne<_e?_e:ne>Ne?Ne:ne}static float(ne,_e){if(typeof ne=="number")return ne;if(typeof ne=="undefined")return _e;const Ne=parseFloat(ne);return isNaN(Ne)?_e:Ne}validate(ne){return this.validationFn(m.float(ne,this.defaultValue))}}class S extends k{static string(ne,_e){return typeof ne!="string"?_e:ne}constructor(ne,_e,Ne,Be=void 0){typeof Be!="undefined"&&(Be.type="string",Be.default=Ne),super(ne,_e,Ne,Be)}validate(ne){return S.string(ne,this.defaultValue)}}function w(X,ne,_e){return typeof X!="string"||_e.indexOf(X)===-1?ne:X}e.stringSet=w;class p extends k{constructor(ne,_e,Ne,Be,We=void 0){typeof We!="undefined"&&(We.type="string",We.enum=Be,We.default=Ne),super(ne,_e,Ne,We),this._allowedValues=Be}validate(ne){return w(ne,this.defaultValue,this._allowedValues)}}class o extends i{constructor(ne,_e,Ne,Be,We,Je,G=void 0){typeof G!="undefined"&&(G.type="string",G.enum=We,G.default=Be),super(ne,_e,Ne,G),this._allowedValues=We,this._convert=Je}validate(ne){return typeof ne!="string"?this.defaultValue:this._allowedValues.indexOf(ne)===-1?this.defaultValue:this._convert(ne)}}function c(X){switch(X){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class u extends i{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:"auto",description:v.localize(3,null)})}validate(ne){switch(ne){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ne,_e,Ne){return Ne===0?ne.accessibilitySupport:Ne}}class t extends i{constructor(){const ne={insertSpace:!0,ignoreEmptyLines:!0};super(16,"comments",ne,{"editor.comments.insertSpace":{type:"boolean",default:ne.insertSpace,description:v.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ne.ignoreEmptyLines,description:v.localize(5,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{insertSpace:g(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var r;(function(X){X[X.Hidden=0]="Hidden",X[X.Blink=1]="Blink",X[X.Smooth=2]="Smooth",X[X.Phase=3]="Phase",X[X.Expand=4]="Expand",X[X.Solid=5]="Solid"})(r=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(X){switch(X){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var a;(function(X){X[X.Line=1]="Line",X[X.Block=2]="Block",X[X.Underline=3]="Underline",X[X.LineThin=4]="LineThin",X[X.BlockOutline=5]="BlockOutline",X[X.UnderlineThin=6]="UnderlineThin"})(a=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function n(X){switch(X){case a.Line:return"line";case a.Block:return"block";case a.Underline:return"underline";case a.LineThin:return"line-thin";case a.BlockOutline:return"block-outline";case a.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=n;function d(X){switch(X){case"line":return a.Line;case"block":return a.Block;case"underline":return a.Underline;case"line-thin":return a.LineThin;case"block-outline":return a.BlockOutline;case"underline-thin":return a.UnderlineThin}}class b extends T{constructor(){super(121,[60,29])}compute(ne,_e,Ne){const Be=["monaco-editor"];return _e.get(29)&&Be.push(_e.get(29)),ne.extraEditorClassName&&Be.push(ne.extraEditorClassName),_e.get(60)==="default"?Be.push("mouse-default"):_e.get(60)==="copy"&&Be.push("mouse-copy"),_e.get(95)&&Be.push("showUnused"),_e.get(119)&&Be.push("showDeprecated"),Be.join(" ")}}class E extends f{constructor(){super(28,"emptySelectionClipboard",!0,{description:v.localize(6,null)})}compute(ne,_e,Ne){return Ne&&ne.emptySelectionClipboard}}class h extends i{constructor(){const ne={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,"find",ne,{"editor.find.cursorMoveOnType":{type:"boolean",default:ne.cursorMoveOnType,description:v.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:ne.seedSearchStringFromSelection,description:v.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ne.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ne.globalFindClipboard,description:v.localize(13,null),included:D.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ne.addExtraSpaceOnTop,description:v.localize(14,null)},"editor.find.loop":{type:"boolean",default:ne.loop,description:v.localize(15,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{cursorMoveOnType:g(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:g(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ne.autoFindInSelection=="boolean"?ne.autoFindInSelection?"always":"never":w(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(_e.loop,this.defaultValue.loop)}}}class _ extends i{constructor(){super(39,"fontLigatures",_.OFF,{anyOf:[{type:"boolean",description:v.localize(16,null)},{type:"string",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(ne){return typeof ne=="undefined"?this.defaultValue:typeof ne=="string"?ne==="false"?_.OFF:ne==="true"?_.ON:ne:Boolean(ne)?_.ON:_.OFF}}e.EditorFontLigatures=_,_.OFF='"liga" off, "calt" off',_.ON='"liga" on, "calt" on';class A extends T{constructor(){super(38)}compute(ne,_e,Ne){return ne.fontInfo}}class L extends k{constructor(){super(40,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(ne){let _e=m.float(ne,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:m.clamp(_e,6,100)}compute(ne,_e,Ne){return ne.fontInfo.fontSize}}class M extends i{constructor(){super(41,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(ne){return ne==="normal"||ne==="bold"?ne:String(l.clampedInt(ne,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class z extends i{constructor(){const ne={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:ne.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]};super(45,"gotoLocation",ne,{"editor.gotoLocation.multiple":{deprecationMessage:v.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v.localize(26,null)},_e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v.localize(27,null)},_e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v.localize(28,null)},_e),"editor.gotoLocation.multipleImplementations":Object.assign({description:v.localize(29,null)},_e),"editor.gotoLocation.multipleReferences":Object.assign({description:v.localize(30,null)},_e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ne.alternativeDefinitionCommand,description:v.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ne.alternativeTypeDefinitionCommand,description:v.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ne.alternativeDeclarationCommand,description:v.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ne.alternativeImplementationCommand,description:v.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ne.alternativeReferenceCommand,description:v.localize(35,null)}})}validate(ne){var _e,Ne,Be,We,Je;if(!ne||typeof ne!="object")return this.defaultValue;const G=ne;return{multiple:w(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=G.multipleDefinitions)!==null&&_e!==void 0?_e:w(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ne=G.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:w(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Be=G.multipleDeclarations)!==null&&Be!==void 0?Be:w(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(We=G.multipleImplementations)!==null&&We!==void 0?We:w(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Je=G.multipleReferences)!==null&&Je!==void 0?Je:w(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:S.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends i{constructor(){const ne={enabled:!0,delay:300,sticky:!0};super(48,"hover",ne,{"editor.hover.enabled":{type:"boolean",default:ne.enabled,description:v.localize(36,null)},"editor.hover.delay":{type:"number",default:ne.delay,description:v.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:ne.sticky,description:v.localize(38,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),delay:l.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:g(_e.sticky,this.defaultValue.sticky)}}}var W;(function(X){X[X.None=0]="None",X[X.Text=1]="Text",X[X.Blocks=2]="Blocks"})(W=e.RenderMinimap||(e.RenderMinimap={}));class K extends T{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(ne,_e,Ne){return K.computeLayout(_e,{memory:ne.memory,outerWidth:ne.outerWidth,outerHeight:ne.outerHeight,isDominatedByLongLines:ne.isDominatedByLongLines,lineHeight:ne.fontInfo.lineHeight,viewLineCount:ne.viewLineCount,lineNumbersDigitCount:ne.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ne.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ne.fontInfo.maxDigitWidth,pixelRatio:ne.pixelRatio})}static computeContainedMinimapLineCount(ne){const _e=ne.height/ne.lineHeight,Ne=ne.scrollBeyondLastLine?_e-1:0,Be=(ne.viewLineCount+Ne)/(ne.pixelRatio*ne.height),We=Math.floor(ne.viewLineCount/Be);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:Be,minimapLineCount:We}}static _computeMinimapLayout(ne,_e){const Ne=ne.outerWidth,Be=ne.outerHeight,We=ne.pixelRatio;if(!ne.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const Je=_e.stableMinimapLayoutInput,G=Je&&ne.outerHeight===Je.outerHeight&&ne.lineHeight===Je.lineHeight&&ne.typicalHalfwidthCharacterWidth===Je.typicalHalfwidthCharacterWidth&&ne.pixelRatio===Je.pixelRatio&&ne.scrollBeyondLastLine===Je.scrollBeyondLastLine&&ne.minimap.enabled===Je.minimap.enabled&&ne.minimap.side===Je.minimap.side&&ne.minimap.size===Je.minimap.size&&ne.minimap.showSlider===Je.minimap.showSlider&&ne.minimap.renderCharacters===Je.minimap.renderCharacters&&ne.minimap.maxColumn===Je.minimap.maxColumn&&ne.minimap.scale===Je.minimap.scale&&ne.verticalScrollbarWidth===Je.verticalScrollbarWidth&&ne.isViewportWrapping===Je.isViewportWrapping,se=ne.lineHeight,he=ne.typicalHalfwidthCharacterWidth,J=ne.scrollBeyondLastLine,re=ne.minimap.renderCharacters;let de=We>=2?Math.round(ne.minimap.scale*2):ne.minimap.scale;const me=ne.minimap.maxColumn,ye=ne.minimap.size,je=ne.minimap.side,He=ne.verticalScrollbarWidth,qe=ne.viewLineCount,Qe=ne.remainingWidth,Ze=ne.isViewportWrapping,be=re?2:3;let De=Math.floor(We*Be);const ue=De/We;let ee=!1,Fe=!1,xe=be*de,Ye=de/We,Ae=1;if(ye==="fill"||ye==="fit"){const{typicalViewportLineCount:wt,extraLinesBeyondLastLine:Dt,desiredRatio:yt,minimapLineCount:gt}=K.computeContainedMinimapLineCount({viewLineCount:qe,scrollBeyondLastLine:J,height:Be,lineHeight:se,pixelRatio:We});if(qe/gt>1)ee=!0,Fe=!0,de=1,xe=1,Ye=de/We;else{let ut=!1,_t=de+1;if(ye==="fit"){const vt=Math.ceil((qe+Dt)*xe);Ze&&G&&Qe<=_e.stableFitRemainingWidth?(ut=!0,_t=_e.stableFitMaxMinimapScale):(ut=vt>De,Ze&&ut?(_e.stableMinimapLayoutInput=ne,_e.stableFitRemainingWidth=Qe):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye==="fill"||ut){ee=!0;const vt=de;xe=Math.min(se*We,Math.max(1,Math.floor(1/yt))),de=Math.min(_t,Math.max(1,Math.floor(xe/be))),de>vt&&(Ae=Math.min(2,de/vt)),Ye=de/We/Ae,De=Math.ceil(Math.max(wt,qe+Dt)*xe),Ze&&ut&&(_e.stableFitMaxMinimapScale=de)}}}const st=Math.floor(me*Ye),rt=Math.min(st,Math.max(0,Math.floor((Qe-He-2)*Ye/(he+Ye)))+e.MINIMAP_GUTTER_WIDTH);let Xe=Math.floor(We*rt);const ct=Xe/We;Xe=Math.floor(Xe*Ae);const dt=re?1:2,ht=je==="left"?0:Ne-rt-He;return{renderMinimap:dt,minimapLeft:ht,minimapWidth:rt,minimapHeightIsEditorHeight:ee,minimapIsSampling:Fe,minimapScale:de,minimapLineHeight:xe,minimapCanvasInnerWidth:Xe,minimapCanvasInnerHeight:De,minimapCanvasOuterWidth:ct,minimapCanvasOuterHeight:ue}}static computeLayout(ne,_e){const Ne=_e.outerWidth|0,Be=_e.outerHeight|0,We=_e.lineHeight|0,Je=_e.lineNumbersDigitCount|0,G=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,J=_e.viewLineCount,re=ne.get(116),de=re==="inherit"?ne.get(115):re,me=de==="inherit"?ne.get(111):de,ye=ne.get(114),je=ne.get(2),He=_e.isDominatedByLongLines,qe=ne.get(44),Qe=ne.get(54).renderType!==0,Ze=ne.get(55),be=ne.get(89),De=ne.get(59),ue=ne.get(87),ee=ue.verticalScrollbarSize,Fe=ue.verticalHasArrows,xe=ue.arrowSize,Ye=ue.horizontalScrollbarSize,Ae=ne.get(52),st=ne.get(33);let rt;if(typeof Ae=="string"&&/^\d+(\.\d+)?ch$/.test(Ae)){const It=parseFloat(Ae.substr(0,Ae.length-2));rt=l.clampedInt(It*G,0,0,1e3)}else rt=l.clampedInt(Ae,0,0,1e3);st&&(rt+=16);let Xe=0;if(Qe){const It=Math.max(Je,Ze);Xe=Math.round(It*se)}let ct=0;qe&&(ct=We);let dt=0,ht=dt+ct,wt=ht+Xe,Dt=wt+rt;const yt=Ne-ct-Xe-rt;let gt=!1,mt=!1,ut=-1;je!==2&&(de==="inherit"&&He?(gt=!0,mt=!0):me==="on"||me==="bounded"?mt=!0:me==="wordWrapColumn"&&(ut=ye));const _t=K._computeMinimapLayout({outerWidth:Ne,outerHeight:Be,lineHeight:We,typicalHalfwidthCharacterWidth:G,pixelRatio:he,scrollBeyondLastLine:be,minimap:De,verticalScrollbarWidth:ee,viewLineCount:J,remainingWidth:yt,isViewportWrapping:mt},_e.memory||new y);_t.renderMinimap!==0&&_t.minimapLeft===0&&(dt+=_t.minimapWidth,ht+=_t.minimapWidth,wt+=_t.minimapWidth,Dt+=_t.minimapWidth);const vt=yt-_t.minimapWidth,Rt=Math.max(1,Math.floor((vt-ee-2)/G)),Pt=Fe?xe:0;return mt&&(ut=Math.max(1,Rt),me==="bounded"&&(ut=Math.min(ut,ye))),{width:Ne,height:Be,glyphMarginLeft:dt,glyphMarginWidth:ct,lineNumbersLeft:ht,lineNumbersWidth:Xe,decorationsLeft:wt,decorationsWidth:rt,contentLeft:Dt,contentWidth:vt,minimap:_t,viewportColumn:Rt,isWordWrapMinified:gt,isViewportWrapping:mt,wrappingColumn:ut,verticalScrollbarWidth:ee,horizontalScrollbarHeight:Ye,overviewRuler:{top:Pt,width:ee,height:Be-2*Pt,right:0}}}}e.EditorLayoutInfoComputer=K;class x extends i{constructor(){const ne={enabled:!0};super(51,"lightbulb",ne,{"editor.lightbulb.enabled":{type:"boolean",default:ne.enabled,description:v.localize(39,null)}})}validate(ne){return!ne||typeof ne!="object"?this.defaultValue:{enabled:g(ne.enabled,this.defaultValue.enabled)}}}class N extends i{constructor(){const ne={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,"inlineHints",ne,{"editor.inlineHints.enabled":{type:"boolean",default:ne.enabled,description:v.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:ne.fontSize,description:v.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:ne.fontFamily,description:v.localize(42,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class U extends l{constructor(){super(53,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(ne,_e,Ne){return ne.fontInfo.lineHeight}}class F extends i{constructor(){const ne={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(59,"minimap",ne,{"editor.minimap.enabled":{type:"boolean",default:ne.enabled,description:v.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:ne.size,description:v.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ne.side,description:v.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ne.showSlider,description:v.localize(50,null)},"editor.minimap.scale":{type:"number",default:ne.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ne.renderCharacters,description:v.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:ne.maxColumn,description:v.localize(53,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),size:w(_e.size,this.defaultValue.size,["proportional","fill","fit"]),side:w(_e.side,this.defaultValue.side,["right","left"]),showSlider:w(_e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(_e.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(_e.scale,1,1,3),maxColumn:l.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(X){return X==="ctrlCmd"?D.isMacintosh?"metaKey":"ctrlKey":"altKey"}class $ extends i{constructor(){super(69,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{top:l.clampedInt(_e.top,0,0,1e3),bottom:l.clampedInt(_e.bottom,0,0,1e3)}}}class q extends i{constructor(){const ne={enabled:!0,cycle:!1};super(70,"parameterHints",ne,{"editor.parameterHints.enabled":{type:"boolean",default:ne.enabled,description:v.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:ne.cycle,description:v.localize(57,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{enabled:g(_e.enabled,this.defaultValue.enabled),cycle:g(_e.cycle,this.defaultValue.cycle)}}}class Z extends T{constructor(){super(122)}compute(ne,_e,Ne){return ne.pixelRatio}}class ae extends i{constructor(){const ne={other:!0,comments:!1,strings:!1};super(73,"quickSuggestions",ne,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ne.strings,description:v.localize(58,null)},comments:{type:"boolean",default:ne.comments,description:v.localize(59,null)},other:{type:"boolean",default:ne.other,description:v.localize(60,null)}}}],default:ne,description:v.localize(61,null)});this.defaultValue=ne}validate(ne){if(typeof ne=="boolean")return ne;if(ne&&typeof ne=="object"){const _e=ne,Ne={other:g(_e.other,this.defaultValue.other),comments:g(_e.comments,this.defaultValue.comments),strings:g(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var fe;(function(X){X[X.Off=0]="Off",X[X.On=1]="On",X[X.Relative=2]="Relative",X[X.Interval=3]="Interval",X[X.Custom=4]="Custom"})(fe=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Te extends i{constructor(){super(54,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:"on",description:v.localize(66,null)})}validate(ne){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ne!="undefined"&&(typeof ne=="function"?(_e=4,Ne=ne):ne==="interval"?_e=3:ne==="relative"?_e=2:ne==="on"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Se(X){const ne=X.get(82);return ne==="editable"?X.get(75):ne!=="on"}e.filterValidationDecorations=Se;class Le extends i{constructor(){const ne=[],_e={type:"number",description:v.localize(67,null)};super(86,"rulers",ne,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:v.localize(68,null),format:"color-hex"}}}]},default:ne,description:v.localize(69,null)})}validate(ne){if(Array.isArray(ne)){let _e=[];for(let Ne of ne)if(typeof Ne=="number")_e.push({column:l.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne=="object"){const Be=Ne;_e.push({column:l.clampedInt(Be.column,0,0,1e4),color:Be.color})}return _e.sort((Ne,Be)=>Ne.column-Be.column),_e}return this.defaultValue}}function H(X,ne){if(typeof X!="string")return ne;switch(X){case"hidden":return 2;case"visible":return 3;default:return 1}}class Y extends i{constructor(){super(87,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne,Ne=l.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=l.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:H(_e.vertical,this.defaultValue.vertical),horizontal:H(_e.horizontal,this.defaultValue.horizontal),useShadows:g(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:l.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:l.clampedInt(_e.verticalSliderSize,Be,0,1e3),scrollByPage:g(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ie extends i{constructor(){const ne={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,"suggest",ne,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:ne.insertMode,description:v.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ne.filterGraceful,description:v.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:ne.localityBonus,description:v.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ne.shareSuggestSelections,markdownDescription:v.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ne.snippetsPreventQuickSuggestions,description:v.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:ne.showIcons,description:v.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ne.showStatusBar,description:v.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ne.showInlineDetails,description:v.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.localize(109,null)}})}validate(ne){if(!ne||typeof ne!="object")return this.defaultValue;const _e=ne;return{insertMode:w(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(_e.showIcons,this.defaultValue.showIcons),showStatusBar:g(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:g(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(_e.showMethods,this.defaultValue.showMethods),showFunctions:g(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:g(_e.showConstructors,this.defaultValue.showConstructors),showFields:g(_e.showFields,this.defaultValue.showFields),showVariables:g(_e.showVariables,this.defaultValue.showVariables),showClasses:g(_e.showClasses,this.defaultValue.showClasses),showStructs:g(_e.showStructs,this.defaultValue.showStructs),showInterfaces:g(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:g(_e.showModules,this.defaultValue.showModules),showProperties:g(_e.showProperties,this.defaultValue.showProperties),showEvents:g(_e.showEvents,this.defaultValue.showEvents),showOperators:g(_e.showOperators,this.defaultValue.showOperators),showUnits:g(_e.showUnits,this.defaultValue.showUnits),showValues:g(_e.showValues,this.defaultValue.showValues),showConstants:g(_e.showConstants,this.defaultValue.showConstants),showEnums:g(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:g(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(_e.showKeywords,this.defaultValue.showKeywords),showWords:g(_e.showWords,this.defaultValue.showWords),showColors:g(_e.showColors,this.defaultValue.showColors),showFiles:g(_e.showFiles,this.defaultValue.showFiles),showReferences:g(_e.showReferences,this.defaultValue.showReferences),showFolders:g(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:g(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(_e.showSnippets,this.defaultValue.showSnippets),showUsers:g(_e.showUsers,this.defaultValue.showUsers),showIssues:g(_e.showIssues,this.defaultValue.showIssues)}}}class oe extends i{constructor(){super(97,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.localize(110,null),default:!0,type:"boolean"}})}validate(ne){return!ne||typeof ne!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:g(ne.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ve extends T{constructor(){super(123,[75])}compute(ne,_e,Ne){return _e.get(75)?!0:ne.tabFocusMode}}var ke;(function(X){X[X.None=0]="None",X[X.Same=1]="Same",X[X.Indent=2]="Indent",X[X.DeepIndent=3]="DeepIndent"})(ke=e.WrappingIndent||(e.WrappingIndent={}));function Me(X){switch(X){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class we extends T{constructor(){super(125,[124])}compute(ne,_e,Ne){const Be=_e.get(124);return{isDominatedByLongLines:ne.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}const Pe="Consolas, 'Courier New', monospace",Re="Menlo, Monaco, 'Courier New', monospace",Ue="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:D.isMacintosh?Re:D.isLinux?Ue:Pe,fontWeight:"normal",fontSize:D.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Ee(X){return e.editorOptionsRegistry[X.id]=X,X}var Ke;(function(X){X[X.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",X[X.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",X[X.accessibilitySupport=2]="accessibilitySupport",X[X.accessibilityPageSize=3]="accessibilityPageSize",X[X.ariaLabel=4]="ariaLabel",X[X.autoClosingBrackets=5]="autoClosingBrackets",X[X.autoClosingOvertype=6]="autoClosingOvertype",X[X.autoClosingQuotes=7]="autoClosingQuotes",X[X.autoIndent=8]="autoIndent",X[X.automaticLayout=9]="automaticLayout",X[X.autoSurround=10]="autoSurround",X[X.codeLens=11]="codeLens",X[X.codeLensFontFamily=12]="codeLensFontFamily",X[X.codeLensFontSize=13]="codeLensFontSize",X[X.colorDecorators=14]="colorDecorators",X[X.columnSelection=15]="columnSelection",X[X.comments=16]="comments",X[X.contextmenu=17]="contextmenu",X[X.copyWithSyntaxHighlighting=18]="copyWithSyntaxHighlighting",X[X.cursorBlinking=19]="cursorBlinking",X[X.cursorSmoothCaretAnimation=20]="cursorSmoothCaretAnimation",X[X.cursorStyle=21]="cursorStyle",X[X.cursorSurroundingLines=22]="cursorSurroundingLines",X[X.cursorSurroundingLinesStyle=23]="cursorSurroundingLinesStyle",X[X.cursorWidth=24]="cursorWidth",X[X.disableLayerHinting=25]="disableLayerHinting",X[X.disableMonospaceOptimizations=26]="disableMonospaceOptimizations",X[X.dragAndDrop=27]="dragAndDrop",X[X.emptySelectionClipboard=28]="emptySelectionClipboard",X[X.extraEditorClassName=29]="extraEditorClassName",X[X.fastScrollSensitivity=30]="fastScrollSensitivity",X[X.find=31]="find",X[X.fixedOverflowWidgets=32]="fixedOverflowWidgets",X[X.folding=33]="folding",X[X.foldingStrategy=34]="foldingStrategy",X[X.foldingHighlight=35]="foldingHighlight",X[X.unfoldOnClickAfterEndOfLine=36]="unfoldOnClickAfterEndOfLine",X[X.fontFamily=37]="fontFamily",X[X.fontInfo=38]="fontInfo",X[X.fontLigatures=39]="fontLigatures",X[X.fontSize=40]="fontSize",X[X.fontWeight=41]="fontWeight",X[X.formatOnPaste=42]="formatOnPaste",X[X.formatOnType=43]="formatOnType",X[X.glyphMargin=44]="glyphMargin",X[X.gotoLocation=45]="gotoLocation",X[X.hideCursorInOverviewRuler=46]="hideCursorInOverviewRuler",X[X.highlightActiveIndentGuide=47]="highlightActiveIndentGuide",X[X.hover=48]="hover",X[X.inDiffEditor=49]="inDiffEditor",X[X.letterSpacing=50]="letterSpacing",X[X.lightbulb=51]="lightbulb",X[X.lineDecorationsWidth=52]="lineDecorationsWidth",X[X.lineHeight=53]="lineHeight",X[X.lineNumbers=54]="lineNumbers",X[X.lineNumbersMinChars=55]="lineNumbersMinChars",X[X.linkedEditing=56]="linkedEditing",X[X.links=57]="links",X[X.matchBrackets=58]="matchBrackets",X[X.minimap=59]="minimap",X[X.mouseStyle=60]="mouseStyle",X[X.mouseWheelScrollSensitivity=61]="mouseWheelScrollSensitivity",X[X.mouseWheelZoom=62]="mouseWheelZoom",X[X.multiCursorMergeOverlapping=63]="multiCursorMergeOverlapping",X[X.multiCursorModifier=64]="multiCursorModifier",X[X.multiCursorPaste=65]="multiCursorPaste",X[X.occurrencesHighlight=66]="occurrencesHighlight",X[X.overviewRulerBorder=67]="overviewRulerBorder",X[X.overviewRulerLanes=68]="overviewRulerLanes",X[X.padding=69]="padding",X[X.parameterHints=70]="parameterHints",X[X.peekWidgetDefaultFocus=71]="peekWidgetDefaultFocus",X[X.definitionLinkOpensInPeek=72]="definitionLinkOpensInPeek",X[X.quickSuggestions=73]="quickSuggestions",X[X.quickSuggestionsDelay=74]="quickSuggestionsDelay",X[X.readOnly=75]="readOnly",X[X.renameOnType=76]="renameOnType",X[X.renderControlCharacters=77]="renderControlCharacters",X[X.renderIndentGuides=78]="renderIndentGuides",X[X.renderFinalNewline=79]="renderFinalNewline",X[X.renderLineHighlight=80]="renderLineHighlight",X[X.renderLineHighlightOnlyWhenFocus=81]="renderLineHighlightOnlyWhenFocus",X[X.renderValidationDecorations=82]="renderValidationDecorations",X[X.renderWhitespace=83]="renderWhitespace",X[X.revealHorizontalRightPadding=84]="revealHorizontalRightPadding",X[X.roundedSelection=85]="roundedSelection",X[X.rulers=86]="rulers",X[X.scrollbar=87]="scrollbar",X[X.scrollBeyondLastColumn=88]="scrollBeyondLastColumn",X[X.scrollBeyondLastLine=89]="scrollBeyondLastLine",X[X.scrollPredominantAxis=90]="scrollPredominantAxis",X[X.selectionClipboard=91]="selectionClipboard",X[X.selectionHighlight=92]="selectionHighlight",X[X.selectOnLineNumbers=93]="selectOnLineNumbers",X[X.showFoldingControls=94]="showFoldingControls",X[X.showUnused=95]="showUnused",X[X.snippetSuggestions=96]="snippetSuggestions",X[X.smartSelect=97]="smartSelect",X[X.smoothScrolling=98]="smoothScrolling",X[X.stickyTabStops=99]="stickyTabStops",X[X.stopRenderingLineAfter=100]="stopRenderingLineAfter",X[X.suggest=101]="suggest",X[X.suggestFontSize=102]="suggestFontSize",X[X.suggestLineHeight=103]="suggestLineHeight",X[X.suggestOnTriggerCharacters=104]="suggestOnTriggerCharacters",X[X.suggestSelection=105]="suggestSelection",X[X.tabCompletion=106]="tabCompletion",X[X.tabIndex=107]="tabIndex",X[X.unusualLineTerminators=108]="unusualLineTerminators",X[X.useTabStops=109]="useTabStops",X[X.wordSeparators=110]="wordSeparators",X[X.wordWrap=111]="wordWrap",X[X.wordWrapBreakAfterCharacters=112]="wordWrapBreakAfterCharacters",X[X.wordWrapBreakBeforeCharacters=113]="wordWrapBreakBeforeCharacters",X[X.wordWrapColumn=114]="wordWrapColumn",X[X.wordWrapOverride1=115]="wordWrapOverride1",X[X.wordWrapOverride2=116]="wordWrapOverride2",X[X.wrappingIndent=117]="wrappingIndent",X[X.wrappingStrategy=118]="wrappingStrategy",X[X.showDeprecated=119]="showDeprecated",X[X.inlineHints=120]="inlineHints",X[X.editorClassName=121]="editorClassName",X[X.pixelRatio=122]="pixelRatio",X[X.tabFocusMode=123]="tabFocusMode",X[X.layoutInfo=124]="layoutInfo",X[X.wrappingInfo=125]="wrappingInfo"})(Ke=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new f(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:Ee(new p(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.localize(112,null),""],markdownDescription:v.localize(113,null)})),accessibilitySupport:Ee(new u),accessibilityPageSize:Ee(new l(3,"accessibilityPageSize",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:Ee(new S(4,"ariaLabel",v.localize(115,null))),autoClosingBrackets:Ee(new p(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(116,null),v.localize(117,null),""],description:v.localize(118,null)})),autoClosingOvertype:Ee(new p(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.localize(119,null),""],description:v.localize(120,null)})),autoClosingQuotes:Ee(new p(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(121,null),v.localize(122,null),""],description:v.localize(123,null)})),autoIndent:Ee(new o(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],c,{enumDescriptions:[v.localize(124,null),v.localize(125,null),v.localize(126,null),v.localize(127,null),v.localize(128,null)],description:v.localize(129,null)})),automaticLayout:Ee(new f(9,"automaticLayout",!1)),autoSurround:Ee(new p(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.localize(130,null),v.localize(131,null),v.localize(132,null),""],description:v.localize(133,null)})),stickyTabStops:Ee(new f(99,"stickyTabStops",!1,{description:v.localize(134,null)})),codeLens:Ee(new f(11,"codeLens",!0,{description:v.localize(135,null)})),codeLensFontFamily:Ee(new S(12,"codeLensFontFamily","",{description:v.localize(136,null)})),codeLensFontSize:Ee(new l(13,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:v.localize(137,null)})),colorDecorators:Ee(new f(14,"colorDecorators",!0,{description:v.localize(138,null)})),columnSelection:Ee(new f(15,"columnSelection",!1,{description:v.localize(139,null)})),comments:Ee(new t),contextmenu:Ee(new f(17,"contextmenu",!0)),copyWithSyntaxHighlighting:Ee(new f(18,"copyWithSyntaxHighlighting",!0,{description:v.localize(140,null)})),cursorBlinking:Ee(new o(19,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],s,{description:v.localize(141,null)})),cursorSmoothCaretAnimation:Ee(new f(20,"cursorSmoothCaretAnimation",!1,{description:v.localize(142,null)})),cursorStyle:Ee(new o(21,"cursorStyle",a.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],d,{description:v.localize(143,null)})),cursorSurroundingLines:Ee(new l(22,"cursorSurroundingLines",0,0,1073741824,{description:v.localize(144,null)})),cursorSurroundingLinesStyle:Ee(new p(23,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.localize(145,null),v.localize(146,null)],description:v.localize(147,null)})),cursorWidth:Ee(new l(24,"cursorWidth",0,0,1073741824,{markdownDescription:v.localize(148,null)})),disableLayerHinting:Ee(new f(25,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ee(new f(26,"disableMonospaceOptimizations",!1)),dragAndDrop:Ee(new f(27,"dragAndDrop",!0,{description:v.localize(149,null)})),emptySelectionClipboard:Ee(new E),extraEditorClassName:Ee(new S(29,"extraEditorClassName","")),fastScrollSensitivity:Ee(new m(30,"fastScrollSensitivity",5,X=>X<=0?5:X,{markdownDescription:v.localize(150,null)})),find:Ee(new h),fixedOverflowWidgets:Ee(new f(32,"fixedOverflowWidgets",!1)),folding:Ee(new f(33,"folding",!0,{description:v.localize(151,null)})),foldingStrategy:Ee(new p(34,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.localize(152,null),v.localize(153,null)],description:v.localize(154,null)})),foldingHighlight:Ee(new f(35,"foldingHighlight",!0,{description:v.localize(155,null)})),unfoldOnClickAfterEndOfLine:Ee(new f(36,"unfoldOnClickAfterEndOfLine",!1,{description:v.localize(156,null)})),fontFamily:Ee(new S(37,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(157,null)})),fontInfo:Ee(new A),fontLigatures2:Ee(new _),fontSize:Ee(new L),fontWeight:Ee(new M),formatOnPaste:Ee(new f(42,"formatOnPaste",!1,{description:v.localize(158,null)})),formatOnType:Ee(new f(43,"formatOnType",!1,{description:v.localize(159,null)})),glyphMargin:Ee(new f(44,"glyphMargin",!0,{description:v.localize(160,null)})),gotoLocation:Ee(new z),hideCursorInOverviewRuler:Ee(new f(46,"hideCursorInOverviewRuler",!1,{description:v.localize(161,null)})),highlightActiveIndentGuide:Ee(new f(47,"highlightActiveIndentGuide",!0,{description:v.localize(162,null)})),hover:Ee(new V),inDiffEditor:Ee(new f(49,"inDiffEditor",!1)),letterSpacing:Ee(new m(50,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,X=>m.clamp(X,-5,20),{description:v.localize(163,null)})),lightbulb:Ee(new x),lineDecorationsWidth:Ee(new k(52,"lineDecorationsWidth",10)),lineHeight:Ee(new U),lineNumbers:Ee(new Te),lineNumbersMinChars:Ee(new l(55,"lineNumbersMinChars",5,1,300)),linkedEditing:Ee(new f(56,"linkedEditing",!1,{description:v.localize(164,null)})),links:Ee(new f(57,"links",!0,{description:v.localize(165,null)})),matchBrackets:Ee(new p(58,"matchBrackets","always",["always","near","never"],{description:v.localize(166,null)})),minimap:Ee(new F),mouseStyle:Ee(new p(60,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ee(new m(61,"mouseWheelScrollSensitivity",1,X=>X===0?1:X,{markdownDescription:v.localize(167,null)})),mouseWheelZoom:Ee(new f(62,"mouseWheelZoom",!1,{markdownDescription:v.localize(168,null)})),multiCursorMergeOverlapping:Ee(new f(63,"multiCursorMergeOverlapping",!0,{description:v.localize(169,null)})),multiCursorModifier:Ee(new o(64,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],O,{markdownEnumDescriptions:[v.localize(170,null),v.localize(171,null)],markdownDescription:v.localize(172,null)})),multiCursorPaste:Ee(new p(65,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.localize(173,null),v.localize(174,null)],markdownDescription:v.localize(175,null)})),occurrencesHighlight:Ee(new f(66,"occurrencesHighlight",!0,{description:v.localize(176,null)})),overviewRulerBorder:Ee(new f(67,"overviewRulerBorder",!0,{description:v.localize(177,null)})),overviewRulerLanes:Ee(new l(68,"overviewRulerLanes",3,0,3)),padding:Ee(new $),parameterHints:Ee(new q),peekWidgetDefaultFocus:Ee(new p(71,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.localize(178,null),v.localize(179,null)],description:v.localize(180,null)})),definitionLinkOpensInPeek:Ee(new f(72,"definitionLinkOpensInPeek",!1,{description:v.localize(181,null)})),quickSuggestions:Ee(new ae),quickSuggestionsDelay:Ee(new l(74,"quickSuggestionsDelay",10,0,1073741824,{description:v.localize(182,null)})),readOnly:Ee(new f(75,"readOnly",!1)),renameOnType:Ee(new f(76,"renameOnType",!1,{description:v.localize(183,null),markdownDeprecationMessage:v.localize(184,null)})),renderControlCharacters:Ee(new f(77,"renderControlCharacters",!1,{description:v.localize(185,null)})),renderIndentGuides:Ee(new f(78,"renderIndentGuides",!0,{description:v.localize(186,null)})),renderFinalNewline:Ee(new f(79,"renderFinalNewline",!0,{description:v.localize(187,null)})),renderLineHighlight:Ee(new p(80,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.localize(188,null)],description:v.localize(189,null)})),renderLineHighlightOnlyWhenFocus:Ee(new f(81,"renderLineHighlightOnlyWhenFocus",!1,{description:v.localize(190,null)})),renderValidationDecorations:Ee(new p(82,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ee(new p(83,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.localize(191,null),v.localize(192,null),v.localize(193,null),""],description:v.localize(194,null)})),revealHorizontalRightPadding:Ee(new l(84,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ee(new f(85,"roundedSelection",!0,{description:v.localize(195,null)})),rulers:Ee(new Le),scrollbar:Ee(new Y),scrollBeyondLastColumn:Ee(new l(88,"scrollBeyondLastColumn",5,0,1073741824,{description:v.localize(196,null)})),scrollBeyondLastLine:Ee(new f(89,"scrollBeyondLastLine",!0,{description:v.localize(197,null)})),scrollPredominantAxis:Ee(new f(90,"scrollPredominantAxis",!0,{description:v.localize(198,null)})),selectionClipboard:Ee(new f(91,"selectionClipboard",!0,{description:v.localize(199,null),included:D.isLinux})),selectionHighlight:Ee(new f(92,"selectionHighlight",!0,{description:v.localize(200,null)})),selectOnLineNumbers:Ee(new f(93,"selectOnLineNumbers",!0)),showFoldingControls:Ee(new p(94,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[v.localize(201,null),v.localize(202,null)],description:v.localize(203,null)})),showUnused:Ee(new f(95,"showUnused",!0,{description:v.localize(204,null)})),showDeprecated:Ee(new f(119,"showDeprecated",!0,{description:v.localize(205,null)})),inlineHints:Ee(new N),snippetSuggestions:Ee(new p(96,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.localize(206,null),v.localize(207,null),v.localize(208,null),v.localize(209,null)],description:v.localize(210,null)})),smartSelect:Ee(new oe),smoothScrolling:Ee(new f(98,"smoothScrolling",!1,{description:v.localize(211,null)})),stopRenderingLineAfter:Ee(new l(100,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ee(new ie),suggestFontSize:Ee(new l(102,"suggestFontSize",0,0,1e3,{markdownDescription:v.localize(212,null)})),suggestLineHeight:Ee(new l(103,"suggestLineHeight",0,0,1e3,{markdownDescription:v.localize(213,null)})),suggestOnTriggerCharacters:Ee(new f(104,"suggestOnTriggerCharacters",!0,{description:v.localize(214,null)})),suggestSelection:Ee(new p(105,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.localize(215,null),v.localize(216,null),v.localize(217,null)],description:v.localize(218,null)})),tabCompletion:Ee(new p(106,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.localize(219,null),v.localize(220,null),v.localize(221,null)],description:v.localize(222,null)})),tabIndex:Ee(new l(107,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Ee(new p(108,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.localize(223,null),v.localize(224,null),v.localize(225,null)],description:v.localize(226,null)})),useTabStops:Ee(new f(109,"useTabStops",!0,{description:v.localize(227,null)})),wordSeparators:Ee(new S(110,"wordSeparators",R.USUAL_WORD_SEPARATORS,{description:v.localize(228,null)})),wordWrap:Ee(new p(111,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.localize(229,null),v.localize(230,null),v.localize(231,null),v.localize(232,null)],description:v.localize(233,null)})),wordWrapBreakAfterCharacters:Ee(new S(112,"wordWrapBreakAfterCharacters"," })]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ee(new S(113,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ee(new l(114,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.localize(234,null)})),wordWrapOverride1:Ee(new p(115,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ee(new p(116,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ee(new o(117,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Me,{enumDescriptions:[v.localize(235,null),v.localize(236,null),v.localize(237,null),v.localize(238,null)],description:v.localize(239,null)})),wrappingStrategy:Ee(new p(118,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v.localize(240,null),v.localize(241,null)],description:v.localize(242,null)})),editorClassName:Ee(new b),pixelRatio:Ee(new Z),tabFocusMode:Ee(new ve),layoutInfo:Ee(new K),wrappingInfo:Ee(new we)}}),define(ge[149],pe([17,18]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ge[150],pe([17,18]),function(Q,e){return Q.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ge[151],pe([17,18]),function(Q,e){return Q.create("vs/platform/files/common/files",e)}),define(ge[152],pe([17,18]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(ge[153],pe([17,18]),function(Q,e){return Q.create("vs/platform/terminal/node/terminalProcess",e)}),define(ge[154],pe([17,18]),function(Q,e){return Q.create("vs/platform/theme/common/iconRegistry",e)}),define(ge[155],pe([17,18]),function(Q,e){return Q.create("vs/platform/workspaces/common/workspaces",e)}),define(ge[156],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHost.api.impl",e)}),define(ge[157],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ge[158],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostExtensionActivator",e)}),define(ge[159],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ge[160],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostProgress",e)}),define(ge[161],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ge[162],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ge[163],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ge[164],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ge[165],pe([17,18]),function(Q,e){return Q.create("vs/workbench/api/node/extHostDebugService",e)}),define(ge[166],pe([17,18]),function(Q,e){return Q.create("vs/workbench/common/views",e)}),define(ge[167],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ge[168],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/debug/node/debugAdapter",e)}),define(ge[169],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/externalTerminal/node/externalTerminalService",e)}),define(ge[170],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/search/common/queryBuilder",e)}),define(ge[171],pe([17,18]),function(Q,e){return Q.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(ge[172],pe([17,18]),function(Q,e){return Q.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ge[173],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(C){C[C.ACTIVATE=0]="ACTIVATE",C[C.RESTORE=1]="RESTORE",C[C.PRESERVE=2]="PRESERVE"})(v=e.EditorActivation||(e.EditorActivation={}));var D;(function(C){C[C.PICK=1]="PICK",C[C.DISABLED=2]="DISABLED"})(D=e.EditorOverride||(e.EditorOverride={}));var R;(function(C){C[C.API=0]="API",C[C.USER=1]="USER"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var P;(function(C){C[C.Center=0]="Center",C[C.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",C[C.NearTop=2]="NearTop",C[C.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(P=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[107],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class v{constructor(P,C=[],I=!1){this.ctor=P,this.staticArguments=C,this.supportsDelayedInstantiation=I}}e.SyncDescriptor=v;const D=(R,...P)=>new v(R,P);e.createSyncDescriptor=D}),define(ge[80],pe([0,1,107]),function(Q,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const D=[];function R(C,I,y){I instanceof v.SyncDescriptor||(I=new v.SyncDescriptor(I,[],y)),D.push([C,I])}e.registerSingleton=R;function P(){return D}e.getSingletonServiceDescriptors=P}),define(ge[174],pe([0,1]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(P){this.incoming=new Map,this.outgoing=new Map,this.data=P}}e.Node=v;class D{constructor(P){this._hashFn=P,this._nodes=new Map}roots(){const P=[];for(let C of this._nodes.values())C.outgoing.size===0&&P.push(C);return P}insertEdge(P,C){const I=this.lookupOrInsertNode(P),y=this.lookupOrInsertNode(C);I.outgoing.set(this._hashFn(C),y),y.incoming.set(this._hashFn(P),I)}removeNode(P){const C=this._hashFn(P);this._nodes.delete(C);for(let I of this._nodes.values())I.outgoing.delete(C),I.incoming.delete(C)}lookupOrInsertNode(P){const C=this._hashFn(P);let I=this._nodes.get(C);return I||(I=new v(P),this._nodes.set(C,I)),I}lookup(P){return this._nodes.get(this._hashFn(P))}isEmpty(){return this._nodes.size===0}toString(){let P=[];for(let[C,I]of this._nodes)P.push(`${C}, (incoming)[${[...I.incoming.keys()].join(", ")}], (outgoing)[${[...I.outgoing.keys()].join(",")}]`);return P.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js
[30][可疑] 黑客在2021-03-18 11:02:23时间，进行了账户修改设置，用户root存在免密登录的证书，证书客户端名称：root@k8s-ansible & root@h5_162_119 &
           排查参考：[1]cat /root/.ssh/authorized_keys
[31][风险] 黑客在2021-03-25 02:43:50时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js，反弹shell类："),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],s=n[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o}))}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&o(t.key)&&o(t.comment)}}(r||(r={})),t.isDefined=o,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=i,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i(t,n)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=l,l.Minimatch=h;var r={sep:"/"};try{r=n(0)}catch(e){}var s=l.GLOBSTAR=h.GLOBSTAR={},o=n(82),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,r,s){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,s){return t.minimatch(n,r,u(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",c=!!n.nocase,u=!1,l=[],h=[],p=!1,f=-1,g=-1,m="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function v(){if(r){switch(r){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+r}_.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,y=0,E=e.length;y<E&&(b=e.charAt(y));y++)if(this.debug("%s\t%s %s %j",e,y,o,b),u&&a[b])o+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":v(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,y,o,b),p){this.debug(" in class"),"!"===b&&y===g+1&&(b="^"),o+=b;continue}_.debug("call clearStateChar %j",r),v(),r=b,n.noext&&v();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:y-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!l.length){o+="\\)";continue}v(),c=!0;var S=l.pop();o+=S.close,"!"===S.type&&h.push(S),S.reEnd=o.length;continue;case"|":if(p||!l.length||u){o+="\\|",u=!1;continue}v(),o+="|";continue;case"[":if(v(),p){o+="\\"+b;continue}p=!0,g=y,f=o.length,o+=b;continue;case"]":if(y===g+1||!p){o+="\\"+b,u=!1;continue}if(p){var R=e.substring(g+1,y);try{RegExp("["+R+"]")}catch(e){var C=this.parse(R,d);o=o.substr(0,f)+"\\["+C[0]+"\\]",c=c||C[1],p=!1;continue}}c=!0,p=!1,o+=b;continue;default:v(),u?u=!1:!a[b]||"^"===b&&p||(o+="\\"),o+=b}p&&(R=e.substr(g+1),C=this.parse(R,d),o=o.substr(0,f)+"\\["+C[0],c=c||C[1]);for(S=l.pop();S;S=l.pop()){var w=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n %s",w,w,S,o);var O="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+O+"\\("+w}v(),u&&(o+="\\\\");var x=!1;switch(o.charAt(0)){case".":case"[":case"(":x=!0}for(var k=h.length-1;k>-1;k--){var P=h[k],A=o.slice(0,P.reStart),T=o.slice(P.reStart,P.reEnd-8),L=o.slice(P.reEnd-8,P.reEnd),F=o.slice(P.reEnd);L+=F;var M=A.split("(").length-1,I=F;for(y=0;y<M;y++)I=I.replace(/\)[+*?]?/,"");var N="";""===(F=I)&&t!==d&&(N="$"),o=A+T+F+N+L}""!==o&&c&&(o="(?=.)"+o);x&&(o=m+o);if(t===d)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var j=n.nocase?"i":"";try{var D=new RegExp("^"+o+"$",j)}catch(e){return new RegExp("$.")}return D._glob=e,D._src=o,D};var d={};l.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===s?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;if(n.matchBase&&1===a.length&&(u=[s]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(46),s=n(17),o=n(47),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends s.Event{constructor(){super("initialized")}}t.InitializedEvent=u;class l extends s.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=l;class h extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=h;class p extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class d extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class f extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=f;class g extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class m extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class _ extends s.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=_;class v extends s.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class b extends s.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=b;class y extends s.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}var E;t.InvalidatedEvent=y,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(E=t.ErrorDestination||(t.ErrorDestination={}));class S extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=E.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&E.User&&(o.showUser=!0),s&E.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=S.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(S._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=S,S._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(49),s=n(16);var o;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;class a extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?"stderr":t===o.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(37),a=n(13);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(58);const r=n(4).inherits,s=n(59),o=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout((function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}}),l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";const r=n(27),s=n(19),o=n(66),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in i)||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(70),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(35),s=n(8),o=n(36).ArraySet,i=n(76).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(75);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(38),o=n(13),i=(o.Minimatch,n(85)),a=n(12).EventEmitter,c=n(0),u=n(20),l=n(22),h=n(87),p=n(39),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(88),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(41);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return i();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,i);function i(){--s._processing,s._processing<=0&&s._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,(function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())}))}))},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)}))},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g("lstat\0"+e,(function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)}))},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(s,o){r._processSimple2(e,t,s,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=g("stat\0"+n,(function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)}));c._stat2(e,n,s,o,t)}));u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(81);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,(function(r,s){u(r)?c.realpath(e,t,n):n(r,s)}))}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!p(e,t)})));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var s=n(0),o=n(13),i=n(22),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach((function(e){r[e]=s[e]})),r}}},function(e,t,n){var r=n(40);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(45),o=n(52),i=n(53),a=n(21),c=n(14),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc","NodeV8Protocol hook: ref cache size: "+this._refCache.size)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=g(4,null);break;case"breakpoint":t=g(5,null);break;case"exception":t=g(6,null);break;case"pause":t=g(7,null);break;case"entry":t=g(8,null);break;case"debugger_statement":t=g(9,null);break;case"frame_entry":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t="VM"+e.id;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la","_terminated: "+e),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la","initializeRequest: adapterID: "+t.adapterID),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:"all",default:!1},{label:g(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,(function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push("--debug-brk="+m):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push("--debug-brk="+m))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const e=a.stripBOM(d.readFileSync(t.envFile,"utf8")),n={};e.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let r=t[2]||"";r.length>0&&'"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.replace(/\\n/gm,"\n")),n[e]=r.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(n,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,"{_error}"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y),y){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&E.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`"${E.executable}"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,g(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}}))}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr&&e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la","_initialize: target node version: "+t)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la","_startInitialize: stopped: "+e),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp","_updateBreakpoints: result "+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp","_setBreakpoint: "+JSON.stringify(o)),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,(function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))}))}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp","setFunctionBreakPointsRequest: result "+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp","setExceptionBreakPointsRequest: "+JSON.stringify(t.filters));let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la","configurationDoneRequest: "+n),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&(t=n.inferredName,t&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];n=n.replace(/\r\n/g,"\n"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/^#!.*\n/,"");return n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls","__readFile: "+e),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va","scopesRequest: scope "+r),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=""+(s+e)}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js
[32][风险] 黑客在2021-04-02 00:04:52时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(371)},function(e,t,r){"use strict";const n=r(0),i=r(372),s=r(373),o=r(84),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return"function"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):("function"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||""),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(85),e.exports=a},function(e,t,r){"use strict";const n=r(84),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(85);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,E=!1,C=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else E=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else E=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else E=!0,t=M();if(P)break}else C=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else E=!0,t=M(),t===p&&(T=!0)}let A="",R=e,I=e,D="";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I="",D=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===E&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:C,isGlob:P}}},function(e,t,r){"use strict";const n=r(84),i=r(85),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let r={...t},h="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:"bos",value:"",output:r.prepend||""},m=[g],y=r.capture?"":"?:",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:E,NO_DOT_SLASH:C,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?"":E,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||""},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if("globstar"===$.type){let t=F.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=D,F.output+=$.output)}B.length&&"paren"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&"text"===$.type&&"text"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:""};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?"(":"")+n.open;K({type:e,value:t,output:F.output?"":x}),K({type:"paren",extglob:!0,value:W(),output:i}),G("parens"),B.push(n)},Q=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=R(r)),(i!==D||q()||/^\)+$/.test(e.slice(F.index+1)))&&(n=t.close=")$))"+i),"bos"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:"paren",extglob:!0,value:N,output:n}),z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?r?r+i+(s?T.repeat(s.length):""):0===o?L+(s?T.repeat(s.length):""):T.repeat(n.length):"."===i?_.repeat(n.length):"*"===i?r?r+i+(s?D:""):D:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),F.output=n,F}for(;!q();){if(N=W(),"\0"===N)continue;if("\\"===N){let t=V();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){N+="\\",K({type:"text",value:N});continue}let n=/^\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+="\\")),!0===r.unescape?N=W()||"":N+=W()||"",0===F.brackets){K({type:"text",value:N});continue}}if(F.brackets>0&&("]"!==N||"["===$.value||"[^"===$.value)){if(!1!==r.posix&&":"===N){let e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){let e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}("["===N&&":"!==V()||"-"===N&&"]"===V())&&(N="\\"+N),"]"!==N||"["!==$.value&&"[^"!==$.value||(N="\\"+N),!0===r.posix&&"!"===N&&"["===$.value&&(N="^"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:"text",value:N});continue}if("("===N){K({type:"paren",value:N}),G("parens");continue}if(")"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:"paren",value:N,output:F.parens?")":"\\)"}),z("parens");continue}if("["===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes("]"))G("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));N="\\"+N}K({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||$&&"bracket"===$.type&&1===$.value.length){K({type:"text",value:N,output:"\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));K({type:"text",value:N,output:"\\"+N});continue}z("brackets");let e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(N="/"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if("{"===N&&!0!==r.nobrace){K({type:"brace",value:N,output:"("}),G("braces");continue}if("}"===N){if(!0===r.nobrace||0===F.braces){K({type:"text",value:N,output:"\\"+N});continue}let e=")";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:"brace",value:N,output:e}),z("braces");continue}if("|"===N){B.length>0&&B[B.length-1].conditions++,K({type:"text",value:N});continue}if(","===N){let e=N;F.braces>0&&"braces"===U[U.length-1]&&(e="|"),K({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===$.type&&1===F.index){F.start=F.index+1,F.consumed="",F.output="",m.pop(),$=g;continue}K({type:"slash",value:N,output:k});continue}if("."===N){if(F.braces>0&&"dot"===$.type){"."===$.value&&($.output=_),$.type="dots",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:"dot",value:N,output:_});continue}if("?"===N){if($&&"paren"===$.type){let e=V(),t=N;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===$.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(V(2)))&&(t="\\"+N),K({type:"text",value:N,output:t});continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("qmark",N);continue}if(!0!==r.dot&&("slash"===$.type||"bos"===$.type)){K({type:"qmark",value:N,output:j});continue}K({type:"qmark",value:N,output:T});continue}if("!"===N){if(!0!==r.noextglob&&"("===V()&&("?"!==V(2)||!/[!=<:]/.test(V(3)))){J("negate",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if("+"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("plus",N);continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)){let e=!0===$.extglob?"\\"+N:N;K({type:"plus",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:"plus",value:N});continue}K({type:"plus",value:S});continue}if("@"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){K({type:"at",value:N,output:""});continue}K({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N="\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:"text",value:N});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("star",N);continue}if("star"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!i||!q()&&"/"!==V())){K({type:"star",value:N,output:""});continue}let o=F.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){K({type:"star",value:N,output:""});continue}for(;"/**"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&"/"!==t)break;F.consumed+="/**",F.index+=3}if("bos"===t.type&&q()){$.type="globstar",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=R(r)+"|$)",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==V(2)?"|$":"";F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}if("bos"===t.type&&"/"===c){$.type="globstar",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}F.output=F.output.slice(0,-$.output.length),$.type="globstar",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:"star",value:N,output:D};!0!==r.bash?!$||"bracket"!==$.type&&"paren"!==$.type||!0!==r.regex?(F.index!==F.start&&"slash"!==$.type&&"dot"!==$.type||("dot"===$.type?(F.output+=C,$.output+=C):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),"*"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=".*?","bos"!==$.type&&"slash"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));F.output=n.escapeLast(F.output,"["),z("brackets")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));F.output=n.escapeLast(F.output,"("),z("parens")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));F.output=n.escapeLast(F.output,"{"),z("braces")}if(!0===r.strictSlashes||"star"!==$.type&&"bracket"!==$.type||K({type:"maybe_slash",value:"",output:`${k}?`}),!0===F.backtrack){F.output="";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?"":"?:",w=!0===r.bash?".*?":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case"*":return`${_}${d}${w}`;case".*":return`${l}${d}${w}`;case"*.*":return`${_}${w}${l}${d}${w}`;case"*/*":return`${_}${w}${p}${d}${S}${w}`;case"**":return _+k(r);case"**/*":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case"**/*.*":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case"**/.*":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(28);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const s=String(i);return s.startsWith("class ")||s.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},s=[],o=new Set;let a="~",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+="~";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>"{".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(4)),a=r(63),c=r(383),u=o.loadMessageBundle(r(0).join(__dirname,"adapter/console/queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:u(2,null,e.message)}}const n="
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js
[33][风险] 黑客在2021-04-02 00:04:52时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(23)},function(e,t,r){"use strict";const n=r(0),o=r(24),s=r(25),i=r(1),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},o=i.isWindows(t),s=a.makeRe(e,t,!1,!0),u=s.state;delete s.state;let c=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};c=a(n.ignore,e,r)}const l=(r,i=!1)=>{let{isMatch:l,match:p,output:f}=a.test(r,s,t,{glob:e,posix:o}),d={glob:e,state:u,regex:s,posix:o,input:r,output:f,match:p,isMatch:l};return"function"==typeof n.onResult&&n.onResult(d),!1===l?(d.isMatch=!1,!!i&&d):c(r)?("function"==typeof n.onIgnore&&n.onIgnore(d),d.isMatch=!1,!!i&&d):("function"==typeof n.onMatch&&n.onMatch(d),!i||d)};return r&&(l.state=u),l};a.test=(e,t,r,{glob:n,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},u=s.format||(o?i.toPosixSlashes:null),c=e===n,l=c&&u?u(e):e;return!1===c&&(l=u?u(e):e,c=l===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,o):t.exec(l)),{isMatch:!!c,match:c,output:l}},a.matchBase=(e,t,r,o=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>o(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o,i=t||{},u=i.contains?"":"^",c=i.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(o=s.fastpaths(e,t)),void 0===o&&(l=a.parse(e,t),l.prefix=p+(l.prefix||""),o=l.output),!0===r)return o;let f=`${u}(?:${o})${c}`;l&&!0===l.negated&&(f=`^(?!${f}).*$`);let d=a.toRegex(f,t);return!0===n&&(d.state=l),d},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(2),e.exports=a},function(e,t,r){"use strict";const n=r(1),{CHAR_ASTERISK:o,CHAR_AT:s,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:u,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:f,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:_,CHAR_QUESTION_MARK:h,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:R,CHAR_RIGHT_SQUARE_BRACKET:A}=r(2);e.exports=(e,t)=>{let r,E,y=t||{},v=e.length-1,C=-1,b=0,m=0,S=!1,x=!1,O=!1,T=0,H=!1,w=()=>C>=v,N=()=>(r=E,e.charCodeAt(++C));for(;C<v;){let t;if(E=N(),E!==i){if(!0===H||E===p)for(T++;!w()&&(t=N());)if(t!==i)if(t!==p){if(!H&&t===u&&(t=N())===u){S=!0;break}if(!H&&t===a){S=!0;break}if(t===g&&(T--,0===T)){H=!1;break}}else T++;else x=!0,t=N();if(E!==l){if(E===o){S=!0;break}if(E===o||E===h){S=!0;break}if(E===d)for(;!w()&&(t=N());)if(t!==i){if(t===A){S=!0;break}}else x=!0,t=N();if((E===_||E===s||E===c)&&e.charCodeAt(C+1)===f){S=!0;break}if(E!==c||C!==b){if(E===f)for(;!w()&&(t=N());)if(t!==i){if(t===R){S=!0;break}}else x=!0,t=N();if(S)break}else O=!0,b++}else{if(r===u&&C===b+1){b+=2;continue}m=C+1}}else x=!0,t=N(),t===p&&(H=!0)}let L="",P=e,k=e,I="";return b>0&&(L=e.slice(0,b),e=e.slice(b),m-=b),k&&!0===S&&m>0?(k=e.slice(0,m),I=e.slice(m)):!0===S?(k="",I=e):k=e,k&&""!==k&&"/"!==k&&k!==e&&(e=>e===l||e===i)(k.charCodeAt(k.length-1))&&(k=k.slice(0,-1)),!0===y.unescape&&(I&&(I=n.removeBackslashes(I)),k&&!0===x&&(k=n.removeBackslashes(k))),{prefix:L,input:P,base:k,glob:I,negated:O,isGlob:S}}},function(e,t,r){"use strict";const n=r(1),o=r(2),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:u,REPLACEMENTS:c}=o,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},f=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,d=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;let r={...t},d="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,_=e.length;if(_>d)throw new SyntaxError(`Input length: ${_}, exceeds maximum allowed length: ${d}`);let h={type:"bos",value:"",output:r.prepend||""},g=[h],R=r.capture?"":"?:",A=n.isWindows(t);const E=o.globChars(A),y=o.extglobChars(E),{DOT_LITERAL:v,PLUS_LITERAL:C,SLASH_LITERAL:b,ONE_CHAR:m,DOTS_SLASH:S,NO_DOT:x,NO_DOT_SLASH:O,NO_DOTS_SLASH:T,QMARK:H,QMARK_NO_DOT:w,STAR:N,START_ANCHOR:L}=E,P=e=>`(${R}(?:(?!${L}${e.dot?S:v}).)*?)`;let k=r.dot?"":x,I=!0===r.bash?P(r):N,$=r.dot?H:w;r.capture&&(I=`(${I})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,D={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},B=[],j=[],F=h;const K=()=>D.index===_-1,U=D.peek=(t=1)=>e[D.index+t],G=D.advance=()=>e[++D.index],q=e=>{D.output+=null!=e.output?e.output:e.value,D.consumed+=e.value||""},Q=e=>{D[e]++,j.push(e)},W=e=>{D[e]--,j.pop()},X=e=>{if("globstar"===F.type){let t=D.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(D.output=D.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=I,D.output+=F.output)}B.length&&"paren"!==e.type&&!y[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&q(e),F&&"text"===F.type&&"text"===e.type?F.value+=e.value:(e.prev=F,g.push(e),F=e)},Z=(e,t)=>{let n={...y[t],conditions:1,inner:""};n.prev=F,n.parens=D.parens,n.output=D.output;let o=(r.capture?"(":"")+n.open;X({type:e,value:t,output:D.output?"":m}),X({type:"paren",extglob:!0,value:G(),output:o}),Q("parens"),B.push(n)},V=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let o=I;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(o=P(r)),(o!==I||K()||/^\)+$/.test(e.slice(D.index+1)))&&(n=t.close=")$))"+o),"bos"===t.prev.type&&K()&&(D.negatedExtglob=!0)}X({type:"paren",extglob:!0,value:M,output:n}),W("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(u,(e,r,n,o,s,i)=>"\\"===o?(t=!0,e):"?"===o?r?r+o+(s?H.repeat(s.length):""):0===i?$+(s?H.repeat(s.length):""):H.repeat(n.length):"."===o?v.repeat(n.length):"*"===o?r?r+o+(s?I:""):I:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),D.output=n,D}for(;!K();){if(M=G(),"\0"===M)continue;if("\\"===M){let t=U();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",X({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(D.index+1)),o=0;if(n&&n[0].length>2&&(o=n[0].length,D.index+=o,o%2!=0&&(M+="\\")),!0===r.unescape?M=G()||"":M+=G()||"",0===D.brackets){X({type:"text",value:M});continue}}if(D.brackets>0&&("]"!==M||"["===F.value||"[^"===F.value)){if(!1!==r.posix&&":"===M){let e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){let e=F.value.lastIndexOf("["),t=F.value.slice(0,e),r=F.value.slice(e+2),n=i[r];if(n){F.value=t+n,D.backtrack=!0,G(),h.output||1!==g.indexOf(F)||(h.output=m);continue}}}("["===M&&":"!==U()||"-"===M&&"]"===U())&&(M="\\"+M),"]"!==M||"["!==F.value&&"[^"!==F.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===F.value&&(M="^"),F.value+=M,q({value:M});continue}if(1===D.quotes&&'"'!==M){M=n.escapeRegex(M),F.value+=M,q({value:M});continue}if('"'===M){D.quotes=1===D.quotes?0:1,!0===r.keepQuotes&&X({type:"text",value:M});continue}if("("===M){X({type:"paren",value:M}),Q("parens");continue}if(")"===M){if(0===D.parens&&!0===r.strictBrackets)throw new SyntaxError(f("opening","("));let e=B[B.length-1];if(e&&D.parens===e.parens+1){V(B.pop());continue}X({type:"paren",value:M,output:D.parens?")":"\\)"}),W("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(D.index+1).includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));M="\\"+M}X({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||F&&"bracket"===F.type&&1===F.value.length){X({type:"text",value:M,output:"\\"+M});continue}if(0===D.brackets){if(!0===r.strictBrackets)throw new SyntaxError(f("opening","["));X({type:"text",value:M,output:"\\"+M});continue}W("brackets");let e=F.value.slice(1);if(!0===F.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),F.value+=M,q({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(F.value);if(D.output=D.output.slice(0,-F.value.length),!0===r.literalBrackets){D.output+=t,F.value=t;continue}F.value=`(${R}${t}|${F.value})`,D.output+=F.value;continue}if("{"===M&&!0!==r.nobrace){X({type:"brace",value:M,output:"("}),Q("braces");continue}if("}"===M){if(!0===r.nobrace||0===D.braces){X({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===D.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),D.backtrack=!0}X({type:"brace",value:M,output:e}),W("braces");continue}if("|"===M){B.length>0&&B[B.length-1].conditions++,X({type:"text",value:M});continue}if(","===M){let e=M;D.braces>0&&"braces"===j[j.length-1]&&(e="|"),X({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===F.type&&1===D.index){D.start=D.index+1,D.consumed="",D.output="",g.pop(),F=h;continue}X({type:"slash",value:M,output:b});continue}if("."===M){if(D.braces>0&&"dot"===F.type){"."===F.value&&(F.output=v),F.type="dots",F.output+=M,F.value+=M,D.dots=!0;continue}X({type:"dot",value:M,output:v});continue}if("?"===M){if(F&&"paren"===F.type){let e=U(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(U(2)))&&(t="\\"+M),X({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("qmark",M);continue}if(!0!==r.dot&&("slash"===F.type||"bos"===F.type)){X({type:"qmark",value:M,output:w});continue}X({type:"qmark",value:M,output:H});continue}if("!"===M){if(!0!==r.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){Z("negate",M);continue}if(!0!==r.nonegate&&0===D.index){p(D);continue}}if("+"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("plus",M);continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)){let e=!0===F.extglob?"\\"+M:M;X({type:"plus",value:M,output:e});continue}if(D.parens>0&&!1!==r.regex){X({type:"plus",value:M});continue}X({type:"plus",value:C});continue}if("@"===M){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){X({type:"at",value:M,output:""});continue}X({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(D.index+1));t&&(M+=t[0],D.index+=t[0].length),X({type:"text",value:M});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=M,F.output=I,D.backtrack=!0,D.consumed+=M;continue}if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){Z("star",M);continue}if("star"===F.type){if(!0===r.noglobstar){D.consumed+=M;continue}let t=F.prev,n=t.prev,o="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!o||!K()&&"/"!==U())){X({type:"star",value:M,output:""});continue}let i=D.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!o&&"paren"!==t.type&&!i&&!a){X({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(D.index+1,D.index+4);){let t=e[D.index+4];if(t&&"/"!==t)break;D.consumed+="/**",D.index+=3}if("bos"===t.type&&K()){F.type="globstar",F.value+=M,F.output=P(r),D.output=F.output,D.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&K()){D.output=D.output.slice(0,-(t.output+F.output).length),t.output="(?:"+t.output,F.type="globstar",F.output=P(r)+"|$)",F.value+=M,D.output+=t.output+F.output,D.consumed+=M;continue}let u=U();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===u){let e=void 0!==U(2)?"|$":"";D.output=D.output.slice(0,-(t.output+F.output).length),t.output="(?:"+t.output,F.type="globstar",F.output=`${P(r)}${b}|${b}${e})`,F.value+=M,D.output+=t.output+F.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===u){F.type="globstar",F.value+=M,F.output=`(?:^|${b}|${P(r)}${b})`,D.output=F.output,D.consumed+=M+G(),X({type:"slash",value:M,output:""});continue}D.output=D.output.slice(0,-F.output.length),F.type="globstar",F.output=P(r),F.value+=M,D.output+=F.output,D.consumed+=M;continue}let t={type:"star",value:M,output:I};!0!==r.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==r.regex?(D.index!==D.start&&"slash"!==F.type&&"dot"!==F.type||("dot"===F.type?(D.output+=O,F.output+=O):!0===r.dot?(D.output+=T,F.output+=T):(D.output+=k,F.output+=k),"*"!==U()&&(D.output+=m,F.output+=m)),X(t)):(t.output=M,X(t)):(t.output=".*?","bos"!==F.type&&"slash"!==F.type||(t.output=k+t.output),X(t))}for(;D.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","]"));D.output=n.escapeLast(D.output,"["),W("brackets")}for(;D.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing",")"));D.output=n.escapeLast(D.output,"("),W("parens")}for(;D.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(f("closing","}"));D.output=n.escapeLast(D.output,"{"),W("braces")}if(!0===r.strictSlashes||"star"!==F.type&&"bracket"!==F.type||X({type:"maybe_slash",value:"",output:`${b}?`}),!0===D.backtrack){D.output="";for(let e of D.tokens)D.output+=null!=e.output?e.output:e.value,e.suffix&&(D.output+=e.suffix)}return D};d.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=c[e]||e;let u=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:f,DOTS_SLASH:d,NO_DOT:_,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:R,START_ANCHOR:A}=o.globChars(u);let E=r.capture?"":"?:",y=!0===r.bash?".*?":R,v=r.dot?h:_,C=r.dot?g:_;r.capture&&(y=`(${y})`);const b=e=>`(${E}(?:(?!${A}${e.dot?d:l}).)*?)`,m=e=>{switch(e){case"*":return`${v}${f}${y}`;case".*":return`${l}${f}${y}`;case"*.*":return`${v}${y}${l}${f}${y}`;case"*/*":return`${v}${y}${p}${f}${C}${y}`;case"**":return v+b(r);case"**/*":return`(?:${v}${b(r)}${p})?${C}${f}${y}`;case"**/*.*":return`(?:${v}${b(r)}${p})?${C}${y}${l}${f}${y}`;case"**/.*":return`(?:${v}${b(r)}${p})?${l}${f}${y}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=m(r[1],t);if(!n)return;return n+l+r[2]}}};let S=m(e);return S&&!0!==r.strictSlashes&&(S+=`${p}?`),S},e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOpenPortSync=void 0;const n=r(5),o=r(9);var s=r(27);Object.defineProperty(t,"acquirePortNumber",{enumerable:!0,get:function(){return s.acquirePortNumber}}),t.findOpenPortSync=function({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){const n=i();let s=o.randomInRange(e,t);for(let o=Math.min(r,t-e);o>=0;o--){if(n(s))return s;s=s===t-1?e:s+1}throw new Error("No open port found")};const i=()=>{const e=e=>0===n.spawnSync(process.execPath,["-e",'require("net").createServer().on("listening",()=>process.exit(0)).on("error",()=>process.exit(1)).listen(+process.env.PORT)'],{env:Object.assign(Object.assign({},process.env),{PORT:String(e),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:"1"})}).status;let t="win32"===process.platform?e:r=>{var o;const s=n.spawnSync("nc",["-z","127.0.0.1",String(r)]);return"ENOENT"===(null===(o=s.error)||void 0===o?void 0:o.code)&&(t=e),1===s.status};return e=>t(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const n=r(28),o=r(29),s=r(9);function i(e,t=o.NeverCancelled){let r;return new Promise((s,i)=>{const a=n.createServer();a.listen(e,()=>{const e=a.address();a.close(()=>s(e.port))}),a.on("error",i),r=t.onCancellationRequested(()=>{a.close(),i(new o.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==r?void 0:r.dispose())}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=i}={},a=o.NeverCancelled){let u=s.randomInRange(e,t);for(let s=Math.min(r,t-e);;s--)try{return await n(u,a)}catch(r){if(0===s||r instanceof o.TaskCancelledError)throw r;u=u===t-1?e:u+1}},t.isPortOpen=async function(e,t){try{return await i(e,t),!0}catch(e){return!1}},t.acquirePortNumber=i,t.makeAcquireTcpServer=e=>(t,r)=>{let s;return new Promise((i,a)=>{const u=n.createServer(e);u.listen(t,"127.0.0.1"),u.on("error",a),u.on("listening",()=>i(u)),s=r.onCancellationRequested(()=>{u.close(),a(new o.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==s?void 0:s.dispose())}},function(e,t){e.exports=require("net")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(30),o=r(31),s=r(32);class i extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=i,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new i(r||"Task cancelled"));const n=s.getDeferred(),o=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new i(r||"Task cancelled")}),e.then(e=>(o.dispose(),e)).catch(e=>{throw o.dispose(),e})])},t.cancellableRace=function(e,t){const r=new u(t),n=e.map(async e=>{try{return await e(r.token)}finally{r.cancel()}});return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class u{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new u(t),n=r._token=new c,o=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(o)),r}get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token instanceof c&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof c&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=u;class c{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolError=void 0;class n extends Error{constructor(e){super("__errorMarker"in e?e.error.format:e.format),this._cause="__errorMarker"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;t.EventEmitter=class{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(o),o}}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeferred=t.some=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise(t=>setTimeout(t,e)):new Promise(()=>{}),t.some=function(e){return new Promise((t,r)=>{let n=e.length;for(const o of e)o.then(e=>{e?(t(e),n=-1):0==--n&&t(void 0)}).catch(r)})},t.getDeferred=function(){let e,t=null,r=null,n=!1;const o=new Promise((o,s)=>{t=t=>{n=!0,e=t,o(t)},r=e=>{n=!0,s(e)}});return{resolve:t,reject:r,promise:o,get settledValue(){return e},hasSettled:()=>n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(36),logger_1=__webpack_require__(11);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(38).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&"node-gyp.js"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const i=r(10),a=r(6),u=r(37),c=s(r(0));class l{constructor(){this.disposed=!1,this.path=c.join(u.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-l.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),l.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=l,l.updateInterval=1e3,l.recencyDeadline=2e3},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=38},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(10);t.createTargetId=()=>n.randomBytes(12).toString("hex")},function(e,t){e.exports=require("worker_threads")}]);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js
[34][风险] 黑客在2021-04-13 17:30:28时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js，反弹shell类：[0m`,t,...i):console.error(`[main ${p()}]`,t,...i))}dispose(){}flush(){}}e.ConsoleMainLogger=O;class w extends m{constructor(t=e.DEFAULT_LOG_LEVEL){super();this.setLevel(t)}trace(t,...i){this.getLevel()<=g.Trace&&console.log("%cTRACE","color: #888",t,...i)}debug(t,...i){this.getLevel()<=g.Debug&&console.log("%cDEBUG","background: #eee; color: #888",t,...i)}info(t,...i){this.getLevel()<=g.Info&&console.log("%c INFO","color: #33f",t,...i)}warn(t,...i){this.getLevel()<=g.Warning&&console.log("%c WARN","color: #993",t,...i)}error(t,...i){this.getLevel()<=g.Error&&console.log("%c ERR","color: #f33",t,...i)}critical(t,...i){this.getLevel()<=g.Critical&&console.log("%cCRITI","background: #f33; color: white",t,...i)}dispose(){}flush(){}}e.ConsoleLogger=w;class P extends m{constructor(t,i=e.DEFAULT_LOG_LEVEL){super();this.adapter=t,this.setLevel(i)}trace(t,...i){this.getLevel()<=g.Trace&&this.adapter.log(g.Trace,[this.extractMessage(t),...i])}debug(t,...i){this.getLevel()<=g.Debug&&this.adapter.log(g.Debug,[this.extractMessage(t),...i])}info(t,...i){this.getLevel()<=g.Info&&this.adapter.log(g.Info,[this.extractMessage(t),...i])}warn(t,...i){this.getLevel()<=g.Warning&&this.adapter.log(g.Warning,[this.extractMessage(t),...i])}error(t,...i){this.getLevel()<=g.Error&&this.adapter.log(g.Error,[this.extractMessage(t),...i])}critical(t,...i){this.getLevel()<=g.Critical&&this.adapter.log(g.Critical,[this.extractMessage(t),...i])}extractMessage(t){return typeof t=="string"?t:(0,F.toErrorMessage)(t,this.getLevel()<=g.Trace)}dispose(){}flush(){}}e.AdapterLogger=P;class u extends m{constructor(t){super();this.logServices=t,t.length&&this.setLevel(t[0].getLevel())}setLevel(t){for(const i of this.logServices)i.setLevel(t);super.setLevel(t)}trace(t,...i){for(const s of this.logServices)s.trace(t,...i)}debug(t,...i){for(const s of this.logServices)s.debug(t,...i)}info(t,...i){for(const s of this.logServices)s.info(t,...i)}warn(t,...i){for(const s of this.logServices)s.warn(t,...i)}error(t,...i){for(const s of this.logServices)s.error(t,...i)}critical(t,...i){for(const s of this.logServices)s.critical(t,...i)}flush(){for(const t of this.logServices)t.flush()}dispose(){for(const t of this.logServices)t.dispose()}}e.MultiplexLogService=u;class y extends T.Disposable{constructor(t){super();this.logger=t,this._register(t)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...i){this.logger.trace(t,...i)}debug(t,...i){this.logger.debug(t,...i)}info(t,...i){this.logger.info(t,...i)}warn(t,...i){this.logger.warn(t,...i)}error(t,...i){this.logger.error(t,...i)}critical(t,...i){this.logger.critical(t,...i)}flush(){this.logger.flush()}}e.LogService=y;class S{constructor(){this.onDidChangeLogLevel=new D.Emitter().event}setLevel(t){}getLevel(){return g.Info}trace(t,...i){}debug(t,...i){}info(t,...i){}warn(t,...i){}error(t,...i){}critical(t,...i){}dispose(){}flush(){}}e.NullLogService=S;function b(n){if(n.verbose)return g.Trace;if(typeof n.logLevel=="string"){const t=C(n.logLevel.toLowerCase());if(t!==void 0)return t}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=b;function C(n){switch(n){case"trace":return g.Trace;case"debug":return g.Debug;case"info":return g.Info;case"warn":return g.Warning;case"error":return g.Error;case"critical":return g.Critical;case"off":return g.Off}}e.parseLogLevel=C;function a(n){switch(n){case g.Trace:return"trace";case g.Debug:return"debug";case g.Info:return"info";case g.Warning:return"warn";case g.Error:return"error";case g.Critical:return"critical";case g.Off:return"off"}}e.LogLevelToString=a}),define(X[47],x([0,1,16,4,5]),function(J,e,v,T,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FollowerLogService=e.LoggerChannelClient=e.LoggerChannel=e.LogLevelChannelClient=e.LogLevelChannel=void 0;class D{constructor(w){this.service=w,this.onDidChangeLogLevel=T.Event.buffer(w.onDidChangeLogLevel,!0)}listen(w,P){switch(P){case"onDidChangeLogLevel":return this.onDidChangeLogLevel}throw new Error(`Event not found: ${P}`)}async call(w,P,u){switch(P){case"setLevel":return this.service.setLevel(u)}throw new Error(`Call not found: ${P}`)}}e.LogLevelChannel=D;class F{constructor(w){this.channel=w}get onDidChangeLogLevel(){return this.channel.listen("onDidChangeLogLevel")}setLevel(w){F.setLevel(this.channel,w)}static setLevel(w,P){return w.call("setLevel",P)}}e.LogLevelChannelClient=F;class p{constructor(w){this.loggerService=w,this.loggers=new Map}listen(w,P){throw new Error(`Event not found: ${P}`)}async call(w,P,u){switch(P){case"createLogger":this.createLogger(A.URI.revive(u[0]),u[1]);return;case"log":return this.log(A.URI.revive(u[0]),u[1]);case"consoleLog":return this.consoleLog(u[0],u[1])}throw new Error(`Call not found: ${P}`)}createLogger(w,P){this.loggers.set(w.toString(),this.loggerService.createLogger(w,P))}consoleLog(w,P){let u=console.log;switch(w){case v.LogLevel.Error:u=console.error;break;case v.LogLevel.Warning:u=console.warn;break;case v.LogLevel.Info:u=console.info;break}u.call(console,...P)}log(w,P){const u=this.loggers.get(w.toString());if(!u)throw new Error("Create the logger before logging");for(const[y,S]of P)switch(y){case v.LogLevel.Trace:u.trace(S);break;case v.LogLevel.Debug:u.debug(S);break;case v.LogLevel.Info:u.info(S);break;case v.LogLevel.Warning:u.warn(S);break;case v.LogLevel.Error:u.error(S);break;case v.LogLevel.Critical:u.critical(S);break;default:throw new Error("Invalid log level")}}}e.LoggerChannel=p;class g{constructor(w){this.channel=w}createConsoleMainLogger(){return new v.AdapterLogger({log:(w,P)=>{this.channel.call("consoleLog",[w,P])}})}createLogger(w,P){return new m(this.channel,w,P)}}e.LoggerChannelClient=g;class m extends v.AbstractMessageLogger{constructor(w,P,u){super(u==null?void 0:u.always);this.channel=w,this.file=P,this.isLoggerCreated=!1,this.buffer=[],this.channel.call("createLogger",[P,u]).then(()=>{this._log(this.buffer),this.isLoggerCreated=!0})}log(w,P){this._log([[w,P]])}_log(w){this.isLoggerCreated?this.channel.call("log",[this.file,w]):this.buffer.push(...w)}}class I extends v.LogService{constructor(w,P){super(P);this.parent=w,this._register(w.onDidChangeLogLevel(u=>P.setLevel(u)))}setLevel(w){super.setLevel(w),this.parent.setLevel(w)}}e.FollowerLogService=I}),define(X[17],x([0,1,30]),function(J,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlowControlConstants=e.LocalReconnectConstants=e.HeartbeatConstants=e.IPtyService=e.ILocalTerminalService=e.TerminalIpcChannels=e.WindowsShellType=void 0;var T;(function(g){g.CommandPrompt="cmd",g.PowerShell="pwsh",g.Wsl="wsl",g.GitBash="gitbash"})(T=e.WindowsShellType||(e.WindowsShellType={}));var A;(function(g){g.LocalPty="localPty",g.PtyHost="ptyHost",g.Log="log",g.Heartbeat="heartbeat"})(A=e.TerminalIpcChannels||(e.TerminalIpcChannels={})),e.ILocalTerminalService=(0,v.createDecorator)("localTerminalService"),e.IPtyService=(0,v.createDecorator)("ptyService");var D;(function(g){g[g.BeatInterval=5e3]="BeatInterval",g[g.FirstWaitMultiplier=1.2]="FirstWaitMultiplier",g[g.SecondWaitMultiplier=1]="SecondWaitMultiplier",g[g.CreateProcessTimeout=5e3]="CreateProcessTimeout"})(D=e.HeartbeatConstants||(e.HeartbeatConstants={}));var F;(function(g){g[g.ReconnectionGraceTime=6e4]="ReconnectionGraceTime",g[g.ReconnectionShortGraceTime=6e3]="ReconnectionShortGraceTime"})(F=e.LocalReconnectConstants||(e.LocalReconnectConstants={}));var p;(function(g){g[g.HighWatermarkChars=1e5]="HighWatermarkChars",g[g.LowWatermarkChars=5e3]="LowWatermarkChars",g[g.CharCountAckSize=5e3]="CharCountAckSize"})(p=e.FlowControlConstants||(e.FlowControlConstants={}))}),define(X[48],x([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalDataBufferer=void 0;class v{constructor(A){this._callback=A,this._terminalBufferMap=new Map}dispose(){for(const A of this._terminalBufferMap.values())A.dispose()}startBuffering(A,D,F=5){let p;return p=D(g=>{const m=typeof g=="string"?g:g.data;let I=this._terminalBufferMap.get(A);if(I){I.data.push(m);return}const O=setTimeout(()=>this.flushBuffer(A),F);I={data:[m],timeoutId:O,dispose:()=>{clearTimeout(O),this.flushBuffer(A),p.dispose()}},this._terminalBufferMap.set(A,I)}),p}stopBuffering(A){const D=this._terminalBufferMap.get(A);D&&D.dispose()}flushBuffer(A){const D=this._terminalBufferMap.get(A);D&&(this._terminalBufferMap.delete(A),this._callback(A,D.data.join("")))}}e.TerminalDataBufferer=v}),define(X[49],x([0,1]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalRecorder=void 0;const v=1024*1024;class T{constructor(D,F){this._totalDataLength=0,this._entries=[{cols:D,rows:F,data:[]}]}recordResize(D,F){if(this._entries.length>0&&this._entries[this._entries.length-1].data.length===0&&this._entries.pop(),this._entries.length>0){const p=this._entries[this._entries.length-1];if(p.cols===D&&p.rows===F)return;if(p.cols===0&&p.rows===0){p.cols=D,p.rows=F;return}}this._entries.push({cols:D,rows:F,data:[]})}recordData(D){for(this._entries[this._entries.length-1].data.push(D),this._totalDataLength+=D.length;this._totalDataLength>v;){const p=this._entries[0],g=this._totalDataLength-v;g>=p.data[0].length?(this._totalDataLength-=p.data[0].length,p.data.shift(),p.data.length===0&&this._entries.shift()):(p.data[0]=p.data[0].substr(g),this._totalDataLength-=g)}}generateReplayEvent(){return this._entries.forEach(D=>{D.data.length>0&&(D.data=[D.data.join("")])}),{events:this._entries.map(D=>{var F;return{cols:D.cols,rows:D.rows,data:(F=D.data[0])!==null&&F!==void 0?F:""}})}}}e.TerminalRecorder=T}),define(X[50],x([0,1,4,3,17]),function(J,e,v,T,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeartbeatService=void 0;class D extends T.Disposable{constructor(){super();this._onBeat=this._register(new v.Emitter),this.onBeat=this._onBeat.event;const p=setInterval(()=>{this._onBeat.fire()},A.HeartbeatConstants.BeatInterval);this._register((0,T.toDisposable)(()=>clearInterval(p)))}}e.HeartbeatService=D}),define(X[51],x([0,1,25,6,11,23,9,15,2]),function(J,e,v,T,A,D,F,p,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findExecutable=e.getWindowsBuildNumber=void 0;function m(){const O=/(\d+)\.(\d+)\.(\d+)/g.exec(v.release());let w=0;return O&&O.length===4&&(w=parseInt(O[3])),w}e.getWindowsBuildNumber=m;async function I(O,w,P,u=A.env){if(T.isAbsolute(O))return await(0,D.exists)(O)?O:void 0;if(w===void 0&&(w=A.cwd()),T.dirname(O)!=="."){const C=T.join(w,O);return await(0,D.exists)(C)?C:void 0}const S=(0,p.getCaseInsensitive)(u,"PATH");if(P===void 0&&(0,F.isString)(S)&&(P=S.split(T.delimiter)),P===void 0||P.length===0){const C=T.join(w,O);return await(0,D.exists)(C)?C:void 0}for(let C of P){let a;if(T.isAbsolute(C)?a=T.join(C,O):a=T.join(w,C,O),await(0,D.exists)(a))return a;if(g.isWindows){let n=a+".com";if(await(0,D.exists)(n)||(n=a+".exe",await(0,D.exists)(n)))return n}}const b=T.join(w,O);return await(0,D.exists)(b)?b:void 0}e.findExecutable=I});var Pe=this&&this.__decorate||function(J,e,v,T){var A=arguments.length,D=A<3?e:T===null?T=Object.getOwnPropertyDescriptor(e,v):T,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(J,e,v,T);else for(var p=J.length-1;p>=0;p--)(F=J[p])&&(D=(A<3?F(D):A>3?F(e,v,D):F(e,v))||D);return A>3&&D&&Object.defineProperty(e,v,D),D};define(X[52],x([0,1,2,4,3,17,31,10]),function(J,e,v,T,A,D,F,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowsShellHelper=void 0;const g=["cmd.exe","powershell.exe","pwsh.exe","bash.exe","wsl.exe","ubuntu.exe","ubuntu1804.exe","kali.exe","debian.exe","opensuse-42.exe","sles-12.exe"];let m;class I extends A.Disposable{constructor(w){super();if(this._rootProcessId=w,this._shellTitle="",this._onShellNameChanged=new T.Emitter,this._onShellTypeChanged=new T.Emitter,!v.isWindows)throw new Error(`WindowsShellHelper cannot be instantiated on ${v.platform}`);this._isDisposed=!1,this._startMonitoringShell()}get shellType(){return this._shellType}get shellTitle(){return this._shellTitle}get onShellNameChanged(){return this._onShellNameChanged.event}get onShellTypeChanged(){return this._onShellTypeChanged.event}async _startMonitoringShell(){this._isDisposed||this.checkShell()}async checkShell(){v.isWindows&&(await(0,p.timeout)(300),this.getShellName().then(w=>{const P=this.getShellType(w);P!==this._shellType&&(this._onShellTypeChanged.fire(P),this._onShellNameChanged.fire(w),this._shellType=P,this._shellTitle=w)}))}traverseTree(w){if(!w)return"";if(g.indexOf(w.name)===-1||!w.children||w.children.length===0)return w.name;let P=0;for(;P<w.children.length;P++){const u=w.children[P];if(!u.children||u.children.length===0||u.children[0].name!=="conhost.exe")break}return P>=w.children.length?w.name:this.traverseTree(w.children[P])}dispose(){this._isDisposed=!0,super.dispose()}getShellName(){return this._isDisposed?Promise.resolve(""):this._currentRequest?this._currentRequest:(this._currentRequest=new Promise(async w=>{m||(m=await new Promise((P,u)=>{J(["windows-process-tree"],P,u)})),m.getProcessTree(this._rootProcessId,P=>{const u=this.traverseTree(P);this._currentRequest=void 0,w(u)})}),this._currentRequest)}getShellType(w){switch(w.toLowerCase()){case"cmd.exe":return D.WindowsShellType.CommandPrompt;case"powershell.exe":case"pwsh.exe":return D.WindowsShellType.PowerShell;case"bash.exe":case"git-cmd.exe":return D.WindowsShellType.GitBash;case"wsl.exe":case"ubuntu.exe":case"ubuntu1804.exe":case"kali.exe":case"debian.exe":case"opensuse-42.exe":case"sles-12.exe":return D.WindowsShellType.Wsl;default:return}}}Pe([(0,F.debounce)(500)],I.prototype,"checkShell",null),e.WindowsShellHelper=I});var Ee=this&&this.__param||function(J,e){return function(v,T){e(v,T,J)}};define(X[53],x([0,1,6,2,24,25,4,3,29,16,51,5,46,52]),function(J,e,v,T,A,D,F,p,g,m,I,O,w,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalProcess=void 0;const u=50,y=5;var S;(function(a){a[a.DataFlushTimeout=250]="DataFlushTimeout",a[a.MaximumShutdownTime=5e3]="MaximumShutdownTime"})(S||(S={}));let b=class extends p.Disposable{constructor(n,t,i,s,l,o,c,d){var R;super();this._shellLaunchConfig=n,this._executableEnv=o,this._logService=d,this.id=0,this.shouldPersist=!1,this._currentTitle="",this._isDisposed=!1,this._titleInterval=null,this._writeQueue=[],this._isPtyPaused=!1,this._unacknowledgedCharCount=0,this._onProcessData=this._register(new F.Emitter),this._onProcessExit=this._register(new F.Emitter),this._onProcessReady=this._register(new F.Emitter),this._onProcessTitleChanged=this._register(new F.Emitter),this._onProcessShellTypeChanged=this._register(new F.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event;let $;T.isWindows?$=v.basename(this._shellLaunchConfig.executable||""):$="xterm-256color",this._initialCwd=t;const M=c&&process.platform==="win32"&&(0,I.getWindowsBuildNumber)()>=18309;this._ptyOptions={name:$,cwd:t,env:l,cols:i,rows:s,useConpty:M,conptyInheritCursor:M&&!!n.initialText},T.isWindows&&(M&&i===0&&s===0&&((R=this._shellLaunchConfig.executable)===null||R===void 0?void 0:R.endsWith("Git\\bin\\bash.exe"))&&(this._delayedResizer=new C,this._register(this._delayedResizer.onTrigger(H=>{var Y;(Y=this._delayedResizer)===null||Y===void 0||Y.dispose(),this._delayedResizer=void 0,H.cols&&H.rows&&this.resize(H.cols,H.rows)}))),this.onProcessReady(H=>{this._windowsShellHelper=this._register(new P.WindowsShellHelper(H.pid)),this._register(this._windowsShellHelper.onShellTypeChanged(Y=>this._onProcessShellTypeChanged.fire(Y))),this._register(this._windowsShellHelper.onShellNameChanged(Y=>this._onProcessTitleChanged.fire(Y)))}))}get exitMessage(){return this._exitMessage}get currentTitle(){var n;return((n=this._windowsShellHelper)===null||n===void 0?void 0:n.shellTitle)||this._currentTitle}get shellType(){return this._windowsShellHelper?this._windowsShellHelper.shellType:void 0}get onProcessData(){return this._onProcessData.event}get onProcessExit(){return this._onProcessExit.event}get onProcessReady(){return this._onProcessReady.event}get onProcessTitleChanged(){return this._onProcessTitleChanged.event}async start(){const t=(await Promise.all([this._validateCwd(),this._validateExecutable()])).find(i=>i!==void 0);if(t)return t;try{await this.setupPtyProcess(this._shellLaunchConfig,this._ptyOptions);return}catch(i){return this._logService.trace("IPty#spawn native exception",i),{message:`A native exception occurred during launch (${i.message})`}}}async _validateCwd(){try{if(!(await A.promises.stat(this._initialCwd)).isDirectory())return{message:(0,w.localize)(0,null,this._initialCwd.toString())}}catch(n){if((n==null?void 0:n.code)==="ENOENT")return{message:(0,w.localize)(1,null,this._initialCwd.toString())}}}async _validateExecutable(){const n=this._shellLaunchConfig;if(!n.executable)throw new Error("IShellLaunchConfig.executable not set");try{const t=await A.promises.stat(n.executable);if(!t.isFile()&&!t.isSymbolicLink())return{message:(0,w.localize)(2,null,n.executable)}}catch(t){if((t==null?void 0:t.code)==="ENOENT"){let i=n.cwd instanceof O.URI?n.cwd.path:n.cwd;const s=n.env&&n.env.PATH?n.env.PATH.split(v.delimiter):void 0;if(!await(0,I.findExecutable)(n.executable,i,s,this._executableEnv))return{message:(0,w.localize)(3,null,n.executable)}}}}async setupPtyProcess(n,t){const i=n.args||[];this._logService.trace("IPty#spawn",n.executable,i,t);const s=(await new Promise((l,o)=>{J(["node-pty"],l,o)})).spawn(n.executable,i,t);this._ptyProcess=s,this._processStartupComplete=new Promise(l=>{this.onProcessReady(()=>l())}),s.onData(l=>{var o;this._unacknowledgedCharCount+=l.length,!this._isPtyPaused&&this._unacknowledgedCharCount>1e5&&(this._logService.trace(`Flow control: Pause (${this._unacknowledgedCharCount} > ${1e5})`),this._isPtyPaused=!0,s.pause()),this._onProcessData.fire(l),this._closeTimeout&&(clearTimeout(this._closeTimeout),this._queueProcessExit()),(o=this._windowsShellHelper)===null||o===void 0||o.checkShell()}),s.onExit(l=>{this._exitCode=l.exitCode,this._queueProcessExit()}),this._setupTitlePolling(s),this._sendProcessId(s.pid)}dispose(){this._isDisposed=!0,this._titleInterval&&clearInterval(this._titleInterval),this._titleInterval=null,super.dispose()}_setupTitlePolling(n){setTimeout(()=>this._sendProcessTitle(n),0),T.isWindows||(this._titleInterval=setInterval(()=>{this._currentTitle!==n.process&&this._sendProcessTitle(n)},200))}_queueProcessExit(){this._closeTimeout&&clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>{this._closeTimeout=void 0,this._kill()},250)}async _kill(){if(await this._processStartupComplete,!this._isDisposed){try{this._ptyProcess&&(this._logService.trace("IPty#kill"),this._ptyProcess.kill())}catch(n){}this._onProcessExit.fire(this._exitCode||0),this.dispose()}}_sendProcessId(n){this._onProcessReady.fire({pid:n,cwd:this._initialCwd})}_sendProcessTitle(n){this._isDisposed||(this._currentTitle=n.process,this._onProcessTitleChanged.fire(this._currentTitle))}shutdown(n){n?this._kill():!this._closeTimeout&&!this._isDisposed&&(this._queueProcessExit(),setTimeout(()=>{this._closeTimeout&&!this._isDisposed&&(this._closeTimeout=void 0,this._kill())},5e3))}input(n){if(!(this._isDisposed||!this._ptyProcess)){for(let t=0;t<=Math.floor(n.length/u);t++)this._writeQueue.push(n.substr(t*u,u));this._startWrite()}}_startWrite(){if(!(this._writeTimeout!==void 0||this._writeQueue.length===0)){if(this._doWrite(),this._writeQueue.length===0){this._writeTimeout=void 0;return}this._writeTimeout=setTimeout(()=>{this._writeTimeout=void 0,this._startWrite()},y)}}_doWrite(){const n=this._writeQueue.shift();this._logService.trace("IPty#write",`${n.length} characters`),this._ptyProcess.write(n)}resize(n,t){if(!this._isDisposed&&!(typeof n!="number"||typeof t!="number"||isNaN(n)||isNaN(t))&&this._ptyProcess){if(n=Math.max(n,1),t=Math.max(t,1),this._delayedResizer){this._delayedResizer.cols=n,this._delayedResizer.rows=t;return}this._logService.trace("IPty#resize",n,t);try{this._ptyProcess.resize(n,t)}catch(i){if(this._logService.trace("IPty#resize exception "+i.message),this._exitCode!==void 0&&i.message!=="ioctl(2) failed, EBADF")throw i}}}acknowledgeDataEvent(n){var t;this._unacknowledgedCharCount=Math.max(this._unacknowledgedCharCount-n,0),this._logService.trace(`Flow control: Ack ${n} chars (unacknowledged: ${this._unacknowledgedCharCount})`),this._isPtyPaused&&this._unacknowledgedCharCount<5e3&&(this._logService.trace(`Flow control: Resume (${this._unacknowledgedCharCount} < ${5e3})`),(t=this._ptyProcess)===null||t===void 0||t.resume(),this._isPtyPaused=!1)}clearUnacknowledgedChars(){var n;this._unacknowledgedCharCount=0,this._logService.trace("Flow control: Cleared all unacknowledged chars, forcing resume"),this._isPtyPaused&&((n=this._ptyProcess)===null||n===void 0||n.resume(),this._isPtyPaused=!1)}getInitialCwd(){return Promise.resolve(this._initialCwd)}getCwd(){if(T.isMacintosh){const n=D.release().split(".");if(n.length>0&&parseInt(n[0])<20)return new Promise(t=>{if(!this._ptyProcess){t(this._initialCwd);return}this._logService.trace("IPty#pid"),(0,g.exec)("lsof -OPln -p "+this._ptyProcess.pid+" | grep cwd",(i,s,l)=>{!i&&s!==""?t(s.substring(s.indexOf("/"),s.length-1)):(this._logService.error("lsof did not run successfully, it may not be on the $PATH?",i,s,l),t(this._initialCwd))})})}return T.isLinux?new Promise(n=>{if(!this._ptyProcess){n(this._initialCwd);return}this._logService.trace("IPty#pid"),A.readlink("/proc/"+this._ptyProcess.pid+"/cwd",(t,i)=>{t&&n(this._initialCwd),n(i)})}):new Promise(n=>{n(this._initialCwd)})}getLatency(){return Promise.resolve(0)}};b=Pe([Ee(7,m.ILogService)],b),e.TerminalProcess=b;class C extends p.Disposable{constructor(){super();this._onTrigger=this._register(new F.Emitter),this._timeout=setTimeout(()=>{this._onTrigger.fire({rows:this.rows,cols:this.cols})},1e3),this._register({dispose:()=>{clearTimeout(this._timeout)}})}get onTrigger(){return this._onTrigger.event}dispose(){super.dispose(),clearTimeout(this._timeout)}}}),define(X[54],x([0,1,3,10,4,49,53,48]),function(J,e,v,T,A,D,F,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentTerminalProcess=e.PtyService=void 0;class g extends v.Disposable{constructor(w,P){super();this._lastPtyId=w,this._logService=P,this._ptys=new Map,this._workspaceLayoutInfos=new Map,this._onHeartbeat=this._register(new A.Emitter),this.onHeartbeat=this._onHeartbeat.event,this._onProcessData=this._register(new A.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessReplay=this._register(new A.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessExit=this._register(new A.Emitter),this.onProcessExit=this._onProcessExit.event,this._onProcessReady=this._register(new A.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessTitleChanged=this._register(new A.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new A.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new A.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessResolvedShellLaunchConfig=this._register(new A.Emitter),this.onProcessResolvedShellLaunchConfig=this._onProcessResolvedShellLaunchConfig.event,this._onProcessOrphanQuestion=this._register(new A.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._register((0,v.toDisposable)(()=>{for(const u of this._ptys.values())u.shutdown(!0);this._ptys.clear()}))}async shutdownAll(){this.dispose()}async createProcess(w,P,u,y,S,b,C,a,n,t){if(w.attachPersistentProcess)throw new Error("Attempt to create a process when attach object was provided");const i=++this._lastPtyId,s=new F.TerminalProcess(w,P,u,y,S,b,C,this._logService);s.onProcessData(o=>this._onProcessData.fire({id:i,event:o})),s.onProcessExit(o=>this._onProcessExit.fire({id:i,event:o})),s.onProcessOverrideDimensions&&s.onProcessOverrideDimensions(o=>this._onProcessOverrideDimensions.fire({id:i,event:o})),s.onProcessResolvedShellLaunchConfig&&s.onProcessResolvedShellLaunchConfig(o=>this._onProcessResolvedShellLaunchConfig.fire({id:i,event:o}));const l=new m(i,s,n,t,a,u,y,this._logService);return s.onProcessExit(()=>{l.dispose(),this._ptys.delete(i)}),l.onProcessReplay(o=>this._onProcessReplay.fire({id:i,event:o})),l.onProcessReady(o=>this._onProcessReady.fire({id:i,event:o})),l.onProcessTitleChanged(o=>this._onProcessTitleChanged.fire({id:i,event:o})),l.onProcessShellTypeChanged(o=>this._onProcessShellTypeChanged.fire({id:i,event:o})),l.onProcessOrphanQuestion(()=>this._onProcessOrphanQuestion.fire({id:i})),this._ptys.set(i,l),i}async attachToProcess(w){try{this._throwIfNoPty(w).attach(),this._logService.trace(`Persistent process reconnection "${w}"`)}catch(P){this._logService.trace(`Persistent process reconnection "${w}" failed`,P.message)}}async detachFromProcess(w){this._throwIfNoPty(w).detach()}async listProcesses(w){if(w)for(const S of this._ptys.values())S.reduceGraceTime();const P=Array.from(this._ptys.entries()).filter(([S,b])=>b.shouldPersistTerminal);this._logService.info(`Listing ${P.length} persistent terminals, ${this._ptys.size} total terminals`);const u=P.map(async([S,b])=>this._buildProcessDetails(S,b));return(await Promise.all(u)).filter(S=>S.isOrphan)}async start(w){return this._throwIfNoPty(w).start()}async shutdown(w,P){return this._throwIfNoPty(w).shutdown(P)}async input(w,P){return this._throwIfNoPty(w).input(P)}async resize(w,P,u){return this._throwIfNoPty(w).resize(P,u)}async getInitialCwd(w){return this._throwIfNoPty(w).getInitialCwd()}async getCwd(w){return this._throwIfNoPty(w).getCwd()}async acknowledgeDataEvent(w,P){return this._throwIfNoPty(w).acknowledgeDataEvent(P)}async getLatency(w){return 0}async orphanQuestionReply(w){return this._throwIfNoPty(w).orphanQuestionReply()}async setTerminalLayoutInfo(w){this._workspaceLayoutInfos.set(w.workspaceId,w)}async getTerminalLayoutInfo(w){const P=this._workspaceLayoutInfos.get(w.workspaceId);if(P)return{tabs:(await Promise.all(P.tabs.map(async S=>this._expandTerminalTab(S)))).filter(S=>S.terminals.length>0)}}async _expandTerminalTab(w){const u=(await Promise.all(w.terminals.map(y=>this._expandTerminalInstance(y)))).filter(y=>y.terminal!==null);return{isActive:w.isActive,activePersistentProcessId:w.activePersistentProcessId,terminals:u}}async _expandTerminalInstance(w){try{const P=this._throwIfNoPty(w.terminal),u=P&&await this._buildProcessDetails(w.terminal,P);return{terminal:u!=null?u:null,relativeSize:w.relativeSize}}catch(P){return this._logService.trace("Couldn't get layout info, a terminal was probably disconnected",P.message),{terminal:null,relativeSize:w.relativeSize}}}async _buildProcessDetails(w,P){const[u,y]=await Promise.all([P.getCwd(),P.isOrphaned()]);return{id:w,title:P.title,pid:P.pid,workspaceId:P.workspaceId,workspaceName:P.workspaceName,cwd:u,isOrphan:y}}_throwIfNoPty(w){const P=this._ptys.get(w);if(!P)throw new Error(`Could not find pty with id "${w}"`);return P}}e.PtyService=g;class m extends v.Disposable{constructor(w,P,u,y,S,b,C,a){super();this._persistentProcessId=w,this._terminalProcess=P,this.workspaceId=u,this.workspaceName=y,this.shouldPersistTerminal=S,this._logService=a,this._pendingCommands=new Map,this._isStarted=!1,this._orphanRequestQueue=new T.Queue,this._onProcessReplay=this._register(new A.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessReady=this._register(new A.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessTitleChanged=this._register(new A.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new A.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new A.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessData=this._register(new A.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessOrphanQuestion=this._register(new A.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._inReplay=!1,this._pid=-1,this._cwd="",this._recorder=new D.TerminalRecorder(b,C),this._orphanQuestionBarrier=null,this._orphanQuestionReplyTime=0,this._disconnectRunner1=this._register(new T.RunOnceScheduler(()=>{this._logService.info(`Persistent process "${this._persistentProcessId}": The reconnection grace time of ${I(6e4)} has expired, shutting down pid "${this._pid}"`),this.shutdown(!0)},6e4)),this._disconnectRunner2=this._register(new T.RunOnceScheduler(()=>{this._logService.info(`Persistent process "${this._persistentProcessId}": The short reconnection grace time of ${I(6e3)} has expired, shutting down pid ${this._pid}`),this.shutdown(!0)},6e3)),this._register(this._terminalProcess.onProcessReady(n=>{this._pid=n.pid,this._cwd=n.cwd,this._onProcessReady.fire(n)})),this._register(this._terminalProcess.onProcessTitleChanged(n=>this._onProcessTitleChanged.fire(n))),this._register(this._terminalProcess.onProcessShellTypeChanged(n=>this._onProcessShellTypeChanged.fire(n))),this._bufferer=new p.TerminalDataBufferer((n,t)=>this._onProcessData.fire({data:t,sync:!0})),this._register(this._bufferer.startBuffering(this._persistentProcessId,this._terminalProcess.onProcessData)),this._register(this._terminalProcess.onProcessExit(()=>this._bufferer.stopBuffering(this._persistentProcessId))),this._register(this.onProcessData(n=>this._recorder.recordData(n.data)))}get pid(){return this._pid}get title(){return this._terminalProcess.currentTitle}attach(){this._disconnectRunner1.cancel()}async detach(){this.shouldPersistTerminal?this._disconnectRunner1.schedule():this.shutdown(!0)}async start(){if(this._isStarted)this._onProcessReady.fire({pid:this._pid,cwd:this._cwd}),this._onProcessTitleChanged.fire(this._terminalProcess.currentTitle),this._onProcessShellTypeChanged.fire(this._terminalProcess.shellType),this.triggerReplay();else{const w=await this._terminalProcess.start();if(w)return w;this._isStarted=!0}}shutdown(w){return this._terminalProcess.shutdown(w)}input(w){if(!this._inReplay)return this._terminalProcess.input(w)}resize(w,P){if(!this._inReplay)return this._recorder.recordResize(w,P),this._bufferer.flushBuffer(this._persistentProcessId),this._terminalProcess.resize(w,P)}acknowledgeDataEvent(w){if(!this._inReplay)return this._terminalProcess.acknowledgeDataEvent(w)}getInitialCwd(){return this._terminalProcess.getInitialCwd()}getCwd(){return this._terminalProcess.getCwd()}getLatency(){return this._terminalProcess.getLatency()}triggerReplay(){const w=this._recorder.generateReplayEvent();let P=0;for(const u of w.events)P+=u.data.length;this._logService.info(`Persistent process "${this._persistentProcessId}": Replaying ${P} chars and ${w.events.length} size events`),this._onProcessReplay.fire(w),this._terminalProcess.clearUnacknowledgedChars()}sendCommandResult(w,P,u){!this._pendingCommands.get(w)||this._pendingCommands.delete(w)}orphanQuestionReply(){if(this._orphanQuestionReplyTime=Date.now(),this._orphanQuestionBarrier){const w=this._orphanQuestionBarrier;this._orphanQuestionBarrier=null,w.open()}}reduceGraceTime(){this._disconnectRunner2.isScheduled()||this._disconnectRunner1.isScheduled()&&this._disconnectRunner2.schedule()}async isOrphaned(){return await this._orphanRequestQueue.queue(async()=>this._isOrphaned())}async _isOrphaned(){return this._disconnectRunner1.isScheduled()||this._disconnectRunner2.isScheduled()?!0:(this._orphanQuestionBarrier||(this._orphanQuestionBarrier=new T.AutoOpenBarrier(4e3),this._orphanQuestionReplyTime=0,this._onProcessOrphanQuestion.fire()),await this._orphanQuestionBarrier.wait(),Date.now()-this._orphanQuestionReplyTime>500)}}e.PersistentTerminalProcess=m;function I(O){let w=0,P=0,u=0;O>=1e3&&(u=Math.floor(O/1e3),O-=u*1e3),u>=60&&(P=Math.floor(u/60),u-=P*60),P>=60&&(w=Math.floor(P/60),P-=w*60);const y=w?`${w}h`:"",S=P?`${P}m`:"",b=u?`${u}s`:"",C=O?`${O}ms`:"";return`${y}${S}${b}${C}`}}),define(X[56],x([0,1,45,26,54,17,16,47,50]),function(J,e,v,T,A,D,F,p,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const m=new v.Server("ptyHost"),I=parseInt(process.env.VSCODE_LAST_PTY_ID||"0");delete process.env.VSCODE_LAST_PTY_ID;const O=new F.LogService(new F.ConsoleLogger),w=new p.LogLevelChannel(O);m.registerChannel(D.TerminalIpcChannels.Log,w);const P=new g.HeartbeatService;m.registerChannel(D.TerminalIpcChannels.Heartbeat,T.ProxyChannel.fromService(P));const u=new A.PtyService(I,O);m.registerChannel(D.TerminalIpcChannels.PtyHost,T.ProxyChannel.fromService(u)),process.once("exit",()=>{O.dispose(),P.dispose(),u.dispose()})})}).call(this);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js
[35][风险] 黑客在2021-04-13 17:30:28时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js，反弹shell类：`):n}function P(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?_.localize(1,null,n.message):n.message||_.localize(2,null)}function y(n=null,T=!1){if(!n)return _.localize(3,null);if(Array.isArray(n)){const k=R.coalesce(n),b=y(k[0],T);return k.length>1?_.localize(4,null,b,k.length):b}if(A.isString(n))return n;if(n.detail){const k=n.detail;if(k.error)return I(k.error,T);if(k.exception)return I(k.exception,T)}return n.stack?I(n,T):n.message?n.message:_.localize(5,null)}e.toErrorMessage=y}),define(ge[147],pe([18,19]),function(Z,e){return Z.create("vs/base/node/processes",e)}),define(ge[77],pe([0,1,8,37,26,38,147,30,15,22,31,9,136,11]),function(Z,e,_,A,R,I,D,P,y,n,T,k,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(s){switch(s){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function h(s,t){if(k.isWindows)try{const i={stdio:["pipe","pipe","ignore"]};t&&(i.cwd=t);const o=I.execFile("taskkill",["/T","/F","/PID",s.pid.toString()],i);return new Promise(r=>{o.once("error",l=>{r({success:!1,error:l})}),o.once("exit",(l,f)=>{r(l===0?{success:!0}:{success:!1,code:l!==null?l:1})})})}catch(i){return Promise.resolve({success:!1,error:i,code:i.status?a(i.status):1})}else if(k.isLinux||k.isMacintosh)try{const i=g.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Z).fsPath;return new Promise(o=>{I.execFile(i,[s.pid.toString()],{encoding:"utf8",shell:!0},(r,l,f)=>{o(r?{success:!1,error:r}:{success:!0})})})}catch(i){return Promise.resolve({success:!1,error:i})}else s.kill("SIGKILL");return Promise.resolve({success:!0})}function S(s=P.env){return s.comspec||"cmd.exe"}e.getWindowsShell=S;class v{constructor(t,i,o,r){if(i!==void 0&&o!==void 0&&r!==void 0)this.cmd=t,this.args=i,this.shell=o,this.options=r;else{const l=t;this.cmd=l.command,this.shell=l.isShellCommand,this.args=l.args.slice(0),this.options=l.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const l=Object.create(null);Object.keys(P.env).forEach(f=>{l[f]=P.env[f]}),Object.keys(this.options.env).forEach(f=>{l[f]=this.options.env[f]}),this.options.env=l}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const i=t.lastIndexOf(_.sep);return i!==-1&&(t=t.substring(i+1)),v.WellKnowCommands[t]?t:"other"}start(t){return k.isWindows&&(this.options&&this.options.cwd&&T.isUNC(this.options.cwd)||!this.options&&T.isUNC(P.cwd()))?Promise.reject(new Error(D.localize(0,null))):this.useExec().then(i=>{let o,r;const l=new Promise((f,p)=>{o=f,r=p});if(i){let f=this.cmd;this.args&&(f=f+" "+this.args.join(" ")),this.childProcess=I.exec(f,this.options,(p,w,d)=>{this.childProcess=null;const m=p;m&&m.killed?r({killed:this.terminateRequested,stdout:w.toString(),stderr:d.toString()}):this.handleExec(o,t,p,w,d)})}else{let f=null;const p=w=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(w,o,t,r);const d={terminated:this.terminateRequested};y.isNumber(w)&&(d.cmdCode=w),o(d)};if(this.shell&&k.isWindows){const w=n.deepClone(this.options);w.windowsVerbatimArguments=!0,w.detached=!1;let d=!1,m=!1;const C=[];let L=this.ensureQuotes(this.cmd);C.push(L.value),d=L.quoted,this.args&&this.args.forEach(ee=>{L=this.ensureQuotes(ee),C.push(L.value),m=m&&L.quoted});const $=["/s","/c"];d?m?$.push('"'+C.join(" ")+'"'):C.length>1?$.push('"'+C[0]+'" '+C.slice(1).join(" ")):$.push('"'+C[0]+'"'):$.push(C.join(" ")),f=I.spawn(S(),$,w)}else this.cmd&&(f=I.spawn(this.cmd,this.args,this.options));f&&(this.childProcess=f,this.childProcessPromise=Promise.resolve(f),this.pidResolve&&(this.pidResolve(y.isNumber(f.pid)?f.pid:-1),this.pidResolve=void 0),f.on("error",w=>{this.childProcess=null,r({terminated:this.terminateRequested,error:w})}),f.pid&&(this.childProcess.on("close",p),this.handleSpawn(f,o,t,r,!0)))}return l})}handleClose(t,i,o,r){}ensureQuotes(t){return v.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='"'&&t[t.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,h(t,this.options.cwd).then(i=>(i.success&&(this.childProcess=null),i))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!k.isWindows)return t(!1);const i=I.spawn(S(),["/s","/c"]);i.on("error",o=>t(!0)),i.on("exit",o=>t(!1))})}}e.AbstractProcess=v,v.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},v.regexp=/^[^"].* .*[^"]/;class E extends v{constructor(t,i,o,r){super(t,i,o,r);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,i,o,r,l){[r,l].forEach((f,p)=>{const w=new b.LineDecoder;w.write(f).forEach(C=>{i({line:C,source:p===0?0:1})});const m=w.end();m&&i({line:m,source:p===0?0:1})}),t({terminated:this.terminateRequested,error:o})}handleSpawn(t,i,o,r,l){const f=new b.LineDecoder,p=new b.LineDecoder;t.stdout.on("data",w=>{f.write(w).forEach(m=>o({line:m,source:0}))}),t.stderr.on("data",w=>{p.write(w).forEach(m=>o({line:m,source:1}))}),this.stdoutLineDecoder=f,this.stderrLineDecoder=p}handleClose(t,i,o,r){const l=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;l&&o({line:l,source:0});const f=this.stderrLineDecoder?this.stderrLineDecoder.end():null;f&&o({line:f,source:1})}}e.LineProcess=E;function c(s){let t=[],i=!1;const o=function(r){if(i){t.push(r);return}(!s.send(r,f=>{if(f&&console.error(f),i=!1,t.length>0){const p=t.slice(0);t=[],p.forEach(w=>o(w))}})||k.isWindows)&&(i=!0)};return{send:o}}e.createQueuedSender=c;var u;(function(s){async function t(i,o,r){if(_.isAbsolute(i))return i;if(o===void 0&&(o=P.cwd()),_.dirname(i)!=="."||(r===void 0&&y.isString(P.env.PATH)&&(r=P.env.PATH.split(_.delimiter)),r===void 0||r.length===0))return _.join(o,i);async function f(p){return await R.exists(p)?!(await A.promises.stat(p)).isDirectory():!1}for(let p of r){let w;if(_.isAbsolute(p)?w=_.join(p,i):w=_.join(o,p,i),await f(w))return w;let d=w+".com";if(await f(d)||(d=w+".exe",await f(d)))return d}return _.join(o,i)}s.findExecutable=t})(u=e.win32||(e.win32={}))}),define(ge[148],pe([0,1,48,9,100,77]),function(Z,e,_,A,R,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function D(g,a){return g===3?A.isWindows?k():I.getWindowsShell(a):n(g,a)}e.getSystemShell=D;function P(g,a){return g===3?A.isWindows?b(a):I.getWindowsShell(a):n(g,a)}e.getSystemShellSync=P;let y=null;function n(g,a){if(A.isLinux&&g===1||A.isMacintosh&&g===2)return"/bin/bash";if(!y){let h;if(A.isWindows)h="/bin/bash";else{if(h=a.SHELL,!h)try{h=_.userInfo().shell}catch(S){}h||(h="sh"),h==="/bin/false"&&(h="/bin/bash")}y=h}return y}let T=null;async function k(){return T||(T=(await(0,R.getFirstAvailablePowerShellInstallation)()).exePath),T}function b(g){if(T)return T;const a=A.isWindows&&parseFloat(_.release())>=10,h=g.hasOwnProperty("PROCESSOR_ARCHITEW6432"),S=`${g.windir}\\${h?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return a?S:I.getWindowsShell(g)}}),define(ge[149],pe([18,19]),function(Z,e){return Z.create("vs/editor/common/config/editorOptions",e)}),define(ge[150],pe([0,1,149,9,105]),function(Z,e,_,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var I;(function(Q){Q[Q.None=0]="None",Q[Q.Keep=1]="Keep",Q[Q.Brackets=2]="Brackets",Q[Q.Advanced=3]="Advanced",Q[Q.Full=4]="Full"})(I=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class D{constructor(ie){this._values=ie}hasChanged(ie){return this._values[ie]}}e.ConfigurationChangedEvent=D;class P{constructor(){this._values=[]}_read(ie){return this._values[ie]}get(ie){return this._values[ie]}_write(ie,_e){this._values[ie]=_e}}e.ValidatedEditorOptions=P;class y{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=y;class n{constructor(ie,_e,Oe,Ve){this.id=ie,this.name=_e,this.defaultValue=Oe,this.schema=Ve}compute(ie,_e,Oe){return Oe}}class T{constructor(ie,_e=null){this.schema=void 0,this.id=ie,this.name="_never_",this.defaultValue=void 0,this.deps=_e}validate(ie){return this.defaultValue}}class k{constructor(ie,_e,Oe,Ve){this.id=ie,this.name=_e,this.defaultValue=Oe,this.schema=Ve}validate(ie){return typeof ie=="undefined"?this.defaultValue:ie}compute(ie,_e,Oe){return Oe}}function b(Q,ie){return typeof Q=="undefined"?ie:Q==="false"?!1:Boolean(Q)}e.boolean=b;class g extends k{constructor(ie,_e,Oe,Ve=void 0){typeof Ve!="undefined"&&(Ve.type="boolean",Ve.default=Oe),super(ie,_e,Oe,Ve)}validate(ie){return b(ie,this.defaultValue)}}class a extends k{constructor(ie,_e,Oe,Ve,We,tt=void 0){typeof tt!="undefined"&&(tt.type="integer",tt.default=Oe,tt.minimum=Ve,tt.maximum=We),super(ie,_e,Oe,tt),this.minimum=Ve,this.maximum=We}static clampedInt(ie,_e,Oe,Ve){if(typeof ie=="undefined")return _e;let We=parseInt(ie,10);return isNaN(We)?_e:(We=Math.max(Oe,We),We=Math.min(Ve,We),We|0)}validate(ie){return a.clampedInt(ie,this.defaultValue,this.minimum,this.maximum)}}class h extends k{constructor(ie,_e,Oe,Ve,We){typeof We!="undefined"&&(We.type="number",We.default=Oe),super(ie,_e,Oe,We),this.validationFn=Ve}static clamp(ie,_e,Oe){return ie<_e?_e:ie>Oe?Oe:ie}static float(ie,_e){if(typeof ie=="number")return ie;if(typeof ie=="undefined")return _e;const Oe=parseFloat(ie);return isNaN(Oe)?_e:Oe}validate(ie){return this.validationFn(h.float(ie,this.defaultValue))}}class S extends k{static string(ie,_e){return typeof ie!="string"?_e:ie}constructor(ie,_e,Oe,Ve=void 0){typeof Ve!="undefined"&&(Ve.type="string",Ve.default=Oe),super(ie,_e,Oe,Ve)}validate(ie){return S.string(ie,this.defaultValue)}}function v(Q,ie,_e){return typeof Q!="string"||_e.indexOf(Q)===-1?ie:Q}e.stringSet=v;class E extends k{constructor(ie,_e,Oe,Ve,We=void 0){typeof We!="undefined"&&(We.type="string",We.enum=Ve,We.default=Oe),super(ie,_e,Oe,We),this._allowedValues=Ve}validate(ie){return v(ie,this.defaultValue,this._allowedValues)}}class c extends n{constructor(ie,_e,Oe,Ve,We,tt,K=void 0){typeof K!="undefined"&&(K.type="string",K.enum=We,K.default=Ve),super(ie,_e,Oe,K),this._allowedValues=We,this._convert=tt}validate(ie){return typeof ie!="string"?this.defaultValue:this._allowedValues.indexOf(ie)===-1?this.defaultValue:this._convert(ie)}}function u(Q){switch(Q){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class s extends n{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:"auto",description:_.localize(3,null)})}validate(ie){switch(ie){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ie,_e,Oe){return Oe===0?ie.accessibilitySupport:Oe}}class t extends n{constructor(){const ie={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",ie,{"editor.comments.insertSpace":{type:"boolean",default:ie.insertSpace,description:_.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ie.ignoreEmptyLines,description:_.localize(5,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{insertSpace:b(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:b(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var i;(function(Q){Q[Q.Hidden=0]="Hidden",Q[Q.Blink=1]="Blink",Q[Q.Smooth=2]="Smooth",Q[Q.Phase=3]="Phase",Q[Q.Expand=4]="Expand",Q[Q.Solid=5]="Solid"})(i=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function o(Q){switch(Q){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var r;(function(Q){Q[Q.Line=1]="Line",Q[Q.Block=2]="Block",Q[Q.Underline=3]="Underline",Q[Q.LineThin=4]="LineThin",Q[Q.BlockOutline=5]="BlockOutline",Q[Q.UnderlineThin=6]="UnderlineThin"})(r=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function l(Q){switch(Q){case r.Line:return"line";case r.Block:return"block";case r.Underline:return"underline";case r.LineThin:return"line-thin";case r.BlockOutline:return"block-outline";case r.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=l;function f(Q){switch(Q){case"line":return r.Line;case"block":return r.Block;case"underline":return r.Underline;case"line-thin":return r.LineThin;case"block-outline":return r.BlockOutline;case"underline-thin":return r.UnderlineThin}}class p extends T{constructor(){super(123,[62,31])}compute(ie,_e,Oe){const Ve=["monaco-editor"];return _e.get(31)&&Ve.push(_e.get(31)),ie.extraEditorClassName&&Ve.push(ie.extraEditorClassName),_e.get(62)==="default"?Ve.push("mouse-default"):_e.get(62)==="copy"&&Ve.push("mouse-copy"),_e.get(97)&&Ve.push("showUnused"),_e.get(121)&&Ve.push("showDeprecated"),Ve.join(" ")}}class w extends g{constructor(){super(30,"emptySelectionClipboard",!0,{description:_.localize(6,null)})}compute(ie,_e,Oe){return Oe&&ie.emptySelectionClipboard}}class d extends n{constructor(){const ie={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",ie,{"editor.find.cursorMoveOnType":{type:"boolean",default:ie.cursorMoveOnType,description:_.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:ie.seedSearchStringFromSelection,description:_.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ie.autoFindInSelection,enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],description:_.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ie.globalFindClipboard,description:_.localize(13,null),included:A.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ie.addExtraSpaceOnTop,description:_.localize(14,null)},"editor.find.loop":{type:"boolean",default:ie.loop,description:_.localize(15,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{cursorMoveOnType:b(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:b(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ie.autoFindInSelection=="boolean"?ie.autoFindInSelection?"always":"never":v(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:b(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:b(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:b(_e.loop,this.defaultValue.loop)}}}class m extends n{constructor(){super(41,"fontLigatures",m.OFF,{anyOf:[{type:"boolean",description:_.localize(16,null)},{type:"string",description:_.localize(17,null)}],description:_.localize(18,null),default:!1})}validate(ie){return typeof ie=="undefined"?this.defaultValue:typeof ie=="string"?ie==="false"?m.OFF:ie==="true"?m.ON:ie:Boolean(ie)?m.ON:m.OFF}}e.EditorFontLigatures=m,m.OFF='"liga" off, "calt" off',m.ON='"liga" on, "calt" on';class C extends T{constructor(){super(40)}compute(ie,_e,Oe){return ie.fontInfo}}class L extends k{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(19,null)})}validate(ie){let _e=h.float(ie,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:h.clamp(_e,6,100)}compute(ie,_e,Oe){return ie.fontInfo.fontSize}}class $ extends n{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:$.MINIMUM_VALUE,maximum:$.MAXIMUM_VALUE,errorMessage:_.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:$.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(21,null)})}validate(ie){return ie==="normal"||ie==="bold"?ie:String(a.clampedInt(ie,e.EDITOR_FONT_DEFAULTS.fontWeight,$.MINIMUM_VALUE,$.MAXIMUM_VALUE))}}$.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],$.MINIMUM_VALUE=1,$.MAXIMUM_VALUE=1e3;class ee extends n{constructor(){const ie={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:ie.multiple,enumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]};super(47,"gotoLocation",ie,{"editor.gotoLocation.multiple":{deprecationMessage:_.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_.localize(26,null)},_e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_.localize(27,null)},_e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_.localize(28,null)},_e),"editor.gotoLocation.multipleImplementations":Object.assign({description:_.localize(29,null)},_e),"editor.gotoLocation.multipleReferences":Object.assign({description:_.localize(30,null)},_e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ie.alternativeDefinitionCommand,description:_.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ie.alternativeTypeDefinitionCommand,description:_.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ie.alternativeDeclarationCommand,description:_.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ie.alternativeImplementationCommand,description:_.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ie.alternativeReferenceCommand,description:_.localize(35,null)}})}validate(ie){var _e,Oe,Ve,We,tt;if(!ie||typeof ie!="object")return this.defaultValue;const K=ie;return{multiple:v(K.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=K.multipleDefinitions)!==null&&_e!==void 0?_e:v(K.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Oe=K.multipleTypeDefinitions)!==null&&Oe!==void 0?Oe:v(K.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Ve=K.multipleDeclarations)!==null&&Ve!==void 0?Ve:v(K.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(We=K.multipleImplementations)!==null&&We!==void 0?We:v(K.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(tt=K.multipleReferences)!==null&&tt!==void 0?tt:v(K.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:S.string(K.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:S.string(K.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:S.string(K.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:S.string(K.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:S.string(K.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class H extends n{constructor(){const ie={enabled:!0,delay:300,sticky:!0};super(50,"hover",ie,{"editor.hover.enabled":{type:"boolean",default:ie.enabled,description:_.localize(36,null)},"editor.hover.delay":{type:"number",default:ie.delay,description:_.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:ie.sticky,description:_.localize(38,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),delay:a.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:b(_e.sticky,this.defaultValue.sticky)}}}var U;(function(Q){Q[Q.None=0]="None",Q[Q.Text=1]="Text",Q[Q.Blocks=2]="Blocks"})(U=e.RenderMinimap||(e.RenderMinimap={}));class W extends T{constructor(){super(126,[46,54,35,61,89,56,57,91,113,116,117,118,2])}compute(ie,_e,Oe){return W.computeLayout(_e,{memory:ie.memory,outerWidth:ie.outerWidth,outerHeight:ie.outerHeight,isDominatedByLongLines:ie.isDominatedByLongLines,lineHeight:ie.fontInfo.lineHeight,viewLineCount:ie.viewLineCount,lineNumbersDigitCount:ie.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ie.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ie.fontInfo.maxDigitWidth,pixelRatio:ie.pixelRatio})}static computeContainedMinimapLineCount(ie){const _e=ie.height/ie.lineHeight,Oe=ie.scrollBeyondLastLine?_e-1:0,Ve=(ie.viewLineCount+Oe)/(ie.pixelRatio*ie.height),We=Math.floor(ie.viewLineCount/Ve);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Oe,desiredRatio:Ve,minimapLineCount:We}}static _computeMinimapLayout(ie,_e){const Oe=ie.outerWidth,Ve=ie.outerHeight,We=ie.pixelRatio;if(!ie.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(We*Ve),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ve};const tt=_e.stableMinimapLayoutInput,K=tt&&ie.outerHeight===tt.outerHeight&&ie.lineHeight===tt.lineHeight&&ie.typicalHalfwidthCharacterWidth===tt.typicalHalfwidthCharacterWidth&&ie.pixelRatio===tt.pixelRatio&&ie.scrollBeyondLastLine===tt.scrollBeyondLastLine&&ie.minimap.enabled===tt.minimap.enabled&&ie.minimap.side===tt.minimap.side&&ie.minimap.size===tt.minimap.size&&ie.minimap.showSlider===tt.minimap.showSlider&&ie.minimap.renderCharacters===tt.minimap.renderCharacters&&ie.minimap.maxColumn===tt.minimap.maxColumn&&ie.minimap.scale===tt.minimap.scale&&ie.verticalScrollbarWidth===tt.verticalScrollbarWidth&&ie.isViewportWrapping===tt.isViewportWrapping,se=ie.lineHeight,de=ie.typicalHalfwidthCharacterWidth,Y=ie.scrollBeyondLastLine,ne=ie.minimap.renderCharacters;let le=We>=2?Math.round(ie.minimap.scale*2):ie.minimap.scale;const me=ie.minimap.maxColumn,be=ie.minimap.size,He=ie.minimap.side,Be=ie.verticalScrollbarWidth,Ke=ie.viewLineCount,Je=ie.remainingWidth,Ze=ie.isViewportWrapping,ut=ne?2:3;let lt=Math.floor(We*Ve);const it=lt/We;let qe=!1,Ee=!1,Ce=ut*le,ce=le/We,G=1;if(be==="fill"||be==="fit"){const{typicalViewportLineCount:Ye,extraLinesBeyondLastLine:st,desiredRatio:vt,minimapLineCount:mt}=W.computeContainedMinimapLineCount({viewLineCount:Ke,scrollBeyondLastLine:Y,height:Ve,lineHeight:se,pixelRatio:We});if(Ke/mt>1)qe=!0,Ee=!0,le=1,Ce=1,ce=le/We;else{let wt=!1,St=le+1;if(be==="fit"){const pt=Math.ceil((Ke+st)*Ce);Ze&&K&&Je<=_e.stableFitRemainingWidth?(wt=!0,St=_e.stableFitMaxMinimapScale):(wt=pt>lt,Ze&&wt?(_e.stableMinimapLayoutInput=ie,_e.stableFitRemainingWidth=Je):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(be==="fill"||wt){qe=!0;const pt=le;Ce=Math.min(se*We,Math.max(1,Math.floor(1/vt))),le=Math.min(St,Math.max(1,Math.floor(Ce/ut))),le>pt&&(G=Math.min(2,le/pt)),ce=le/We/G,lt=Math.ceil(Math.max(Ye,Ke+st)*Ce),Ze&&wt&&(_e.stableFitMaxMinimapScale=le)}}}const Ne=Math.floor(me*ce),Re=Math.min(Ne,Math.max(0,Math.floor((Je-Be-2)*ce/(de+ce)))+e.MINIMAP_GUTTER_WIDTH);let et=Math.floor(We*Re);const Qe=et/We;et=Math.floor(et*G);const at=ne?1:2,rt=He==="left"?0:Oe-Re-Be;return{renderMinimap:at,minimapLeft:rt,minimapWidth:Re,minimapHeightIsEditorHeight:qe,minimapIsSampling:Ee,minimapScale:le,minimapLineHeight:Ce,minimapCanvasInnerWidth:et,minimapCanvasInnerHeight:lt,minimapCanvasOuterWidth:Qe,minimapCanvasOuterHeight:it}}static computeLayout(ie,_e){const Oe=_e.outerWidth|0,Ve=_e.outerHeight|0,We=_e.lineHeight|0,tt=_e.lineNumbersDigitCount|0,K=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,de=_e.pixelRatio,Y=_e.viewLineCount,ne=ie.get(118),le=ne==="inherit"?ie.get(117):ne,me=le==="inherit"?ie.get(113):le,be=ie.get(116),He=ie.get(2),Be=_e.isDominatedByLongLines,Ke=ie.get(46),Je=ie.get(56).renderType!==0,Ze=ie.get(57),ut=ie.get(91),lt=ie.get(61),it=ie.get(89),qe=it.verticalScrollbarSize,Ee=it.verticalHasArrows,Ce=it.arrowSize,ce=it.horizontalScrollbarSize,G=ie.get(54),Ne=ie.get(35);let Re;if(typeof G=="string"&&/^\d+(\.\d+)?ch$/.test(G)){const ft=parseFloat(G.substr(0,G.length-2));Re=a.clampedInt(ft*K,0,0,1e3)}else Re=a.clampedInt(G,0,0,1e3);Ne&&(Re+=16);let et=0;if(Je){const ft=Math.max(tt,Ze);et=Math.round(ft*se)}let Qe=0;Ke&&(Qe=We);let at=0,rt=at+Qe,Ye=rt+et,st=Ye+Re;const vt=Oe-Qe-et-Re;let mt=!1,Ct=!1,wt=-1;He!==2&&(le==="inherit"&&Be?(mt=!0,Ct=!0):me==="on"||me==="bounded"?Ct=!0:me==="wordWrapColumn"&&(wt=be));const St=W._computeMinimapLayout({outerWidth:Oe,outerHeight:Ve,lineHeight:We,typicalHalfwidthCharacterWidth:K,pixelRatio:de,scrollBeyondLastLine:ut,minimap:lt,verticalScrollbarWidth:qe,viewLineCount:Y,remainingWidth:vt,isViewportWrapping:Ct},_e.memory||new y);St.renderMinimap!==0&&St.minimapLeft===0&&(at+=St.minimapWidth,rt+=St.minimapWidth,Ye+=St.minimapWidth,st+=St.minimapWidth);const pt=vt-St.minimapWidth,Ft=Math.max(1,Math.floor((pt-qe-2)/K)),Mt=Ee?Ce:0;return Ct&&(wt=Math.max(1,Ft),me==="bounded"&&(wt=Math.min(wt,be))),{width:Oe,height:Ve,glyphMarginLeft:at,glyphMarginWidth:Qe,lineNumbersLeft:rt,lineNumbersWidth:et,decorationsLeft:Ye,decorationsWidth:Re,contentLeft:st,contentWidth:pt,minimap:St,viewportColumn:Ft,isWordWrapMinified:mt,isViewportWrapping:Ct,wrappingColumn:wt,verticalScrollbarWidth:qe,horizontalScrollbarHeight:ce,overviewRuler:{top:Mt,width:qe,height:Ve-2*Mt,right:0}}}}e.EditorLayoutInfoComputer=W;class F extends n{constructor(){const ie={enabled:!0};super(53,"lightbulb",ie,{"editor.lightbulb.enabled":{type:"boolean",default:ie.enabled,description:_.localize(39,null)}})}validate(ie){return!ie||typeof ie!="object"?this.defaultValue:{enabled:b(ie.enabled,this.defaultValue.enabled)}}}class x extends n{constructor(){const ie={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(122,"inlineHints",ie,{"editor.inlineHints.enabled":{type:"boolean",default:ie.enabled,description:_.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:ie.fontSize,description:_.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:ie.fontFamily,description:_.localize(42,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:S.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class M extends a{constructor(){super(55,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_.localize(43,null)})}compute(ie,_e,Oe){return ie.fontInfo.lineHeight}}class N extends n{constructor(){const ie={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(61,"minimap",ie,{"editor.minimap.enabled":{type:"boolean",default:ie.enabled,description:_.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.localize(45,null),_.localize(46,null),_.localize(47,null)],default:ie.size,description:_.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ie.side,description:_.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ie.showSlider,description:_.localize(50,null)},"editor.minimap.scale":{type:"number",default:ie.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ie.renderCharacters,description:_.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:ie.maxColumn,description:_.localize(53,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),size:v(_e.size,this.defaultValue.size,["proportional","fill","fit"]),side:v(_e.side,this.defaultValue.side,["right","left"]),showSlider:v(_e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:b(_e.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(_e.scale,1,1,3),maxColumn:a.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(Q){return Q==="ctrlCmd"?A.isMacintosh?"metaKey":"ctrlKey":"altKey"}class V extends n{constructor(){super(71,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(55,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{top:a.clampedInt(_e.top,0,0,1e3),bottom:a.clampedInt(_e.bottom,0,0,1e3)}}}class q extends n{constructor(){const ie={enabled:!0,cycle:!1};super(72,"parameterHints",ie,{"editor.parameterHints.enabled":{type:"boolean",default:ie.enabled,description:_.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:ie.cycle,description:_.localize(57,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:b(_e.enabled,this.defaultValue.enabled),cycle:b(_e.cycle,this.defaultValue.cycle)}}}class X extends T{constructor(){super(124)}compute(ie,_e,Oe){return ie.pixelRatio}}class fe extends n{constructor(){const ie={other:!0,comments:!1,strings:!1};super(75,"quickSuggestions",ie,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ie.strings,description:_.localize(58,null)},comments:{type:"boolean",default:ie.comments,description:_.localize(59,null)},other:{type:"boolean",default:ie.other,description:_.localize(60,null)}}}],default:ie,description:_.localize(61,null)});this.defaultValue=ie}validate(ie){if(typeof ie=="boolean")return ie;if(ie&&typeof ie=="object"){const _e=ie,Oe={other:b(_e.other,this.defaultValue.other),comments:b(_e.comments,this.defaultValue.comments),strings:b(_e.strings,this.defaultValue.strings)};return Oe.other&&Oe.comments&&Oe.strings?!0:!Oe.other&&!Oe.comments&&!Oe.strings?!1:Oe}return this.defaultValue}}var ve;(function(Q){Q[Q.Off=0]="Off",Q[Q.On=1]="On",Q[Q.Relative=2]="Relative",Q[Q.Interval=3]="Interval",Q[Q.Custom=4]="Custom"})(ve=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Ae extends n{constructor(){super(56,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.localize(62,null),_.localize(63,null),_.localize(64,null),_.localize(65,null)],default:"on",description:_.localize(66,null)})}validate(ie){let _e=this.defaultValue.renderType,Oe=this.defaultValue.renderFn;return typeof ie!="undefined"&&(typeof ie=="function"?(_e=4,Oe=ie):ie==="interval"?_e=3:ie==="relative"?_e=2:ie==="on"?_e=1:_e=0),{renderType:_e,renderFn:Oe}}}function Ie(Q){const ie=Q.get(84);return ie==="editable"?Q.get(77):ie!=="on"}e.filterValidationDecorations=Ie;class Fe extends n{constructor(){const ie=[],_e={type:"number",description:_.localize(67,null)};super(88,"rulers",ie,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:_.localize(68,null),format:"color-hex"}}}]},default:ie,description:_.localize(69,null)})}validate(ie){if(Array.isArray(ie)){let _e=[];for(let Oe of ie)if(typeof Oe=="number")_e.push({column:a.clampedInt(Oe,0,0,1e4),color:null});else if(Oe&&typeof Oe=="object"){const Ve=Oe;_e.push({column:a.clampedInt(Ve.column,0,0,1e4),color:Ve.color})}return _e.sort((Oe,Ve)=>Oe.column-Ve.column),_e}return this.defaultValue}}function z(Q,ie){if(typeof Q!="string")return ie;switch(Q){case"hidden":return 2;case"visible":return 3;default:return 1}}class J extends n{constructor(){super(89,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie,Oe=a.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ve=a.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:z(_e.vertical,this.defaultValue.vertical),horizontal:z(_e.horizontal,this.defaultValue.horizontal),useShadows:b(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:b(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:b(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:b(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:b(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Oe,horizontalSliderSize:a.clampedInt(_e.horizontalSliderSize,Oe,0,1e3),verticalScrollbarSize:Ve,verticalSliderSize:a.clampedInt(_e.verticalSliderSize,Ve,0,1e3),scrollByPage:b(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class te extends n{constructor(){const ie={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,"suggest",ie,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.localize(70,null),_.localize(71,null)],default:ie.insertMode,description:_.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ie.filterGraceful,description:_.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:ie.localityBonus,description:_.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ie.shareSuggestSelections,markdownDescription:_.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ie.snippetsPreventQuickSuggestions,description:_.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:ie.showIcons,description:_.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ie.showStatusBar,description:_.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ie.showInlineDetails,description:_.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.localize(109,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{insertMode:v(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:b(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:b(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:b(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:b(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:b(_e.showIcons,this.defaultValue.showIcons),showStatusBar:b(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:b(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:b(_e.showMethods,this.defaultValue.showMethods),showFunctions:b(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:b(_e.showConstructors,this.defaultValue.showConstructors),showFields:b(_e.showFields,this.defaultValue.showFields),showVariables:b(_e.showVariables,this.defaultValue.showVariables),showClasses:b(_e.showClasses,this.defaultValue.showClasses),showStructs:b(_e.showStructs,this.defaultValue.showStructs),showInterfaces:b(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:b(_e.showModules,this.defaultValue.showModules),showProperties:b(_e.showProperties,this.defaultValue.showProperties),showEvents:b(_e.showEvents,this.defaultValue.showEvents),showOperators:b(_e.showOperators,this.defaultValue.showOperators),showUnits:b(_e.showUnits,this.defaultValue.showUnits),showValues:b(_e.showValues,this.defaultValue.showValues),showConstants:b(_e.showConstants,this.defaultValue.showConstants),showEnums:b(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:b(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:b(_e.showKeywords,this.defaultValue.showKeywords),showWords:b(_e.showWords,this.defaultValue.showWords),showColors:b(_e.showColors,this.defaultValue.showColors),showFiles:b(_e.showFiles,this.defaultValue.showFiles),showReferences:b(_e.showReferences,this.defaultValue.showReferences),showFolders:b(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:b(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:b(_e.showSnippets,this.defaultValue.showSnippets),showUsers:b(_e.showUsers,this.defaultValue.showUsers),showIssues:b(_e.showIssues,this.defaultValue.showIssues)}}}class ae extends n{constructor(){super(99,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.localize(110,null),default:!0,type:"boolean"}})}validate(ie){return!ie||typeof ie!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:b(ie.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class he extends T{constructor(){super(125,[77])}compute(ie,_e,Oe){return _e.get(77)?!0:ie.tabFocusMode}}var De;(function(Q){Q[Q.None=0]="None",Q[Q.Same=1]="Same",Q[Q.Indent=2]="Indent",Q[Q.DeepIndent=3]="DeepIndent"})(De=e.WrappingIndent||(e.WrappingIndent={}));function Me(Q){switch(Q){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class we extends T{constructor(){super(127,[126])}compute(ie,_e,Oe){const Ve=_e.get(126);return{isDominatedByLongLines:ie.isDominatedByLongLines,isWordWrapMinified:Ve.isWordWrapMinified,isViewportWrapping:Ve.isViewportWrapping,wrappingColumn:Ve.wrappingColumn}}}const ke="Consolas, 'Courier New', monospace",Te="Menlo, Monaco, 'Courier New', monospace",Ue="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:A.isMacintosh?Te:A.isLinux?Ue:ke,fontWeight:"normal",fontSize:A.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Se(Q){return e.editorOptionsRegistry[Q.id]=Q,Q}var Ge;(function(Q){Q[Q.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",Q[Q.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",Q[Q.accessibilitySupport=2]="accessibilitySupport",Q[Q.accessibilityPageSize=3]="accessibilityPageSize",Q[Q.ariaLabel=4]="ariaLabel",Q[Q.autoClosingBrackets=5]="autoClosingBrackets",Q[Q.autoClosingDelete=6]="autoClosingDelete",Q[Q.autoClosingOvertype=7]="autoClosingOvertype",Q[Q.autoClosingQuotes=8]="autoClosingQuotes",Q[Q.autoIndent=9]="autoIndent",Q[Q.automaticLayout=10]="automaticLayout",Q[Q.autoSurround=11]="autoSurround",Q[Q.codeLens=12]="codeLens",Q[Q.codeLensFontFamily=13]="codeLensFontFamily",Q[Q.codeLensFontSize=14]="codeLensFontSize",Q[Q.colorDecorators=15]="colorDecorators",Q[Q.columnSelection=16]="columnSelection",Q[Q.comments=17]="comments",Q[Q.contextmenu=18]="contextmenu",Q[Q.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",Q[Q.cursorBlinking=20]="cursorBlinking",Q[Q.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",Q[Q.cursorStyle=22]="cursorStyle",Q[Q.cursorSurroundingLines=23]="cursorSurroundingLines",Q[Q.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",Q[Q.cursorWidth=25]="cursorWidth",Q[Q.disableLayerHinting=26]="disableLayerHinting",Q[Q.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",Q[Q.domReadOnly=28]="domReadOnly",Q[Q.dragAndDrop=29]="dragAndDrop",Q[Q.emptySelectionClipboard=30]="emptySelectionClipboard",Q[Q.extraEditorClassName=31]="extraEditorClassName",Q[Q.fastScrollSensitivity=32]="fastScrollSensitivity",Q[Q.find=33]="find",Q[Q.fixedOverflowWidgets=34]="fixedOverflowWidgets",Q[Q.folding=35]="folding",Q[Q.foldingStrategy=36]="foldingStrategy",Q[Q.foldingHighlight=37]="foldingHighlight",Q[Q.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",Q[Q.fontFamily=39]="fontFamily",Q[Q.fontInfo=40]="fontInfo",Q[Q.fontLigatures=41]="fontLigatures",Q[Q.fontSize=42]="fontSize",Q[Q.fontWeight=43]="fontWeight",Q[Q.formatOnPaste=44]="formatOnPaste",Q[Q.formatOnType=45]="formatOnType",Q[Q.glyphMargin=46]="glyphMargin",Q[Q.gotoLocation=47]="gotoLocation",Q[Q.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",Q[Q.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",Q[Q.hover=50]="hover",Q[Q.inDiffEditor=51]="inDiffEditor",Q[Q.letterSpacing=52]="letterSpacing",Q[Q.lightbulb=53]="lightbulb",Q[Q.lineDecorationsWidth=54]="lineDecorationsWidth",Q[Q.lineHeight=55]="lineHeight",Q[Q.lineNumbers=56]="lineNumbers",Q[Q.lineNumbersMinChars=57]="lineNumbersMinChars",Q[Q.linkedEditing=58]="linkedEditing",Q[Q.links=59]="links",Q[Q.matchBrackets=60]="matchBrackets",Q[Q.minimap=61]="minimap",Q[Q.mouseStyle=62]="mouseStyle",Q[Q.mouseWheelScrollSensitivity=63]="mouseWheelScrollSensitivity",Q[Q.mouseWheelZoom=64]="mouseWheelZoom",Q[Q.multiCursorMergeOverlapping=65]="multiCursorMergeOverlapping",Q[Q.multiCursorModifier=66]="multiCursorModifier",Q[Q.multiCursorPaste=67]="multiCursorPaste",Q[Q.occurrencesHighlight=68]="occurrencesHighlight",Q[Q.overviewRulerBorder=69]="overviewRulerBorder",Q[Q.overviewRulerLanes=70]="overviewRulerLanes",Q[Q.padding=71]="padding",Q[Q.parameterHints=72]="parameterHints",Q[Q.peekWidgetDefaultFocus=73]="peekWidgetDefaultFocus",Q[Q.definitionLinkOpensInPeek=74]="definitionLinkOpensInPeek",Q[Q.quickSuggestions=75]="quickSuggestions",Q[Q.quickSuggestionsDelay=76]="quickSuggestionsDelay",Q[Q.readOnly=77]="readOnly",Q[Q.renameOnType=78]="renameOnType",Q[Q.renderControlCharacters=79]="renderControlCharacters",Q[Q.renderIndentGuides=80]="renderIndentGuides",Q[Q.renderFinalNewline=81]="renderFinalNewline",Q[Q.renderLineHighlight=82]="renderLineHighlight",Q[Q.renderLineHighlightOnlyWhenFocus=83]="renderLineHighlightOnlyWhenFocus",Q[Q.renderValidationDecorations=84]="renderValidationDecorations",Q[Q.renderWhitespace=85]="renderWhitespace",Q[Q.revealHorizontalRightPadding=86]="revealHorizontalRightPadding",Q[Q.roundedSelection=87]="roundedSelection",Q[Q.rulers=88]="rulers",Q[Q.scrollbar=89]="scrollbar",Q[Q.scrollBeyondLastColumn=90]="scrollBeyondLastColumn",Q[Q.scrollBeyondLastLine=91]="scrollBeyondLastLine",Q[Q.scrollPredominantAxis=92]="scrollPredominantAxis",Q[Q.selectionClipboard=93]="selectionClipboard",Q[Q.selectionHighlight=94]="selectionHighlight",Q[Q.selectOnLineNumbers=95]="selectOnLineNumbers",Q[Q.showFoldingControls=96]="showFoldingControls",Q[Q.showUnused=97]="showUnused",Q[Q.snippetSuggestions=98]="snippetSuggestions",Q[Q.smartSelect=99]="smartSelect",Q[Q.smoothScrolling=100]="smoothScrolling",Q[Q.stickyTabStops=101]="stickyTabStops",Q[Q.stopRenderingLineAfter=102]="stopRenderingLineAfter",Q[Q.suggest=103]="suggest",Q[Q.suggestFontSize=104]="suggestFontSize",Q[Q.suggestLineHeight=105]="suggestLineHeight",Q[Q.suggestOnTriggerCharacters=106]="suggestOnTriggerCharacters",Q[Q.suggestSelection=107]="suggestSelection",Q[Q.tabCompletion=108]="tabCompletion",Q[Q.tabIndex=109]="tabIndex",Q[Q.unusualLineTerminators=110]="unusualLineTerminators",Q[Q.useTabStops=111]="useTabStops",Q[Q.wordSeparators=112]="wordSeparators",Q[Q.wordWrap=113]="wordWrap",Q[Q.wordWrapBreakAfterCharacters=114]="wordWrapBreakAfterCharacters",Q[Q.wordWrapBreakBeforeCharacters=115]="wordWrapBreakBeforeCharacters",Q[Q.wordWrapColumn=116]="wordWrapColumn",Q[Q.wordWrapOverride1=117]="wordWrapOverride1",Q[Q.wordWrapOverride2=118]="wordWrapOverride2",Q[Q.wrappingIndent=119]="wrappingIndent",Q[Q.wrappingStrategy=120]="wrappingStrategy",Q[Q.showDeprecated=121]="showDeprecated",Q[Q.inlineHints=122]="inlineHints",Q[Q.editorClassName=123]="editorClassName",Q[Q.pixelRatio=124]="pixelRatio",Q[Q.tabFocusMode=125]="tabFocusMode",Q[Q.layoutInfo=126]="layoutInfo",Q[Q.wrappingInfo=127]="wrappingInfo"})(Ge=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Se(new g(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.localize(111,null)})),acceptSuggestionOnEnter:Se(new E(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.localize(112,null),""],markdownDescription:_.localize(113,null)})),accessibilitySupport:Se(new s),accessibilityPageSize:Se(new a(3,"accessibilityPageSize",10,1,1073741824,{description:_.localize(114,null),deprecationMessage:_.localize(115,null)})),ariaLabel:Se(new S(4,"ariaLabel",_.localize(116,null))),autoClosingBrackets:Se(new E(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(117,null),_.localize(118,null),""],description:_.localize(119,null)})),autoClosingDelete:Se(new E(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.localize(120,null),""],description:_.localize(121,null)})),autoClosingOvertype:Se(new E(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.localize(122,null),""],description:_.localize(123,null)})),autoClosingQuotes:Se(new E(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(124,null),_.localize(125,null),""],description:_.localize(126,null)})),autoIndent:Se(new c(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],u,{enumDescriptions:[_.localize(127,null),_.localize(128,null),_.localize(129,null),_.localize(130,null),_.localize(131,null)],description:_.localize(132,null)})),automaticLayout:Se(new g(10,"automaticLayout",!1)),autoSurround:Se(new E(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.localize(133,null),_.localize(134,null),_.localize(135,null),""],description:_.localize(136,null)})),stickyTabStops:Se(new g(101,"stickyTabStops",!1,{description:_.localize(137,null)})),codeLens:Se(new g(12,"codeLens",!0,{description:_.localize(138,null)})),codeLensFontFamily:Se(new S(13,"codeLensFontFamily","",{description:_.localize(139,null)})),codeLensFontSize:Se(new a(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:_.localize(140,null)})),colorDecorators:Se(new g(15,"colorDecorators",!0,{description:_.localize(141,null)})),columnSelection:Se(new g(16,"columnSelection",!1,{description:_.localize(142,null)})),comments:Se(new t),contextmenu:Se(new g(18,"contextmenu",!0)),copyWithSyntaxHighlighting:Se(new g(19,"copyWithSyntaxHighlighting",!0,{description:_.localize(143,null)})),cursorBlinking:Se(new c(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],o,{description:_.localize(144,null)})),cursorSmoothCaretAnimation:Se(new g(21,"cursorSmoothCaretAnimation",!1,{description:_.localize(145,null)})),cursorStyle:Se(new c(22,"cursorStyle",r.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],f,{description:_.localize(146,null)})),cursorSurroundingLines:Se(new a(23,"cursorSurroundingLines",0,0,1073741824,{description:_.localize(147,null)})),cursorSurroundingLinesStyle:Se(new E(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.localize(148,null),_.localize(149,null)],description:_.localize(150,null)})),cursorWidth:Se(new a(25,"cursorWidth",0,0,1073741824,{markdownDescription:_.localize(151,null)})),disableLayerHinting:Se(new g(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:Se(new g(27,"disableMonospaceOptimizations",!1)),domReadOnly:Se(new g(28,"domReadOnly",!1)),dragAndDrop:Se(new g(29,"dragAndDrop",!0,{description:_.localize(152,null)})),emptySelectionClipboard:Se(new w),extraEditorClassName:Se(new S(31,"extraEditorClassName","")),fastScrollSensitivity:Se(new h(32,"fastScrollSensitivity",5,Q=>Q<=0?5:Q,{markdownDescription:_.localize(153,null)})),find:Se(new d),fixedOverflowWidgets:Se(new g(34,"fixedOverflowWidgets",!1)),folding:Se(new g(35,"folding",!0,{description:_.localize(154,null)})),foldingStrategy:Se(new E(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.localize(155,null),_.localize(156,null)],description:_.localize(157,null)})),foldingHighlight:Se(new g(37,"foldingHighlight",!0,{description:_.localize(158,null)})),unfoldOnClickAfterEndOfLine:Se(new g(38,"unfoldOnClickAfterEndOfLine",!1,{description:_.localize(159,null)})),fontFamily:Se(new S(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(160,null)})),fontInfo:Se(new C),fontLigatures2:Se(new m),fontSize:Se(new L),fontWeight:Se(new $),formatOnPaste:Se(new g(44,"formatOnPaste",!1,{description:_.localize(161,null)})),formatOnType:Se(new g(45,"formatOnType",!1,{description:_.localize(162,null)})),glyphMargin:Se(new g(46,"glyphMargin",!0,{description:_.localize(163,null)})),gotoLocation:Se(new ee),hideCursorInOverviewRuler:Se(new g(48,"hideCursorInOverviewRuler",!1,{description:_.localize(164,null)})),highlightActiveIndentGuide:Se(new g(49,"highlightActiveIndentGuide",!0,{description:_.localize(165,null)})),hover:Se(new H),inDiffEditor:Se(new g(51,"inDiffEditor",!1)),letterSpacing:Se(new h(52,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Q=>h.clamp(Q,-5,20),{description:_.localize(166,null)})),lightbulb:Se(new F),lineDecorationsWidth:Se(new k(54,"lineDecorationsWidth",10)),lineHeight:Se(new M),lineNumbers:Se(new Ae),lineNumbersMinChars:Se(new a(57,"lineNumbersMinChars",5,1,300)),linkedEditing:Se(new g(58,"linkedEditing",!1,{description:_.localize(167,null)})),links:Se(new g(59,"links",!0,{description:_.localize(168,null)})),matchBrackets:Se(new E(60,"matchBrackets","always",["always","near","never"],{description:_.localize(169,null)})),minimap:Se(new N),mouseStyle:Se(new E(62,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Se(new h(63,"mouseWheelScrollSensitivity",1,Q=>Q===0?1:Q,{markdownDescription:_.localize(170,null)})),mouseWheelZoom:Se(new g(64,"mouseWheelZoom",!1,{markdownDescription:_.localize(171,null)})),multiCursorMergeOverlapping:Se(new g(65,"multiCursorMergeOverlapping",!0,{description:_.localize(172,null)})),multiCursorModifier:Se(new c(66,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],O,{markdownEnumDescriptions:[_.localize(173,null),_.localize(174,null)],markdownDescription:_.localize(175,null)})),multiCursorPaste:Se(new E(67,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.localize(176,null),_.localize(177,null)],markdownDescription:_.localize(178,null)})),occurrencesHighlight:Se(new g(68,"occurrencesHighlight",!0,{description:_.localize(179,null)})),overviewRulerBorder:Se(new g(69,"overviewRulerBorder",!0,{description:_.localize(180,null)})),overviewRulerLanes:Se(new a(70,"overviewRulerLanes",3,0,3)),padding:Se(new V),parameterHints:Se(new q),peekWidgetDefaultFocus:Se(new E(73,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.localize(181,null),_.localize(182,null)],description:_.localize(183,null)})),definitionLinkOpensInPeek:Se(new g(74,"definitionLinkOpensInPeek",!1,{description:_.localize(184,null)})),quickSuggestions:Se(new fe),quickSuggestionsDelay:Se(new a(76,"quickSuggestionsDelay",10,0,1073741824,{description:_.localize(185,null)})),readOnly:Se(new g(77,"readOnly",!1)),renameOnType:Se(new g(78,"renameOnType",!1,{description:_.localize(186,null),markdownDeprecationMessage:_.localize(187,null)})),renderControlCharacters:Se(new g(79,"renderControlCharacters",!1,{description:_.localize(188,null)})),renderIndentGuides:Se(new g(80,"renderIndentGuides",!0,{description:_.localize(189,null)})),renderFinalNewline:Se(new g(81,"renderFinalNewline",!0,{description:_.localize(190,null)})),renderLineHighlight:Se(new E(82,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.localize(191,null)],description:_.localize(192,null)})),renderLineHighlightOnlyWhenFocus:Se(new g(83,"renderLineHighlightOnlyWhenFocus",!1,{description:_.localize(193,null)})),renderValidationDecorations:Se(new E(84,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Se(new E(85,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.localize(194,null),_.localize(195,null),_.localize(196,null),""],description:_.localize(197,null)})),revealHorizontalRightPadding:Se(new a(86,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Se(new g(87,"roundedSelection",!0,{description:_.localize(198,null)})),rulers:Se(new Fe),scrollbar:Se(new J),scrollBeyondLastColumn:Se(new a(90,"scrollBeyondLastColumn",5,0,1073741824,{description:_.localize(199,null)})),scrollBeyondLastLine:Se(new g(91,"scrollBeyondLastLine",!0,{description:_.localize(200,null)})),scrollPredominantAxis:Se(new g(92,"scrollPredominantAxis",!0,{description:_.localize(201,null)})),selectionClipboard:Se(new g(93,"selectionClipboard",!0,{description:_.localize(202,null),included:A.isLinux})),selectionHighlight:Se(new g(94,"selectionHighlight",!0,{description:_.localize(203,null)})),selectOnLineNumbers:Se(new g(95,"selectOnLineNumbers",!0)),showFoldingControls:Se(new E(96,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_.localize(204,null),_.localize(205,null)],description:_.localize(206,null)})),showUnused:Se(new g(97,"showUnused",!0,{description:_.localize(207,null)})),showDeprecated:Se(new g(121,"showDeprecated",!0,{description:_.localize(208,null)})),inlineHints:Se(new x),snippetSuggestions:Se(new E(98,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.localize(209,null),_.localize(210,null),_.localize(211,null),_.localize(212,null)],description:_.localize(213,null)})),smartSelect:Se(new ae),smoothScrolling:Se(new g(100,"smoothScrolling",!1,{description:_.localize(214,null)})),stopRenderingLineAfter:Se(new a(102,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Se(new te),suggestFontSize:Se(new a(104,"suggestFontSize",0,0,1e3,{markdownDescription:_.localize(215,null)})),suggestLineHeight:Se(new a(105,"suggestLineHeight",0,0,1e3,{markdownDescription:_.localize(216,null)})),suggestOnTriggerCharacters:Se(new g(106,"suggestOnTriggerCharacters",!0,{description:_.localize(217,null)})),suggestSelection:Se(new E(107,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.localize(218,null),_.localize(219,null),_.localize(220,null)],description:_.localize(221,null)})),tabCompletion:Se(new E(108,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.localize(222,null),_.localize(223,null),_.localize(224,null)],description:_.localize(225,null)})),tabIndex:Se(new a(109,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Se(new E(110,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.localize(226,null),_.localize(227,null),_.localize(228,null)],description:_.localize(229,null)})),useTabStops:Se(new g(111,"useTabStops",!0,{description:_.localize(230,null)})),wordSeparators:Se(new S(112,"wordSeparators",R.USUAL_WORD_SEPARATORS,{description:_.localize(231,null)})),wordWrap:Se(new E(113,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.localize(232,null),_.localize(233,null),_.localize(234,null),_.localize(235,null)],description:_.localize(236,null)})),wordWrapBreakAfterCharacters:Se(new S(114,"wordWrapBreakAfterCharacters"," })]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Se(new S(115,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Se(new a(116,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.localize(237,null)})),wordWrapOverride1:Se(new E(117,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Se(new E(118,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Se(new c(119,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Me,{enumDescriptions:[_.localize(238,null),_.localize(239,null),_.localize(240,null),_.localize(241,null)],description:_.localize(242,null)})),wrappingStrategy:Se(new E(120,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_.localize(243,null),_.localize(244,null)],description:_.localize(245,null)})),editorClassName:Se(new p),pixelRatio:Se(new X),tabFocusMode:Se(new he),layoutInfo:Se(new W),wrappingInfo:Se(new we)}}),define(ge[151],pe([18,19]),function(Z,e){return Z.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ge[152],pe([18,19]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ge[153],pe([18,19]),function(Z,e){return Z.create("vs/platform/files/common/files",e)}),define(ge[154],pe([18,19]),function(Z,e){return Z.create("vs/platform/markers/common/markers",e)}),define(ge[155],pe([18,19]),function(Z,e){return Z.create("vs/platform/theme/common/iconRegistry",e)}),define(ge[156],pe([18,19]),function(Z,e){return Z.create("vs/platform/workspaces/common/workspaces",e)}),define(ge[157],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHost.api.impl",e)}),define(ge[158],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ge[159],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostExtensionActivator",e)}),define(ge[160],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ge[161],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostProgress",e)}),define(ge[162],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ge[163],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ge[164],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ge[165],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ge[166],pe([18,19]),function(Z,e){return Z.create("vs/workbench/api/node/extHostDebugService",e)}),define(ge[167],pe([18,19]),function(Z,e){return Z.create("vs/workbench/common/views",e)}),define(ge[168],pe([18,19]),function(Z,e){return Z.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ge[169],pe([18,19]),function(Z,e){return Z.create("vs/workbench/contrib/debug/node/debugAdapter",e)}),define(ge[170],pe([18,19]),function(Z,e){return Z.create("vs/workbench/contrib/externalTerminal/node/externalTerminalService",e)}),define(ge[171],pe([18,19]),function(Z,e){return Z.create("vs/workbench/contrib/search/common/queryBuilder",e)}),define(ge[172],pe([18,19]),function(Z,e){return Z.create("vs/workbench/contrib/tasks/common/taskService",e)}),define(ge[173],pe([18,19]),function(Z,e){return Z.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ge[174],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var _;(function(D){D[D.ACTIVATE=0]="ACTIVATE",D[D.RESTORE=1]="RESTORE",D[D.PRESERVE=2]="PRESERVE"})(_=e.EditorActivation||(e.EditorActivation={}));var A;(function(D){D[D.PICK=1]="PICK",D[D.DISABLED=2]="DISABLED"})(A=e.EditorOverride||(e.EditorOverride={}));var R;(function(D){D[D.API=0]="API",D[D.USER=1]="USER"})(R=e.EditorOpenContext||(e.EditorOpenContext={}));var I;(function(D){D[D.Center=0]="Center",D[D.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",D[D.NearTop=2]="NearTop",D[D.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(I=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[108],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class _{constructor(I,D=[],P=!1){this.ctor=I,this.staticArguments=D,this.supportsDelayedInstantiation=P}}e.SyncDescriptor=_;const A=(R,...I)=>new _(R,I);e.createSyncDescriptor=A}),define(ge[78],pe([0,1,108]),function(Z,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const A=[];function R(D,P,y){P instanceof _.SyncDescriptor||(P=new _.SyncDescriptor(P,[],y)),A.push([D,P])}e.registerSingleton=R;function I(){return A}e.getSingletonServiceDescriptors=I}),define(ge[175],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=_;class A{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(let D of this._nodes.values())D.outgoing.size===0&&I.push(D);return I}insertEdge(I,D){const P=this.lookupOrInsertNode(I),y=this.lookupOrInsertNode(D);P.outgoing.set(this._hashFn(D),y),y.incoming.set(this._hashFn(I),P)}removeNode(I){const D=this._hashFn(I);this._nodes.delete(D);for(let P of this._nodes.values())P.outgoing.delete(D),P.incoming.delete(D)}lookupOrInsertNode(I){const D=this._hashFn(I);let P=this._nodes.get(D);return P||(P=new _(I),this._nodes.set(D,P)),P}lookup(I){return this._nodes.get(this._hashFn(I))}isEmpty(){return this._nodes.size===0}toString(){let I=[];for(let[D,P]of this._nodes)I.push(`${D}, (incoming)[${[...P.incoming.keys()].join(", ")}], (outgoing)[${[...P.outgoing.keys()].join(",")}]`);return I.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js
[36][风险] 黑客在2021-04-13 17:30:28时间，植入了恶意文件/root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js，反弹shell类：`):t}function L(t){return typeof t.code=="string"&&typeof t.errno=="number"&&typeof t.syscall=="string"?v.localize(1,null,t.message):t.message||v.localize(2,null)}function h(t=null,A=!1){if(!t)return v.localize(3,null);if(Array.isArray(t)){const _=I.coalesce(t),w=h(_[0],A);return _.length>1?v.localize(4,null,w,_.length):w}if(S.isString(t))return t;if(t.detail){const _=t.detail;if(_.error)return y(_.error,A);if(_.exception)return y(_.exception,A)}return t.stack?y(t,A):t.message?t.message:v.localize(5,null)}e.toErrorMessage=h}),define(de[135],me([9,10]),function(Z,e){return Z.create("vs/base/common/jsonErrorMessages",e)}),define(de[136],me([0,1,135]),function(Z,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function S(I){switch(I){case 1:return(0,v.localize)(0,null);case 2:return(0,v.localize)(1,null);case 3:return(0,v.localize)(2,null);case 4:return(0,v.localize)(3,null);case 5:return(0,v.localize)(4,null);case 6:return(0,v.localize)(5,null);case 7:return(0,v.localize)(6,null);case 8:return(0,v.localize)(7,null);case 9:return(0,v.localize)(8,null);default:return""}}e.getParseErrorMessage=S}),define(de[137],me([9,10]),function(Z,e){return Z.create("vs/base/node/processes",e)}),define(de[82],me([0,1,4,15,21,37,137,25,11,20,29,5,75,8]),function(Z,e,v,S,I,y,P,L,h,t,A,_,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(r){switch(r){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function l(r,n){if(_.isWindows)try{const i={stdio:["pipe","pipe","ignore"]};n&&(i.cwd=n);const s=y.execFile("taskkill",["/T","/F","/PID",r.pid.toString()],i);return new Promise(o=>{s.once("error",c=>{o({success:!1,error:c})}),s.once("exit",(c,d)=>{o(c===0?{success:!0}:{success:!1,code:c!==null?c:1})})})}catch(i){return Promise.resolve({success:!1,error:i,code:i.status?a(i.status):1})}else if(_.isLinux||_.isMacintosh)try{const i=b.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Z).fsPath;return new Promise(s=>{y.execFile(i,[r.pid.toString()],{encoding:"utf8",shell:!0},(o,c,d)=>{s(o?{success:!1,error:o}:{success:!0})})})}catch(i){return Promise.resolve({success:!1,error:i})}else r.kill("SIGKILL");return Promise.resolve({success:!0})}function p(r=L.env){return r.comspec||"cmd.exe"}e.getWindowsShell=p;class m{constructor(n,i,s,o){if(i!==void 0&&s!==void 0&&o!==void 0)this.cmd=n,this.args=i,this.shell=s,this.options=o;else{const c=n;this.cmd=c.command,this.shell=c.isShellCommand,this.args=c.args.slice(0),this.options=c.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const c=Object.create(null);Object.keys(L.env).forEach(d=>{c[d]=L.env[d]}),Object.keys(this.options.env).forEach(d=>{c[d]=this.options.env[d]}),this.options.env=c}}getSanitizedCommand(){let n=this.cmd.toLowerCase();const i=n.lastIndexOf(v.sep);return i!==-1&&(n=n.substring(i+1)),m.WellKnowCommands[n]?n:"other"}start(n){return _.isWindows&&(this.options&&this.options.cwd&&A.isUNC(this.options.cwd)||!this.options&&A.isUNC(L.cwd()))?Promise.reject(new Error(P.localize(0,null))):this.useExec().then(i=>{let s,o;const c=new Promise((d,k)=>{s=d,o=k});if(i){let d=this.cmd;this.args&&(d=d+" "+this.args.join(" ")),this.childProcess=y.exec(d,this.options,(k,F,E)=>{this.childProcess=null;const g=k;g&&g.killed?o({killed:this.terminateRequested,stdout:F.toString(),stderr:E.toString()}):this.handleExec(s,n,k,F,E)})}else{let d=null;const k=F=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(F,s,n,o);const E={terminated:this.terminateRequested};h.isNumber(F)&&(E.cmdCode=F),s(E)};if(this.shell&&_.isWindows){const F=t.deepClone(this.options);F.windowsVerbatimArguments=!0,F.detached=!1;let E=!1,g=!1;const D=[];let N=this.ensureQuotes(this.cmd);D.push(N.value),E=N.quoted,this.args&&this.args.forEach(x=>{N=this.ensureQuotes(x),D.push(N.value),g=g&&N.quoted});const K=["/s","/c"];E?g?K.push('"'+D.join(" ")+'"'):D.length>1?K.push('"'+D[0]+'" '+D.slice(1).join(" ")):K.push('"'+D[0]+'"'):K.push(D.join(" ")),d=y.spawn(p(),K,F)}else this.cmd&&(d=y.spawn(this.cmd,this.args,this.options));d&&(this.childProcess=d,this.childProcessPromise=Promise.resolve(d),this.pidResolve&&(this.pidResolve(h.isNumber(d.pid)?d.pid:-1),this.pidResolve=void 0),d.on("error",F=>{this.childProcess=null,o({terminated:this.terminateRequested,error:F})}),d.pid&&(this.childProcess.on("close",k),this.handleSpawn(d,s,n,o,!0)))}return c})}handleClose(n,i,s,o){}ensureQuotes(n){return m.regexp.test(n)?{value:'"'+n+'"',quoted:!0}:{value:n,quoted:n.length>0&&n[0]==='"'&&n[n.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(n=>n.pid,n=>-1):new Promise(n=>{this.pidResolve=n})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(n=>(this.terminateRequested=!0,l(n,this.options.cwd).then(i=>(i.success&&(this.childProcess=null),i))),n=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(n=>{if(!this.shell||!_.isWindows)return n(!1);const i=y.spawn(p(),["/s","/c"]);i.on("error",s=>n(!0)),i.on("exit",s=>n(!1))})}}e.AbstractProcess=m,m.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},m.regexp=/^[^"].* .*[^"]/;class C extends m{constructor(n,i,s,o){super(n,i,s,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(n,i,s,o,c){[o,c].forEach((d,k)=>{const F=new w.LineDecoder;F.write(d).forEach(D=>{i({line:D,source:k===0?0:1})});const g=F.end();g&&i({line:g,source:k===0?0:1})}),n({terminated:this.terminateRequested,error:s})}handleSpawn(n,i,s,o,c){const d=new w.LineDecoder,k=new w.LineDecoder;n.stdout.on("data",F=>{d.write(F).forEach(g=>s({line:g,source:0}))}),n.stderr.on("data",F=>{k.write(F).forEach(g=>s({line:g,source:1}))}),this.stdoutLineDecoder=d,this.stderrLineDecoder=k}handleClose(n,i,s,o){const c=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;c&&s({line:c,source:0});const d=this.stderrLineDecoder?this.stderrLineDecoder.end():null;d&&s({line:d,source:1})}}e.LineProcess=C;function f(r){let n=[],i=!1;const s=function(o){if(i){n.push(o);return}(!r.send(o,d=>{if(d&&console.error(d),i=!1,n.length>0){const k=n.slice(0);n=[],k.forEach(F=>s(F))}})||_.isWindows)&&(i=!0)};return{send:s}}e.createQueuedSender=f;var u;(function(r){async function n(i,s,o){if(v.isAbsolute(i))return i;if(s===void 0&&(s=L.cwd()),v.dirname(i)!=="."||(o===void 0&&h.isString(L.env.PATH)&&(o=L.env.PATH.split(v.delimiter)),o===void 0||o.length===0))return v.join(s,i);async function d(k){return await I.exists(k)?!(await S.promises.stat(k)).isDirectory():!1}for(let k of o){let F;if(v.isAbsolute(k)?F=v.join(k,i):F=v.join(s,k,i),await d(F))return F;let E=F+".com";if(await d(E)||(E=F+".exe",await d(E)))return E}return v.join(s,i)}r.findExecutable=n})(u=e.win32||(e.win32={}))}),define(de[83],me([0,1,24,5,125,82]),function(Z,e,v,S,I,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function P(b,a){return b===3?S.isWindows?_():y.getWindowsShell(a):t(b,a)}e.getSystemShell=P;function L(b,a){return b===3?S.isWindows?w(a):y.getWindowsShell(a):t(b,a)}e.getSystemShellSync=L;let h=null;function t(b,a){if(S.isLinux&&b===1||S.isMacintosh&&b===2)return"/bin/bash";if(!h){let l;if(S.isWindows)l="/bin/bash";else{if(l=a.SHELL,!l)try{l=v.userInfo().shell}catch(p){}l||(l="sh"),l==="/bin/false"&&(l="/bin/bash")}h=l}return h}let A=null;async function _(){return A||(A=(await(0,I.getFirstAvailablePowerShellInstallation)()).exePath),A}function w(b){if(A)return A;const a=S.isWindows&&parseFloat(v.release())>=10,l=b.hasOwnProperty("PROCESSOR_ARCHITEW6432"),p=`${b.windir}\\${l?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return a?p:y.getWindowsShell(b)}}),define(de[55],me([0,1,37,2,14,20,6,82,34,116,28,12,18,5]),function(Z,e,v,S,I,y,P,L,h,t,A,_,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class a extends h.ChannelServer{constructor(m){super({send:C=>{try{process.send&&process.send(C.buffer.toString("base64"))}catch(f){}},onMessage:P.Event.fromNodeEventEmitter(process,"message",C=>w.VSBuffer.wrap(Buffer.from(C,"base64")))},m);process.once("disconnect",()=>this.dispose())}}e.Server=a;class l{constructor(m,C){this.modulePath=m,this.options=C,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new P.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const f=C&&C.timeout?C.timeout:6e4;this.disposeDelayer=new I.Delayer(f),this.child=null,this._client=null}getChannel(m){const C=this;return{call(f,u,r){return C.requestPromise(m,f,u,r)},listen(f,u){return C.requestEvent(m,f,u)}}}requestPromise(m,C,f,u=A.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(u.isCancellationRequested)return Promise.reject(_.canceled());this.disposeDelayer.cancel();const r=this.getCachedChannel(m),n=(0,I.createCancelablePromise)(o=>r.call(C,f,o)),i=u.onCancellationRequested(()=>n.cancel()),s=(0,S.toDisposable)(()=>n.cancel());return this.activeRequests.add(s),n.finally(()=>{i.dispose(),this.activeRequests.delete(s),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),n}requestEvent(m,C,f){if(!this.disposeDelayer)return P.Event.None;this.disposeDelayer.cancel();let u;const r=new P.Emitter({onFirstListenerAdd:()=>{u=this.getCachedChannel(m).listen(C,f)(r.fire,r),this.activeRequests.add(u)},onLastListenerRemove:()=>{this.activeRequests.delete(u),u.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return r.event}get client(){if(!this._client){const m=this.options&&this.options.args?this.options.args:[],C=Object.create(null);C.env=Object.assign(Object.assign({},(0,y.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(C.env=Object.assign(Object.assign({},C.env),this.options.env)),this.options&&this.options.freshExecArgv&&(C.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(C.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(C.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),C.execArgv===void 0&&(C.execArgv=process.execArgv.filter(c=>!/^--inspect(-brk)?=/.test(c))),b.isMacintosh&&C.env&&delete C.env.DYLD_LIBRARY_PATH,this.child=(0,v.fork)(this.modulePath,m,C);const f=new P.Emitter;P.Event.fromNodeEventEmitter(this.child,"message",c=>c)(c=>{if((0,t.isRemoteConsoleLog)(c)){(0,t.log)(c,`IPC Library: ${this.options.serverName}`);return}f.fire(w.VSBuffer.wrap(Buffer.from(c,"base64")))});const r=this.options.useQueue?(0,L.createQueuedSender)(this.child):this.child,n=c=>this.child&&this.child.connected&&r.send(c.buffer.toString("base64")),i=f.event,s={send:n,onMessage:i};this._client=new h.ChannelClient(s);const o=()=>this.disposeClient();process.once("exit",o),this.child.on("error",c=>console.warn('IPC "'+this.options.serverName+'" errored with '+c)),this.child.on("exit",(c,d)=>{process.removeListener("exit",o),this.activeRequests.forEach(k=>(0,S.dispose)(k)),this.activeRequests.clear(),c!==0&&d!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+c+" and signal "+d),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:c,signal:d})})}return this._client}getCachedChannel(m){let C=this.channels.get(m);return C||(C=this.client.getChannel(m),this.channels.set(m,C)),C}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=l}),define(de[138],me([9,10]),function(Z,e){return Z.create("vs/base/node/zip",e)}),define(de[139],me([9,10]),function(Z,e){return Z.create("vs/platform/configuration/common/configurationRegistry",e)}),define(de[140],me([9,10]),function(Z,e){return Z.create("vs/platform/environment/node/argv",e)}),define(de[141],me([9,10]),function(Z,e){return Z.create("vs/platform/environment/node/argvHelper",e)}),define(de[142],me([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(de[143],me([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(de[144],me([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(de[145],me([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(de[146],me([9,10]),function(Z,e){return Z.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(de[147],me([9,10]),function(Z,e){return Z.create("vs/platform/extensions/common/extensionValidator",e)}),define(de[148],me([9,10]),function(Z,e){return Z.create("vs/platform/files/common/fileService",e)}),define(de[149],me([9,10]),function(Z,e){return Z.create("vs/platform/files/common/files",e)}),define(de[150],me([9,10]),function(Z,e){return Z.create("vs/platform/files/common/io",e)}),define(de[151],me([9,10]),function(Z,e){return Z.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(de[152],me([9,10]),function(Z,e){return Z.create("vs/platform/markers/common/markers",e)}),define(de[153],me([9,10]),function(Z,e){return Z.create("vs/platform/request/common/request",e)}),define(de[154],me([9,10]),function(Z,e){return Z.create("vs/platform/telemetry/common/telemetryService",e)}),define(de[155],me([9,10]),function(Z,e){return Z.create("vs/platform/workspaces/common/workspaces",e)}),define(de[156],me([9,10]),function(Z,e){return Z.create("vs/server/remoteAgentEnvironmentImpl",e)}),define(de[157],me([9,10]),function(Z,e){return Z.create("vs/server/serverEnvironmentService",e)}),define(de[158],me([9,10]),function(Z,e){return Z.create("vs/workbench/common/editor",e)}),define(de[159],me([9,10]),function(Z,e){return Z.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(de[160],me([9,10]),function(Z,e){return Z.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(de[161],me([9,10]),function(Z,e){return Z.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(de[162],me([0,1,6,2]),function(Z,e,v,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class I{constructor(){this._onCloseEmitter=new v.Emitter,this._onReloadEmitter=new v.Emitter,this._onTerminateEmitter=new v.Emitter,this._onAttachEmitter=new v.Emitter}call(L,h,t){switch(h){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:t[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:t[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:t[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:t[0],port:t[1],subId:t[2]}))}throw new Error("Method not implemented.")}listen(L,h,t){switch(h){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=I,I.ChannelName="extensionhostdebugservice";class y extends S.Disposable{constructor(L){super();this.channel=L}reload(L){this.channel.call("reload",[L])}get onReload(){return this.channel.listen("reload")}close(L){this.channel.call("close",[L])}get onClose(){return this.channel.listen("close")}attachSession(L,h,t){this.channel.call("attach",[L,h,t])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(L,h){this.channel.call("terminate",[L,h])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(L,h,t){return this.channel.call("openExtensionDevelopmentHostWindow",[L,h,t])}}e.ExtensionHostDebugChannelClient=y}),define(de[163],me([0,1,3]),function(Z,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class S{constructor(P){this.service=P}listen(P,L,h){throw new Error("Invalid listen")}call(P,L,h){switch(L){case"download":return this.service.download(v.URI.revive(h[0]),v.URI.revive(h[1]))}throw new Error("Invalid call")}}e.DownloadServiceChannel=S;class I{constructor(P,L){this.channel=P,this.getUriTransformer=L}async download(P,L){const h=this.getUriTransformer();h&&(P=h.transformOutgoingURI(P),L=h.transformOutgoingURI(L)),await this.channel.call("download",[P,L])}}e.DownloadServiceChannelClient=I}),define(de[164],me([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var v;(function(P){P[P.ACTIVATE=0]="ACTIVATE",P[P.RESTORE=1]="RESTORE",P[P.PRESERVE=2]="PRESERVE"})(v=e.EditorActivation||(e.EditorActivation={}));var S;(function(P){P[P.PICK=1]="PICK",P[P.DISABLED=2]="DISABLED"})(S=e.EditorOverride||(e.EditorOverride={}));var I;(function(P){P[P.API=0]="API",P[P.USER=1]="USER"})(I=e.EditorOpenContext||(e.EditorOpenContext={}));var y;(function(P){P[P.Center=0]="Center",P[P.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",P[P.NearTop=2]="NearTop",P[P.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(y=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))});var Ne=this&&this.__decorate||function(Z,e,v,S){var I=arguments.length,y=I<3?e:S===null?S=Object.getOwnPropertyDescriptor(e,v):S,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(Z,e,v,S);else for(var L=Z.length-1;L>=0;L--)(P=Z[L])&&(y=(I<3?P(y):I>3?P(e,v,y):P(e,v))||y);return I>3&&y&&Object.defineProperty(e,v,y),y};define(de[165],me([0,1,4,17,109,133,8,3,25]),function(Z,e,v,S,I,y,P,L,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class t{constructor(a,l,p){this._args=a,this.paths=l,this.productService=p}get appRoot(){return(0,v.dirname)(P.FileAccess.asFileUri("",Z).fsPath)}get userHome(){return L.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return L.URI.file((0,v.join)(this.userDataPath,"User"))}get tmpDir(){return L.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,"settings.json")}get userDataSyncHome(){return(0,S.joinPath)(this.userRoamingDataHome,"sync")}get logsPath(){if(!this.args.logsPath){const a=(0,y.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,v.join)(this.userDataPath,"logs",a)}return this.args.logsPath}get userDataSyncLogResource(){return L.URI.file((0,v.join)(this.logsPath,"userDataSync.log"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,S.joinPath)(L.URI.file((0,v.join)(this.userDataPath,"Machine")),"settings.json")}get globalStorageHome(){return L.URI.joinPath(this.appSettingsHome,"globalStorage")}get workspaceStorageHome(){return L.URI.joinPath(this.appSettingsHome,"workspaceStorage")}get keybindingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,"keybindings.json")}get keyboardLayoutResource(){return(0,S.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const a=h.env.VSCODE_PORTABLE;return a?L.URI.file((0,v.join)(a,"argv.json")):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,"argv.json")}get snippetsHome(){return(0,S.joinPath)(this.userRoamingDataHome,"snippets")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return L.URI.file((0,v.join)(this.userDataPath,"Workspaces"))}get installSourcePath(){return(0,v.join)(this.userDataPath,"installSource")}get builtinExtensionsPath(){const a=this.args["builtin-extensions-dir"];return a?(0,v.resolve)(a):(0,v.normalize)((0,v.join)(P.FileAccess.asFileUri("",Z).fsPath,"..","extensions"))}get extensionsDownloadPath(){const a=this.args["extensions-download-dir"];return a?(0,v.resolve)(a):(0,v.join)(this.userDataPath,"CachedExtensionVSIXs")}get extensionsPath(){const a=this.args["extensions-dir"];if(a)return(0,v.resolve)(a);const l=h.env.VSCODE_EXTENSIONS;if(l)return l;const p=h.env.VSCODE_PORTABLE;return p?(0,v.join)(p,"extensions"):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const a=this.args.extensionDevelopmentPath;if(Array.isArray(a))return a.map(l=>/^[^:/?#]+?:\/\//.test(l)?L.URI.parse(l):L.URI.file((0,v.normalize)(l)))}get extensionDevelopmentKind(){var a;return(a=this.args.extensionDevelopmentKind)===null||a===void 0?void 0:a.map(l=>l==="ui"||l==="workspace"||l==="web"?l:"workspace")}get extensionTestsLocationURI(){const a=this.args.extensionTestsPath;if(a)return/^[^:/?#]+?:\/\//.test(a)?L.URI.parse(a):L.URI.file((0,v.normalize)(a))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const a=this.args["disable-extension"];if(a){if(typeof a=="string")return[a];if(Array.isArray(a)&&a.length>0)return a}return!1}get debugExtensionHost(){return A(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!h.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,S.joinPath)(L.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return L.URI.file((0,v.join)(this.logsPath,"telemetry.log"))}get disableTelemetry(){return!!this.args["disable-telemetry"]}get args(){return this._args}}Ne([I.memoize],t.prototype,"appRoot",null),Ne([I.memoize],t.prototype,"userHome",null),Ne([I.memoize],t.prototype,"userDataPath",null),Ne([I.memoize],t.prototype,"appSettingsHome",null),Ne([I.memoize],t.prototype,"tmpDir",null),Ne([I.memoize],t.prototype,"userRoamingDataHome",null),Ne([I.memoize],t.prototype,"settingsResource",null),Ne([I.memoize],t.prototype,"userDataSyncHome",null),Ne([I.memoize],t.prototype,"userDataSyncLogResource",null),Ne([I.memoize],t.prototype,"sync",null),Ne([I.memoize],t.prototype,"machineSettingsResource",null),Ne([I.memoize],t.prototype,"globalStorageHome",null),Ne([I.memoize],t.prototype,"workspaceStorageHome",null),Ne([I.memoize],t.prototype,"keybindingsResource",null),Ne([I.memoize],t.prototype,"keyboardLayoutResource",null),Ne([I.memoize],t.prototype,"argvResource",null),Ne([I.memoize],t.prototype,"snippetsHome",null),Ne([I.memoize],t.prototype,"isExtensionDevelopment",null),Ne([I.memoize],t.prototype,"untitledWorkspacesHome",null),Ne([I.memoize],t.prototype,"installSourcePath",null),Ne([I.memoize],t.prototype,"builtinExtensionsPath",null),Ne([I.memoize],t.prototype,"extensionsPath",null),Ne([I.memoize],t.prototype,"extensionDevelopmentLocationURI",null),Ne([I.memoize],t.prototype,"extensionDevelopmentKind",null),Ne([I.memoize],t.prototype,"extensionTestsLocationURI",null),Ne([I.memoize],t.prototype,"debugExtensionHost",null),Ne([I.memoize],t.prototype,"serviceMachineIdResource",null),Ne([I.memoize],t.prototype,"telemetryLogResource",null),e.AbstractNativeEnvironmentService=t;function A(b,a){return w(b["inspect-extensions"],b["inspect-brk-extensions"],5870,a,b.debugId)}e.parseExtensionHostPort=A;function _(b,a){return w(b["inspect-search"],b["inspect-brk-search"],5876,a)}e.parseSearchPort=_;function w(b,a,l,p,m){const f=Number(a||b)||(p?null:l),u=f?Boolean(!!a):!1;return{port:f,break:u,debugId:m}}}),define(de[56],me([0,1,235,140,5]),function(Z,e,v,S,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const y={o:(0,S.localize)(0,null),e:(0,S.localize)(1,null),t:(0,S.localize)(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:(0,S.localize)(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:(0,S.localize)(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:(0,S.localize)(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:(0,S.localize)(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:(0,S.localize)(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:(0,S.localize)(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:(0,S.localize)(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:(0,S.localize)(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:(0,S.localize)(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:(0,S.localize)(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:(0,S.localize)(13,null)},"show-versions":{type:"boolean",cat:"e",description:(0,S.localize)(14,null)},category:{type:"string",cat:"e",description:(0,S.localize)(15,null)},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:(0,S.localize)(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:(0,S.localize)(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:(0,S.localize)(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:(0,S.localize)(19,null)},verbose:{type:"boolean",cat:"t",description:(0,S.localize)(20,null)},log:{type:"string",cat:"t",args:"level",description:(0,S.localize)(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:(0,S.localize)(22,null)},"prof-startup":{type:"boolean",cat:"t",description:(0,S.localize)(23,null)},"prof-append-timers":{type:"string"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:(0,S.localize)(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:(0,S.localize)(25,null)},sync:{type:"string",cat:"t",description:(0,S.localize)(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:(0,S.localize)(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:(0,S.localize)(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:(0,S.localize)(29,null)},"max-memory":{type:"string",cat:"t",description:(0,S.localize)(30,null)},telemetry:{type:"boolean",cat:"t",description:(0,S.localize)(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const P={onUnknownOption:()=>{},onMultipleValues:()=>{}};function L(a,l,p=P){const m={},C=[],f=[];for(let i in l){const s=l[i];s.alias&&(m[i]=s.alias),s.type==="string"||s.type==="string[]"?(C.push(i),s.deprecates&&C.push(s.deprecates)):s.type==="boolean"&&(f.push(i),s.deprecates&&f.push(s.deprecates))}const u=v(a,{string:C,boolean:f,alias:m}),r={},n=u;r._=u._.map(i=>String(i)).filter(i=>i.length>0),delete n._;for(let i in l){const s=l[i];s.alias&&delete n[s.alias];let o=n[i];s.deprecates&&n.hasOwnProperty(s.deprecates)&&(o||(o=n[s.deprecates]),delete n[s.deprecates]),typeof o!="undefined"&&(s.type==="string[]"?o&&!Array.isArray(o)&&(o=[o]):s.type==="string"&&Array.isArray(o)&&(o=o.pop(),p.onMultipleValues(i,o)),r[i]=o),delete n[i]}for(let i in n)p.onUnknownOption(i);return r}e.parseArgs=L;function h(a,l){let p="";return l.args&&(Array.isArray(l.args)?p=` <${l.args.join("> <")}>`:p=` <${l.args}>`),l.alias?`-${l.alias} --${a}${p}`:`--${a}${p}`}function t(a,l){let p=0,m=[];for(const r in a){const n=a[r],i=h(r,n);p=Math.max(p,i.length),m.push([i,n.description])}let C=p+2+1;if(l-C<25)return m.reduce((r,n)=>r.concat([` ${n[0]}`,` ${n[1]}`]),[]);let f=l-C-1,u=[];for(const r of m){let n=r[0],i=_(r[1],f),s=A(C-n.length-2);u.push(" "+n+s+i[0]);for(let o=1;o<i.length;o++)u.push(A(C)+i[o])}return u}e.formatOptions=t;function A(a){return" ".repeat(a)}function _(a,l){let p=[];for(;a.length;){let m=a.length<l?a.length:a.lastIndexOf(" ",l),C=a.slice(0,m).trim();a=a.slice(m),p.push(C)}return p}function w(a,l,p,m,C=!0){const f=process.stdout.isTTY&&process.stdout.columns||80;let u=[`${a} ${p}`];u.push(""),u.push(`${(0,S.localize)(32,null)}: ${l} [${(0,S.localize)(33,null)}][${(0,S.localize)(34,null)}...]`),u.push(""),C&&(I.isWindows?u.push((0,S.localize)(35,null,l)):u.push((0,S.localize)(36,null,l)),u.push(""));const r={};for(const n in m){const i=m[n];if(i.description&&i.cat){let s=r[i.cat];s||(r[i.cat]=s={}),s[n]=i}}for(let n in r){const i=n;let s=r[i];s&&(u.push(y[i]),u.push(...t(s,f)),u.push(""))}return u.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js
[37][风险] 黑客在2021-04-23 02:10:00时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js，反弹shell类："),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],s=n[r],o=e;return"string"==typeof s?o=s:"number"!=typeof s&&"boolean"!=typeof s&&null!=s||(o=String(s)),o}))}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&o(t.key)&&o(t.comment)}}(r||(r={})),t.isDefined=o,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=i,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i(t,n)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},,function(e,t){e.exports=require("events")},function(e,t,n){e.exports=l,l.Minimatch=h;var r={sep:"/"};try{r=n(0)}catch(e){}var s=l.GLOBSTAR=h.GLOBSTAR={},o=n(82),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,r,s){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,s){return t.minimatch(n,r,u(e,s))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var s=0,o=e.length;s<o&&"!"===e.charAt(s);s++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return s;if(""===e)return"";var r,o="",c=!!n.nocase,u=!1,l=[],h=[],p=!1,f=-1,g=-1,m="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function v(){if(r){switch(r){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+r}_.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,y=0,E=e.length;y<E&&(b=e.charAt(y));y++)if(this.debug("%s\t%s %s %j",e,y,o,b),u&&a[b])o+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":v(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,y,o,b),p){this.debug(" in class"),"!"===b&&y===g+1&&(b="^"),o+=b;continue}_.debug("call clearStateChar %j",r),v(),r=b,n.noext&&v();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:y-1,reStart:o.length,open:i[r].open,close:i[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!l.length){o+="\\)";continue}v(),c=!0;var S=l.pop();o+=S.close,"!"===S.type&&h.push(S),S.reEnd=o.length;continue;case"|":if(p||!l.length||u){o+="\\|",u=!1;continue}v(),o+="|";continue;case"[":if(v(),p){o+="\\"+b;continue}p=!0,g=y,f=o.length,o+=b;continue;case"]":if(y===g+1||!p){o+="\\"+b,u=!1;continue}if(p){var R=e.substring(g+1,y);try{RegExp("["+R+"]")}catch(e){var C=this.parse(R,d);o=o.substr(0,f)+"\\["+C[0]+"\\]",c=c||C[1],p=!1;continue}}c=!0,p=!1,o+=b;continue;default:v(),u?u=!1:!a[b]||"^"===b&&p||(o+="\\"),o+=b}p&&(R=e.substr(g+1),C=this.parse(R,d),o=o.substr(0,f)+"\\["+C[0],c=c||C[1]);for(S=l.pop();S;S=l.pop()){var w=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n %s",w,w,S,o);var O="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+O+"\\("+w}v(),u&&(o+="\\\\");var x=!1;switch(o.charAt(0)){case".":case"[":case"(":x=!0}for(var k=h.length-1;k>-1;k--){var P=h[k],A=o.slice(0,P.reStart),T=o.slice(P.reStart,P.reEnd-8),L=o.slice(P.reEnd-8,P.reEnd),F=o.slice(P.reEnd);L+=F;var M=A.split("(").length-1,I=F;for(y=0;y<M;y++)I=I.replace(/\)[+*?]?/,"");var N="";""===(F=I)&&t!==d&&(N="$"),o=A+T+F+N+L}""!==o&&c&&(o="(?=.)"+o);x&&(o=m+o);if(t===d)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var j=n.nocase?"i":"";try{var D=new RegExp("^"+o+"$",j)}catch(e){return new RegExp("$.")}return D._glob=e,D._src=o,D};var d={};l.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===s?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var s,o,i=this.set;for(this.debug(this.pattern,"set",i),o=e.length-1;o>=0&&!(s=e[o]);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;if(n.matchBase&&1===a.length&&(u=[s]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,c=t.length;o<a&&i<c;o++,i++){this.debug("matchOne loop");var u,l=t[i],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=o,d=i+1;if(d===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&i===c)return!0;if(o===a)return n;if(i===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i="win32"===process.platform,a="x64"===process.arch;function c(){if(!i)return!1;const e=process.env.SystemRoot||"C:\\WINDOWS",t=r.join(e,"Sysnative","bash.exe"),n=r.join(e,"System32","bash.exe"),o=a?n:t;return s.existsSync(o)}function u(e){if(i&&e)return r.isAbsolute(e)?`/mnt/${e.substr(0,1).toLowerCase()}/${e.substr(3).replace(/\\/g,"/")}`:e.replace(/\\/g,"/")}function l(e,t,n,s,o,i){if(e&&c()){const e=process.env.SystemRoot||"C:\\WINDOWS",c=r.join(e,"Sysnative","bash.exe"),l=r.join(e,"System32","bash.exe"),h=a?l:c,p=t?l:h;let d=[s].concat(o||[]).map(e=>(e===i&&(e=e.replace(/\\/g,"/")),e.indexOf(" ")>0?`'${e}'`:e)).join(" ");return{cwd:n,executable:p,args:["-c",d],combined:[p].concat(["-c",d]),localRoot:n,remoteRoot:u(n)}}return{cwd:n,executable:s,args:o||[],combined:[s].concat(o||[])}}t.subsystemLinuxPresent=c,t.createLaunchArg=l,t.spawnSync=function(e,t,n,r){const s=l(e,!1,void 0,t,n);return o.spawnSync(s.executable,s.args,e?void 0:r)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(46),s=n(17),o=n(47),i=n(5);t.Source=class{constructor(e,t,n=0,r,s){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),s&&(this.adapterData=s)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,s=0){this.id=e,this.source=n,this.line=r,this.column=s,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,s){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof s&&(this.namedVariables=s),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const s=this;"number"==typeof t&&(s.line=t),"number"==typeof n&&(s.column=n),r&&(s.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends s.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends s.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends s.Event{constructor(){super("initialized")}}t.InitializedEvent=u;class l extends s.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=l;class h extends s.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=h;class p extends s.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class d extends s.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class f extends s.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=f;class g extends s.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class m extends s.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=m;class _ extends s.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=_;class v extends s.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class b extends s.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=b;class y extends s.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}var E;t.InvalidatedEvent=y,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(E=t.ErrorDestination||(t.ErrorDestination={}));class S extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){o.runDebugAdapter(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,s=E.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),s&E.User&&(o.showUser=!0),s&E.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=S.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new s.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new i.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new i.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(S._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=S,S._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(49),s=n(16);var o;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(o=t.LogLevel||(t.LogLevel={}));class i{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=i,t.logger=new i;class a extends s.OutputEvent{constructor(e,t){super(e,t===o.Error?"stderr":t===o.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),s=n(1),o=n(3),i=n(37),a=n(13);function c(e){const t=/^([A-Z])(\:[\\\/].*)$/;return t.test(e)&&(e=e.replace(t,(e,t,n)=>t.toLowerCase()+n)),e}function u(e){return e=e.replace(/\\/g,"/"),/^[a-zA-Z]\:\//.test(e)&&(e="/"+e),e=(e=r.normalize(e)).replace(/\\/g,"/")}function l(e,t){if(t)for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.makePathAbsolute=function(e,t){return r.resolve(r.dirname(e),t)},t.makeRelative=function(e,t){const n=e.split(r.sep),s=t.split(r.sep);let o=0;for(;o<Math.min(n.length,s.length)&&n[o]===s[o];o++);let i="";for(;o<s.length;o++)i=r.join(i,s[o]);return i},t.normalizeDriveLetter=c,t.pathNormalize=function(e){return e=e.replace(/\\/g,"/"),"win32"!==process.platform&&"darwin"!==process.platform||(e=e.toLowerCase()),e},t.pathToNative=function(e){return"win32"===process.platform&&(e=e.replace(/\//g,"\\")),e},t.pathCompare=function(e,t){return c(e)===c(t)},t.realPath=function e(t){let n=r.dirname(t);if(t===n)return/^[A-Z]\:\\$/.test(t)&&(t=t.toLowerCase()),t;let o=r.basename(t).toLowerCase();try{let t=s.readdirSync(n).filter(e=>e.toLowerCase()===o);if(1===t.length){let s=e(n);if(s)return r.join(s,t[0])}else if(t.length>1){const s=t.indexOf(o);if(s>=0){let o=e(n);if(o)return r.join(o,t[s])}}}catch(e){}return null},t.mkdirs=function e(t){s.existsSync(t)||(e(r.dirname(t)),s.mkdirSync(t))},t.findOnPath=function(e,t){const n=l(l({},process.env),t);let i;if("win32"===process.platform){const e=n.WINDIR||"C:\\Windows";i=r.join(e,"System32","where.exe")}else i="/usr/bin/which";try{if(s.existsSync(i)){const t=o.execSync(`${i} ${e}`,{env:n}).toString().split(/\r?\n/);if("win32"===process.platform){const e=n.PATHEXT.toUpperCase();for(const n of t){const t=r.extname(n).toUpperCase();if(t&&e.indexOf(t+";")>0)return n}}else if(t.length>0)return t[0];return}return e}catch(e){}},t.findExecutable=function(e,t){const n=l(l({},process.env),t);if("win32"===process.platform&&!r.extname(e)){const t=n.PATHEXT;if(t){const n=t.split(";");for(const t of n){const n=e+t;if(s.existsSync(n))return n}}}if(s.existsSync(e))return e},t.isAbsolutePath=function(e){if(e){if("/"===e.charAt(0))return!0;if(/^[a-zA-Z]\:[\\\/]/.test(e))return!0}return!1},t.normalize=u,t.toWindows=function(e){return/^\/[a-zA-Z]\:\//.test(e)&&(e=e.substr(1)),e=e.replace(/\//g,"\\")},t.join=function(e,t){return e=u(e),t=u(t),"/"===e.charAt(e.length-1)?e+=t:e=e+"/"+t,e=(e=r.normalize(e)).replace(/\\/g,"/")},t.makeRelative2=function(e,t){e=u(e),t=u(t);const n=e.substr(1).split("/"),r=t.substr(1).split("/");for(;n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();let s=n.length-r.length;for(0===s&&(s=r.length-1);s>0;)r.unshift(".."),s--;return r.join("/")},t.multiGlob=function(e,t){const n=new Array;t=l({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t);const s=e=>"!"===e[0];try{e.forEach((r,o)=>{if(s(r))return;const i=e.slice(o).filter(s).map(e=>e.slice(1));n.push({pattern:r,opts:l(l({},t),{ignore:t.ignore.concat(i)})})})}catch(e){return Promise.reject(e)}return Promise.all(n.map(e=>new Promise((t,n)=>{i(e.pattern,e.opts,(e,r)=>{e?n(e):t(r)})}))).then(e=>{const t=new Set;for(let n of e)for(let e of n)t.add(e);let n=new Array;return t.forEach(e=>n.push(r.posix.normalize(e))),n})},t.multiGlobMatches=function(e,t){let n=!1;for(const r of e){if(n!==("!"===r[0]))break;n=a(t,r)}return n},t.extendObject=l,t.stripBOM=function(e){return e&&"\ufeff"===e[0]&&(e=e.substr(1)),e}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function s(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?s:r,e.exports.posix=r,e.exports.win32=s},,,,,function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";n(58);const r=n(4).inherits,s=n(59),o=n(12).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,o),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let o;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const a=this.timeout,c=this.freeSocket;function u(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=o&&(clearTimeout(o),o=null),u(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=s(this.callback,this),this._promisifiedCallback=!0),a>0&&(o=setTimeout((function(){o=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+a+"ms");e.code="ETIMEOUT",u(e)}),a));try{Promise.resolve(this.callback(e,r)).then((function(t){var n;if(!i)if(null!=o&&(clearTimeout(o),o=null),(n=t)&&"function"==typeof n.addRequest)t.addRequest(e,r);else if(t){t.on("free",(function(){c(t,r)})),e.onSocket(t)}else{u(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`"))}}),l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,s=+new Date,o=s-(n||s);e.diff=o,e.prev=n,e.curr=s,n=s;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var s=t.formatters[r];if("function"==typeof s){var o=i[c];n=s.call(e,o),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=s,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(64),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";const r=n(27),s=n(19),o=n(66),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in i)||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o=i,a=Number(new Date),c=a-(n||a);o.diff=c,o.prev=n,o.curr=a,n=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;u++;var s=r.formatters[n];if("function"==typeof s){var i=t[u];e=s.call(o,i),t.splice(u,1),u--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=s,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function s(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(t=0;t<s;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var o=r.instances[t];o.enabled=r.enabled(o.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(70),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(35),s=n(8),o=n(36).ArraySet,i=n(76).MappingList;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=s.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=s.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),r=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=s.relative(i,r));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=i&&(t.source=s.relative(i,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=s.join(n,t)),null!=i&&(t=s.relative(i,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,i=0,a=1,c=0,u=0,l=0,h=0,p="",d=this._mappings.toArray(),f=0,g=d.length;f<g;f++){if(e="",(t=d[f]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(75);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=r.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,i,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),u+=(o&=31)<<l,l+=5}while(s);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var r=n(8),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function i(){this._array=[],this._set=o?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,s=e.length;r<s;r++)n.add(e[r],t);return n},i.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=o?e:r.toSetString(e),i=o?this.has(e):s.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(o?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return s.call(this._set,t)},i.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i},function(e,t,n){e.exports=b;var r=n(1),s=n(38),o=n(13),i=(o.Minimatch,n(85)),a=n(12).EventEmitter,c=n(0),u=n(20),l=n(22),h=n(87),p=n(39),d=(p.alphasort,p.alphasorti,p.setopts),f=p.ownProp,g=n(88),m=(n(4),p.childrenIgnored),_=p.isIgnored,v=n(41);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new E(e,t,n)}b.sync=h;var y=b.GlobSync=h.GlobSync;function E(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new y(e,t)}if(!(this instanceof E))return new E(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return i();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,i);function i(){--s._processing,s._processing<=0&&s._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new E(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var s=0;s<r[0].length;s++)if("string"!=typeof r[0][s])return!0;return!1},b.Glob=E,i(E,a),E.prototype._finish=function(){if(u(this instanceof E),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},E.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},E.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,i=r.length;if(0===i)return t();var a=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),s.realpath(n,o.realpathCache,(function(r,s){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[s]=!0,0==--i&&(o.matches[e]=a,t())}))}))},E.prototype._mark=function(e){return p.mark(this,e)},E.prototype._makeAbs=function(e){return p.makeAbs(this,e)},E.prototype.abort=function(){this.aborted=!0,this.emit("abort")},E.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},E.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},E.prototype._process=function(e,t,n,r){if(u(this instanceof E),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var s,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:s=null;break;default:s=e.slice(0,i).join("/")}var a,c=e.slice(i);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(s,a,h,c,t,n,r):this._processReaddir(s,a,h,c,t,n,r)}},E.prototype._processReaddir=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,s,o,u,i)}))},E.prototype._processReaddir2=function(e,t,n,r,s,o,i,a){if(!i)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,p=this.dot||"."===h.charAt(0),d=[],f=0;f<i.length;f++){if("."!==(m=i[f]).charAt(0)||p)(l&&!e?!m.match(u):m.match(u))&&d.push(m)}var g=d.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(f=0;f<g;f++){var m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(f=0;f<g;f++){m=d[f];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),s,o,a)}a()},E.prototype._emitMatch=function(e,t){if(!this.aborted&&!_(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var s=this.statCache[n];s&&this.emit("stat",t,s),this.emit("match",t)}}},E.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,s=g("lstat\0"+e,(function(r,s){if(r&&"ENOENT"===r.code)return t();var o=s&&s.isSymbolicLink();n.symlinks[e]=o,o||!s||s.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));s&&r.lstat(e,s)}},E.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,n);if(f(this.cache,e)){var s=this.cache[e];if(!s||"FILE"===s)return n();if(Array.isArray(s))return n(null,s)}r.readdir(e,function(e,t,n){return function(r,s){r?e._readdirError(t,r,n):e._readdirEntries(t,s,n)}}(this,e,n))}},E.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];s="/"===e?e+s:e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,n(null,t)}},E.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},E.prototype._processGlobStar=function(e,t,n,r,s,o,i){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,s,o,u,i)}))},E.prototype._processGlobStar2=function(e,t,n,r,s,o,i,a){if(!i)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,s,!1,a);var h=this.symlinks[n],p=i.length;if(h&&o)return a();for(var d=0;d<p;d++){if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,s,!0,a);var g=u.concat(i[d],r);this._process(g,s,!0,a)}}a()},E.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(s,o){r._processSimple2(e,t,s,o,n)}))},E.prototype._processSimple2=function(e,t,n,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()},E.prototype._stat=function(e,t){var n=this._makeAbs(e),s="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return t(null,o);if(s&&"FILE"===o)return t()}var i=this.statCache[n];if(void 0!==i){if(!1===i)return t(null,i);var a=i.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?t():t(null,a,i)}var c=this,u=g("stat\0"+n,(function(s,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,s){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,s,t)}));c._stat2(e,n,s,o,t)}));u&&r.lstat(n,u)},E.prototype._stat2=function(e,t,n,r,s){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,s();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return s(null,!1,r);var i=!0;return r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,o&&"FILE"===i?s():s(null,i,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=s,r.realpathSync=o};var r=n(1),s=r.realpath,o=r.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=n(81);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return s(e,t,n);"function"==typeof t&&(n=t,t=null),s(e,t,(function(r,s){u(r)?c.realpath(e,t,n):n(r,s)}))}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=s.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=i(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,s=e.matches.length;r<s;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var i=Object.keys(o);t?n.push.apply(n,i):i.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!p(e,t)})));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],s=t;if(r){var o="DIR"===r||Array.isArray(r),i="/"===t.slice(-1);if(o&&!i?s+="/":!o&&i&&(s=s.slice(0,-1)),s!==t){var a=h(e,s);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return s},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var s=n(0),o=n(13),i=n(22),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?s.join(e.root,t):i(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach((function(e){r[e]=s[e]})),r}}},function(e,t,n){var r=n(40);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(o),s.proto=s((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(45),o=n(52),i=n(53),a=n(21),c=n(14),u=n(3),l=n(7),h=n(5),p=n(0),d=n(1),f=n(2);let g=f.loadMessageBundle(n(0).join(__dirname,"node/nodeDebug.ts"));class m{constructor(e){this._expanderFunction=e}Expand(e,t,n,r){return this._expanderFunction(n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.Expander=m,m.SET_VALUE_ERROR=g(0,null);class _{constructor(e,t,n){this._evalName=e,this._object=t,this._this=n}Expand(e,t,n,r){return"named"===t?e._createProperties(this._evalName,this._object,"named").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t):"number"==typeof n&&"number"==typeof r?e._createProperties(this._evalName,this._object,"indexed",n,r):e._createProperties(this._evalName,this._object,"all").then(t=>this._this?e._createVariable(this._evalName,"this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setPropertyValue(this._object.handle,t,n)}}t.PropertyContainer=_;class v{constructor(e,t){this._evalName=e,this._object=t}Expand(e,t,n,r){return"named"===t?e._createSetMapProperties(this._evalName,this._object):"set"===this._object.type?e._createSetElements(this._object,n,r):e._createMapElements(this._object,n,r)}SetValue(e,t,n){return Promise.reject(new Error(m.SET_VALUE_ERROR))}}t.SetMapContainer=v;class b{constructor(e,t,n){this._frame=e.frameIndex,this._scope=e.index,this._object=t,this._this=n}Expand(e,t,n,r){return e._createProperties("",this._object,t).then(t=>this._this?e._createVariable("","this",this._this).then(e=>(e&&t.push(e),t)):t)}SetValue(e,t,n){return e._setVariableValue(this._frame,this._scope,t,n)}}t.ScopeContainer=b;class y{constructor(e){this.contents=e.source}}class E{constructor(e,t=0,n,r,s){this.line=this.orgLine=e,this.column=this.orgColumn=t,r?(this.condition=function(e){e=e.replace(/%/g,"%%");let t=[],n=e.replace(O,(e,n)=>{const r=n.trim();return r?(t.push(`(${r})`),"%s"):""});if(n=n.replace(/'/g,"\\'"),t.length>0)return`console.log('${n}', ${t.join(", ")})`;return`console.log('${n}')`}(r),n&&(this.condition=`(${n}) && ${this.condition}`)):n&&(this.condition=n),this.hitCount=0,this.hitter=s}}class S{constructor(e,t){this.scriptId=e,this.source=t}}class R extends s.LoggingDebugSession{constructor(){super("node-debug.txt"),this._traceAll=!1,this._tryToInjectExtension=!0,this._skipRejects=!1,this._maxVariablesPerScope=100,this._smartStep=!1,this._mapToFilesOnDisk=!0,this._compareContents=!0,this._supportsRunInTerminalRequest=!1,this._processId=-1,this._nodeProcessId=-1,this._isWSL=!1,this._functionBreakpoints=new Array,this._scripts=new Map,this._files=new Map,this._scriptId2Handle=new Map,this._inlinedContentHandle=new Map,this._modifiedSources=new Set,this._hitCounts=new Map,this._noDebug=!1,this._attachMode=!1,this._restartMode=!1,this._console="internalConsole",this._stepBack=!1,this._variableHandles=new s.Handles,this._frameHandles=new s.Handles,this._sourceHandles=new s.Handles,this._refCache=new Map,this._pollForNodeProcess=!1,this._nodeInjectionAvailable=!1,this._gotDebuggerEvent=!1,this._smartStepCount=0,this._catchRejects=!1,this._disableSkipFiles=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._node=new o.NodeV8Protocol(e=>{if(e.success&&e.refs){const t=this._refCache.size;for(let t of e.refs)this._cache(t.handle,t);this._refCache.size!==t&&this.log("rc","NodeV8Protocol hook: ref cache size: "+this._refCache.size)}}),this._node.on("break",e=>{this._stopped("break"),this._handleNodeBreakEvent(e.body)}),this._node.on("exception",e=>{this._stopped("exception"),this._handleNodeExceptionEvent(e.body)}),this._node.on("afterCompile",e=>{this._scriptToSource(e.body.script).then(e=>{this.sendEvent(new s.LoadedSourceEvent("new",e))})}),this._node.on("close",e=>{this._terminated("node v8protocol close")}),this._node.on("error",e=>{this._terminated("node v8protocol error")})}_handleNodeExceptionEvent(e){if(this._skip(e))return void this._node.command("continue");let t;if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("reject(")){if(this._skipRejects&&!this._catchRejects)return void this._node.command("continue");t=g(1,null),e.exception.text?e.exception.text=g(2,null,e.exception.text):e.exception.text=g(3,null)}}this._exception=e,this._sendStoppedEvent("exception",t,e.exception.text)}_handleNodeBreakEvent(e){const t=e.breakpoints;if(Array.isArray(t)&&t.length>0){this._disableSkipFiles=this._skip(e);const n=t[0];return this._gotEntryEvent||1!==n?void this._sendBreakpointStoppedEvent(n):(this.log("la","_handleNodeBreakEvent: suppressed stop-on-entry event"),void this._rememberEntryLocation(e.script.name,e.sourceLine,e.sourceColumn))}if(e.sourceLineText&&"number"==typeof e.sourceColumn){if(0===e.sourceLineText.substr(e.sourceColumn).indexOf("debugger"))return this._gotDebuggerEvent=!0,void this._sendStoppedEvent("debugger_statement")}let n="step";this._restartFramePending&&(this._restartFramePending=!1,n="frame_entry"),this._disableSkipFiles||!(this._smartStep&&this._sourceMaps||this._skipFiles)?this._sendStoppedEvent(n):this._skipGenerated(e).then(e=>{e?(this._node.command("continue",{stepaction:"in"}),this._smartStepCount++):this._sendStoppedEvent(n)})}_sendBreakpointStoppedEvent(e){let t=this._hitCounts.get(e);t&&(t.hitCount++,t.hitter&&!t.hitter(t.hitCount))?this._node.command("continue"):this._sendStoppedEvent("breakpoint")}_sendStoppedEvent(e,t,n){this._smartStepCount>0&&(this.log("ss",`_handleNodeBreakEvent: ${this._smartStepCount} steps skipped`),this._smartStepCount=0);const r=new s.StoppedEvent(e,R.DUMMY_THREAD_ID,n);if(!t)switch(e){case"step":t=g(4,null);break;case"breakpoint":t=g(5,null);break;case"exception":t=g(6,null);break;case"pause":t=g(7,null);break;case"entry":t=g(8,null);break;case"debugger_statement":t=g(9,null);break;case"frame_entry":t=g(10,null)}r.body.description=t,this.sendEvent(r)}isSkipped(e){return!!this._skipFiles&&a.multiGlobMatches(this._skipFiles,e)}_skip(e){if(this._skipFiles){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);return a.multiGlobMatches(this._skipFiles,n)}return!1}_skipGenerated(e){let t=this._scriptToPath(e.script),n=this._remoteToLocal(t);if(this._skipFiles)return a.multiGlobMatches(this._skipFiles,n)?Promise.resolve(!0):Promise.resolve(!1);if(this._smartStep){let t=e.sourceLine,r=this._adjustColumn(t,e.sourceColumn);return this._sourceMaps.CannotMapLine(n,null,t,r).then(e=>e)}return Promise.resolve(!1)}toggleSkippingResource(e,t){t=decodeURI(h.parse(t).pathname),this.isSkipped(t)?(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push("!"+t)):(this._skipFiles||(this._skipFiles=new Array),this._skipFiles.push(t)),this.sendResponse(e)}_scriptToPath(e){let t=e.name;if(t){if(a.isAbsolutePath(t))return t}else t="VM"+e.id;return`${R.NODE_INTERNALS}/${t}`}_scriptToSource(e){let t=e.name;t?a.isAbsolutePath(t)||(t=`${R.NODE_INTERNALS}/${t}`):t=`${R.NODE_INTERNALS}/VM${e.id}`;const n=new s.Source(p.basename(t),t,this._getScriptIdHandle(e.id));return this._sourceMaps?this._sourceMaps.AllSources(t).then(e=>(e&&e.length>0&&(n.sources=e.map(e=>new s.Source(p.basename(e),e))),n)):Promise.resolve(n)}_pathToScript(e){const t=R.NODE_INTERNALS_VM.exec(e);return t&&t.length>=2?+t[1]:e.replace(R.NODE_INTERNALS_PREFIX,"")}_stopped(e){this._stoppedReason=e,this.log("la",`_stopped: got ${e} event from node`),this._exception=void 0,this._variableHandles.reset(),this._frameHandles.reset(),this._refCache=new Map,this.log("rc","_stopped: new ref cache")}_terminated(e){this.log("la","_terminated: "+e),this._isTerminated||(this._isTerminated=!0,this._restartMode&&this._attachSuccessful&&!this._inShutdown?this.sendEvent(new s.TerminatedEvent({port:this._port})):this.sendEvent(new s.TerminatedEvent))}initializeRequest(e,t){this.log("la","initializeRequest: adapterID: "+t.adapterID),t.locale&&(g=f.config({locale:t.locale})(n(0).join(__dirname,"node/nodeDebug.ts"))),"boolean"==typeof t.supportsRunInTerminalRequest&&(this._supportsRunInTerminalRequest=t.supportsRunInTerminalRequest),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!1,e.body.exceptionBreakpointFilters=[{label:g(11,null),filter:"all",default:!1},{label:g(12,null),filter:"uncaught",default:!0}],this._skipRejects&&e.body.exceptionBreakpointFilters.push({label:g(13,null),filter:"rejects",default:!1}),e.body.supportsSetVariable=!0,e.body.supportsRestartFrame=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsExceptionInfoRequest=!0,e.body.supportsDelayedStackTraceLoading=!0,e.body.supportsLogPoints=!0,e.body.supportsTerminateRequest="win32"!==process.platform,e.body.supportsLoadedSourcesRequest=!0,this.sendResponse(e)}launchRequest(e,t){if(this._processCommonArgs(e,t))return;if(t.__restart&&"number"==typeof t.__restart.port)return void this._attach(e,t,t.__restart.port,void 0,t.timeout);if(this._noDebug="boolean"==typeof t.noDebug&&t.noDebug,"string"==typeof t.console)switch(t.console){case"internalConsole":case"integratedTerminal":case"externalTerminal":this._console=t.console;break;default:return void this.sendErrorResponse(e,2028,g(14,null,t.console))}else"boolean"==typeof t.externalConsole&&t.externalConsole&&(this._console="externalTerminal");if(t.useWSL){if(!c.subsystemLinuxPresent())return void this.sendErrorResponse(e,2007,g(15,null));this._isWSL=!0}let n=t.runtimeExecutable;if(t.useWSL)n=n||R.NODE;else if(n)if(p.isAbsolute(n)){const r=a.findExecutable(n,t.env);if(!r)return void this.sendNotExistErrorResponse(e,"runtimeExecutable",n);n=r}else{const r=a.findOnPath(n,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(16,null,"{_runtime}"),{_runtime:n});n=r}else{const r=a.findOnPath(R.NODE,t.env);if(!r)return void this.sendErrorResponse(e,2001,g(17,null,"{_runtime}"),{_runtime:R.NODE});n=r}let r=t.runtimeArgs||[];const s=t.args||[];let o=t.program;if(o){if(!p.isAbsolute(o))return void this.sendRelativePathErrorResponse(e,"program",o);if(!d.existsSync(o)){if(!d.existsSync(o+".js"))return void this.sendNotExistErrorResponse(e,"program",o);o+=".js"}o=p.normalize(o),a.normalizeDriveLetter(o)!==a.realPath(o)&&this.outLine(g(18,null))}if(t.runtimeArgs||this._noDebug||(r=["--nolazy"]),o){if(!R.isJavaScript(o))return this._sourceMaps?void this._sourceMaps.MapPathFromSource(o).then(i=>{i?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i,this.launchRequest2(e,t,o,s,n,r)):t.outFiles||t.outDir?this.sendErrorResponse(e,2009,g(20,null,"{path}"),{path:o}):this.sendErrorResponse(e,2003,g(21,null,"{path}","outFiles"),{path:o})}):void this.sendErrorResponse(e,2002,g(19,null,"{path}"),{path:o});if(this._sourceMaps)return void this._sourceMaps.MapPathFromSource(o).then(i=>{i&&i!==o?(this.log("sm",`launchRequest: program '${o}' seems to be the source; launch the generated file '${i}' instead`),o=i):this.log("sm",`launchRequest: program '${o}' seems to be the generated file`),this.launchRequest2(e,t,o,s,n,r)})}this.launchRequest2(e,t,o,s,n,r)}launchRequest2(e,t,n,o,i,h){return r(this,void 0,void 0,(function*(){let r,f=t.cwd;if(f){if(!p.isAbsolute(f))return void this.sendRelativePathErrorResponse(e,"cwd",f);if(!d.existsSync(f))return void this.sendNotExistErrorResponse(e,"cwd",f);n&&(r=p.relative(f,n))}else n&&(f=p.dirname(n),r=p.basename(n));let m=t.port,_=[i].concat(h);this._noDebug||(t.port?t.runtimeExecutable||t.runtimeArgs||_.push("--debug-brk="+m):(m=yield new Promise((e,t)=>{let n=0;const r=l.createServer();r.on("listening",e=>{const t=r.address();"object"==typeof t&&null!==t&&(n=t.port),r.close()}),r.on("close",()=>e(n)),r.on("error",e=>t(e)),r.listen(0,"127.0.0.1")}),_.push("--debug-brk="+m))),r&&_.push(r),_=_.concat(o);const v=t.address,b=t.timeout;let y=t.env;if(t.envFile)try{const e=a.stripBOM(d.readFileSync(t.envFile,"utf8")),n={};e.split("\n").forEach(e=>{const t=e.match(/^\s*([\w\.\-]+)\s*=\s*(.*)?\s*$/);if(null!==t){const e=t[1];if(!process.env[e]){let r=t[2]||"";r.length>0&&'"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.replace(/\\n/gm,"\n")),n[e]=r.replace(/(^['"]|['"]$)/g,"")}}}),y=a.extendObject(n,t.env)}catch(t){return void this.sendErrorResponse(e,2029,g(22,null,"{_error}"),{_error:t.message})}const E=c.createLaunchArg(t.useWSL,this._supportsRunInTerminalRequest&&"externalTerminal"===this._console,f,_[0],_.slice(1),r);if(!t.useWSL||t.localRoot||t.remoteRoot||(this._localRoot=E.localRoot,this._remoteRoot=E.remoteRoot),!this._supportsRunInTerminalRequest||"externalTerminal"!==this._console&&"integratedTerminal"!==this._console){if(this._sendLaunchCommandToConsole(_),y=a.extendObject(a.extendObject({},process.env),y),y){const e=y;Object.keys(e).filter(t=>null===e[t]).forEach(t=>delete e[t])}const n={cwd:f,env:y};if("win32"===process.platform&&E.executable.indexOf(" ")>0){let e=!1;const t=[];for(const n of E.args)n.indexOf(" ")>0?(t.push(`"${n}"`),e=!0):t.push(n);e&&(E.args=t,E.executable=`"${E.executable}"`,n.shell=!0)}const r=u.spawn(E.executable,E.args,n);r.on("error",t=>{this.sendErrorResponse(e,2017,g(25,null,"{_error}"),{_error:t.message},s.ErrorDestination.Telemetry|s.ErrorDestination.User),this._terminated(`failed to launch target (${t})`)}),r.on("exit",()=>{this._terminated("target exited")}),r.on("close",e=>{this._terminated("target closed")}),this._processId=r.pid,this._captureOutput(r),this._noDebug?this.sendResponse(e):this._attach(e,t,m,v,b)}else{const n={kind:"integratedTerminal"===this._console?"integrated":"external",title:g(23,null),cwd:E.cwd,args:E.combined,env:y};this.runInTerminalRequest(n,R.RUNINTERMINAL_TIMEOUT,n=>{n.success?(this._pollForNodeProcess=!t.runtimeExecutable&&!t.useWSL,this._noDebug?(this.sendResponse(e),this._terminated("cannot track process")):this._attach(e,t,m,v,b)):(this.sendErrorResponse(e,2011,g(24,null,"{_error}"),{_error:n.message}),this._terminated("terminal error: "+n.message))})}}))}_sendLaunchCommandToConsole(e){let t="";for(let n of e)n.indexOf(" ")>=0?t+="'"+n+"'":t+=n,t+=" ";this.outLine(t)}_captureOutput(e){e.stdout&&e.stdout.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stdout"))}),e.stderr&&e.stderr.on("data",e=>{this.sendEvent(new s.OutputEvent(e.toString(),"stderr"))})}_processCommonArgs(e,t){let n=!0;if("boolean"==typeof t.trace?(this._trace=t.trace?["all"]:void 0,this._traceAll=t.trace):"string"==typeof t.trace&&(this._trace=t.trace.split(","),this._traceAll=this._trace.indexOf("all")>=0,this._trace.indexOf("dap")>=0&&(s.logger.setup(s.Logger.LogLevel.Verbose,!1),n=!1)),n&&s.logger.setup(s.Logger.LogLevel.Stop,!1),"boolean"==typeof t.stepBack&&(this._stepBack=t.stepBack),"boolean"==typeof t.mapToFilesOnDisk&&(this._mapToFilesOnDisk=t.mapToFilesOnDisk),"boolean"==typeof t.smartStep&&(this._smartStep=t.smartStep),Array.isArray(t.skipFiles)&&(this._skipFiles=t.skipFiles),"boolean"==typeof t.stopOnEntry&&(this._stopOnEntry=t.stopOnEntry),"boolean"==typeof t.restart&&(this._restartMode=t.restart),t.localRoot){const n=t.localRoot;if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"localRoot",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"localRoot",n),!0;this._localRoot=n}if(this._remoteRoot=t.remoteRoot,!this._sourceMaps&&(void 0===t.sourceMaps&&(t.sourceMaps=!0),"boolean"==typeof t.sourceMaps&&t.sourceMaps)){const n=t.outDir;if(n){if(!p.isAbsolute(n))return this.sendRelativePathErrorResponse(e,"outDir",n),!0;if(!d.existsSync(n))return this.sendNotExistErrorResponse(e,"outDir",n),!0}this._sourceMaps=new i.SourceMaps(this,n,t.outFiles)}return!1}attachRequest(e,t){this._processCommonArgs(e,t)||(this._attachMode=!0,this._attach(e,t,t.port,t.address,t.timeout))}_attach(e,t,n,r,o){let i;n||(n=5858),this._port=n,i=r&&"localhost"!==r?r:"127.0.0.1",o||(o=R.ATTACH_TIMEOUT),this.log("la",`_attach: address: ${i} port: ${n}`);let a=!1;const c=new l.Socket;c.connect(n,i),c.on("connect",t=>{this.log("la","_attach: connected"),a=!0,this._node.startDispatch(c,c),this._isRunning().then(t=>{this._pollForNodeProcess&&this._pollForNodeTermination(),setTimeout(()=>{this._injectDebuggerExtensions().then(n=>{if(!this._stepBack){const e=this._node.embeddedHostVersion;!this._node.v8Version&&e>=7e4&&(this._stepBack=!0,this.sendEvent(new s.CapabilitiesEvent({supportsStepBack:!0})))}this.sendResponse(e),this._startInitialize(!t)})},10)}).catch(t=>{this._sendNodeResponse(e,t)})});const u=(new Date).getTime()+o;c.on("error",r=>{if(a)this.sendErrorResponse(e,2010,g(26,null,"{_error}"),{_error:r.message});else if("ECONNREFUSED"===r.code||"ECONNRESET"===r.code){(new Date).getTime()<u?setTimeout(()=>{this.log("la","_attach: retry socket.connect"),c.connect(n,i)},200):"number"==typeof t.port?this.sendErrorResponse(e,2033,g(27,null)):this.sendErrorResponse(e,2034,g(28,null))}else this.sendErrorResponse(e,2010,g(29,null,"{_error}"),{_error:r.message})}),c.on("end",e=>{this._terminated("socket end")})}_isRunning(){return new Promise((e,t)=>{this._isRunningWithRetry(0,e,t)})}_isRunningWithRetry(e,t,n){this._node.command("evaluate",{expression:"process.pid",global:!0},r=>{if(r.success&&void 0!==r.body.value?(this._nodeProcessId=+r.body.value,this.log("la",`__initialize: got process id ${this._nodeProcessId} from node`),this.logNodeVersion()):r.message.indexOf("process is not defined")>=0&&(this.log("la","__initialize: process not defined error; got no pid"),r.success=!0),r.success)t(r.running);else{if(this.log("la","__initialize: retrieving process id from node failed"),e<4)return void setTimeout(()=>{this._isRunningWithRetry(e+1,t,n)},100);n(r)}})}logNodeVersion(){this._node.command("evaluate",{expression:"process.version",global:!0},e=>{if(e.success&&void 0!==e.body.value){const t=e.body.value;this.sendEvent(new s.OutputEvent("nodeVersion","telemetry",{version:t})),this.log("la","_initialize: target node version: "+t)}})}_pollForNodeTermination(){const e=setInterval(()=>{try{this._nodeProcessId>0?process.kill(this._nodeProcessId,0):clearInterval(e)}catch(t){clearInterval(e),this._terminated("node process kill exception")}},R.NODE_TERMINATION_POLL_INTERVAL)}_injectDebuggerExtensions(){if(this._tryToInjectExtension){const e=this._node.embeddedHostVersion;if(this._node.v8Version&&(e>=1200&&e<1e4||e>=40301&&e<5e4||e>=50600))try{const e={expression:d.readFileSync(p.join(__dirname,R.DEBUG_INJECTION),"utf8"),global:!0,disable_break:!0};return this._node.evaluate(e).then(e=>(this.log("la","_injectDebuggerExtensions: code injection successful"),this._nodeInjectionAvailable=!0,!0)).catch(e=>(this.log("la",`_injectDebuggerExtensions: code injection failed with error '${e.message}'`),!0))}catch(e){}}return Promise.resolve(!0)}_startInitialize(e,t=0){0===t&&this.log("la","_startInitialize: stopped: "+e),!this._gotEntryEvent&&t<10?setTimeout(()=>{this._startInitialize(e,t+1)},50):this._gotEntryEvent?(this.log("la",`_startInitialize: got break on entry event after ${t} retries`),this._nodeProcessId<=0?this._node.command("evaluate",{expression:"process.pid",global:!0},t=>{t.success&&void 0!==t.body.value&&(this._nodeProcessId=+t.body.value,this.log("la",`_initialize: got process id ${this._nodeProcessId} from node (2nd try)`),this.logNodeVersion()),this._startInitialize2(e)}):this._startInitialize2(e)):(this.log("la",`_startInitialize: no entry event after ${t} retries; giving up`),this._gotEntryEvent=!0,this._node.command("frame",null,t=>{if(t.success){const e=this._getValueFromCache(t.body.script);this._rememberEntryLocation(e.name,t.body.line,t.body.column)}this._startInitialize2(e)}))}_startInitialize2(e){this.log("la","_startInitialize2: fire initialized event"),this.sendEvent(new s.InitializedEvent),this._attachSuccessful=!0,this._attachMode&&(this.log("la",`_startInitialize2: in attach mode we guess stopOnEntry flag to be '${e}''`),void 0===this._stopOnEntry&&(this._stopOnEntry=e)),this._stopOnEntry?(this.log("la","_startInitialize2: fire stop-on-entry event"),this._sendStoppedEvent("entry")):this._gotDebuggerEvent?this._needDebuggerEvent=!0:(this.log("la","_startInitialize2: remember to do a 'Continue' later"),this._needContinue=!0)}terminateRequest(e,t){!this._isWSL&&this._nodeProcessId>0&&process.kill(this._nodeProcessId,"SIGINT"),this.log("la","terminateRequest: send response"),this.sendResponse(e)}disconnectRequest(e,t){this.shutdown(),this.log("la","disconnectRequest: send response"),this.sendResponse(e)}shutdown(){if(!this._inShutdown){if(this._inShutdown=!0,this._attachMode)this._node.command("disconnect"),this._node.stop();else{this._node.stop(),this.log("la","shutdown: kill debugee and sub-processes");let e=this._processId;if(this._processId=-1,this._isWSL){e>0&&R.killTree(e);const t=this._nodeProcessId;if(t>0){this._nodeProcessId=-1;try{c.spawnSync(!0,"/bin/kill",["-9",t.toString()])}catch(e){}}}else this._nodeProcessId>0&&(e=this._nodeProcessId,this._nodeProcessId=-1),e>0&&R.killTree(e)}super.shutdown()}}setBreakPointsRequest(e,t){this.log("bp",`setBreakPointsRequest: ${JSON.stringify(t.source)} ${JSON.stringify(t.breakpoints)}`);const n=new Array;if(t.breakpoints)for(let e of t.breakpoints){let t;if(e.hitCondition){const n=R.HITCOUNT_MATCHER.exec(e.hitCondition.trim());if(n&&n.length>=3){let e=n[1]||">=";"="===e&&(e="==");const r=n[2];t=Function("hitcnt","%"===e?`return (hitcnt % ${r}) === 0;`:`return hitcnt ${e} ${r};`)}}n.push(new E(this.convertClientLineToDebugger(e.line),"number"==typeof e.column?this.convertClientColumnToDebugger(e.column):0,e.condition,e.logMessage,t))}else if(t.lines)for(let e of t.lines)n.push(new E(this.convertClientLineToDebugger(e)));const r=t.source,o=r.path?this.convertClientPathToDebugger(r.path):void 0;if(o){let e=!1;if(this._modifiedSources.has(o)?e=!0:"boolean"==typeof t.sourceModified&&t.sourceModified&&(e=!0,this._modifiedSources.add(o)),e){const e=g(30,null);for(let t of n)t.verificationMessage=e}}if(r.adapterData){if(r.adapterData.inlinePath)return void this._mapSourceAndUpdateBreakpoints(e,r.adapterData.inlinePath,n);if(r.adapterData.remotePath)return void this._updateBreakpoints(e,r.adapterData.remotePath,-1,n)}if(o&&R.NODE_INTERNALS_PREFIX.test(o))this._findScript(this._pathToScript(o)).then(t=>{t>=0?this._updateBreakpoints(e,null,t,n):this.sendErrorResponse(e,2019,g(31,null,"{_module}"),{_module:o})});else{if("number"==typeof r.sourceReference&&r.sourceReference>0){const t=this._sourceHandles.get(r.sourceReference);if(t&&t.scriptId)return void this._updateBreakpoints(e,null,t.scriptId,n)}o?this._mapSourceAndUpdateBreakpoints(e,o,n):this.sendErrorResponse(e,2012,"No valid source specified.",null,s.ErrorDestination.Telemetry)}}_mapSourceAndUpdateBreakpoints(e,t,n){Promise.resolve("").then(e=>this._sourceMaps?this._sourceMaps.MapPathFromSource(t):e).then(r=>{if(null!==r&&a.pathCompare(r,t)&&(this.log("bp","_mapSourceAndUpdateBreakpoints: source and generated are same -> ignore sourcemap"),r=""),r)Promise.all(n.map(e=>this._sourceMaps.MapFromSource(t,e.line,e.column))).then(s=>{for(let e=0;e<n.length;e++){const o=n[e],i=s[e];i?(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: '${i.path}' ${i.line}:${i.column}`),i.path!==r?o.line=-1:(o.line=i.line,o.column=i.column)):(this.log("sm",`_mapSourceAndUpdateBreakpoints: src: '${t}' ${o.line}:${o.column} -> gen: couldn't be mapped; breakpoint ignored`),o.line=-1)}t=r,t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!0)});else{if(!R.isJavaScript(t))for(let e of n)e.line=-1;t=this._localToRemote(t),this._updateBreakpoints(e,t,-1,n,!1)}})}_updateBreakpoints(e,t,n,r,s=!1){this._node.listBreakpoints().then(e=>{const r=new Array,s=this._pathToRegexp(t);for(let t of e.body.breakpoints)switch(t.type){case"scriptId":n===t.script_id&&r.push(t.number);break;case"scriptRegExp":s===t.script_regexp&&r.push(t.number)}return this._clearBreakpoints(r)}).then(()=>Promise.all(r.map(e=>this._setBreakpoint(n,t,e,s)))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp","_updateBreakpoints: result "+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_clearBreakpoints(e){return Promise.all(e.map(e=>this._node.clearBreakpoint({breakpoint:e}))).then(e=>{}).catch(e=>{})}_setBreakpoint(e,t,n,r){if(n.line<0){const e=new s.Breakpoint(!1);return e.message=g(32,null),Promise.resolve(e)}let o;return 0===n.line&&(n.column+=R.FIRST_LINE_OFFSET),o=e>0?{type:"scriptId",target:e,line:n.line,column:n.column,condition:n.condition}:{type:"scriptRegExp",target:this._pathToRegexp(t),line:n.line,column:n.column,condition:n.condition},this._node.setBreakpoint(o).then(e=>{this.log("bp","_setBreakpoint: "+JSON.stringify(o)),n.hitter&&this._hitCounts.set(e.body.breakpoint,n);let s=o.line,i=o.column;const a=e.body.actual_locations;a.length>0&&(s=a[0].line,i=this._adjustColumn(s,a[0].column));let c=s,u=i;if(t&&r){if(s!==o.line||i!==o.column){const e=this._remoteToLocal(t);return this._sourceMaps.MapToSource(e,null,s,i).then(r=>(r?(this.log("sm",`_setBreakpoint: bp verification gen: '${e}' ${s}:${i} -> src: '${r.path}' ${r.line}:${r.column}`),c=r.line,u=r.column):(c=n.orgLine,u=n.orgColumn),this._setBreakpoint2(n,t,c,u,s,i)))}c=n.orgLine,u=n.orgColumn}return this._setBreakpoint2(n,t,c,u,s,i)}).catch(e=>new s.Breakpoint(!1))}_setBreakpoint2(e,t,n,o,i,c){return r(this,void 0,void 0,(function*(){if(t&&a.pathCompare(this._entryPath,t)&&this._entryLine===i&&this._entryColumn===c){let t=!0;e.condition&&(t=yield this.evaluateCondition(e.condition)),!this._stopOnEntry&&t&&(this._needContinue=!1,this._needBreakpointEvent=!0,this.log("la","_setBreakpoint2: remember to fire a breakpoint event later"))}if(e.verificationMessage){const t=new s.Breakpoint(!1,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o));return t.message=e.verificationMessage,t}return new s.Breakpoint(!0,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(o))}))}evaluateCondition(e){const t={expression:e,frame:0,disable_break:!0};return this._node.evaluate(t).then(e=>!!e.body.value).catch(e=>!1)}_pathToRegexp(e){if(!e)return e;let t=e.replace(/([/\\.?*()^${}|[\]])/g,"\\$1");if(/^[a-zA-Z]:\\/.test(e)){const e=t.substring(0,1).toUpperCase();t="["+e.toLowerCase()+e+"]"+t.substring(1)}return"^(.*[\\/\\\\])?"+t+"$"}setFunctionBreakPointsRequest(e,t){this._clearBreakpoints(this._functionBreakpoints).then(()=>(this._functionBreakpoints.length=0,Promise.all(t.breakpoints.map(e=>this._setFunctionBreakpoint(e))))).then(t=>{e.body={breakpoints:t},this.sendResponse(e),this.log("bp","setFunctionBreakPointsRequest: result "+JSON.stringify(t))}).catch(t=>{this._sendNodeResponse(e,t)})}_setFunctionBreakpoint(e){let t={type:"function",target:e.name};return e.condition&&(t.condition=e.condition),this._node.setBreakpoint(t).then(e=>{this._functionBreakpoints.push(e.body.breakpoint);const t=e.body.actual_locations;if(t&&t.length>0){const e=this.convertDebuggerLineToClient(t[0].line),n=this.convertDebuggerColumnToClient(this._adjustColumn(e,t[0].column));return new s.Breakpoint(!0,e,n)}return new s.Breakpoint(!0)}).catch(e=>({verified:!1,message:e.message}))}setExceptionBreakPointsRequest(e,t){this.log("bp","setExceptionBreakPointsRequest: "+JSON.stringify(t.filters));let n=!1,r=!1;this._catchRejects=!1;const o=t.filters;o&&(n=o.indexOf("all")>=0,r=o.indexOf("uncaught")>=0,this._catchRejects=o.indexOf("rejects")>=0),Promise.all([this._node.setExceptionBreak({type:"all",enabled:n}),this._node.setExceptionBreak({type:"uncaught",enabled:r})]).then(t=>{this.sendResponse(e)}).catch(t=>{this.sendErrorResponse(e,2024,"Configuring exception break options failed ({_nodeError}).",{_nodeError:t.message},s.ErrorDestination.Telemetry)})}configurationDoneRequest(e,t){let n="nothing to do";this._needContinue&&(this._needContinue=!1,n="do a 'Continue'",this._node.command("continue")),this._needBreakpointEvent&&(this._needBreakpointEvent=!1,n="fire breakpoint event",this._sendBreakpointStoppedEvent(1)),this._needDebuggerEvent&&(this._needDebuggerEvent=!1,n="fire debugger statement event",this._sendStoppedEvent("debugger_statement")),this.log("la","configurationDoneRequest: "+n),this.sendResponse(e)}threadsRequest(e){this._node.command("threads",null,t=>{const n=new Array;if(t.success){const e=t.body.threads;if(e)for(let t of e){const e=t.id;e>=0&&n.push(new s.Thread(e,`Thread (id: ${e})`))}}if(0===n.length){let e=R.DUMMY_THREAD_NAME;this._nodeProcessId>0&&this._node.hostVersion?e=`${e} (${this._nodeProcessId}, ${this._node.hostVersion})`:this._nodeProcessId>0?e=`${e} (${this._nodeProcessId})`:this._node.hostVersion&&(e=`${e} (${this._node.hostVersion})`),n.push(new s.Thread(R.DUMMY_THREAD_ID,e))}e.body={threads:n},this.sendResponse(e)})}stackTraceRequest(e,t){const n=t.threadId,r="number"==typeof t.startFrame?t.startFrame:0,o="number"==typeof t.levels?t.levels:10;let i=0;if(n!==R.DUMMY_THREAD_ID)return void this.sendErrorResponse(e,2014,"Unexpected thread reference {_thread}.",{_thread:n},s.ErrorDestination.Telemetry);const a={fromFrame:r,toFrame:r+o};this.log("va",`stackTraceRequest: backtrace ${r} ${o}`),this._node.backtrace(a).then(e=>{if(e.body.totalFrames>0||e.body.frames){const t=e.body.frames;return i=e.body.totalFrames,Promise.all(t.map(e=>this._createStackFrame(e)))}throw new Error("no stack")}).then(t=>{e.body={stackFrames:t,totalFrames:i},this.sendResponse(e)}).catch(t=>{"no stack"===t.message?"pause"===this._stoppedReason?this.sendErrorResponse(e,2022,g(33,null)):this.sendErrorResponse(e,2023,g(34,null)):this.sendErrorResponse(e,2018,g(35,null),{_command:t.command,_error:t.message})})}_createStackFrame(e){return this._resolveValues([e.script,e.func,e.receiver]).then(()=>{let t,n=e.line,r=this._adjustColumn(n,e.column),s=g(36,null);const o=this._getValueFromCache(e.script);if(o){let i,c=o.name;if(c&&this._mapToFilesOnDisk){const t=h.parse(c);if("file:"===t.protocol&&t.path&&(c=decodeURI(t.path)),a.isAbsolutePath(c)){let t=c,i=this._remoteToLocal(t);return i!==t&&this._attachMode&&(s=g(37,null)),this._sourceMaps?this._loadScript(o.id).then(o=>this._createStackFrameFromSourceMap(e,o.contents,c,i,t,s,n,r)):this._createStackFrameFromPath(e,c,i,t,s,n,r)}i=this._scriptToPath(o),s=g(38,null)}if(!c){if("number"!=typeof o.id)throw new Error("no script id");i=this._scriptToPath(o),c=p.basename(i)}const u=this._getScriptIdHandle(o.id);t=this._createSource(!1,c,i,u,s)}return this._createStackFrameFromSource(e,t,n,r)})}_createSource(e,t,n,r=0,o,i){let a=!1;if(n&&this.isSkipped(n)){const e=g(39,null);a=!0,o=o?`${o} (${e})`:e}else if(!e&&this._smartStep&&this._sourceMaps){const e=g(40,null);a=!0,o=o?`${o} (${e})`:e}t=p.basename(t);const c=new s.Source(t,n,r,o,i);return a&&(c.presentationHint="deemphasize"),c}_createStackFrameFromSourceMap(e,t,n,r,s,o,i,a){return this._sourceMaps.MapToSource(r,t,i,a).then(t=>t?(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> src: '${t.path}' ${t.line}:${t.column}`),this._sameFile(t.path,this._compareContents,0,t.content).then(c=>{if(c){const n=this._createSource(!0,t.path,this.convertDebuggerPathToClient(t.path));return this._createStackFrameFromSource(e,n,t.line,t.column)}if(t.content){this.log("sm",`_createStackFrameFromSourceMap: source '${t.path}' doesn't exist -> use inlined source`);const n=this._getInlinedContentHandle(t.content);o=g(41,null);const r=this._createSource(!0,t.path,void 0,n,o,{inlinePath:t.path});return this._createStackFrameFromSource(e,r,t.line,t.column)}return this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> can't find source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)})):(this.log("sm",`_createStackFrameFromSourceMap: gen: '${r}' ${i}:${a} -> couldn't be mapped to source -> use generated file`),this._createStackFrameFromPath(e,n,r,s,o,i,a)))}_getInlinedContentHandle(e){let t=this._inlinedContentHandle.get(e);return t||(t=this._sourceHandles.create(new S(0,e)),this._inlinedContentHandle.set(e,t)),t}_createStackFrameFromPath(e,t,n,r,s,o,i){const a=this._getValueFromCache(e.script).id;return this._sameFile(n,this._compareContents,a).then(c=>{let u;if(c)u=this._createSource(!1,t,this.convertDebuggerPathToClient(n));else{const e=this._getScriptIdHandle(a);u=this._createSource(!1,t,void 0,e,s,{remotePath:r})}return this._createStackFrameFromSource(e,u,o,i)})}_getScriptIdHandle(e){let t=this._scriptId2Handle.get(e);return t||(t=this._sourceHandles.create(new S(e)),this._scriptId2Handle.set(e,t)),t}_createStackFrameFromSource(e,t,n,r){const o=this._getFrameName(e),i=this._frameHandles.create(e);return new s.StackFrame(i,o,t,this.convertDebuggerLineToClient(n),this.convertDebuggerColumnToClient(r))}_getFrameName(e){let t;const n=this._getValueFromCache(e.func);return n&&(t=n.inferredName,t&&0!==t.length||(t=n.name)),t&&0!==t.length||(t=g(42,null)),t}_sameFile(e,t,n,r){return this._existsFile(e).then(s=>!!s&&(!t||!n&&!r||Promise.all([this._readFile(e),r?Promise.resolve(r):this._loadScript(n).then(e=>e.contents)]).then(e=>{let t=e[0],n=e[1];n=n.replace(/\r\n/g,"\n"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/^#!.*\n/,"");return n.indexOf(t)>=0}).catch(e=>!1)))}_readFile(e){e=a.normalizeDriveLetter(e);let t=this._files.get(e);return t||(this.log("ls","__readFile: "+e),t=new Promise((t,n)=>{d.readFile(e,"utf8",(e,r)=>{e?n(e):t(a.stripBOM(r))})}),this._files.set(e,t)),t}_existsFile(e){return new Promise((t,n)=>{d.exists(e,t)})}scopesRequest(e,t){const n=this._frameHandles.get(t.frameId);if(!n)return void this.sendErrorResponse(e,2020,"stack frame not valid",null,s.ErrorDestination.Telemetry);const r=n.index,o=this._getValueFromCache(n.receiver),i={frame_index:r,frameNumber:r};let a="scopes";this._nodeInjectionAvailable&&(a="vscode_scopes",i.maxLocals=this._maxVariablesPerScope),this.log("va","scopesRequest: scope "+r),this._node.command2(a,i).then(e=>{const t=e.body.scopes;return Promise.all(t.map(t=>{const n=t.type,r=1===n?o:void 0;let a,c=0===n;return n>=0&&n<R.SCOPE_NAMES.length?1===n&&"number"==typeof e.body.vscode_locals?(c=!0,a=g(43,null,i.maxLocals,e.body.vscode_locals)):a=R.SCOPE_NAMES[n]:a=g(44,null,n),this._resolveValues([t.object]).then(e=>{const n=e[0];return n?new s.Scope(a,this._variableHandles.create(new b(t,n,r)),c):new s.Scope(a,0)}).catch(e=>new s.Scope(a,0))}))}).then(t=>{if(0===r&&this._exception){const e=g(45,null);t.unshift(new s.Scope(e,this._variableHandles.create(new _(void 0,this._exception.exception))))}e.body={scopes:t},this.sendResponse(e)}).catch(t=>{e.body={scopes:[]},this.sendResponse(e)})}variablesRequest(e,t){const n=t.variablesReference,r=this._variableHandles.get(n);if(r){const n="indexed"===t.filter||"named"===t.filter?t.filter:"all";r.Expand(this,n,t.start,t.count).then(t=>{t.sort(R.compareVariableNames),e.body={variables:t},this.sendResponse(e)}).catch(t=>{e.body={variables:[]},this.sendResponse(e)})}else e.body={variables:[]},this.sendResponse(e)}_createProperties(e,t,n,r=0,s){if(t&&!t.properties){if(this._nodeInjectionAvailable){const o=t.handle;if("number"==typeof t.vscode_indexedCnt&&"number"==typeof o&&0!==o){void 0===s&&(s=t.vscode_indexedCnt);const i={handle:o,mode:n,start:r,count:s};return this._node.command2("vscode_slice",i).then(t=>{const n=t.body.result;return Promise.all(n.map(t=>this._createVariable(e,t.name,t.value)))})}}return Promise.resolve([])}const o=new Array;let i=!1;if(t.properties){s=s||t.properties.length;for(let e of t.properties)if("name"in e){const t=e.name;switch(t===R.PROTO&&(i=!0),n){case"all":o.push(e);break;case"named":w(t)||o.push(e);break;case"indexed":if(w(t)){const n=+t;n>=r&&n<r+s&&o.push(e)}}}}if(!i&&("all"===n||"named"===n)){t.handle>0&&(t.protoObject.name=R.PROTO,o.push(t.protoObject))}return this._createPropertyVariables(e,t,o)}_createPropertyVariables(e,t,n,r=!0,s=0){return this._resolveValues(n).then(()=>Promise.all(n.map(n=>{const o=this._getValueFromCache(n);let i;if(w(n.name)){const e=+n.name;i=""+(s+e)}else i=n.name;if(this._node.v8Version&&"undefined"===o.type&&!o.value&&t&&t.handle>=0){const n={expression:`obj['${i}']`,additional_context:[{name:"obj",handle:t.handle}],disable_break:!0,maxStringLength:R.MAX_STRING_LENGTH};return this.log("va","_createPropertyVariables: trigger getter"),this._node.evaluate(n).then(t=>this._createVariable(e,i,t.body,r)).catch(t=>this._createVar(this._getEvaluateName(e,i),i,"undefined"))}return this._createVariable(e,i,o,r)})))}_createVariable(e,t,n,r=!0){t||(t='""');const s=n,o=this._getEvaluateName(e,t);switch(n.type){case"undefined":case"null":return Promise.resolve(this._createVar(o,t,n.type));case"string":return this._createStringVariable(e,t,n,r?void 0:R.PREVIEW_MAX_STRING_LENGTH);case"number":if("number"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString()));break;case"boolean":if("boolean"==typeof s.value)return Promise.resolve(this._createVar(o,t,s.value.toString().toLowerCase()));break;case"set":case"map":if(this._node.v8Version)return this._createSetMapVariable(e,t,n);case"object":case"function":case"regexp":case"promise":case"generator":case"error":const i=n;let a=i.className;switch(a){case"Array":case"ArrayBuffer":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return this._createArrayVariable(e,t,n,r);case"RegExp":if("string"==typeof i.text)return Promise.resolve(this._createVar(o,t,i.text,this._variableHandles.create(new _(o,n))));break;case"Generator":case"Object":return this._resolveValues(i.constructorFunction?[i.constructorFunction]:[]).then(e=>{if(e.length>0&&e[0]){const t=e[0].name;t&&(a=t)}if("promise"===n.type||"generator"===n.type)i.status&&(a+=` { ${i.status} }`);else if(i.properties)return this._objectPreview(i,r).then(e=>(e&&(a=`${a} ${e}`),this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))));return this._createVar(o,t,a,this._variableHandles.create(new _(o,n)))});case"Function":case"Error":default:if(i.text){let e=i.text;if(e.indexOf("\n")>=0){const t=e.indexOf("{");t>0&&(e=e.substring(0,t)+"{
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js
[38][风险] 黑客在2021-04-30 03:39:18时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(35)},function(e,t,r){"use strict";const n=r(0),s=r(36),o=r(37),i=r(3),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},s=i.isWindows(t),o=a.makeRe(e,t,!1,!0),c=o.state;delete o.state;let l=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};l=a(n.ignore,e,r)}const u=(r,i=!1)=>{let{isMatch:u,match:p,output:h}=a.test(r,o,t,{glob:e,posix:s}),f={glob:e,state:c,regex:o,posix:s,input:r,output:h,match:p,isMatch:u};return"function"==typeof n.onResult&&n.onResult(f),!1===u?(f.isMatch=!1,!!i&&f):l(r)?("function"==typeof n.onIgnore&&n.onIgnore(f),f.isMatch=!1,!!i&&f):("function"==typeof n.onMatch&&n.onMatch(f),!i||f)};return r&&(u.state=c),u};a.test=(e,t,r,{glob:n,posix:s}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let o=r||{},c=o.format||(s?i.toPosixSlashes:null),l=e===n,u=l&&c?c(e):e;return!1===l&&(u=c?c(e):e,l=u===n),!1!==l&&!0!==o.capture||(l=!0===o.matchBase||!0===o.basename?a.matchBase(e,t,r,s):t.exec(u)),{isMatch:!!l,match:l,output:u}},a.matchBase=(e,t,r,s=i.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>o(e,t),a.scan=(e,t)=>s(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let s,i=t||{},c=i.contains?"":"^",l=i.contains?"":"$",u={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=u.prefix="./"),!1===i.fastpaths||"."!==e[0]&&"*"!==e[0]||(s=o.fastpaths(e,t)),void 0===s&&(u=a.parse(e,t),u.prefix=p+(u.prefix||""),s=u.output),!0===r)return s;let h=`${c}(?:${s})${l}`;u&&!0===u.negated&&(h=`^(?!${h}).*$`);let f=a.toRegex(h,t);return!0===n&&(f.state=u),f},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(4),e.exports=a},function(e,t,r){"use strict";const n=r(3),{CHAR_ASTERISK:s,CHAR_AT:o,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:_,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:y}=r(4);e.exports=(e,t)=>{let r,v,b=t||{},E=e.length-1,S=-1,x=0,C=0,R=!1,A=!1,w=!1,O=0,k=!1,T=()=>S>=E,N=()=>(r=v,e.charCodeAt(++S));for(;S<E;){let t;if(v=N(),v!==i){if(!0===k||v===p)for(O++;!T()&&(t=N());)if(t!==i)if(t!==p){if(!k&&t===c&&(t=N())===c){R=!0;break}if(!k&&t===a){R=!0;break}if(t===g&&(O--,0===O)){k=!1;break}}else O++;else A=!0,t=N();if(v!==u){if(v===s){R=!0;break}if(v===s||v===_){R=!0;break}if(v===f)for(;!T()&&(t=N());)if(t!==i){if(t===y){R=!0;break}}else A=!0,t=N();if((v===d||v===o||v===l)&&e.charCodeAt(S+1)===h){R=!0;break}if(v!==l||S!==x){if(v===h)for(;!T()&&(t=N());)if(t!==i){if(t===m){R=!0;break}}else A=!0,t=N();if(R)break}else w=!0,x++}else{if(r===c&&S===x+1){x+=2;continue}C=S+1}}else A=!0,t=N(),t===p&&(k=!0)}let L="",P=e,I=e,H="";return x>0&&(L=e.slice(0,x),e=e.slice(x),C-=x),I&&!0===R&&C>0?(I=e.slice(0,C),H=e.slice(C)):!0===R?(I="",H=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===u||e===i)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===b.unescape&&(H&&(H=n.removeBackslashes(H)),I&&!0===A&&(I=n.removeBackslashes(I))),{prefix:L,input:P,base:I,glob:H,negated:w,isGlob:R}}},function(e,t,r){"use strict";const n=r(3),s=r(4),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=s,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},h=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,f=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;let r={...t},f="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,d=e.length;if(d>f)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${f}`);let _={type:"bos",value:"",output:r.prepend||""},g=[_],m=r.capture?"":"?:",y=n.isWindows(t);const v=s.globChars(y),b=s.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:S,SLASH_LITERAL:x,ONE_CHAR:C,DOTS_SLASH:R,NO_DOT:A,NO_DOT_SLASH:w,NO_DOTS_SLASH:O,QMARK:k,QMARK_NO_DOT:T,STAR:N,START_ANCHOR:L}=v,P=e=>`(${m}(?:(?!${L}${e.dot?R:E}).)*?)`;let I=r.dot?"":A,H=!0===r.bash?P(r):N,$=r.dot?k:T;r.capture&&(H=`(${H})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let M,B={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:g},D=[],j=[],U=_;const F=()=>B.index===d-1,q=B.peek=(t=1)=>e[B.index+t],G=B.advance=()=>e[++B.index],W=e=>{B.output+=null!=e.output?e.output:e.value,B.consumed+=e.value||""},K=e=>{B[e]++,j.push(e)},Q=e=>{B[e]--,j.pop()},V=e=>{if("globstar"===U.type){let t=B.braces>0&&("comma"===e.type||"brace"===e.type),r=D.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(B.output=B.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=H,B.output+=U.output)}D.length&&"paren"!==e.type&&!b[e.value]&&(D[D.length-1].inner+=e.value),(e.value||e.output)&&W(e),U&&"text"===U.type&&"text"===e.type?U.value+=e.value:(e.prev=U,g.push(e),U=e)},z=(e,t)=>{let n={...b[t],conditions:1,inner:""};n.prev=U,n.parens=B.parens,n.output=B.output;let s=(r.capture?"(":"")+n.open;V({type:e,value:t,output:B.output?"":C}),V({type:"paren",extglob:!0,value:G(),output:s}),K("parens"),D.push(n)},X=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let s=H;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(s=P(r)),(s!==H||F()||/^\)+$/.test(e.slice(B.index+1)))&&(n=t.close=")$))"+s),"bos"===t.prev.type&&F()&&(B.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:M,output:n}),Q("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,s,o,i)=>"\\"===s?(t=!0,e):"?"===s?r?r+s+(o?k.repeat(o.length):""):0===i?$+(o?k.repeat(o.length):""):k.repeat(n.length):"."===s?E.repeat(n.length):"*"===s?r?r+s+(o?H:""):H:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),B.output=n,B}for(;!F();){if(M=G(),"\0"===M)continue;if("\\"===M){let t=q();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){M+="\\",V({type:"text",value:M});continue}let n=/^\\+/.exec(e.slice(B.index+1)),s=0;if(n&&n[0].length>2&&(s=n[0].length,B.index+=s,s%2!=0&&(M+="\\")),!0===r.unescape?M=G()||"":M+=G()||"",0===B.brackets){V({type:"text",value:M});continue}}if(B.brackets>0&&("]"!==M||"["===U.value||"[^"===U.value)){if(!1!==r.posix&&":"===M){let e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){let e=U.value.lastIndexOf("["),t=U.value.slice(0,e),r=U.value.slice(e+2),n=i[r];if(n){U.value=t+n,B.backtrack=!0,G(),_.output||1!==g.indexOf(U)||(_.output=C);continue}}}("["===M&&":"!==q()||"-"===M&&"]"===q())&&(M="\\"+M),"]"!==M||"["!==U.value&&"[^"!==U.value||(M="\\"+M),!0===r.posix&&"!"===M&&"["===U.value&&(M="^"),U.value+=M,W({value:M});continue}if(1===B.quotes&&'"'!==M){M=n.escapeRegex(M),U.value+=M,W({value:M});continue}if('"'===M){B.quotes=1===B.quotes?0:1,!0===r.keepQuotes&&V({type:"text",value:M});continue}if("("===M){V({type:"paren",value:M}),K("parens");continue}if(")"===M){if(0===B.parens&&!0===r.strictBrackets)throw new SyntaxError(h("opening","("));let e=D[D.length-1];if(e&&B.parens===e.parens+1){X(D.pop());continue}V({type:"paren",value:M,output:B.parens?")":"\\)"}),Q("parens");continue}if("["===M){if(!0!==r.nobracket&&e.slice(B.index+1).includes("]"))K("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));M="\\"+M}V({type:"bracket",value:M});continue}if("]"===M){if(!0===r.nobracket||U&&"bracket"===U.type&&1===U.value.length){V({type:"text",value:M,output:"\\"+M});continue}if(0===B.brackets){if(!0===r.strictBrackets)throw new SyntaxError(h("opening","["));V({type:"text",value:M,output:"\\"+M});continue}Q("brackets");let e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(M="/"+M),U.value+=M,W({value:M}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex(U.value);if(B.output=B.output.slice(0,-U.value.length),!0===r.literalBrackets){B.output+=t,U.value=t;continue}U.value=`(${m}${t}|${U.value})`,B.output+=U.value;continue}if("{"===M&&!0!==r.nobrace){V({type:"brace",value:M,output:"("}),K("braces");continue}if("}"===M){if(!0===r.nobrace||0===B.braces){V({type:"text",value:M,output:"\\"+M});continue}let e=")";if(!0===B.dots){let t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=u(n,r),B.backtrack=!0}V({type:"brace",value:M,output:e}),Q("braces");continue}if("|"===M){D.length>0&&D[D.length-1].conditions++,V({type:"text",value:M});continue}if(","===M){let e=M;B.braces>0&&"braces"===j[j.length-1]&&(e="|"),V({type:"comma",value:M,output:e});continue}if("/"===M){if("dot"===U.type&&1===B.index){B.start=B.index+1,B.consumed="",B.output="",g.pop(),U=_;continue}V({type:"slash",value:M,output:x});continue}if("."===M){if(B.braces>0&&"dot"===U.type){"."===U.value&&(U.output=E),U.type="dots",U.output+=M,U.value+=M,B.dots=!0;continue}V({type:"dot",value:M,output:E});continue}if("?"===M){if(U&&"paren"===U.type){let e=q(),t=M;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(q(2)))&&(t="\\"+M),V({type:"text",value:M,output:t});continue}if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("qmark",M);continue}if(!0!==r.dot&&("slash"===U.type||"bos"===U.type)){V({type:"qmark",value:M,output:T});continue}V({type:"qmark",value:M,output:k});continue}if("!"===M){if(!0!==r.noextglob&&"("===q()&&("?"!==q(2)||!/[!=<:]/.test(q(3)))){z("negate",M);continue}if(!0!==r.nonegate&&0===B.index){p(B);continue}}if("+"===M){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("plus",M);continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)){let e=!0===U.extglob?"\\"+M:M;V({type:"plus",value:M,output:e});continue}if(B.parens>0&&!1!==r.regex){V({type:"plus",value:M});continue}V({type:"plus",value:S});continue}if("@"===M){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){V({type:"at",value:M,output:""});continue}V({type:"text",value:M});continue}if("*"!==M){"$"!==M&&"^"!==M||(M="\\"+M);let t=a.exec(e.slice(B.index+1));t&&(M+=t[0],B.index+=t[0].length),V({type:"text",value:M});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=M,U.output=H,B.backtrack=!0,B.consumed+=M;continue}if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){z("star",M);continue}if("star"===U.type){if(!0===r.noglobstar){B.consumed+=M;continue}let t=U.prev,n=t.prev,s="slash"===t.type||"bos"===t.type,o=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!s||!F()&&"/"!==q())){V({type:"star",value:M,output:""});continue}let i=B.braces>0&&("comma"===t.type||"brace"===t.type),a=D.length&&("pipe"===t.type||"paren"===t.type);if(!s&&"paren"!==t.type&&!i&&!a){V({type:"star",value:M,output:""});continue}for(;"/**"===e.slice(B.index+1,B.index+4);){let t=e[B.index+4];if(t&&"/"!==t)break;B.consumed+="/**",B.index+=3}if("bos"===t.type&&F()){U.type="globstar",U.value+=M,U.output=P(r),B.output=U.output,B.consumed+=M;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!o&&F()){B.output=B.output.slice(0,-(t.output+U.output).length),t.output="(?:"+t.output,U.type="globstar",U.output=P(r)+"|$)",U.value+=M,B.output+=t.output+U.output,B.consumed+=M;continue}let c=q();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==q(2)?"|$":"";B.output=B.output.slice(0,-(t.output+U.output).length),t.output="(?:"+t.output,U.type="globstar",U.output=`${P(r)}${x}|${x}${e})`,U.value+=M,B.output+=t.output+U.output,B.consumed+=M+G(),V({type:"slash",value:M,output:""});continue}if("bos"===t.type&&"/"===c){U.type="globstar",U.value+=M,U.output=`(?:^|${x}|${P(r)}${x})`,B.output=U.output,B.consumed+=M+G(),V({type:"slash",value:M,output:""});continue}B.output=B.output.slice(0,-U.output.length),U.type="globstar",U.output=P(r),U.value+=M,B.output+=U.output,B.consumed+=M;continue}let t={type:"star",value:M,output:H};!0!==r.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==r.regex?(B.index!==B.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(B.output+=w,U.output+=w):!0===r.dot?(B.output+=O,U.output+=O):(B.output+=I,U.output+=I),"*"!==q()&&(B.output+=C,U.output+=C)),V(t)):(t.output=M,V(t)):(t.output=".*?","bos"!==U.type&&"slash"!==U.type||(t.output=I+t.output),V(t))}for(;B.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","]"));B.output=n.escapeLast(B.output,"["),Q("brackets")}for(;B.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing",")"));B.output=n.escapeLast(B.output,"("),Q("parens")}for(;B.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(h("closing","}"));B.output=n.escapeLast(B.output,"{"),Q("braces")}if(!0===r.strictSlashes||"star"!==U.type&&"bracket"!==U.type||V({type:"maybe_slash",value:"",output:`${x}?`}),!0===B.backtrack){B.output="";for(let e of B.tokens)B.output+=null!=e.output?e.output:e.value,e.suffix&&(B.output+=e.suffix)}return B};f.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=l[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:u,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:g,STAR:m,START_ANCHOR:y}=s.globChars(c);let v=r.capture?"":"?:",b=!0===r.bash?".*?":m,E=r.dot?_:d,S=r.dot?g:d;r.capture&&(b=`(${b})`);const x=e=>`(${v}(?:(?!${y}${e.dot?f:u}).)*?)`,C=e=>{switch(e){case"*":return`${E}${h}${b}`;case".*":return`${u}${h}${b}`;case"*.*":return`${E}${b}${u}${h}${b}`;case"*/*":return`${E}${b}${p}${h}${S}${b}`;case"**":return E+x(r);case"**/*":return`(?:${E}${x(r)}${p})?${S}${h}${b}`;case"**/*.*":return`(?:${E}${x(r)}${p})?${S}${b}${u}${h}${b}`;case"**/.*":return`(?:${E}${x(r)}${p})?${u}${h}${b}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=C(r[1],t);if(!n)return;return n+u+r[2]}}};let R=C(e);return R&&!0!==r.strictSlashes&&(R+=`${p}?`),R},e.exports=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOpenPortSync=void 0;const n=r(9),s=r(13);var o=r(39);Object.defineProperty(t,"acquirePortNumber",{enumerable:!0,get:function(){return o.acquirePortNumber}}),t.findOpenPortSync=function({min:e=53e3,max:t=54e3,attempts:r=1e3}={}){const n=i();let o=s.randomInRange(e,t);for(let s=Math.min(r,t-e);s>=0;s--){if(n(o))return o;o=o===t-1?e:o+1}throw new Error("No open port found")};const i=()=>{const e=e=>0===n.spawnSync(process.execPath,["-e",'require("net").createServer().on("listening",()=>process.exit(0)).on("error",()=>process.exit(1)).listen(+process.env.PORT)'],{env:Object.assign(Object.assign({},process.env),{PORT:String(e),NODE_OPTIONS:void 0,ELECTRON_RUN_AS_NODE:"1"})}).status;let t="win32"===process.platform?e:r=>{var s;const o=n.spawnSync("nc",["-z","127.0.0.1",String(r)]);return"ENOENT"===(null===(s=o.error)||void 0===s?void 0:s.code)&&(t=e),1===o.status};return e=>t(e)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.serverResolutionPromise=t.makeAcquireWebSocketServer=t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const i=o(r(14)),a=o(r(40)),c=r(49),l=r(13);function u(e,t=c.NeverCancelled){let r;return new Promise((n,s)=>{const o=i.createServer();o.listen(e,"127.0.0.1",()=>{const e=o.address();o.close(()=>n(e.port))}),o.on("error",s),r=t.onCancellationRequested(()=>{o.close(),s(new c.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==r?void 0:r.dispose())}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=u}={},s=c.NeverCancelled){let o=l.randomInRange(e,t);for(let i=Math.min(r,t-e);;i--)try{return await n(o,s)}catch(r){if(0===i||r instanceof c.TaskCancelledError)throw r;o=o===t-1?e:o+1}},t.isPortOpen=async function(e,t){try{return await u(e,t),!0}catch(e){return!1}},t.acquirePortNumber=u,t.makeAcquireTcpServer=e=>(r,n)=>{const s=i.createServer(e);return s.listen(r,"127.0.0.1"),t.serverResolutionPromise(s,n)},t.makeAcquireWebSocketServer=e=>(r,n)=>t.serverResolutionPromise(new a.Server(Object.assign(Object.assign({host:"127.0.0.1"},e),{port:r})),n),t.serverResolutionPromise=(e,t)=>{let r;return new Promise((n,s)=>{e.on("error",s),e.on("listening",()=>n(e)),r=t.onCancellationRequested(()=>{e.close(),s(new c.TaskCancelledError("Port open lookup cancelled"))})}).finally(()=>null==r?void 0:r.dispose())}},function(e,t,r){"use strict";const n=r(15);n.createWebSocketStream=r(47),n.Server=r(48),n.Receiver=r(18),n.Sender=r(21),e.exports=n},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("zlib")},function(e,t,r){"use strict";const n=Symbol("kDone"),s=Symbol("kRun");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[s]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[s]()}[s](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class s extends n{constructor(e,t){super("message",t),this.data=e}}class o extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class i extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new s(e,this))}function n(e,r){t.call(this,new o(e,r,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new i(this))}"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(l._listener=t,this.on(e,l)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const{Duplex:n}=r(19);function s(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(s,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(s,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",o),c.on("error",i),c}},function(e,t,r){"use strict";const n=r(16),{createHash:s}=r(2),{createServer:o,STATUS_CODES:i}=r(17),a=r(5),c=r(15),{format:l,parse:u}=r(22),{GUID:p}=r(1),h=/^[+/0-9A-Za-z]{22}==$/,f=Symbol("kUsedByWebSocketServer");function d(e){e.emit("close")}function _(){this.destroy()}function g(e,t,r,n){e.writable&&(r=r||i[t],n={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",_),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port)this._server=o((e,t)=>{const r=i[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[f])throw new Error("The HTTP/S server is already being used by another WebSocket server");e.server[f]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit("close"));delete t[f]}process.nextTick(d,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",_);const s=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],i={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!s||!h.test(s)||8!==o&&13!==o||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=u(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),i[a.extensionName]=r)}catch(e){return g(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,c,l)=>{if(!o)return g(t,a||401,c,l);this.completeUpgrade(s,i,e,t,r,n)});if(!this.options.verifyClient(a))return g(t,401)}this.completeUpgrade(s,i,e,t,r,n)}completeUpgrade(e,t,r,n,o,i){if(!n.readable||!n.writable)return n.destroy();const u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${s("sha1").update(e+p).digest("base64")}`],h=new c(null);let f=r.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,r):f[0],f&&(u.push(`Sec-WebSocket-Protocol: ${f}`),h.protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,r=l({[a.extensionName]:[e]});u.push(`Sec-WebSocket-Extensions: ${r}`),h._extensions=t}this.emit("headers",u,r),n.write(u.concat("\r\n").join("\r\n")),n.removeListener("error",_),h.setSocket(n,o,this.options.maxPayload),this.clients&&(this.clients.add(h),h.on("close",()=>this.clients.delete(h))),i(h)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(50),s=r(51),o=r(53);class i extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=i,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new i(r||"Task cancelled"));const n=o.getDeferred(),s=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new i(r||"Task cancelled")}),e.then(e=>(s.dispose(),e)).catch(e=>{throw s.dispose(),e})])},t.cancellableRace=function(e,t){const r=new c(t),n=e.map(async e=>{try{return await e(r.token)}finally{r.cancel()}});return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class c{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new c(t),n=r._token=new l,s=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(s)),r}get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token instanceof l&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof l&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=c;class l{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new s.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolError=void 0;class n extends Error{constructor(e){super("__errorMarker"in e?e.error.format:e.format),this._cause="__errorMarker"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListenerMap=t.EventEmitter=void 0;const n=r(52);class s{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(s),s}}get size(){return this._listeners.size}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}t.EventEmitter=s;t.ListenerMap=class{constructor(){this.map=new Map,this.listeners=this.map}listen(e,t){let r=this.map.get(e);r||(r=new s,this.map.set(e,r));const o=r.event(t);return{dispose:n.once(()=>{o.dispose(),0===(null==r?void 0:r.size)&&this.map.delete(e)})}}emit(e,t){var r;null===(r=this.listeners.get(e))||void 0===r||r.fire(t)}}},function(e,t,r){"use strict";function n(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];t(s,n)&&(r[n]=s)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.upcastPartial=t.pick=t.flatten=t.bisectArray=t.trailingEdgeThrottle=t.debounce=t.memoizeWeak=t.memoize=t.once=t.getCaseInsensitiveProperty=t.caseInsensitiveMerge=t.walkObject=t.sortKeys=t.filterObject=t.mapKeys=t.mapValues=t.filterValues=t.assertNever=t.removeUndefined=t.removeNulls=t.truthy=void 0,t.truthy=e=>!!e,t.removeNulls=e=>n(e,e=>null!==e),t.removeUndefined=e=>n(e,e=>void 0!==e),t.assertNever=(e,t)=>{throw new Error(t.replace("{value}",JSON.stringify(e)))},t.filterValues=n,t.mapValues=function(e,t){const r={};for(const n of Object.keys(e)){const s=e[n];r[n]=t(s,n)}return r},t.mapKeys=function(e,t){const r={};for(const n of Object.keys(e)){const s=t(n,e[n]);void 0!==s&&(r[s]=e[n])}return r},t.filterObject=function(e,t){const r={};for(const n of Object.keys(e))t(n,e[n])&&(r[n]=e[n]);return r},t.sortKeys=function(e,t){if(!e||"object"!=typeof e||e instanceof Array)return e;const r={};for(const n of Object.keys(e).sort(t))r[n]=e[n];return r},t.walkObject=function e(t,r){if(t=r(t))if(t instanceof Array)t=t.map(t=>e(t,r));else if("object"==typeof t&&t)for(const n of Object.keys(t))t[n]=e(t[n],r);return t},t.caseInsensitiveMerge=function(...e){if(0===e.length)return{};const t={},r=Object.create(null);for(const n of e)if(n)for(const e of Object.keys(n)){const s=e.toLowerCase();r[s]?t[r[s]]=n[e]:(r[s]=e,t[e]=n[e])}return t},t.getCaseInsensitiveProperty=function(e,t){if(e.hasOwnProperty(t))return e[t];const r=t.toLowerCase();for(const t of Object.keys(e))if(t.toLowerCase()===r)return e[t]};const s=Symbol("unset");t.once=function(e){let t=s;const r=(...n)=>(t===s&&(r.value=t=e(...n)),t);return r.forget=()=>{t=s,r.value=void 0},r.value=void 0,r},t.memoize=function(e){const t=new Map,r=r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n};return r.clear=()=>t.clear(),r},t.memoizeWeak=function(e){const t=new WeakMap;return r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n}},t.debounce=function(e,t){let r;const n=()=>{void 0!==r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,t()},e)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.trailingEdgeThrottle=function(e,t){let r;const n=()=>{void 0===r&&(r=setTimeout(()=>{r=void 0,t()},e))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.bisectArray=function(e,t){const r=[],n=[];for(const s of e)t(s)?r.push(s):n.push(s);return[r,n]},t.flatten=function(e){let t=[];for(const r of e)t=t.concat(r);return t},t.pick=function(e,t){const r={};for(const n of t)r[n]=e[n];return r},t.upcastPartial=e=>e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeferred=t.some=t.disposableTimeout=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise(t=>setTimeout(t,e)):new Promise(()=>{}),t.disposableTimeout=(e,t)=>{const r=setTimeout(e,t);return{dispose:()=>clearTimeout(r)}},t.some=function(e){return new Promise((t,r)=>{let n=e.length;for(const s of e)s.then(e=>{e?(t(e),n=-1):0==--n&&t(void 0)}).catch(r)})},t.getDeferred=function(){let e,t=null,r=null,n=!1;const s=new Promise((s,o)=>{t=t=>{n=!0,e=t,s(t)},r=e=>{n=!0,o(e)}});return{resolve:t,reject:r,promise:s,get settledValue(){return e},hasSettled:()=>n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownToolGlob=t.knownToolToken=void 0;const n=new Set(["mocha","jest","jest-cli","ava","tape","tap","ts-node","babel-node"]);t.knownToolToken="$KNOWN_TOOLS$",t.knownToolGlob=`{${[...n].join(",")}}`},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootloaderEnvironment=t.variableDelimiter=void 0,t.variableDelimiter=":::";t.BootloaderEnvironment=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){void 0===e?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){const e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;const r=e.split(t.variableDelimiter).find(e=>!!e);if(r)try{return JSON.parse(r)}catch(e){return}}set inspectorOptions(e){void 0===e?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,t){const r=this.inspectorOptions;r&&(this.inspectorOptions=Object.assign(Object.assign({},r),{[e]:t}))}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=exports.checkIsNotNodeGyp=exports.checkNotNpmPrefixCheckOnWindows=exports.checkProcessFilter=exports.checkNotElectron=exports.checkLeaseFile=exports.checkIsDebugMode=void 0;const path_1=__webpack_require__(0),lease_file_1=__webpack_require__(57),logger_1=__webpack_require__(23);exports.checkIsDebugMode=e=>!(!e||!e.inspectorIpc)||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to lack of IPC server"),!1),exports.checkLeaseFile=e=>{const t=e.requireLease;return!(t&&!lease_file_1.LeaseFile.isValid(t))||(logger_1.bootloaderLogger.info("runtime.launch","Disabling due to invalid lease file"),!1)},exports.checkNotElectron=()=>{try{return eval("window"),logger_1.bootloaderLogger.info("runtime.launch","Disabling in Electron (window is set)"),!1}catch(e){return!0}},exports.checkProcessFilter=e=>{let t,r="";try{r=__webpack_require__(59).resolve(process.argv[1])}catch(e){r=process.argv[1]}try{t=new RegExp(e.waitForDebugger||"").test(r)}catch(e){t=!0}return t||logger_1.bootloaderLogger.info("runtime.launch","Disabling due to not matching pattern",{pattern:e.waitForDebugger,scriptName:r}),t},exports.checkNotNpmPrefixCheckOnWindows=()=>{const e=process.argv;return!(4===e.length&&"npm-cli.js"===path_1.basename(e[1])&&"prefix"===e[2]&&"-g"===e[3])},exports.checkIsNotNodeGyp=e=>!(e.deferredMode&&process.argv.length>=2&&"node-gyp.js"===path_1.basename(process.argv[1]));const allChecks=[exports.checkIsNotNodeGyp,exports.checkIsDebugMode,exports.checkLeaseFile,exports.checkNotElectron,exports.checkProcessFilter,exports.checkNotNpmPrefixCheckOnWindows];exports.checkAll=e=>!!e&&!allChecks.some(t=>!t(e))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const i=r(2),a=r(10),c=r(58),l=o(r(0));class u{constructor(){this.disposed=!1,this.path=l.join(c.tmpdir(),`node-debug-callback-${i.randomBytes(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=a.readFileSync(e);return!!t.length&&t.readDoubleBE()>Date.now()-u.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),u.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=u,u.updateInterval=1e3,u.recencyDeadline=2e3},function(e,t){e.exports=require("os")},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=59},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(0);t.watchdogPath=n.join(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=n.join(__dirname,"bootloader.bundle.js")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(2);t.createTargetId=()=>n.randomBytes(12).toString("hex")},function(e,t){e.exports=require("worker_threads")}]);
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js
[39][风险] 黑客在2021-04-30 03:39:18时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js，反弹shell类：",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,r){"use strict";e.exports=r(389)},function(e,t,r){"use strict";const n=r(0),i=r(390),s=r(391),o=r(89),a=(e,t,r=!1)=>{if(Array.isArray(e)){let n=e.map(e=>a(e,t,r));return e=>{for(let t of n){let r=t(e);if(r)return r}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(n.ignore,e,r)}const l=(r,o=!1)=>{let{isMatch:l,match:p,output:d}=a.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:c,regex:s,posix:i,input:r,output:d,match:p,isMatch:l};return"function"==typeof n.onResult&&n.onResult(h),!1===l?(h.isMatch=!1,!!o&&h):u(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):("function"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(l.state=c),l};a.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=r||{},c=s.format||(i?o.toPosixSlashes:null),u=e===n,l=u&&c?c(e):e;return!1===u&&(l=c?c(e):e,u=l===n),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,r,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:a.makeRe(t,r)).test(n.basename(e)),a.isMatch=(e,t,r)=>a(t,r)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},p="";if(e.startsWith("./")&&(e=e.slice(2),p=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&(l=a.parse(e,t),l.prefix=p+(l.prefix||""),i=l.output),!0===r)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let h=a.toRegex(d,t);return!0===n&&(h.state=l),h},a.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=r(90),e.exports=a},function(e,t,r){"use strict";const n=r(89),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(90);e.exports=(e,t)=>{let r,v,w=t||{},_=e.length-1,S=-1,k=0,x=0,P=!1,C=!1,E=!1,O=0,T=!1,j=()=>S>=_,M=()=>(r=v,e.charCodeAt(++S));for(;S<_;){let t;if(v=M(),v!==o){if(!0===T||v===p)for(O++;!j()&&(t=M());)if(t!==o)if(t!==p){if(!T&&t===c&&(t=M())===c){P=!0;break}if(!T&&t===a){P=!0;break}if(t===m&&(O--,0===O)){T=!1;break}}else O++;else C=!0,t=M();if(v!==l){if(v===i){P=!0;break}if(v===i||v===g){P=!0;break}if(v===h)for(;!j()&&(t=M());)if(t!==o){if(t===b){P=!0;break}}else C=!0,t=M();if((v===f||v===s||v===u)&&e.charCodeAt(S+1)===d){P=!0;break}if(v!==u||S!==k){if(v===d)for(;!j()&&(t=M());)if(t!==o){if(t===y){P=!0;break}}else C=!0,t=M();if(P)break}else E=!0,k++}else{if(r===c&&S===k+1){k+=2;continue}x=S+1}}else C=!0,t=M(),t===p&&(T=!0)}let A="",R=e,I=e,D="";return k>0&&(A=e.slice(0,k),e=e.slice(k),x-=k),I&&!0===P&&x>0?(I=e.slice(0,x),D=e.slice(x)):!0===P?(I="",D=e):I=e,I&&""!==I&&"/"!==I&&I!==e&&(e=>e===l||e===o)(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),!0===w.unescape&&(D&&(D=n.removeBackslashes(D)),I&&!0===C&&(I=n.removeBackslashes(I))),{prefix:A,input:R,base:I,glob:D,negated:E,isGlob:P}}},function(e,t,r){"use strict";const n=r(89),i=r(90),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},p=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let r={...t},h="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);let g={type:"bos",value:"",output:r.prepend||""},m=[g],y=r.capture?"":"?:",b=n.isWindows(t);const v=i.globChars(b),w=i.extglobChars(v),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:k,ONE_CHAR:x,DOTS_SLASH:P,NO_DOT:C,NO_DOT_SLASH:E,NO_DOTS_SLASH:O,QMARK:T,QMARK_NO_DOT:j,STAR:M,START_ANCHOR:A}=v,R=e=>`(${y}(?:(?!${A}${e.dot?P:_}).)*?)`;let I=r.dot?"":C,D=!0===r.bash?R(r):M,L=r.dot?T:j;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);let N,F={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},B=[],U=[],$=g;const q=()=>F.index===f-1,V=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index],H=e=>{F.output+=null!=e.output?e.output:e.value,F.consumed+=e.value||""},G=e=>{F[e]++,U.push(e)},z=e=>{F[e]--,U.pop()},K=e=>{if("globstar"===$.type){let t=F.braces>0&&("comma"===e.type||"brace"===e.type),r=B.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(F.output=F.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=D,F.output+=$.output)}B.length&&"paren"!==e.type&&!w[e.value]&&(B[B.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&"text"===$.type&&"text"===e.type?$.value+=e.value:(e.prev=$,m.push(e),$=e)},J=(e,t)=>{let n={...w[t],conditions:1,inner:""};n.prev=$,n.parens=F.parens,n.output=F.output;let i=(r.capture?"(":"")+n.open;K({type:e,value:t,output:F.output?"":x}),K({type:"paren",extglob:!0,value:W(),output:i}),G("parens"),B.push(n)},Q=t=>{let n=t.close+(r.capture?")":"");if("negate"===t.type){let i=D;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=R(r)),(i!==D||q()||/^\)+$/.test(e.slice(F.index+1)))&&(n=t.close=")$))"+i),"bos"===t.prev.type&&q()&&(F.negatedExtglob=!0)}K({type:"paren",extglob:!0,value:N,output:n}),z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/{[()\]}"])/.test(e)){let t=!1,n=e.replace(c,(e,r,n,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?r?r+i+(s?T.repeat(s.length):""):0===o?L+(s?T.repeat(s.length):""):T.repeat(n.length):"."===i?_.repeat(n.length):"*"===i?r?r+i+(s?D:""):D:r?e:"\\"+e);return!0===t&&(n=!0===r.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),F.output=n,F}for(;!q();){if(N=W(),"\0"===N)continue;if("\\"===N){let t=V();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){N+="\\",K({type:"text",value:N});continue}let n=/^\\+/.exec(e.slice(F.index+1)),i=0;if(n&&n[0].length>2&&(i=n[0].length,F.index+=i,i%2!=0&&(N+="\\")),!0===r.unescape?N=W()||"":N+=W()||"",0===F.brackets){K({type:"text",value:N});continue}}if(F.brackets>0&&("]"!==N||"["===$.value||"[^"===$.value)){if(!1!==r.posix&&":"===N){let e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){let e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=$.value.slice(e+2),n=o[r];if(n){$.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf($)||(g.output=x);continue}}}("["===N&&":"!==V()||"-"===N&&"]"===V())&&(N="\\"+N),"]"!==N||"["!==$.value&&"[^"!==$.value||(N="\\"+N),!0===r.posix&&"!"===N&&"["===$.value&&(N="^"),$.value+=N,H({value:N});continue}if(1===F.quotes&&'"'!==N){N=n.escapeRegex(N),$.value+=N,H({value:N});continue}if('"'===N){F.quotes=1===F.quotes?0:1,!0===r.keepQuotes&&K({type:"text",value:N});continue}if("("===N){K({type:"paren",value:N}),G("parens");continue}if(")"===N){if(0===F.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));let e=B[B.length-1];if(e&&F.parens===e.parens+1){Q(B.pop());continue}K({type:"paren",value:N,output:F.parens?")":"\\)"}),z("parens");continue}if("["===N){if(!0!==r.nobracket&&e.slice(F.index+1).includes("]"))G("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));N="\\"+N}K({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||$&&"bracket"===$.type&&1===$.value.length){K({type:"text",value:N,output:"\\"+N});continue}if(0===F.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));K({type:"text",value:N,output:"\\"+N});continue}z("brackets");let e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(N="/"+N),$.value+=N,H({value:N}),!1===r.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(F.output=F.output.slice(0,-$.value.length),!0===r.literalBrackets){F.output+=t,$.value=t;continue}$.value=`(${y}${t}|${$.value})`,F.output+=$.value;continue}if("{"===N&&!0!==r.nobrace){K({type:"brace",value:N,output:"("}),G("braces");continue}if("}"===N){if(!0===r.nobrace||0===F.braces){K({type:"text",value:N,output:"\\"+N});continue}let e=")";if(!0===F.dots){let t=m.slice(),n=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=l(n,r),F.backtrack=!0}K({type:"brace",value:N,output:e}),z("braces");continue}if("|"===N){B.length>0&&B[B.length-1].conditions++,K({type:"text",value:N});continue}if(","===N){let e=N;F.braces>0&&"braces"===U[U.length-1]&&(e="|"),K({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===$.type&&1===F.index){F.start=F.index+1,F.consumed="",F.output="",m.pop(),$=g;continue}K({type:"slash",value:N,output:k});continue}if("."===N){if(F.braces>0&&"dot"===$.type){"."===$.value&&($.output=_),$.type="dots",$.output+=N,$.value+=N,F.dots=!0;continue}K({type:"dot",value:N,output:_});continue}if("?"===N){if($&&"paren"===$.type){let e=V(),t=N;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===$.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(V(2)))&&(t="\\"+N),K({type:"text",value:N,output:t});continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("qmark",N);continue}if(!0!==r.dot&&("slash"===$.type||"bos"===$.type)){K({type:"qmark",value:N,output:j});continue}K({type:"qmark",value:N,output:T});continue}if("!"===N){if(!0!==r.noextglob&&"("===V()&&("?"!==V(2)||!/[!=<:]/.test(V(3)))){J("negate",N);continue}if(!0!==r.nonegate&&0===F.index){p(F);continue}}if("+"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("plus",N);continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)){let e=!0===$.extglob?"\\"+N:N;K({type:"plus",value:N,output:e});continue}if(F.parens>0&&!1!==r.regex){K({type:"plus",value:N});continue}K({type:"plus",value:S});continue}if("@"===N){if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){K({type:"at",value:N,output:""});continue}K({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N="\\"+N);let t=a.exec(e.slice(F.index+1));t&&(N+=t[0],F.index+=t[0].length),K({type:"text",value:N});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=N,$.output=D,F.backtrack=!0,F.consumed+=N;continue}if(!0!==r.noextglob&&"("===V()&&"?"!==V(2)){J("star",N);continue}if("star"===$.type){if(!0===r.noglobstar){F.consumed+=N;continue}let t=$.prev,n=t.prev,i="slash"===t.type||"bos"===t.type,s=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!i||!q()&&"/"!==V())){K({type:"star",value:N,output:""});continue}let o=F.braces>0&&("comma"===t.type||"brace"===t.type),a=B.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){K({type:"star",value:N,output:""});continue}for(;"/**"===e.slice(F.index+1,F.index+4);){let t=e[F.index+4];if(t&&"/"!==t)break;F.consumed+="/**",F.index+=3}if("bos"===t.type&&q()){$.type="globstar",$.value+=N,$.output=R(r),F.output=$.output,F.consumed+=N;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&q()){F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=R(r)+"|$)",$.value+=N,F.output+=t.output+$.output,F.consumed+=N;continue}let c=V();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==V(2)?"|$":"";F.output=F.output.slice(0,-(t.output+$.output).length),t.output="(?:"+t.output,$.type="globstar",$.output=`${R(r)}${k}|${k}${e})`,$.value+=N,F.output+=t.output+$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}if("bos"===t.type&&"/"===c){$.type="globstar",$.value+=N,$.output=`(?:^|${k}|${R(r)}${k})`,F.output=$.output,F.consumed+=N+W(),K({type:"slash",value:N,output:""});continue}F.output=F.output.slice(0,-$.output.length),$.type="globstar",$.output=R(r),$.value+=N,F.output+=$.output,F.consumed+=N;continue}let t={type:"star",value:N,output:D};!0!==r.bash?!$||"bracket"!==$.type&&"paren"!==$.type||!0!==r.regex?(F.index!==F.start&&"slash"!==$.type&&"dot"!==$.type||("dot"===$.type?(F.output+=E,$.output+=E):!0===r.dot?(F.output+=O,$.output+=O):(F.output+=I,$.output+=I),"*"!==V()&&(F.output+=x,$.output+=x)),K(t)):(t.output=N,K(t)):(t.output=".*?","bos"!==$.type&&"slash"!==$.type||(t.output=I+t.output),K(t))}for(;F.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));F.output=n.escapeLast(F.output,"["),z("brackets")}for(;F.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));F.output=n.escapeLast(F.output,"("),z("parens")}for(;F.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));F.output=n.escapeLast(F.output,"{"),z("braces")}if(!0===r.strictSlashes||"star"!==$.type&&"bracket"!==$.type||K({type:"maybe_slash",value:"",output:`${k}?`}),!0===F.backtrack){F.output="";for(let e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};h.fastpaths=(e,t)=>{let r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=n.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:b}=i.globChars(c);let v=r.capture?"":"?:",w=!0===r.bash?".*?":y,_=r.dot?g:f,S=r.dot?m:f;r.capture&&(w=`(${w})`);const k=e=>`(${v}(?:(?!${b}${e.dot?h:l}).)*?)`,x=e=>{switch(e){case"*":return`${_}${d}${w}`;case".*":return`${l}${d}${w}`;case"*.*":return`${_}${w}${l}${d}${w}`;case"*/*":return`${_}${w}${p}${d}${S}${w}`;case"**":return _+k(r);case"**/*":return`(?:${_}${k(r)}${p})?${S}${d}${w}`;case"**/*.*":return`(?:${_}${k(r)}${p})?${S}${w}${l}${d}${w}`;case"**/.*":return`(?:${_}${k(r)}${p})?${l}${d}${w}`;default:{let r=/^(.*?)\.(\w+)$/.exec(e);if(!r)return;let n=x(r[1],t);if(!n)return;return n+l+r[2]}}};let P=x(e);return P&&!0!==r.strictSlashes&&(P+=`${p}?`),P},e.exports=h},function(e,t,r){"use strict";const n=Symbol("kDone"),i=Symbol("kRun");e.exports=class{constructor(e){this[n]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[n])}}}},function(e,t,r){"use strict";class n{constructor(e,t){this.target=t,this.type=e}}class i extends n{constructor(e,t){super("message",t),this.data=e}}class s extends n{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class o extends n{constructor(e){super("open",e)}}class a extends n{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function r(e){t.call(this,new i(e,this))}function n(e,r){t.call(this,new s(e,r,this))}function c(e){t.call(this,new a(e,this))}function u(){t.call(this,new o(this))}"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(n._listener=t,this.on(e,n)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(u._listener=t,this.on(e,u)):this.on(e,t))},removeEventListener(e,t){const r=this.listeners(e);for(let n=0;n<r.length;n++)r[n]!==t&&r[n]._listener!==t||this.removeListener(e,r[n])}};e.exports=c},function(e,t,r){"use strict";const{Duplex:n}=r(17);function i(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;function a(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const c=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){c.push(t)||(r=!1,e._socket.pause())})),e.once("error",(function(e){c.destroyed||c.destroy(e)})),e.once("close",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(i,c);let n=!1;e.once("error",(function(e){n=!0,r(e)})),e.once("close",(function(){n||r(t),process.nextTick(i,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(c._readableState.endEmitted&&c.destroy(),t()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){c._write(t,r,n)}))},c.on("end",s),c.on("error",o),c}},function(e,t,r){"use strict";const n=r(32),{createHash:i}=r(34),{createServer:s,STATUS_CODES:o}=r(47),a=r(93),c=r(176),{format:u,parse:l}=r(180),{GUID:p}=r(52),d=/^[+/0-9A-Za-z]{22}==$/,h=Symbol("kUsedByWebSocketServer");function f(e){e.emit("close")}function g(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||o[t],n={Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${o[t]}\r\n`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",g),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');if(null!=e.port)this._server=s((e,t)=>{const r=o[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t);else if(e.server){if(e.server[h])throw new Error("The HTTP/S server is already being used by another WebSocket server");e.server[h]=!0,this._server=e.server}this._server&&(this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,r)=>{this.handleUpgrade(e,t,r,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t){if(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)return void t.close(()=>this.emit("close"));delete t[h]}process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",g);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),s=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!d.test(i)||8!==s&&13!==s||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=l(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),o[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(s,a,c,u)=>{if(!s)return m(t,a||401,c,u);this.completeUpgrade(i,o,e,t,r,n)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(i,o,e,t,r,n)}completeUpgrade(e,t,r,n,s,o){if(!n.readable||!n.writable)return n.destroy();const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(e+p).digest("base64")}`],d=new c(null);let h=r.headers["sec-websocket-protocol"];if(h&&(h=h.trim().split(/ *, */),h=this.options.handleProtocols?this.options.handleProtocols(h,r):h[0],h&&(l.push(`Sec-WebSocket-Protocol: ${h}`),d.protocol=h)),t[a.extensionName]){const e=t[a.extensionName].params,r=u({[a.extensionName]:[e]});l.push(`Sec-WebSocket-Extensions: ${r}`),d._extensions=t}this.emit("headers",l,r),n.write(l.concat("\r\n").join("\r\n")),n.removeListener("error",g),d.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),o(d)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomInRange=void 0,t.randomInRange=(e,t)=>e+Math.floor(Math.random()*(t-e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(29);t.enumerateProperties=n.remoteFunction((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const s=String(i);return s.startsWith("class ")||s.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},s=[],o=new Set;let a="~",c=void 0===e?this:e;for(;null!=c;c=c.__proto__){a+="~";const e=Object.getOwnPropertyNames(c).filter(e=>e.startsWith(t)&&!e.match(/^\d+$/));for(const t of e){if(o.has(t))continue;o.add(t);const e=Object.getOwnPropertyDescriptor(c,t);let r=n;try{r=i(t,typeof(null==e?void 0:e.value),c[t])}catch(e){}s.push({label:t,sortText:a+t.replace(/^_+/,e=>"{".repeat(e.length)),type:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=n.templateFunction(t.enumerateProperties.source)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryObjectsMessage=void 0;const o=s(r(5)),a=r(69),c=r(406),u=o.loadMessageBundle(r(0).join(__dirname,"adapter/console/queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:u(1,null)};let r;try{r=await c.previewThis({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:u(2,null,e.message)}}const n="
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js
[40][风险] 黑客在2021-05-05 05:51:07时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js，反弹shell类：`):v}function P(v){return typeof v.code=="string"&&typeof v.errno=="number"&&typeof v.syscall=="string"?y.localize(1,null,v.message):v.message||y.localize(2,null)}function g(v=null,D=!1){if(!v)return y.localize(3,null);if(Array.isArray(v)){const k=p.coalesce(v),I=g(k[0],D);return k.length>1?y.localize(4,null,I,k.length):I}if(L.isString(v))return v;if(v.detail){const k=v.detail;if(k.error)return C(k.error,D);if(k.exception)return C(k.exception,D)}return v.stack?C(v,D):v.message?v.message:y.localize(5,null)}e.toErrorMessage=g}),define(x[45],ee([27,28]),function(z,e){return z.create("vs/base/node/processes",e)}),define(x[29],ee([0,1,5,25,17,30,45,12,9,16,15,2,41,23]),function(z,e,y,L,p,C,N,P,g,v,D,k,I,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function r(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function _(l,i){if(k.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};i&&(t.cwd=i);const n=C.execFile("taskkill",["/T","/F","/PID",l.pid.toString()],t);return new Promise(s=>{n.once("error",u=>{s({success:!1,error:u})}),n.once("exit",(u,m)=>{s(u===0?{success:!0}:{success:!1,code:u!==null?u:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?r(t.status):1})}else if(k.isLinux||k.isMacintosh)try{const t=E.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",z).fsPath;return new Promise(n=>{C.execFile(t,[l.pid.toString()],{encoding:"utf8",shell:!0},(s,u,m)=>{n(s?{success:!1,error:s}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else l.kill("SIGKILL");return Promise.resolve({success:!0})}function A(l=P.env){return l.comspec||"cmd.exe"}e.getWindowsShell=A;class O{constructor(i,t,n,s){if(t!==void 0&&n!==void 0&&s!==void 0)this.cmd=i,this.args=t,this.shell=n,this.options=s;else{const u=i;this.cmd=u.command,this.shell=u.isShellCommand,this.args=u.args.slice(0),this.options=u.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const u=Object.create(null);Object.keys(P.env).forEach(m=>{u[m]=P.env[m]}),Object.keys(this.options.env).forEach(m=>{u[m]=this.options.env[m]}),this.options.env=u}}getSanitizedCommand(){let i=this.cmd.toLowerCase();const t=i.lastIndexOf(y.sep);return t!==-1&&(i=i.substring(t+1)),O.WellKnowCommands[i]?i:"other"}start(i){return k.isWindows&&(this.options&&this.options.cwd&&D.isUNC(this.options.cwd)||!this.options&&D.isUNC(P.cwd()))?Promise.reject(new Error(N.localize(0,null))):this.useExec().then(t=>{let n,s;const u=new Promise((m,h)=>{n=m,s=h});if(t){let m=this.cmd;this.args&&(m=m+" "+this.args.join(" ")),this.childProcess=C.exec(m,this.options,(h,T,F)=>{this.childProcess=null;const H=h;H&&H.killed?s({killed:this.terminateRequested,stdout:T.toString(),stderr:F.toString()}):this.handleExec(n,i,h,T,F)})}else{let m=null;const h=T=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(T,n,i,s);const F={terminated:this.terminateRequested};g.isNumber(T)&&(F.cmdCode=T),n(F)};if(this.shell&&k.isWindows){const T=v.deepClone(this.options);T.windowsVerbatimArguments=!0,T.detached=!1;let F=!1,H=!1;const Z=[];let X=this.ensureQuotes(this.cmd);Z.push(X.value),F=X.quoted,this.args&&this.args.forEach(he=>{X=this.ensureQuotes(he),Z.push(X.value),H=H&&X.quoted});const se=["/s","/c"];F?H?se.push('"'+Z.join(" ")+'"'):Z.length>1?se.push('"'+Z[0]+'" '+Z.slice(1).join(" ")):se.push('"'+Z[0]+'"'):se.push(Z.join(" ")),m=C.spawn(A(),se,T)}else this.cmd&&(m=C.spawn(this.cmd,this.args,this.options));m&&(this.childProcess=m,this.childProcessPromise=Promise.resolve(m),this.pidResolve&&(this.pidResolve(g.isNumber(m.pid)?m.pid:-1),this.pidResolve=void 0),m.on("error",T=>{this.childProcess=null,s({terminated:this.terminateRequested,error:T})}),m.pid&&(this.childProcess.on("close",h),this.handleSpawn(m,n,i,s,!0)))}return u})}handleClose(i,t,n,s){}ensureQuotes(i){return O.regexp.test(i)?{value:'"'+i+'"',quoted:!0}:{value:i,quoted:i.length>0&&i[0]==='"'&&i[i.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(i=>i.pid,i=>-1):new Promise(i=>{this.pidResolve=i})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(i=>(this.terminateRequested=!0,_(i,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),i=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(i=>{if(!this.shell||!k.isWindows)return i(!1);const t=C.spawn(A(),["/s","/c"]);t.on("error",n=>i(!0)),t.on("exit",n=>i(!1))})}}e.AbstractProcess=O,O.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},O.regexp=/^[^"].* .*[^"]/;class R extends O{constructor(i,t,n,s){super(i,t,n,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(i,t,n,s,u){[s,u].forEach((m,h)=>{const T=new I.LineDecoder;T.write(m).forEach(Z=>{t({line:Z,source:h===0?0:1})});const H=T.end();H&&t({line:H,source:h===0?0:1})}),i({terminated:this.terminateRequested,error:n})}handleSpawn(i,t,n,s,u){const m=new I.LineDecoder,h=new I.LineDecoder;i.stdout.on("data",T=>{m.write(T).forEach(H=>n({line:H,source:0}))}),i.stderr.on("data",T=>{h.write(T).forEach(H=>n({line:H,source:1}))}),this.stdoutLineDecoder=m,this.stderrLineDecoder=h}handleClose(i,t,n,s){const u=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;u&&n({line:u,source:0});const m=this.stderrLineDecoder?this.stderrLineDecoder.end():null;m&&n({line:m,source:1})}}e.LineProcess=R;function a(l){let i=[],t=!1;const n=function(s){if(t){i.push(s);return}(!l.send(s,m=>{if(m&&console.error(m),t=!1,i.length>0){const h=i.slice(0);i=[],h.forEach(T=>n(T))}})||k.isWindows)&&(t=!0)};return{send:n}}e.createQueuedSender=a;var c;(function(l){async function i(t,n,s){if(y.isAbsolute(t))return t;if(n===void 0&&(n=P.cwd()),y.dirname(t)!=="."||(s===void 0&&g.isString(P.env.PATH)&&(s=P.env.PATH.split(y.delimiter)),s===void 0||s.length===0))return y.join(n,t);async function m(h){return await p.exists(h)?!(await L.promises.stat(h)).isDirectory():!1}for(let h of s){let T;if(y.isAbsolute(h)?T=y.join(h,t):T=y.join(n,h,t),await m(T))return T;let F=T+".com";if(await m(F)||(F=T+".exe",await m(F)))return F}return y.join(n,t)}l.findExecutable=i})(c=e.win32||(e.win32={}))}),define(x[46],ee([0,1,11,2,42,29]),function(z,e,y,L,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function N(E,r){return E===1?L.isWindows?k():C.getWindowsShell(r):v(E,r)}e.getSystemShell=N;function P(E,r){return E===1?L.isWindows?I(r):C.getWindowsShell(r):v(E,r)}e.getSystemShellSync=P;let g=null;function v(E,r){if(L.isLinux&&E===2||L.isMacintosh&&E===3)return"/bin/bash";if(!g){let _;if(L.isWindows)_="/bin/bash";else{if(_=r.SHELL,!_)try{_=(0,y.userInfo)().shell}catch(A){}_||(_="sh"),_==="/bin/false"&&(_="/bin/bash")}g=_}return g}let D=null;async function k(){return D||(D=(await(0,p.getFirstAvailablePowerShellInstallation)()).exePath),D}function I(E){if(D)return D;const r=L.isWindows&&parseFloat((0,y.release)())>=10,_=E.hasOwnProperty("PROCESSOR_ARCHITEW6432"),A=`${E.windir}\\${_?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return r?A:C.getWindowsShell(E)}}),define(x[47],ee([0,1,30,3,10,16,4,29,26,36,13,7,14,2]),function(z,e,y,L,p,C,N,P,g,v,D,k,I,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class r extends g.ChannelServer{constructor(O){super({send:R=>{try{process.send&&process.send(R.buffer.toString("base64"))}catch(a){}},onMessage:N.Event.fromNodeEventEmitter(process,"message",R=>I.VSBuffer.wrap(Buffer.from(R,"base64")))},O);process.once("disconnect",()=>this.dispose())}}e.Server=r;class _{constructor(O,R){this.modulePath=O,this.options=R,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new N.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const a=R&&R.timeout?R.timeout:6e4;this.disposeDelayer=new p.Delayer(a),this.child=null,this._client=null}getChannel(O){const R=this;return{call(a,c,l){return R.requestPromise(O,a,c,l)},listen(a,c){return R.requestEvent(O,a,c)}}}requestPromise(O,R,a,c=D.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(c.isCancellationRequested)return Promise.reject(k.canceled());this.disposeDelayer.cancel();const l=this.getCachedChannel(O),i=(0,p.createCancelablePromise)(s=>l.call(R,a,s)),t=c.onCancellationRequested(()=>i.cancel()),n=(0,L.toDisposable)(()=>i.cancel());return this.activeRequests.add(n),i.finally(()=>{t.dispose(),this.activeRequests.delete(n),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),i}requestEvent(O,R,a){if(!this.disposeDelayer)return N.Event.None;this.disposeDelayer.cancel();let c;const l=new N.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(O).listen(R,a)(l.fire,l),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return l.event}get client(){if(!this._client){const O=this.options&&this.options.args?this.options.args:[],R=Object.create(null);R.env=Object.assign(Object.assign({},(0,C.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(R.env=Object.assign(Object.assign({},R.env),this.options.env)),this.options&&this.options.freshExecArgv&&(R.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(R.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(R.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),R.execArgv===void 0&&(R.execArgv=process.execArgv.filter(u=>!/^--inspect(-brk)?=/.test(u))),E.isMacintosh&&R.env&&delete R.env.DYLD_LIBRARY_PATH,this.child=(0,y.fork)(this.modulePath,O,R);const a=new N.Emitter;N.Event.fromNodeEventEmitter(this.child,"message",u=>u)(u=>{if((0,v.isRemoteConsoleLog)(u)){(0,v.log)(u,`IPC Library: ${this.options.serverName}`);return}a.fire(I.VSBuffer.wrap(Buffer.from(u,"base64")))});const l=this.options.useQueue?(0,P.createQueuedSender)(this.child):this.child,i=u=>this.child&&this.child.connected&&l.send(u.buffer.toString("base64")),t=a.event,n={send:i,onMessage:t};this._client=new g.ChannelClient(n);const s=()=>this.disposeClient();process.once("exit",s),this.child.on("error",u=>console.warn('IPC "'+this.options.serverName+'" errored with '+u)),this.child.on("exit",(u,m)=>{process.removeListener("exit",s),this.activeRequests.forEach(h=>(0,L.dispose)(h)),this.activeRequests.clear(),u!==0&&m!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+u+" and signal "+m),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:u,signal:m})})}return this._client}getCachedChannel(O){let R=this.channels.get(O);return R||(R=this.client.getChannel(O),this.channels.set(O,R)),R}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=_}),define(x[48],ee([27,28]),function(z,e){return z.create("vs/platform/terminal/node/terminalProcess",e)}),define(x[31],ee([0,1]),function(z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var y;(function(P){P.serviceIds=new Map,P.DI_TARGET="$di$target",P.DI_DEPENDENCIES="$di$dependencies";function g(v){return v[P.DI_DEPENDENCIES]||[]}P.getServiceDependencies=g})(y=e._util||(e._util={})),e.IInstantiationService=p("instantiationService");function L(P,g,v,D){g[y.DI_TARGET]===g?g[y.DI_DEPENDENCIES].push({id:P,index:v,optional:D}):(g[y.DI_DEPENDENCIES]=[{id:P,index:v,optional:D}],g[y.DI_TARGET]=g)}function p(P){if(y.serviceIds.has(P))return y.serviceIds.get(P);const g=function(v,D,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");L(g,v,k,!1)};return g.toString=()=>P,y.serviceIds.set(P,g),g}e.createDecorator=p;function C(P){return P}e.refineServiceDecorator=C;function N(P){return function(g,v,D){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");L(P,g,D,!0)}}e.optional=N}),define(x[18],ee([0,1,31,3,2,4,44]),function(z,e,y,L,p,C,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,y.createDecorator)("logService"),e.ILoggerService=(0,y.createDecorator)("loggerService");function P(){return new Date().toISOString()}var g;(function(l){l[l.Trace=0]="Trace",l[l.Debug=1]="Debug",l[l.Info=2]="Info",l[l.Warning=3]="Warning",l[l.Error=4]="Error",l[l.Critical=5]="Critical",l[l.Off=6]="Off"})(g=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=g.Info;class v extends L.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new C.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=v;class D extends v{constructor(i){super();this.logAlways=i}checkLogLevel(i){return this.logAlways||this.getLevel()<=i}trace(i,...t){this.checkLogLevel(g.Trace)&&this.log(g.Trace,this.format([i,...t]))}debug(i,...t){this.checkLogLevel(g.Debug)&&this.log(g.Debug,this.format([i,...t]))}info(i,...t){this.checkLogLevel(g.Info)&&this.log(g.Info,this.format([i,...t]))}warn(i,...t){this.checkLogLevel(g.Warning)&&this.log(g.Warning,this.format([i,...t]))}error(i,...t){if(this.checkLogLevel(g.Error))if(i instanceof Error){const n=Array.prototype.slice.call(arguments);n[0]=i.stack,this.log(g.Error,this.format(n))}else this.log(g.Error,this.format([i,...t]))}critical(i,...t){this.checkLogLevel(g.Critical)&&this.log(g.Critical,this.format([i,...t]))}flush(){}format(i){let t="";for(let n=0;n<i.length;n++){let s=i[n];if(typeof s=="object")try{s=JSON.stringify(s)}catch(u){}t+=(n>0?" ":"")+s}return t}}e.AbstractMessageLogger=D;class k extends v{constructor(i=e.DEFAULT_LOG_LEVEL){super();this.setLevel(i),this.useColors=!p.isWindows}trace(i,...t){this.getLevel()<=g.Trace&&(this.useColors?console.log(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js
[41][风险] 黑客在2021-05-05 05:51:07时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js，反弹shell类：`):m}function R(m){return typeof m.code=="string"&&typeof m.errno=="number"&&typeof m.syscall=="string"?E.localize(1,null,m.message):m.message||E.localize(2,null)}function f(m=null,i=!1){if(!m)return E.localize(3,null);if(Array.isArray(m)){const I=C.coalesce(m),p=f(I[0],i);return I.length>1?E.localize(4,null,p,I.length):p}if(b.isString(m))return m;if(m.detail){const I=m.detail;if(I.error)return S(I.error,i);if(I.exception)return S(I.exception,i)}return m.stack?S(m,i):m.message?m.message:E.localize(5,null)}e.toErrorMessage=f}),define(de[134],me([9,10]),function(Y,e){return Y.create("vs/base/common/jsonErrorMessages",e)}),define(de[135],me([0,1,134]),function(Y,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function b(C){switch(C){case 1:return(0,E.localize)(0,null);case 2:return(0,E.localize)(1,null);case 3:return(0,E.localize)(2,null);case 4:return(0,E.localize)(3,null);case 5:return(0,E.localize)(4,null);case 6:return(0,E.localize)(5,null);case 7:return(0,E.localize)(6,null);case 8:return(0,E.localize)(7,null);case 9:return(0,E.localize)(8,null);default:return""}}e.getParseErrorMessage=b}),define(de[136],me([9,10]),function(Y,e){return Y.create("vs/base/node/processes",e)}),define(de[83],me([0,1,4,15,21,37,136,24,11,20,29,5,75,8]),function(Y,e,E,b,C,S,k,R,f,m,i,I,p,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function o(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function a(c,t){if(I.isWindows)try{const n={stdio:["pipe","pipe","ignore"]};t&&(n.cwd=t);const r=S.execFile("taskkill",["/T","/F","/PID",c.pid.toString()],n);return new Promise(s=>{r.once("error",u=>{s({success:!1,error:u})}),r.once("exit",(u,h)=>{s(u===0?{success:!0}:{success:!1,code:u!==null?u:1})})})}catch(n){return Promise.resolve({success:!1,error:n,code:n.status?o(n.status):1})}else if(I.isLinux||I.isMacintosh)try{const n=D.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Y).fsPath;return new Promise(r=>{S.execFile(n,[c.pid.toString()],{encoding:"utf8",shell:!0},(s,u,h)=>{r(s?{success:!1,error:s}:{success:!0})})})}catch(n){return Promise.resolve({success:!1,error:n})}else c.kill("SIGKILL");return Promise.resolve({success:!0})}function w(c=R.env){return c.comspec||"cmd.exe"}e.getWindowsShell=w;class _{constructor(t,n,r,s){if(n!==void 0&&r!==void 0&&s!==void 0)this.cmd=t,this.args=n,this.shell=r,this.options=s;else{const u=t;this.cmd=u.command,this.shell=u.isShellCommand,this.args=u.args.slice(0),this.options=u.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const u=Object.create(null);Object.keys(R.env).forEach(h=>{u[h]=R.env[h]}),Object.keys(this.options.env).forEach(h=>{u[h]=this.options.env[h]}),this.options.env=u}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const n=t.lastIndexOf(E.sep);return n!==-1&&(t=t.substring(n+1)),_.WellKnowCommands[t]?t:"other"}start(t){return I.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(R.cwd()))?Promise.reject(new Error(k.localize(0,null))):this.useExec().then(n=>{let r,s;const u=new Promise((h,y)=>{r=h,s=y});if(n){let h=this.cmd;this.args&&(h=h+" "+this.args.join(" ")),this.childProcess=S.exec(h,this.options,(y,P,v)=>{this.childProcess=null;const g=y;g&&g.killed?s({killed:this.terminateRequested,stdout:P.toString(),stderr:v.toString()}):this.handleExec(r,t,y,P,v)})}else{let h=null;const y=P=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(P,r,t,s);const v={terminated:this.terminateRequested};f.isNumber(P)&&(v.cmdCode=P),r(v)};if(this.shell&&I.isWindows){const P=m.deepClone(this.options);P.windowsVerbatimArguments=!0,P.detached=!1;let v=!1,g=!1;const F=[];let O=this.ensureQuotes(this.cmd);F.push(O.value),v=O.quoted,this.args&&this.args.forEach(oe=>{O=this.ensureQuotes(oe),F.push(O.value),g=g&&O.quoted});const x=["/s","/c"];v?g?x.push('"'+F.join(" ")+'"'):F.length>1?x.push('"'+F[0]+'" '+F.slice(1).join(" ")):x.push('"'+F[0]+'"'):x.push(F.join(" ")),h=S.spawn(w(),x,P)}else this.cmd&&(h=S.spawn(this.cmd,this.args,this.options));h&&(this.childProcess=h,this.childProcessPromise=Promise.resolve(h),this.pidResolve&&(this.pidResolve(f.isNumber(h.pid)?h.pid:-1),this.pidResolve=void 0),h.on("error",P=>{this.childProcess=null,s({terminated:this.terminateRequested,error:P})}),h.pid&&(this.childProcess.on("close",y),this.handleSpawn(h,r,t,s,!0)))}return u})}handleClose(t,n,r,s){}ensureQuotes(t){return _.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='"'&&t[t.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,a(t,this.options.cwd).then(n=>(n.success&&(this.childProcess=null),n))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!I.isWindows)return t(!1);const n=S.spawn(w(),["/s","/c"]);n.on("error",r=>t(!0)),n.on("exit",r=>t(!1))})}}e.AbstractProcess=_,_.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},_.regexp=/^[^"].* .*[^"]/;class A extends _{constructor(t,n,r,s){super(t,n,r,s);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,n,r,s,u){[s,u].forEach((h,y)=>{const P=new p.LineDecoder;P.write(h).forEach(F=>{n({line:F,source:y===0?0:1})});const g=P.end();g&&n({line:g,source:y===0?0:1})}),t({terminated:this.terminateRequested,error:r})}handleSpawn(t,n,r,s,u){const h=new p.LineDecoder,y=new p.LineDecoder;t.stdout.on("data",P=>{h.write(P).forEach(g=>r({line:g,source:0}))}),t.stderr.on("data",P=>{y.write(P).forEach(g=>r({line:g,source:1}))}),this.stdoutLineDecoder=h,this.stderrLineDecoder=y}handleClose(t,n,r,s){const u=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;u&&r({line:u,source:0});const h=this.stderrLineDecoder?this.stderrLineDecoder.end():null;h&&r({line:h,source:1})}}e.LineProcess=A;function d(c){let t=[],n=!1;const r=function(s){if(n){t.push(s);return}(!c.send(s,h=>{if(h&&console.error(h),n=!1,t.length>0){const y=t.slice(0);t=[],y.forEach(P=>r(P))}})||I.isWindows)&&(n=!0)};return{send:r}}e.createQueuedSender=d;var l;(function(c){async function t(n,r,s){if(E.isAbsolute(n))return n;if(r===void 0&&(r=R.cwd()),E.dirname(n)!=="."||(s===void 0&&f.isString(R.env.PATH)&&(s=R.env.PATH.split(E.delimiter)),s===void 0||s.length===0))return E.join(r,n);async function h(y){return await C.exists(y)?!(await b.promises.stat(y)).isDirectory():!1}for(let y of s){let P;if(E.isAbsolute(y)?P=E.join(y,n):P=E.join(r,y,n),await h(P))return P;let v=P+".com";if(await h(v)||(v=P+".exe",await h(v)))return v}return E.join(r,n)}c.findExecutable=t})(l=e.win32||(e.win32={}))}),define(de[137],me([0,1,25,5,124,83]),function(Y,e,E,b,C,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function k(D,o){return D===1?b.isWindows?I():S.getWindowsShell(o):m(D,o)}e.getSystemShell=k;function R(D,o){return D===1?b.isWindows?p(o):S.getWindowsShell(o):m(D,o)}e.getSystemShellSync=R;let f=null;function m(D,o){if(b.isLinux&&D===2||b.isMacintosh&&D===3)return"/bin/bash";if(!f){let a;if(b.isWindows)a="/bin/bash";else{if(a=o.SHELL,!a)try{a=(0,E.userInfo)().shell}catch(w){}a||(a="sh"),a==="/bin/false"&&(a="/bin/bash")}f=a}return f}let i=null;async function I(){return i||(i=(await(0,C.getFirstAvailablePowerShellInstallation)()).exePath),i}function p(D){if(i)return i;const o=b.isWindows&&parseFloat((0,E.release)())>=10,a=D.hasOwnProperty("PROCESSOR_ARCHITEW6432"),w=`${D.windir}\\${a?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return o?w:S.getWindowsShell(D)}}),define(de[54],me([0,1,37,2,14,20,6,83,35,116,28,12,18,5]),function(Y,e,E,b,C,S,k,R,f,m,i,I,p,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class o extends f.ChannelServer{constructor(_){super({send:A=>{try{process.send&&process.send(A.buffer.toString("base64"))}catch(d){}},onMessage:k.Event.fromNodeEventEmitter(process,"message",A=>p.VSBuffer.wrap(Buffer.from(A,"base64")))},_);process.once("disconnect",()=>this.dispose())}}e.Server=o;class a{constructor(_,A){this.modulePath=_,this.options=A,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new k.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const d=A&&A.timeout?A.timeout:6e4;this.disposeDelayer=new C.Delayer(d),this.child=null,this._client=null}getChannel(_){const A=this;return{call(d,l,c){return A.requestPromise(_,d,l,c)},listen(d,l){return A.requestEvent(_,d,l)}}}requestPromise(_,A,d,l=i.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(l.isCancellationRequested)return Promise.reject(I.canceled());this.disposeDelayer.cancel();const c=this.getCachedChannel(_),t=(0,C.createCancelablePromise)(s=>c.call(A,d,s)),n=l.onCancellationRequested(()=>t.cancel()),r=(0,b.toDisposable)(()=>t.cancel());return this.activeRequests.add(r),t.finally(()=>{n.dispose(),this.activeRequests.delete(r),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(_,A,d){if(!this.disposeDelayer)return k.Event.None;this.disposeDelayer.cancel();let l;const c=new k.Emitter({onFirstListenerAdd:()=>{l=this.getCachedChannel(_).listen(A,d)(c.fire,c),this.activeRequests.add(l)},onLastListenerRemove:()=>{this.activeRequests.delete(l),l.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return c.event}get client(){if(!this._client){const _=this.options&&this.options.args?this.options.args:[],A=Object.create(null);A.env=Object.assign(Object.assign({},(0,S.deepClone)(process.env)),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(A.env=Object.assign(Object.assign({},A.env),this.options.env)),this.options&&this.options.freshExecArgv&&(A.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(A.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(A.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),A.execArgv===void 0&&(A.execArgv=process.execArgv.filter(u=>!/^--inspect(-brk)?=/.test(u))),D.isMacintosh&&A.env&&delete A.env.DYLD_LIBRARY_PATH,this.child=(0,E.fork)(this.modulePath,_,A);const d=new k.Emitter;k.Event.fromNodeEventEmitter(this.child,"message",u=>u)(u=>{if((0,m.isRemoteConsoleLog)(u)){(0,m.log)(u,`IPC Library: ${this.options.serverName}`);return}d.fire(p.VSBuffer.wrap(Buffer.from(u,"base64")))});const c=this.options.useQueue?(0,R.createQueuedSender)(this.child):this.child,t=u=>this.child&&this.child.connected&&c.send(u.buffer.toString("base64")),n=d.event,r={send:t,onMessage:n};this._client=new f.ChannelClient(r);const s=()=>this.disposeClient();process.once("exit",s),this.child.on("error",u=>console.warn('IPC "'+this.options.serverName+'" errored with '+u)),this.child.on("exit",(u,h)=>{process.removeListener("exit",s),this.activeRequests.forEach(y=>(0,b.dispose)(y)),this.activeRequests.clear(),u!==0&&h!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+u+" and signal "+h),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:u,signal:h})})}return this._client}getCachedChannel(_){let A=this.channels.get(_);return A||(A=this.client.getChannel(_),this.channels.set(_,A)),A}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=a}),define(de[138],me([9,10]),function(Y,e){return Y.create("vs/base/node/zip",e)}),define(de[139],me([9,10]),function(Y,e){return Y.create("vs/platform/configuration/common/configurationRegistry",e)}),define(de[140],me([9,10]),function(Y,e){return Y.create("vs/platform/environment/node/argv",e)}),define(de[141],me([9,10]),function(Y,e){return Y.create("vs/platform/environment/node/argvHelper",e)}),define(de[142],me([9,10]),function(Y,e){return Y.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(de[143],me([9,10]),function(Y,e){return Y.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(de[144],me([9,10]),function(Y,e){return Y.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(de[145],me([9,10]),function(Y,e){return Y.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(de[146],me([9,10]),function(Y,e){return Y.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(de[147],me([9,10]),function(Y,e){return Y.create("vs/platform/extensions/common/extensionValidator",e)}),define(de[148],me([9,10]),function(Y,e){return Y.create("vs/platform/files/common/fileService",e)}),define(de[149],me([9,10]),function(Y,e){return Y.create("vs/platform/files/common/files",e)}),define(de[150],me([9,10]),function(Y,e){return Y.create("vs/platform/files/common/io",e)}),define(de[151],me([9,10]),function(Y,e){return Y.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(de[152],me([9,10]),function(Y,e){return Y.create("vs/platform/markers/common/markers",e)}),define(de[153],me([9,10]),function(Y,e){return Y.create("vs/platform/request/common/request",e)}),define(de[154],me([9,10]),function(Y,e){return Y.create("vs/platform/telemetry/common/telemetryService",e)}),define(de[155],me([9,10]),function(Y,e){return Y.create("vs/platform/workspaces/common/workspaces",e)}),define(de[156],me([9,10]),function(Y,e){return Y.create("vs/server/remoteAgentEnvironmentImpl",e)}),define(de[157],me([9,10]),function(Y,e){return Y.create("vs/server/serverEnvironmentService",e)}),define(de[158],me([9,10]),function(Y,e){return Y.create("vs/workbench/common/editor",e)}),define(de[159],me([9,10]),function(Y,e){return Y.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(de[160],me([9,10]),function(Y,e){return Y.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(de[161],me([0,1,6,2]),function(Y,e,E,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class C{constructor(){this._onCloseEmitter=new E.Emitter,this._onReloadEmitter=new E.Emitter,this._onTerminateEmitter=new E.Emitter,this._onAttachEmitter=new E.Emitter}call(R,f,m){switch(f){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:m[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:m[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:m[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:m[0],port:m[1],subId:m[2]}))}throw new Error("Method not implemented.")}listen(R,f,m){switch(f){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=C,C.ChannelName="extensionhostdebugservice";class S extends b.Disposable{constructor(R){super();this.channel=R}reload(R){this.channel.call("reload",[R])}get onReload(){return this.channel.listen("reload")}close(R){this.channel.call("close",[R])}get onClose(){return this.channel.listen("close")}attachSession(R,f,m){this.channel.call("attach",[R,f,m])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(R,f){this.channel.call("terminate",[R,f])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(R,f,m){return this.channel.call("openExtensionDevelopmentHostWindow",[R,f||{},m])}}e.ExtensionHostDebugChannelClient=S}),define(de[162],me([0,1,3]),function(Y,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadServiceChannelClient=e.DownloadServiceChannel=void 0;class b{constructor(k){this.service=k}listen(k,R,f){throw new Error("Invalid listen")}call(k,R,f){switch(R){case"download":return this.service.download(E.URI.revive(f[0]),E.URI.revive(f[1]))}throw new Error("Invalid call")}}e.DownloadServiceChannel=b;class C{constructor(k,R){this.channel=k,this.getUriTransformer=R}async download(k,R){const f=this.getUriTransformer();f&&(k=f.transformOutgoingURI(k),R=f.transformOutgoingURI(R)),await this.channel.call("download",[k,R])}}e.DownloadServiceChannelClient=C}),define(de[163],me([0,1]),function(Y,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var E;(function(k){k[k.ACTIVATE=0]="ACTIVATE",k[k.RESTORE=1]="RESTORE",k[k.PRESERVE=2]="PRESERVE"})(E=e.EditorActivation||(e.EditorActivation={}));var b;(function(k){k[k.PICK=1]="PICK",k[k.DISABLED=2]="DISABLED"})(b=e.EditorOverride||(e.EditorOverride={}));var C;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(C=e.EditorOpenContext||(e.EditorOpenContext={}));var S;(function(k){k[k.Center=0]="Center",k[k.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",k[k.NearTop=2]="NearTop",k[k.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(S=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))});var Oe=this&&this.__decorate||function(Y,e,E,b){var C=arguments.length,S=C<3?e:b===null?b=Object.getOwnPropertyDescriptor(e,E):b,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(Y,e,E,b);else for(var R=Y.length-1;R>=0;R--)(k=Y[R])&&(S=(C<3?k(S):C>3?k(e,E,S):k(e,E))||S);return C>3&&S&&Object.defineProperty(e,E,S),S};define(de[164],me([0,1,4,17,109,132,8,3,24]),function(Y,e,E,b,C,S,k,R,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class m{constructor(o,a,w){this._args=o,this.paths=a,this.productService=w}get appRoot(){return(0,E.dirname)(k.FileAccess.asFileUri("",Y).fsPath)}get userHome(){return R.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return R.URI.file((0,E.join)(this.userDataPath,"User"))}get tmpDir(){return R.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,b.joinPath)(this.userRoamingDataHome,"settings.json")}get userDataSyncHome(){return(0,b.joinPath)(this.userRoamingDataHome,"sync")}get logsPath(){if(!this.args.logsPath){const o=(0,S.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,E.join)(this.userDataPath,"logs",o)}return this.args.logsPath}get userDataSyncLogResource(){return R.URI.file((0,E.join)(this.logsPath,"userDataSync.log"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,b.joinPath)(R.URI.file((0,E.join)(this.userDataPath,"Machine")),"settings.json")}get globalStorageHome(){return R.URI.joinPath(this.appSettingsHome,"globalStorage")}get workspaceStorageHome(){return R.URI.joinPath(this.appSettingsHome,"workspaceStorage")}get keybindingsResource(){return(0,b.joinPath)(this.userRoamingDataHome,"keybindings.json")}get keyboardLayoutResource(){return(0,b.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const o=f.env.VSCODE_PORTABLE;return o?R.URI.file((0,E.join)(o,"argv.json")):(0,b.joinPath)(this.userHome,this.productService.dataFolderName,"argv.json")}get snippetsHome(){return(0,b.joinPath)(this.userRoamingDataHome,"snippets")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return R.URI.file((0,E.join)(this.userDataPath,"Workspaces"))}get installSourcePath(){return(0,E.join)(this.userDataPath,"installSource")}get builtinExtensionsPath(){const o=this.args["builtin-extensions-dir"];return o?(0,E.resolve)(o):(0,E.normalize)((0,E.join)(k.FileAccess.asFileUri("",Y).fsPath,"..","extensions"))}get extensionsDownloadPath(){const o=this.args["extensions-download-dir"];return o?(0,E.resolve)(o):(0,E.join)(this.userDataPath,"CachedExtensionVSIXs")}get extensionsPath(){const o=this.args["extensions-dir"];if(o)return(0,E.resolve)(o);const a=f.env.VSCODE_EXTENSIONS;if(a)return a;const w=f.env.VSCODE_PORTABLE;return w?(0,E.join)(w,"extensions"):(0,b.joinPath)(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const o=this.args.extensionDevelopmentPath;if(Array.isArray(o))return o.map(a=>/^[^:/?#]+?:\/\//.test(a)?R.URI.parse(a):R.URI.file((0,E.normalize)(a)))}get extensionDevelopmentKind(){var o;return(o=this.args.extensionDevelopmentKind)===null||o===void 0?void 0:o.map(a=>a==="ui"||a==="workspace"||a==="web"?a:"workspace")}get extensionTestsLocationURI(){const o=this.args.extensionTestsPath;if(o)return/^[^:/?#]+?:\/\//.test(o)?R.URI.parse(o):R.URI.file((0,E.normalize)(o))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const o=this.args["disable-extension"];if(o){if(typeof o=="string")return[o];if(Array.isArray(o)&&o.length>0)return o}return!1}get debugExtensionHost(){return i(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!f.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,b.joinPath)(R.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return R.URI.file((0,E.join)(this.logsPath,"telemetry.log"))}get disableTelemetry(){return!!this.args["disable-telemetry"]}get args(){return this._args}}Oe([C.memoize],m.prototype,"appRoot",null),Oe([C.memoize],m.prototype,"userHome",null),Oe([C.memoize],m.prototype,"userDataPath",null),Oe([C.memoize],m.prototype,"appSettingsHome",null),Oe([C.memoize],m.prototype,"tmpDir",null),Oe([C.memoize],m.prototype,"userRoamingDataHome",null),Oe([C.memoize],m.prototype,"settingsResource",null),Oe([C.memoize],m.prototype,"userDataSyncHome",null),Oe([C.memoize],m.prototype,"userDataSyncLogResource",null),Oe([C.memoize],m.prototype,"sync",null),Oe([C.memoize],m.prototype,"machineSettingsResource",null),Oe([C.memoize],m.prototype,"globalStorageHome",null),Oe([C.memoize],m.prototype,"workspaceStorageHome",null),Oe([C.memoize],m.prototype,"keybindingsResource",null),Oe([C.memoize],m.prototype,"keyboardLayoutResource",null),Oe([C.memoize],m.prototype,"argvResource",null),Oe([C.memoize],m.prototype,"snippetsHome",null),Oe([C.memoize],m.prototype,"isExtensionDevelopment",null),Oe([C.memoize],m.prototype,"untitledWorkspacesHome",null),Oe([C.memoize],m.prototype,"installSourcePath",null),Oe([C.memoize],m.prototype,"builtinExtensionsPath",null),Oe([C.memoize],m.prototype,"extensionsPath",null),Oe([C.memoize],m.prototype,"extensionDevelopmentLocationURI",null),Oe([C.memoize],m.prototype,"extensionDevelopmentKind",null),Oe([C.memoize],m.prototype,"extensionTestsLocationURI",null),Oe([C.memoize],m.prototype,"debugExtensionHost",null),Oe([C.memoize],m.prototype,"serviceMachineIdResource",null),Oe([C.memoize],m.prototype,"telemetryLogResource",null),e.AbstractNativeEnvironmentService=m;function i(D,o){return p(D["inspect-extensions"],D["inspect-brk-extensions"],5870,o,D.debugId)}e.parseExtensionHostPort=i;function I(D,o){return p(D["inspect-search"],D["inspect-brk-search"],5876,o)}e.parseSearchPort=I;function p(D,o,a,w,_){const d=Number(o||D)||(w?null:a),l=d?Boolean(!!o):!1;return{port:d,break:l,debugId:_}}}),define(de[55],me([0,1,234,140,5]),function(Y,e,E,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const S={o:(0,b.localize)(0,null),e:(0,b.localize)(1,null),t:(0,b.localize)(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:(0,b.localize)(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:(0,b.localize)(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:(0,b.localize)(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:(0,b.localize)(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:(0,b.localize)(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:(0,b.localize)(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:(0,b.localize)(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:(0,b.localize)(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:(0,b.localize)(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:(0,b.localize)(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"list-extensions":{type:"boolean",cat:"e",description:(0,b.localize)(13,null)},"show-versions":{type:"boolean",cat:"e",description:(0,b.localize)(14,null)},category:{type:"string",cat:"e",description:(0,b.localize)(15,null)},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:(0,b.localize)(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:(0,b.localize)(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:(0,b.localize)(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:(0,b.localize)(19,null)},verbose:{type:"boolean",cat:"t",description:(0,b.localize)(20,null)},log:{type:"string",cat:"t",args:"level",description:(0,b.localize)(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:(0,b.localize)(22,null)},"prof-startup":{type:"boolean",cat:"t",description:(0,b.localize)(23,null)},"prof-append-timers":{type:"string"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:(0,b.localize)(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:(0,b.localize)(25,null)},sync:{type:"string",cat:"t",description:(0,b.localize)(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:(0,b.localize)(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:(0,b.localize)(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:(0,b.localize)(29,null)},"max-memory":{type:"string",cat:"t",description:(0,b.localize)(30,null)},telemetry:{type:"boolean",cat:"t",description:(0,b.localize)(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const k={onUnknownOption:()=>{},onMultipleValues:()=>{}};function R(o,a,w=k){const _={},A=[],d=[];for(let n in a){const r=a[n];r.alias&&(_[n]=r.alias),r.type==="string"||r.type==="string[]"?(A.push(n),r.deprecates&&A.push(r.deprecates)):r.type==="boolean"&&(d.push(n),r.deprecates&&d.push(r.deprecates))}const l=E(o,{string:A,boolean:d,alias:_}),c={},t=l;c._=l._.map(n=>String(n)).filter(n=>n.length>0),delete t._;for(let n in a){const r=a[n];r.alias&&delete t[r.alias];let s=t[n];r.deprecates&&t.hasOwnProperty(r.deprecates)&&(s||(s=t[r.deprecates]),delete t[r.deprecates]),typeof s!="undefined"&&(r.type==="string[]"?s&&!Array.isArray(s)&&(s=[s]):r.type==="string"&&Array.isArray(s)&&(s=s.pop(),w.onMultipleValues(n,s)),c[n]=s),delete t[n]}for(let n in t)w.onUnknownOption(n);return c}e.parseArgs=R;function f(o,a){let w="";return a.args&&(Array.isArray(a.args)?w=` <${a.args.join("> <")}>`:w=` <${a.args}>`),a.alias?`-${a.alias} --${o}${w}`:`--${o}${w}`}function m(o,a){let w=0,_=[];for(const c in o){const t=o[c],n=f(c,t);w=Math.max(w,n.length),_.push([n,t.description])}let A=w+2+1;if(a-A<25)return _.reduce((c,t)=>c.concat([` ${t[0]}`,` ${t[1]}`]),[]);let d=a-A-1,l=[];for(const c of _){let t=c[0],n=I(c[1],d),r=i(A-t.length-2);l.push(" "+t+r+n[0]);for(let s=1;s<n.length;s++)l.push(i(A)+n[s])}return l}e.formatOptions=m;function i(o){return" ".repeat(o)}function I(o,a){let w=[];for(;o.length;){let _=o.length<a?o.length:o.lastIndexOf(" ",a),A=o.slice(0,_).trim();o=o.slice(_),w.push(A)}return w}function p(o,a,w,_,A=!0){const d=process.stdout.isTTY&&process.stdout.columns||80;let l=[`${o} ${w}`];l.push(""),l.push(`${(0,b.localize)(32,null)}: ${a} [${(0,b.localize)(33,null)}][${(0,b.localize)(34,null)}...]`),l.push(""),A&&(C.isWindows?l.push((0,b.localize)(35,null,a)):l.push((0,b.localize)(36,null,a)),l.push(""));const c={};for(const t in _){const n=_[t];if(n.description&&n.cat){let r=c[n.cat];r||(c[n.cat]=r={}),r[t]=n}}for(let t in c){const n=t;let r=c[n];r&&(l.push(S[n]),l.push(...m(r,d)),l.push(""))}return l.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js
[42][风险] 黑客在2021-05-05 05:51:07时间，植入了恶意文件/root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js，反弹shell类：`):k}function P(k){return typeof k.code=="string"&&typeof k.errno=="number"&&typeof k.syscall=="string"?_.localize(1,null,k.message):k.message||_.localize(2,null)}function D(k=null,i=!1){if(!k)return _.localize(3,null);if(Array.isArray(k)){const C=T.coalesce(k),f=D(C[0],i);return C.length>1?_.localize(4,null,f,C.length):f}if(I.isString(k))return k;if(k.detail){const C=k.detail;if(C.error)return A(C.error,i);if(C.exception)return A(C.exception,i)}return k.stack?A(k,i):k.message?k.message:_.localize(5,null)}e.toErrorMessage=D}),define(ge[148],pe([18,19]),function(G,e){return G.create("vs/base/node/processes",e)}),define(ge[78],pe([0,1,8,37,26,38,148,36,11,23,29,10,137,12]),function(G,e,_,I,T,A,y,P,D,k,i,C,f,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function a(g){switch(g){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function d(g,t){if(C.isWindows)try{const n={stdio:["pipe","pipe","ignore"]};t&&(n.cwd=t);const s=A.execFile("taskkill",["/T","/F","/PID",g.pid.toString()],n);return new Promise(r=>{s.once("error",o=>{r({success:!1,error:o})}),s.once("exit",(o,c)=>{r(o===0?{success:!0}:{success:!1,code:o!==null?o:1})})})}catch(n){return Promise.resolve({success:!1,error:n,code:n.status?a(n.status):1})}else if(C.isLinux||C.isMacintosh)try{const n=m.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",G).fsPath;return new Promise(s=>{A.execFile(n,[g.pid.toString()],{encoding:"utf8",shell:!0},(r,o,c)=>{s(r?{success:!1,error:r}:{success:!0})})})}catch(n){return Promise.resolve({success:!1,error:n})}else g.kill("SIGKILL");return Promise.resolve({success:!0})}function E(g=P.env){return g.comspec||"cmd.exe"}e.getWindowsShell=E;class b{constructor(t,n,s,r){if(n!==void 0&&s!==void 0&&r!==void 0)this.cmd=t,this.args=n,this.shell=s,this.options=r;else{const o=t;this.cmd=o.command,this.shell=o.isShellCommand,this.args=o.args.slice(0),this.options=o.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const o=Object.create(null);Object.keys(P.env).forEach(c=>{o[c]=P.env[c]}),Object.keys(this.options.env).forEach(c=>{o[c]=this.options.env[c]}),this.options.env=o}}getSanitizedCommand(){let t=this.cmd.toLowerCase();const n=t.lastIndexOf(_.sep);return n!==-1&&(t=t.substring(n+1)),b.WellKnowCommands[t]?t:"other"}start(t){return C.isWindows&&(this.options&&this.options.cwd&&i.isUNC(this.options.cwd)||!this.options&&i.isUNC(P.cwd()))?Promise.reject(new Error(y.localize(0,null))):this.useExec().then(n=>{let s,r;const o=new Promise((c,p)=>{s=c,r=p});if(n){let c=this.cmd;this.args&&(c=c+" "+this.args.join(" ")),this.childProcess=A.exec(c,this.options,(p,v,u)=>{this.childProcess=null;const w=p;w&&w.killed?r({killed:this.terminateRequested,stdout:v.toString(),stderr:u.toString()}):this.handleExec(s,t,p,v,u)})}else{let c=null;const p=v=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(v,s,t,r);const u={terminated:this.terminateRequested};D.isNumber(v)&&(u.cmdCode=v),s(u)};if(this.shell&&C.isWindows){const v=k.deepClone(this.options);v.windowsVerbatimArguments=!0,v.detached=!1;let u=!1,w=!1;const R=[];let N=this.ensureQuotes(this.cmd);R.push(N.value),u=N.quoted,this.args&&this.args.forEach(re=>{N=this.ensureQuotes(re),R.push(N.value),w=w&&N.quoted});const j=["/s","/c"];u?w?j.push('"'+R.join(" ")+'"'):R.length>1?j.push('"'+R[0]+'" '+R.slice(1).join(" ")):j.push('"'+R[0]+'"'):j.push(R.join(" ")),c=A.spawn(E(),j,v)}else this.cmd&&(c=A.spawn(this.cmd,this.args,this.options));c&&(this.childProcess=c,this.childProcessPromise=Promise.resolve(c),this.pidResolve&&(this.pidResolve(D.isNumber(c.pid)?c.pid:-1),this.pidResolve=void 0),c.on("error",v=>{this.childProcess=null,r({terminated:this.terminateRequested,error:v})}),c.pid&&(this.childProcess.on("close",p),this.handleSpawn(c,s,t,r,!0)))}return o})}handleClose(t,n,s,r){}ensureQuotes(t){return b.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&t[0]==='"'&&t[t.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(t=>t.pid,t=>-1):new Promise(t=>{this.pidResolve=t})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(t=>(this.terminateRequested=!0,d(t,this.options.cwd).then(n=>(n.success&&(this.childProcess=null),n))),t=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(t=>{if(!this.shell||!C.isWindows)return t(!1);const n=A.spawn(E(),["/s","/c"]);n.on("error",s=>t(!0)),n.on("exit",s=>t(!1))})}}e.AbstractProcess=b,b.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},b.regexp=/^[^"].* .*[^"]/;class S extends b{constructor(t,n,s,r){super(t,n,s,r);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(t,n,s,r,o){[r,o].forEach((c,p)=>{const v=new f.LineDecoder;v.write(c).forEach(R=>{n({line:R,source:p===0?0:1})});const w=v.end();w&&n({line:w,source:p===0?0:1})}),t({terminated:this.terminateRequested,error:s})}handleSpawn(t,n,s,r,o){const c=new f.LineDecoder,p=new f.LineDecoder;t.stdout.on("data",v=>{c.write(v).forEach(w=>s({line:w,source:0}))}),t.stderr.on("data",v=>{p.write(v).forEach(w=>s({line:w,source:1}))}),this.stdoutLineDecoder=c,this.stderrLineDecoder=p}handleClose(t,n,s,r){const o=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;o&&s({line:o,source:0});const c=this.stderrLineDecoder?this.stderrLineDecoder.end():null;c&&s({line:c,source:1})}}e.LineProcess=S;function h(g){let t=[],n=!1;const s=function(r){if(n){t.push(r);return}(!g.send(r,c=>{if(c&&console.error(c),n=!1,t.length>0){const p=t.slice(0);t=[],p.forEach(v=>s(v))}})||C.isWindows)&&(n=!0)};return{send:s}}e.createQueuedSender=h;var l;(function(g){async function t(n,s,r){if(_.isAbsolute(n))return n;if(s===void 0&&(s=P.cwd()),_.dirname(n)!=="."||(r===void 0&&D.isString(P.env.PATH)&&(r=P.env.PATH.split(_.delimiter)),r===void 0||r.length===0))return _.join(s,n);async function c(p){return await T.exists(p)?!(await I.promises.stat(p)).isDirectory():!1}for(let p of r){let v;if(_.isAbsolute(p)?v=_.join(p,n):v=_.join(s,p,n),await c(v))return v;let u=v+".com";if(await c(u)||(u=v+".exe",await c(u)))return u}return _.join(s,n)}g.findExecutable=t})(l=e.win32||(e.win32={}))}),define(ge[149],pe([0,1,48,10,104,78]),function(G,e,_,I,T,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function y(m,a){return m===1?I.isWindows?C():A.getWindowsShell(a):k(m,a)}e.getSystemShell=y;function P(m,a){return m===1?I.isWindows?f(a):A.getWindowsShell(a):k(m,a)}e.getSystemShellSync=P;let D=null;function k(m,a){if(I.isLinux&&m===2||I.isMacintosh&&m===3)return"/bin/bash";if(!D){let d;if(I.isWindows)d="/bin/bash";else{if(d=a.SHELL,!d)try{d=(0,_.userInfo)().shell}catch(E){}d||(d="sh"),d==="/bin/false"&&(d="/bin/bash")}D=d}return D}let i=null;async function C(){return i||(i=(await(0,T.getFirstAvailablePowerShellInstallation)()).exePath),i}function f(m){if(i)return i;const a=I.isWindows&&parseFloat((0,_.release)())>=10,d=m.hasOwnProperty("PROCESSOR_ARCHITEW6432"),E=`${m.windir}\\${d?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return a?E:A.getWindowsShell(m)}}),define(ge[150],pe([18,19]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(ge[151],pe([0,1,150,10,109]),function(G,e,_,I,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var A;(function(J){J[J.None=0]="None",J[J.Keep=1]="Keep",J[J.Brackets=2]="Brackets",J[J.Advanced=3]="Advanced",J[J.Full=4]="Full"})(A=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class y{constructor(ie){this._values=ie}hasChanged(ie){return this._values[ie]}}e.ConfigurationChangedEvent=y;class P{constructor(){this._values=[]}_read(ie){return this._values[ie]}get(ie){return this._values[ie]}_write(ie,_e){this._values[ie]=_e}}e.ValidatedEditorOptions=P;class D{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=D;class k{constructor(ie,_e,Ne,ze){this.id=ie,this.name=_e,this.defaultValue=Ne,this.schema=ze}compute(ie,_e,Ne){return Ne}}class i{constructor(ie,_e=null){this.schema=void 0,this.id=ie,this.name="_never_",this.defaultValue=void 0,this.deps=_e}validate(ie){return this.defaultValue}}class C{constructor(ie,_e,Ne,ze){this.id=ie,this.name=_e,this.defaultValue=Ne,this.schema=ze}validate(ie){return typeof ie=="undefined"?this.defaultValue:ie}compute(ie,_e,Ne){return Ne}}function f(J,ie){return typeof J=="undefined"?ie:J==="false"?!1:Boolean(J)}e.boolean=f;class m extends C{constructor(ie,_e,Ne,ze=void 0){typeof ze!="undefined"&&(ze.type="boolean",ze.default=Ne),super(ie,_e,Ne,ze)}validate(ie){return f(ie,this.defaultValue)}}class a extends C{constructor(ie,_e,Ne,ze,$e,Ye=void 0){typeof Ye!="undefined"&&(Ye.type="integer",Ye.default=Ne,Ye.minimum=ze,Ye.maximum=$e),super(ie,_e,Ne,Ye),this.minimum=ze,this.maximum=$e}static clampedInt(ie,_e,Ne,ze){if(typeof ie=="undefined")return _e;let $e=parseInt(ie,10);return isNaN($e)?_e:($e=Math.max(Ne,$e),$e=Math.min(ze,$e),$e|0)}validate(ie){return a.clampedInt(ie,this.defaultValue,this.minimum,this.maximum)}}class d extends C{constructor(ie,_e,Ne,ze,$e){typeof $e!="undefined"&&($e.type="number",$e.default=Ne),super(ie,_e,Ne,$e),this.validationFn=ze}static clamp(ie,_e,Ne){return ie<_e?_e:ie>Ne?Ne:ie}static float(ie,_e){if(typeof ie=="number")return ie;if(typeof ie=="undefined")return _e;const Ne=parseFloat(ie);return isNaN(Ne)?_e:Ne}validate(ie){return this.validationFn(d.float(ie,this.defaultValue))}}class E extends C{static string(ie,_e){return typeof ie!="string"?_e:ie}constructor(ie,_e,Ne,ze=void 0){typeof ze!="undefined"&&(ze.type="string",ze.default=Ne),super(ie,_e,Ne,ze)}validate(ie){return E.string(ie,this.defaultValue)}}function b(J,ie,_e){return typeof J!="string"||_e.indexOf(J)===-1?ie:J}e.stringSet=b;class S extends C{constructor(ie,_e,Ne,ze,$e=void 0){typeof $e!="undefined"&&($e.type="string",$e.enum=ze,$e.default=Ne),super(ie,_e,Ne,$e),this._allowedValues=ze}validate(ie){return b(ie,this.defaultValue,this._allowedValues)}}class h extends k{constructor(ie,_e,Ne,ze,$e,Ye,K=void 0){typeof K!="undefined"&&(K.type="string",K.enum=$e,K.default=ze),super(ie,_e,Ne,K),this._allowedValues=$e,this._convert=Ye}validate(ie){return typeof ie!="string"?this.defaultValue:this._allowedValues.indexOf(ie)===-1?this.defaultValue:this._convert(ie)}}function l(J){switch(J){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class g extends k{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[_.localize(0,null),_.localize(1,null),_.localize(2,null)],default:"auto",description:_.localize(3,null)})}validate(ie){switch(ie){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ie,_e,Ne){return Ne===0?ie.accessibilitySupport:Ne}}class t extends k{constructor(){const ie={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",ie,{"editor.comments.insertSpace":{type:"boolean",default:ie.insertSpace,description:_.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ie.ignoreEmptyLines,description:_.localize(5,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{insertSpace:f(_e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:f(_e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var n;(function(J){J[J.Hidden=0]="Hidden",J[J.Blink=1]="Blink",J[J.Smooth=2]="Smooth",J[J.Phase=3]="Phase",J[J.Expand=4]="Expand",J[J.Solid=5]="Solid"})(n=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(J){switch(J){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var r;(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(r=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function o(J){switch(J){case r.Line:return"line";case r.Block:return"block";case r.Underline:return"underline";case r.LineThin:return"line-thin";case r.BlockOutline:return"block-outline";case r.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=o;function c(J){switch(J){case"line":return r.Line;case"block":return r.Block;case"underline":return r.Underline;case"line-thin":return r.LineThin;case"block-outline":return r.BlockOutline;case"underline-thin":return r.UnderlineThin}}class p extends i{constructor(){super(123,[62,31])}compute(ie,_e,Ne){const ze=["monaco-editor"];return _e.get(31)&&ze.push(_e.get(31)),ie.extraEditorClassName&&ze.push(ie.extraEditorClassName),_e.get(62)==="default"?ze.push("mouse-default"):_e.get(62)==="copy"&&ze.push("mouse-copy"),_e.get(97)&&ze.push("showUnused"),_e.get(121)&&ze.push("showDeprecated"),ze.join(" ")}}class v extends m{constructor(){super(30,"emptySelectionClipboard",!0,{description:_.localize(6,null)})}compute(ie,_e,Ne){return Ne&&ie.emptySelectionClipboard}}class u extends k{constructor(){const ie={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",ie,{"editor.find.cursorMoveOnType":{type:"boolean",default:ie.cursorMoveOnType,description:_.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:ie.seedSearchStringFromSelection,description:_.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ie.autoFindInSelection,enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],description:_.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ie.globalFindClipboard,description:_.localize(13,null),included:I.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ie.addExtraSpaceOnTop,description:_.localize(14,null)},"editor.find.loop":{type:"boolean",default:ie.loop,description:_.localize(15,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{cursorMoveOnType:f(_e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:f(_e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof ie.autoFindInSelection=="boolean"?ie.autoFindInSelection?"always":"never":b(_e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:f(_e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:f(_e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:f(_e.loop,this.defaultValue.loop)}}}class w extends k{constructor(){super(41,"fontLigatures",w.OFF,{anyOf:[{type:"boolean",description:_.localize(16,null)},{type:"string",description:_.localize(17,null)}],description:_.localize(18,null),default:!1})}validate(ie){return typeof ie=="undefined"?this.defaultValue:typeof ie=="string"?ie==="false"?w.OFF:ie==="true"?w.ON:ie:Boolean(ie)?w.ON:w.OFF}}e.EditorFontLigatures=w,w.OFF='"liga" off, "calt" off',w.ON='"liga" on, "calt" on';class R extends i{constructor(){super(40)}compute(ie,_e,Ne){return ie.fontInfo}}class N extends C{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:_.localize(19,null)})}validate(ie){let _e=d.float(ie,this.defaultValue);return _e===0?e.EDITOR_FONT_DEFAULTS.fontSize:d.clamp(_e,6,100)}compute(ie,_e,Ne){return ie.fontInfo.fontSize}}class j extends k{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:j.MINIMUM_VALUE,maximum:j.MAXIMUM_VALUE,errorMessage:_.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:j.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:_.localize(21,null)})}validate(ie){return ie==="normal"||ie==="bold"?ie:String(a.clampedInt(ie,e.EDITOR_FONT_DEFAULTS.fontWeight,j.MINIMUM_VALUE,j.MAXIMUM_VALUE))}}j.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],j.MINIMUM_VALUE=1,j.MAXIMUM_VALUE=1e3;class re extends k{constructor(){const ie={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},_e={type:"string",enum:["peek","gotoAndPeek","goto"],default:ie.multiple,enumDescriptions:[_.localize(22,null),_.localize(23,null),_.localize(24,null)]},Ne=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",ie,{"editor.gotoLocation.multiple":{deprecationMessage:_.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:_.localize(26,null)},_e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:_.localize(27,null)},_e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:_.localize(28,null)},_e),"editor.gotoLocation.multipleImplementations":Object.assign({description:_.localize(29,null)},_e),"editor.gotoLocation.multipleReferences":Object.assign({description:_.localize(30,null)},_e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ie.alternativeDefinitionCommand,enum:Ne,description:_.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ie.alternativeTypeDefinitionCommand,enum:Ne,description:_.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ie.alternativeDeclarationCommand,enum:Ne,description:_.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ie.alternativeImplementationCommand,enum:Ne,description:_.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ie.alternativeReferenceCommand,enum:Ne,description:_.localize(35,null)}})}validate(ie){var _e,Ne,ze,$e,Ye;if(!ie||typeof ie!="object")return this.defaultValue;const K=ie;return{multiple:b(K.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(_e=K.multipleDefinitions)!==null&&_e!==void 0?_e:b(K.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ne=K.multipleTypeDefinitions)!==null&&Ne!==void 0?Ne:b(K.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ze=K.multipleDeclarations)!==null&&ze!==void 0?ze:b(K.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:($e=K.multipleImplementations)!==null&&$e!==void 0?$e:b(K.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ye=K.multipleReferences)!==null&&Ye!==void 0?Ye:b(K.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:E.string(K.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:E.string(K.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:E.string(K.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:E.string(K.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:E.string(K.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends k{constructor(){const ie={enabled:!0,delay:300,sticky:!0};super(50,"hover",ie,{"editor.hover.enabled":{type:"boolean",default:ie.enabled,description:_.localize(36,null)},"editor.hover.delay":{type:"number",default:ie.delay,description:_.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:ie.sticky,description:_.localize(38,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),delay:a.clampedInt(_e.delay,this.defaultValue.delay,0,1e4),sticky:f(_e.sticky,this.defaultValue.sticky)}}}var W;(function(J){J[J.None=0]="None",J[J.Text=1]="Text",J[J.Blocks=2]="Blocks"})(W=e.RenderMinimap||(e.RenderMinimap={}));class $ extends i{constructor(){super(126,[46,54,35,61,89,56,57,91,113,116,117,118,2])}compute(ie,_e,Ne){return $.computeLayout(_e,{memory:ie.memory,outerWidth:ie.outerWidth,outerHeight:ie.outerHeight,isDominatedByLongLines:ie.isDominatedByLongLines,lineHeight:ie.fontInfo.lineHeight,viewLineCount:ie.viewLineCount,lineNumbersDigitCount:ie.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ie.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ie.fontInfo.maxDigitWidth,pixelRatio:ie.pixelRatio})}static computeContainedMinimapLineCount(ie){const _e=ie.height/ie.lineHeight,Ne=ie.scrollBeyondLastLine?_e-1:0,ze=(ie.viewLineCount+Ne)/(ie.pixelRatio*ie.height),$e=Math.floor(ie.viewLineCount/ze);return{typicalViewportLineCount:_e,extraLinesBeyondLastLine:Ne,desiredRatio:ze,minimapLineCount:$e}}static _computeMinimapLayout(ie,_e){const Ne=ie.outerWidth,ze=ie.outerHeight,$e=ie.pixelRatio;if(!ie.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor($e*ze),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ze};const Ye=_e.stableMinimapLayoutInput,K=Ye&&ie.outerHeight===Ye.outerHeight&&ie.lineHeight===Ye.lineHeight&&ie.typicalHalfwidthCharacterWidth===Ye.typicalHalfwidthCharacterWidth&&ie.pixelRatio===Ye.pixelRatio&&ie.scrollBeyondLastLine===Ye.scrollBeyondLastLine&&ie.minimap.enabled===Ye.minimap.enabled&&ie.minimap.side===Ye.minimap.side&&ie.minimap.size===Ye.minimap.size&&ie.minimap.showSlider===Ye.minimap.showSlider&&ie.minimap.renderCharacters===Ye.minimap.renderCharacters&&ie.minimap.maxColumn===Ye.minimap.maxColumn&&ie.minimap.scale===Ye.minimap.scale&&ie.verticalScrollbarWidth===Ye.verticalScrollbarWidth&&ie.isViewportWrapping===Ye.isViewportWrapping,se=ie.lineHeight,he=ie.typicalHalfwidthCharacterWidth,Y=ie.scrollBeyondLastLine,ne=ie.minimap.renderCharacters;let ce=$e>=2?Math.round(ie.minimap.scale*2):ie.minimap.scale;const ve=ie.minimap.maxColumn,ye=ie.minimap.size,je=ie.minimap.side,He=ie.verticalScrollbarWidth,We=ie.viewLineCount,Ge=ie.remainingWidth,nt=ie.isViewportWrapping,dt=ne?2:3;let it=Math.floor($e*ze);const Xe=it/$e;let mt=!1,wt=!1,Ee=dt*ce,fe=ce/$e,le=1;if(ye==="fill"||ye==="fit"){const{typicalViewportLineCount:ht,extraLinesBeyondLastLine:Je,desiredRatio:ot,minimapLineCount:ft}=$.computeContainedMinimapLineCount({viewLineCount:We,scrollBeyondLastLine:Y,height:ze,lineHeight:se,pixelRatio:$e});if(We/ft>1)mt=!0,wt=!0,ce=1,Ee=1,fe=ce/$e;else{let St=!1,vt=ce+1;if(ye==="fit"){const kt=Math.ceil((We+Je)*Ee);nt&&K&&Ge<=_e.stableFitRemainingWidth?(St=!0,vt=_e.stableFitMaxMinimapScale):(St=kt>it,nt&&St?(_e.stableMinimapLayoutInput=ie,_e.stableFitRemainingWidth=Ge):(_e.stableMinimapLayoutInput=null,_e.stableFitRemainingWidth=0))}if(ye==="fill"||St){mt=!0;const kt=ce;Ee=Math.min(se*$e,Math.max(1,Math.floor(1/ot))),ce=Math.min(vt,Math.max(1,Math.floor(Ee/dt))),ce>kt&&(le=Math.min(2,ce/kt)),fe=ce/$e/le,it=Math.ceil(Math.max(ht,We+Je)*Ee),nt&&St&&(_e.stableFitMaxMinimapScale=ce)}}}const Z=Math.floor(ve*fe),Fe=Math.min(Z,Math.max(0,Math.floor((Ge-He-2)*fe/(he+fe)))+e.MINIMAP_GUTTER_WIDTH);let Te=Math.floor($e*Fe);const Qe=Te/$e;Te=Math.floor(Te*le);const Ze=ne?1:2,ct=je==="left"?0:Ne-Fe-He;return{renderMinimap:Ze,minimapLeft:ct,minimapWidth:Fe,minimapHeightIsEditorHeight:mt,minimapIsSampling:wt,minimapScale:ce,minimapLineHeight:Ee,minimapCanvasInnerWidth:Te,minimapCanvasInnerHeight:it,minimapCanvasOuterWidth:Qe,minimapCanvasOuterHeight:Xe}}static computeLayout(ie,_e){const Ne=_e.outerWidth|0,ze=_e.outerHeight|0,$e=_e.lineHeight|0,Ye=_e.lineNumbersDigitCount|0,K=_e.typicalHalfwidthCharacterWidth,se=_e.maxDigitWidth,he=_e.pixelRatio,Y=_e.viewLineCount,ne=ie.get(118),ce=ne==="inherit"?ie.get(117):ne,ve=ce==="inherit"?ie.get(113):ce,ye=ie.get(116),je=ie.get(2),He=_e.isDominatedByLongLines,We=ie.get(46),Ge=ie.get(56).renderType!==0,nt=ie.get(57),dt=ie.get(91),it=ie.get(61),Xe=ie.get(89),mt=Xe.verticalScrollbarSize,wt=Xe.verticalHasArrows,Ee=Xe.arrowSize,fe=Xe.horizontalScrollbarSize,le=ie.get(54),Z=ie.get(35);let Fe;if(typeof le=="string"&&/^\d+(\.\d+)?ch$/.test(le)){const _t=parseFloat(le.substr(0,le.length-2));Fe=a.clampedInt(_t*K,0,0,1e3)}else Fe=a.clampedInt(le,0,0,1e3);Z&&(Fe+=16);let Te=0;if(Ge){const _t=Math.max(Ye,nt);Te=Math.round(_t*se)}let Qe=0;We&&(Qe=$e);let Ze=0,ct=Ze+Qe,ht=ct+Te,Je=ht+Fe;const ot=Ne-Qe-Te-Fe;let ft=!1,at=!1,St=-1;je!==2&&(ce==="inherit"&&He?(ft=!0,at=!0):ve==="on"||ve==="bounded"?at=!0:ve==="wordWrapColumn"&&(St=ye));const vt=$._computeMinimapLayout({outerWidth:Ne,outerHeight:ze,lineHeight:$e,typicalHalfwidthCharacterWidth:K,pixelRatio:he,scrollBeyondLastLine:dt,minimap:it,verticalScrollbarWidth:mt,viewLineCount:Y,remainingWidth:ot,isViewportWrapping:at},_e.memory||new D);vt.renderMinimap!==0&&vt.minimapLeft===0&&(Ze+=vt.minimapWidth,ct+=vt.minimapWidth,ht+=vt.minimapWidth,Je+=vt.minimapWidth);const kt=ot-vt.minimapWidth,At=Math.max(1,Math.floor((kt-mt-2)/K)),Tt=wt?Ee:0;return at&&(St=Math.max(1,At),ve==="bounded"&&(St=Math.min(St,ye))),{width:Ne,height:ze,glyphMarginLeft:Ze,glyphMarginWidth:Qe,lineNumbersLeft:ct,lineNumbersWidth:Te,decorationsLeft:ht,decorationsWidth:Fe,contentLeft:Je,contentWidth:kt,minimap:vt,viewportColumn:At,isWordWrapMinified:ft,isViewportWrapping:at,wrappingColumn:St,verticalScrollbarWidth:mt,horizontalScrollbarHeight:fe,overviewRuler:{top:Tt,width:mt,height:ze-2*Tt,right:0}}}}e.EditorLayoutInfoComputer=$;class x extends k{constructor(){const ie={enabled:!0};super(53,"lightbulb",ie,{"editor.lightbulb.enabled":{type:"boolean",default:ie.enabled,description:_.localize(39,null)}})}validate(ie){return!ie||typeof ie!="object"?this.defaultValue:{enabled:f(ie.enabled,this.defaultValue.enabled)}}}class F extends k{constructor(){const ie={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(122,"inlineHints",ie,{"editor.inlineHints.enabled":{type:"boolean",default:ie.enabled,description:_.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:ie.fontSize,description:_.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:ie.fontFamily,description:_.localize(42,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(_e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:E.string(_e.fontFamily,this.defaultValue.fontFamily)}}}class M extends a{constructor(){super(55,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:_.localize(43,null)})}compute(ie,_e,Ne){return ie.fontInfo.lineHeight}}class L extends k{constructor(){const ie={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(61,"minimap",ie,{"editor.minimap.enabled":{type:"boolean",default:ie.enabled,description:_.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[_.localize(45,null),_.localize(46,null),_.localize(47,null)],default:ie.size,description:_.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ie.side,description:_.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ie.showSlider,description:_.localize(50,null)},"editor.minimap.scale":{type:"number",default:ie.scale,minimum:1,maximum:3,enum:[1,2,3],description:_.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ie.renderCharacters,description:_.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:ie.maxColumn,description:_.localize(53,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),size:b(_e.size,this.defaultValue.size,["proportional","fill","fit"]),side:b(_e.side,this.defaultValue.side,["right","left"]),showSlider:b(_e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:f(_e.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(_e.scale,1,1,3),maxColumn:a.clampedInt(_e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function O(J){return J==="ctrlCmd"?I.isMacintosh?"metaKey":"ctrlKey":"altKey"}class B extends k{constructor(){super(71,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:_.localize(55,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{top:a.clampedInt(_e.top,0,0,1e3),bottom:a.clampedInt(_e.bottom,0,0,1e3)}}}class q extends k{constructor(){const ie={enabled:!0,cycle:!1};super(72,"parameterHints",ie,{"editor.parameterHints.enabled":{type:"boolean",default:ie.enabled,description:_.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:ie.cycle,description:_.localize(57,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{enabled:f(_e.enabled,this.defaultValue.enabled),cycle:f(_e.cycle,this.defaultValue.cycle)}}}class Q extends i{constructor(){super(124)}compute(ie,_e,Ne){return ie.pixelRatio}}class de extends k{constructor(){const ie={other:!0,comments:!1,strings:!1};super(75,"quickSuggestions",ie,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:ie.strings,description:_.localize(58,null)},comments:{type:"boolean",default:ie.comments,description:_.localize(59,null)},other:{type:"boolean",default:ie.other,description:_.localize(60,null)}}}],default:ie,description:_.localize(61,null)});this.defaultValue=ie}validate(ie){if(typeof ie=="boolean")return ie;if(ie&&typeof ie=="object"){const _e=ie,Ne={other:f(_e.other,this.defaultValue.other),comments:f(_e.comments,this.defaultValue.comments),strings:f(_e.strings,this.defaultValue.strings)};return Ne.other&&Ne.comments&&Ne.strings?!0:!Ne.other&&!Ne.comments&&!Ne.strings?!1:Ne}return this.defaultValue}}var be;(function(J){J[J.Off=0]="Off",J[J.On=1]="On",J[J.Relative=2]="Relative",J[J.Interval=3]="Interval",J[J.Custom=4]="Custom"})(be=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class Ae extends k{constructor(){super(56,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[_.localize(62,null),_.localize(63,null),_.localize(64,null),_.localize(65,null)],default:"on",description:_.localize(66,null)})}validate(ie){let _e=this.defaultValue.renderType,Ne=this.defaultValue.renderFn;return typeof ie!="undefined"&&(typeof ie=="function"?(_e=4,Ne=ie):ie==="interval"?_e=3:ie==="relative"?_e=2:ie==="on"?_e=1:_e=0),{renderType:_e,renderFn:Ne}}}function Ce(J){const ie=J.get(84);return ie==="editable"?J.get(77):ie!=="on"}e.filterValidationDecorations=Ce;class Le extends k{constructor(){const ie=[],_e={type:"number",description:_.localize(67,null)};super(88,"rulers",ie,{type:"array",items:{anyOf:[_e,{type:["object"],properties:{column:_e,color:{type:"string",description:_.localize(68,null),format:"color-hex"}}}]},default:ie,description:_.localize(69,null)})}validate(ie){if(Array.isArray(ie)){let _e=[];for(let Ne of ie)if(typeof Ne=="number")_e.push({column:a.clampedInt(Ne,0,0,1e4),color:null});else if(Ne&&typeof Ne=="object"){const ze=Ne;_e.push({column:a.clampedInt(ze.column,0,0,1e4),color:ze.color})}return _e.sort((Ne,ze)=>Ne.column-ze.column),_e}return this.defaultValue}}function z(J,ie){if(typeof J!="string")return ie;switch(J){case"hidden":return 2;case"visible":return 3;default:return 1}}class X extends k{constructor(){super(89,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie,Ne=a.clampedInt(_e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ze=a.clampedInt(_e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(_e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:z(_e.vertical,this.defaultValue.vertical),horizontal:z(_e.horizontal,this.defaultValue.horizontal),useShadows:f(_e.useShadows,this.defaultValue.useShadows),verticalHasArrows:f(_e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:f(_e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:f(_e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:f(_e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ne,horizontalSliderSize:a.clampedInt(_e.horizontalSliderSize,Ne,0,1e3),verticalScrollbarSize:ze,verticalSliderSize:a.clampedInt(_e.verticalSliderSize,ze,0,1e3),scrollByPage:f(_e.scrollByPage,this.defaultValue.scrollByPage)}}}class ee extends k{constructor(){const ie={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,"suggest",ie,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[_.localize(70,null),_.localize(71,null)],default:ie.insertMode,description:_.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ie.filterGraceful,description:_.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:ie.localityBonus,description:_.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ie.shareSuggestSelections,markdownDescription:_.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ie.snippetsPreventQuickSuggestions,description:_.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:ie.showIcons,description:_.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ie.showStatusBar,description:_.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ie.showInlineDetails,description:_.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:_.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:_.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:_.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:_.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:_.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:_.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:_.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:_.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:_.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:_.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:_.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:_.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:_.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:_.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:_.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:_.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:_.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:_.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:_.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:_.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:_.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:_.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:_.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:_.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:_.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:_.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:_.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:_.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:_.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:_.localize(109,null)}})}validate(ie){if(!ie||typeof ie!="object")return this.defaultValue;const _e=ie;return{insertMode:b(_e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:f(_e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:f(_e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:f(_e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:f(_e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:f(_e.showIcons,this.defaultValue.showIcons),showStatusBar:f(_e.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:f(_e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:f(_e.showMethods,this.defaultValue.showMethods),showFunctions:f(_e.showFunctions,this.defaultValue.showFunctions),showConstructors:f(_e.showConstructors,this.defaultValue.showConstructors),showFields:f(_e.showFields,this.defaultValue.showFields),showVariables:f(_e.showVariables,this.defaultValue.showVariables),showClasses:f(_e.showClasses,this.defaultValue.showClasses),showStructs:f(_e.showStructs,this.defaultValue.showStructs),showInterfaces:f(_e.showInterfaces,this.defaultValue.showInterfaces),showModules:f(_e.showModules,this.defaultValue.showModules),showProperties:f(_e.showProperties,this.defaultValue.showProperties),showEvents:f(_e.showEvents,this.defaultValue.showEvents),showOperators:f(_e.showOperators,this.defaultValue.showOperators),showUnits:f(_e.showUnits,this.defaultValue.showUnits),showValues:f(_e.showValues,this.defaultValue.showValues),showConstants:f(_e.showConstants,this.defaultValue.showConstants),showEnums:f(_e.showEnums,this.defaultValue.showEnums),showEnumMembers:f(_e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:f(_e.showKeywords,this.defaultValue.showKeywords),showWords:f(_e.showWords,this.defaultValue.showWords),showColors:f(_e.showColors,this.defaultValue.showColors),showFiles:f(_e.showFiles,this.defaultValue.showFiles),showReferences:f(_e.showReferences,this.defaultValue.showReferences),showFolders:f(_e.showFolders,this.defaultValue.showFolders),showTypeParameters:f(_e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:f(_e.showSnippets,this.defaultValue.showSnippets),showUsers:f(_e.showUsers,this.defaultValue.showUsers),showIssues:f(_e.showIssues,this.defaultValue.showIssues)}}}class ae extends k{constructor(){super(99,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:_.localize(110,null),default:!0,type:"boolean"}})}validate(ie){return!ie||typeof ie!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:f(ie.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class me extends i{constructor(){super(125,[77])}compute(ie,_e,Ne){return _e.get(77)?!0:ie.tabFocusMode}}var De;(function(J){J[J.None=0]="None",J[J.Same=1]="Same",J[J.Indent=2]="Indent",J[J.DeepIndent=3]="DeepIndent"})(De=e.WrappingIndent||(e.WrappingIndent={}));function Oe(J){switch(J){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class we extends i{constructor(){super(127,[126])}compute(ie,_e,Ne){const ze=_e.get(126);return{isDominatedByLongLines:ie.isDominatedByLongLines,isWordWrapMinified:ze.isWordWrapMinified,isViewportWrapping:ze.isViewportWrapping,wrappingColumn:ze.wrappingColumn}}}const Pe="Consolas, 'Courier New', monospace",Re="Menlo, Monaco, 'Courier New', monospace",Be="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:I.isMacintosh?Re:I.isLinux?Be:Pe,fontWeight:"normal",fontSize:I.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Se(J){return e.editorOptionsRegistry[J.id]=J,J}var qe;(function(J){J[J.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",J[J.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",J[J.accessibilitySupport=2]="accessibilitySupport",J[J.accessibilityPageSize=3]="accessibilityPageSize",J[J.ariaLabel=4]="ariaLabel",J[J.autoClosingBrackets=5]="autoClosingBrackets",J[J.autoClosingDelete=6]="autoClosingDelete",J[J.autoClosingOvertype=7]="autoClosingOvertype",J[J.autoClosingQuotes=8]="autoClosingQuotes",J[J.autoIndent=9]="autoIndent",J[J.automaticLayout=10]="automaticLayout",J[J.autoSurround=11]="autoSurround",J[J.codeLens=12]="codeLens",J[J.codeLensFontFamily=13]="codeLensFontFamily",J[J.codeLensFontSize=14]="codeLensFontSize",J[J.colorDecorators=15]="colorDecorators",J[J.columnSelection=16]="columnSelection",J[J.comments=17]="comments",J[J.contextmenu=18]="contextmenu",J[J.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",J[J.cursorBlinking=20]="cursorBlinking",J[J.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",J[J.cursorStyle=22]="cursorStyle",J[J.cursorSurroundingLines=23]="cursorSurroundingLines",J[J.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",J[J.cursorWidth=25]="cursorWidth",J[J.disableLayerHinting=26]="disableLayerHinting",J[J.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",J[J.domReadOnly=28]="domReadOnly",J[J.dragAndDrop=29]="dragAndDrop",J[J.emptySelectionClipboard=30]="emptySelectionClipboard",J[J.extraEditorClassName=31]="extraEditorClassName",J[J.fastScrollSensitivity=32]="fastScrollSensitivity",J[J.find=33]="find",J[J.fixedOverflowWidgets=34]="fixedOverflowWidgets",J[J.folding=35]="folding",J[J.foldingStrategy=36]="foldingStrategy",J[J.foldingHighlight=37]="foldingHighlight",J[J.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",J[J.fontFamily=39]="fontFamily",J[J.fontInfo=40]="fontInfo",J[J.fontLigatures=41]="fontLigatures",J[J.fontSize=42]="fontSize",J[J.fontWeight=43]="fontWeight",J[J.formatOnPaste=44]="formatOnPaste",J[J.formatOnType=45]="formatOnType",J[J.glyphMargin=46]="glyphMargin",J[J.gotoLocation=47]="gotoLocation",J[J.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",J[J.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",J[J.hover=50]="hover",J[J.inDiffEditor=51]="inDiffEditor",J[J.letterSpacing=52]="letterSpacing",J[J.lightbulb=53]="lightbulb",J[J.lineDecorationsWidth=54]="lineDecorationsWidth",J[J.lineHeight=55]="lineHeight",J[J.lineNumbers=56]="lineNumbers",J[J.lineNumbersMinChars=57]="lineNumbersMinChars",J[J.linkedEditing=58]="linkedEditing",J[J.links=59]="links",J[J.matchBrackets=60]="matchBrackets",J[J.minimap=61]="minimap",J[J.mouseStyle=62]="mouseStyle",J[J.mouseWheelScrollSensitivity=63]="mouseWheelScrollSensitivity",J[J.mouseWheelZoom=64]="mouseWheelZoom",J[J.multiCursorMergeOverlapping=65]="multiCursorMergeOverlapping",J[J.multiCursorModifier=66]="multiCursorModifier",J[J.multiCursorPaste=67]="multiCursorPaste",J[J.occurrencesHighlight=68]="occurrencesHighlight",J[J.overviewRulerBorder=69]="overviewRulerBorder",J[J.overviewRulerLanes=70]="overviewRulerLanes",J[J.padding=71]="padding",J[J.parameterHints=72]="parameterHints",J[J.peekWidgetDefaultFocus=73]="peekWidgetDefaultFocus",J[J.definitionLinkOpensInPeek=74]="definitionLinkOpensInPeek",J[J.quickSuggestions=75]="quickSuggestions",J[J.quickSuggestionsDelay=76]="quickSuggestionsDelay",J[J.readOnly=77]="readOnly",J[J.renameOnType=78]="renameOnType",J[J.renderControlCharacters=79]="renderControlCharacters",J[J.renderIndentGuides=80]="renderIndentGuides",J[J.renderFinalNewline=81]="renderFinalNewline",J[J.renderLineHighlight=82]="renderLineHighlight",J[J.renderLineHighlightOnlyWhenFocus=83]="renderLineHighlightOnlyWhenFocus",J[J.renderValidationDecorations=84]="renderValidationDecorations",J[J.renderWhitespace=85]="renderWhitespace",J[J.revealHorizontalRightPadding=86]="revealHorizontalRightPadding",J[J.roundedSelection=87]="roundedSelection",J[J.rulers=88]="rulers",J[J.scrollbar=89]="scrollbar",J[J.scrollBeyondLastColumn=90]="scrollBeyondLastColumn",J[J.scrollBeyondLastLine=91]="scrollBeyondLastLine",J[J.scrollPredominantAxis=92]="scrollPredominantAxis",J[J.selectionClipboard=93]="selectionClipboard",J[J.selectionHighlight=94]="selectionHighlight",J[J.selectOnLineNumbers=95]="selectOnLineNumbers",J[J.showFoldingControls=96]="showFoldingControls",J[J.showUnused=97]="showUnused",J[J.snippetSuggestions=98]="snippetSuggestions",J[J.smartSelect=99]="smartSelect",J[J.smoothScrolling=100]="smoothScrolling",J[J.stickyTabStops=101]="stickyTabStops",J[J.stopRenderingLineAfter=102]="stopRenderingLineAfter",J[J.suggest=103]="suggest",J[J.suggestFontSize=104]="suggestFontSize",J[J.suggestLineHeight=105]="suggestLineHeight",J[J.suggestOnTriggerCharacters=106]="suggestOnTriggerCharacters",J[J.suggestSelection=107]="suggestSelection",J[J.tabCompletion=108]="tabCompletion",J[J.tabIndex=109]="tabIndex",J[J.unusualLineTerminators=110]="unusualLineTerminators",J[J.useTabStops=111]="useTabStops",J[J.wordSeparators=112]="wordSeparators",J[J.wordWrap=113]="wordWrap",J[J.wordWrapBreakAfterCharacters=114]="wordWrapBreakAfterCharacters",J[J.wordWrapBreakBeforeCharacters=115]="wordWrapBreakBeforeCharacters",J[J.wordWrapColumn=116]="wordWrapColumn",J[J.wordWrapOverride1=117]="wordWrapOverride1",J[J.wordWrapOverride2=118]="wordWrapOverride2",J[J.wrappingIndent=119]="wrappingIndent",J[J.wrappingStrategy=120]="wrappingStrategy",J[J.showDeprecated=121]="showDeprecated",J[J.inlineHints=122]="inlineHints",J[J.editorClassName=123]="editorClassName",J[J.pixelRatio=124]="pixelRatio",J[J.tabFocusMode=125]="tabFocusMode",J[J.layoutInfo=126]="layoutInfo",J[J.wrappingInfo=127]="wrappingInfo"})(qe=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Se(new m(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:_.localize(111,null)})),acceptSuggestionOnEnter:Se(new S(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",_.localize(112,null),""],markdownDescription:_.localize(113,null)})),accessibilitySupport:Se(new g),accessibilityPageSize:Se(new a(3,"accessibilityPageSize",10,1,1073741824,{description:_.localize(114,null)})),ariaLabel:Se(new E(4,"ariaLabel",_.localize(115,null))),autoClosingBrackets:Se(new S(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(116,null),_.localize(117,null),""],description:_.localize(118,null)})),autoClosingDelete:Se(new S(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",_.localize(119,null),""],description:_.localize(120,null)})),autoClosingOvertype:Se(new S(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",_.localize(121,null),""],description:_.localize(122,null)})),autoClosingQuotes:Se(new S(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",_.localize(123,null),_.localize(124,null),""],description:_.localize(125,null)})),autoIndent:Se(new h(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],l,{enumDescriptions:[_.localize(126,null),_.localize(127,null),_.localize(128,null),_.localize(129,null),_.localize(130,null)],description:_.localize(131,null)})),automaticLayout:Se(new m(10,"automaticLayout",!1)),autoSurround:Se(new S(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[_.localize(132,null),_.localize(133,null),_.localize(134,null),""],description:_.localize(135,null)})),stickyTabStops:Se(new m(101,"stickyTabStops",!1,{description:_.localize(136,null)})),codeLens:Se(new m(12,"codeLens",!0,{description:_.localize(137,null)})),codeLensFontFamily:Se(new E(13,"codeLensFontFamily","",{description:_.localize(138,null)})),codeLensFontSize:Se(new a(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:_.localize(139,null)})),colorDecorators:Se(new m(15,"colorDecorators",!0,{description:_.localize(140,null)})),columnSelection:Se(new m(16,"columnSelection",!1,{description:_.localize(141,null)})),comments:Se(new t),contextmenu:Se(new m(18,"contextmenu",!0)),copyWithSyntaxHighlighting:Se(new m(19,"copyWithSyntaxHighlighting",!0,{description:_.localize(142,null)})),cursorBlinking:Se(new h(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],s,{description:_.localize(143,null)})),cursorSmoothCaretAnimation:Se(new m(21,"cursorSmoothCaretAnimation",!1,{description:_.localize(144,null)})),cursorStyle:Se(new h(22,"cursorStyle",r.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],c,{description:_.localize(145,null)})),cursorSurroundingLines:Se(new a(23,"cursorSurroundingLines",0,0,1073741824,{description:_.localize(146,null)})),cursorSurroundingLinesStyle:Se(new S(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[_.localize(147,null),_.localize(148,null)],description:_.localize(149,null)})),cursorWidth:Se(new a(25,"cursorWidth",0,0,1073741824,{markdownDescription:_.localize(150,null)})),disableLayerHinting:Se(new m(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:Se(new m(27,"disableMonospaceOptimizations",!1)),domReadOnly:Se(new m(28,"domReadOnly",!1)),dragAndDrop:Se(new m(29,"dragAndDrop",!0,{description:_.localize(151,null)})),emptySelectionClipboard:Se(new v),extraEditorClassName:Se(new E(31,"extraEditorClassName","")),fastScrollSensitivity:Se(new d(32,"fastScrollSensitivity",5,J=>J<=0?5:J,{markdownDescription:_.localize(152,null)})),find:Se(new u),fixedOverflowWidgets:Se(new m(34,"fixedOverflowWidgets",!1)),folding:Se(new m(35,"folding",!0,{description:_.localize(153,null)})),foldingStrategy:Se(new S(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[_.localize(154,null),_.localize(155,null)],description:_.localize(156,null)})),foldingHighlight:Se(new m(37,"foldingHighlight",!0,{description:_.localize(157,null)})),unfoldOnClickAfterEndOfLine:Se(new m(38,"unfoldOnClickAfterEndOfLine",!1,{description:_.localize(158,null)})),fontFamily:Se(new E(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:_.localize(159,null)})),fontInfo:Se(new R),fontLigatures2:Se(new w),fontSize:Se(new N),fontWeight:Se(new j),formatOnPaste:Se(new m(44,"formatOnPaste",!1,{description:_.localize(160,null)})),formatOnType:Se(new m(45,"formatOnType",!1,{description:_.localize(161,null)})),glyphMargin:Se(new m(46,"glyphMargin",!0,{description:_.localize(162,null)})),gotoLocation:Se(new re),hideCursorInOverviewRuler:Se(new m(48,"hideCursorInOverviewRuler",!1,{description:_.localize(163,null)})),highlightActiveIndentGuide:Se(new m(49,"highlightActiveIndentGuide",!0,{description:_.localize(164,null)})),hover:Se(new V),inDiffEditor:Se(new m(51,"inDiffEditor",!1)),letterSpacing:Se(new d(52,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,J=>d.clamp(J,-5,20),{description:_.localize(165,null)})),lightbulb:Se(new x),lineDecorationsWidth:Se(new C(54,"lineDecorationsWidth",10)),lineHeight:Se(new M),lineNumbers:Se(new Ae),lineNumbersMinChars:Se(new a(57,"lineNumbersMinChars",5,1,300)),linkedEditing:Se(new m(58,"linkedEditing",!1,{description:_.localize(166,null)})),links:Se(new m(59,"links",!0,{description:_.localize(167,null)})),matchBrackets:Se(new S(60,"matchBrackets","always",["always","near","never"],{description:_.localize(168,null)})),minimap:Se(new L),mouseStyle:Se(new S(62,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Se(new d(63,"mouseWheelScrollSensitivity",1,J=>J===0?1:J,{markdownDescription:_.localize(169,null)})),mouseWheelZoom:Se(new m(64,"mouseWheelZoom",!1,{markdownDescription:_.localize(170,null)})),multiCursorMergeOverlapping:Se(new m(65,"multiCursorMergeOverlapping",!0,{description:_.localize(171,null)})),multiCursorModifier:Se(new h(66,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],O,{markdownEnumDescriptions:[_.localize(172,null),_.localize(173,null)],markdownDescription:_.localize(174,null)})),multiCursorPaste:Se(new S(67,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[_.localize(175,null),_.localize(176,null)],markdownDescription:_.localize(177,null)})),occurrencesHighlight:Se(new m(68,"occurrencesHighlight",!0,{description:_.localize(178,null)})),overviewRulerBorder:Se(new m(69,"overviewRulerBorder",!0,{description:_.localize(179,null)})),overviewRulerLanes:Se(new a(70,"overviewRulerLanes",3,0,3)),padding:Se(new B),parameterHints:Se(new q),peekWidgetDefaultFocus:Se(new S(73,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[_.localize(180,null),_.localize(181,null)],description:_.localize(182,null)})),definitionLinkOpensInPeek:Se(new m(74,"definitionLinkOpensInPeek",!1,{description:_.localize(183,null)})),quickSuggestions:Se(new de),quickSuggestionsDelay:Se(new a(76,"quickSuggestionsDelay",10,0,1073741824,{description:_.localize(184,null)})),readOnly:Se(new m(77,"readOnly",!1)),renameOnType:Se(new m(78,"renameOnType",!1,{description:_.localize(185,null),markdownDeprecationMessage:_.localize(186,null)})),renderControlCharacters:Se(new m(79,"renderControlCharacters",!1,{description:_.localize(187,null)})),renderIndentGuides:Se(new m(80,"renderIndentGuides",!0,{description:_.localize(188,null)})),renderFinalNewline:Se(new m(81,"renderFinalNewline",!0,{description:_.localize(189,null)})),renderLineHighlight:Se(new S(82,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",_.localize(190,null)],description:_.localize(191,null)})),renderLineHighlightOnlyWhenFocus:Se(new m(83,"renderLineHighlightOnlyWhenFocus",!1,{description:_.localize(192,null)})),renderValidationDecorations:Se(new S(84,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Se(new S(85,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",_.localize(193,null),_.localize(194,null),_.localize(195,null),""],description:_.localize(196,null)})),revealHorizontalRightPadding:Se(new a(86,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Se(new m(87,"roundedSelection",!0,{description:_.localize(197,null)})),rulers:Se(new Le),scrollbar:Se(new X),scrollBeyondLastColumn:Se(new a(90,"scrollBeyondLastColumn",5,0,1073741824,{description:_.localize(198,null)})),scrollBeyondLastLine:Se(new m(91,"scrollBeyondLastLine",!0,{description:_.localize(199,null)})),scrollPredominantAxis:Se(new m(92,"scrollPredominantAxis",!0,{description:_.localize(200,null)})),selectionClipboard:Se(new m(93,"selectionClipboard",!0,{description:_.localize(201,null),included:I.isLinux})),selectionHighlight:Se(new m(94,"selectionHighlight",!0,{description:_.localize(202,null)})),selectOnLineNumbers:Se(new m(95,"selectOnLineNumbers",!0)),showFoldingControls:Se(new S(96,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[_.localize(203,null),_.localize(204,null)],description:_.localize(205,null)})),showUnused:Se(new m(97,"showUnused",!0,{description:_.localize(206,null)})),showDeprecated:Se(new m(121,"showDeprecated",!0,{description:_.localize(207,null)})),inlineHints:Se(new F),snippetSuggestions:Se(new S(98,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[_.localize(208,null),_.localize(209,null),_.localize(210,null),_.localize(211,null)],description:_.localize(212,null)})),smartSelect:Se(new ae),smoothScrolling:Se(new m(100,"smoothScrolling",!1,{description:_.localize(213,null)})),stopRenderingLineAfter:Se(new a(102,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Se(new ee),suggestFontSize:Se(new a(104,"suggestFontSize",0,0,1e3,{markdownDescription:_.localize(214,null)})),suggestLineHeight:Se(new a(105,"suggestLineHeight",0,0,1e3,{markdownDescription:_.localize(215,null)})),suggestOnTriggerCharacters:Se(new m(106,"suggestOnTriggerCharacters",!0,{description:_.localize(216,null)})),suggestSelection:Se(new S(107,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[_.localize(217,null),_.localize(218,null),_.localize(219,null)],description:_.localize(220,null)})),tabCompletion:Se(new S(108,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[_.localize(221,null),_.localize(222,null),_.localize(223,null)],description:_.localize(224,null)})),tabIndex:Se(new a(109,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Se(new S(110,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[_.localize(225,null),_.localize(226,null),_.localize(227,null)],description:_.localize(228,null)})),useTabStops:Se(new m(111,"useTabStops",!0,{description:_.localize(229,null)})),wordSeparators:Se(new E(112,"wordSeparators",T.USUAL_WORD_SEPARATORS,{description:_.localize(230,null)})),wordWrap:Se(new S(113,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[_.localize(231,null),_.localize(232,null),_.localize(233,null),_.localize(234,null)],description:_.localize(235,null)})),wordWrapBreakAfterCharacters:Se(new E(114,"wordWrapBreakAfterCharacters"," })]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Se(new E(115,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Se(new a(116,"wordWrapColumn",80,1,1073741824,{markdownDescription:_.localize(236,null)})),wordWrapOverride1:Se(new S(117,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Se(new S(118,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Se(new h(119,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Oe,{enumDescriptions:[_.localize(237,null),_.localize(238,null),_.localize(239,null),_.localize(240,null)],description:_.localize(241,null)})),wrappingStrategy:Se(new S(120,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[_.localize(242,null),_.localize(243,null)],description:_.localize(244,null)})),editorClassName:Se(new p),pixelRatio:Se(new Q),tabFocusMode:Se(new me),layoutInfo:Se(new $),wrappingInfo:Se(new we)}}),define(ge[152],pe([18,19]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ge[153],pe([18,19]),function(G,e){return G.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ge[154],pe([18,19]),function(G,e){return G.create("vs/platform/extensions/common/extensionValidator",e)}),define(ge[155],pe([18,19]),function(G,e){return G.create("vs/platform/files/common/files",e)}),define(ge[156],pe([18,19]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(ge[157],pe([18,19]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(ge[158],pe([18,19]),function(G,e){return G.create("vs/platform/workspaces/common/workspaces",e)}),define(ge[159],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHost.api.impl",e)}),define(ge[160],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ge[161],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ge[162],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostProgress",e)}),define(ge[163],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ge[164],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ge[165],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ge[166],pe([18,19]),function(G,e){return G.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ge[167],pe([18,19]),function(G,e){return G.create("vs/workbench/api/node/extHostDebugService",e)}),define(ge[168],pe([18,19]),function(G,e){return G.create("vs/workbench/common/views",e)}),define(ge[169],pe([18,19]),function(G,e){return G.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ge[170],pe([18,19]),function(G,e){return G.create("vs/workbench/contrib/debug/node/debugAdapter",e)}),define(ge[171],pe([18,19]),function(G,e){return G.create("vs/workbench/contrib/externalTerminal/node/externalTerminalService",e)}),define(ge[172],pe([18,19]),function(G,e){return G.create("vs/workbench/contrib/search/common/queryBuilder",e)}),define(ge[173],pe([18,19]),function(G,e){return G.create("vs/workbench/contrib/tasks/common/taskService",e)}),define(ge[174],pe([18,19]),function(G,e){return G.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ge[175],pe([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextEditorSelectionRevealType=e.EditorOpenContext=e.EditorOverride=e.EditorActivation=void 0;var _;(function(y){y[y.ACTIVATE=0]="ACTIVATE",y[y.RESTORE=1]="RESTORE",y[y.PRESERVE=2]="PRESERVE"})(_=e.EditorActivation||(e.EditorActivation={}));var I;(function(y){y[y.PICK=1]="PICK",y[y.DISABLED=2]="DISABLED"})(I=e.EditorOverride||(e.EditorOverride={}));var T;(function(y){y[y.API=0]="API",y[y.USER=1]="USER"})(T=e.EditorOpenContext||(e.EditorOpenContext={}));var A;(function(y){y[y.Center=0]="Center",y[y.CenterIfOutsideViewport=1]="CenterIfOutsideViewport",y[y.NearTop=2]="NearTop",y[y.NearTopIfOutsideViewport=3]="NearTopIfOutsideViewport"})(A=e.TextEditorSelectionRevealType||(e.TextEditorSelectionRevealType={}))}),define(ge[176],pe([0,1,154]),function(G,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVersionValid=e.isEngineValid=e.isValidExtensionVersion=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const I=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/;function T(C){return C=C.trim(),C==="*"||I.test(C)}e.isValidVersionStr=T;function A(C){if(!T(C))return null;if(C=C.trim(),C==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};let f=C.match(I);return f?{hasCaret:f[1]==="^",hasGreaterEquals:f[1]===">=",majorBase:f[2]==="x"?0:parseInt(f[2],10),majorMustEqual:f[2]!=="x",minorBase:f[4]==="x"?0:parseInt(f[4],10),minorMustEqual:f[4]!=="x",patchBase:f[6]==="x"?0:parseInt(f[6],10),patchMustEqual:f[6]!=="x",preRelease:f[8]||null}:null}e.parseVersion=A;function y(C){if(!C)return null;let f=C.majorBase,m=C.majorMustEqual,a=C.minorBase,d=C.minorMustEqual,E=C.patchBase,b=C.patchMustEqual;return C.hasCaret&&(f===0||(d=!1),b=!1),{majorBase:f,majorMustEqual:m,minorBase:a,minorMustEqual:d,patchBase:E,patchMustEqual:b,isMinimum:C.hasGreaterEquals}}e.normalizeVersion=y;function P(C,f){let m;typeof C=="string"?m=y(A(C)):m=C;let a;if(typeof f=="string"?a=y(A(f)):a=f,!m||!a)return!1;let d=m.majorBase,E=m.minorBase,b=m.patchBase,S=a.majorBase,h=a.minorBase,l=a.patchBase,g=a.majorMustEqual,t=a.minorMustEqual,n=a.patchMustEqual;return a.isMinimum?d>S?!0:d<S?!1:E>h?!0:E<h?!1:b>=l:(d===1&&S===0&&(!g||!t||!n)&&(S=1,h=0,l=0,g=!0,t=!1,n=!1),d<S?!1:d>S?!g:E<h?!1:E>h?!t:b<l?!1:b>l?!n:!0)}e.isValidVersion=P;function D(C,f,m){return f.isBuiltin||typeof f.main=="undefined"?!0:i(C,f.engines.vscode,m)}e.isValidExtensionVersion=D;function k(C,f){return C==="*"||i(f,C)}e.isEngineValid=k;function i(C,f,m=[]){let a=y(A(f));if(!a)return m.push(_.localize(0,null,f)),!1;if(a.majorBase===0){if(!a.majorMustEqual||!a.minorMustEqual)return m.push(_.localize(1,null,f)),!1}else if(!a.majorMustEqual)return m.push(_.localize(2,null,f)),!1;return P(C,a)?!0:(m.push(_.localize(3,null,C,f)),!1)}e.isVersionValid=i}),define(ge[112],pe([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class _{constructor(A,y=[],P=!1){this.ctor=A,this.staticArguments=y,this.supportsDelayedInstantiation=P}}e.SyncDescriptor=_;const I=(T,...A)=>new _(T,A);e.createSyncDescriptor=I}),define(ge[79],pe([0,1,112]),function(G,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const I=[];function T(y,P,D){P instanceof _.SyncDescriptor||(P=new _.SyncDescriptor(P,[],D)),I.push([y,P])}e.registerSingleton=T;function A(){return I}e.getSingletonServiceDescriptors=A}),define(ge[177],pe([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class _{constructor(A){this.incoming=new Map,this.outgoing=new Map,this.data=A}}e.Node=_;class I{constructor(A){this._hashFn=A,this._nodes=new Map}roots(){const A=[];for(let y of this._nodes.values())y.outgoing.size===0&&A.push(y);return A}insertEdge(A,y){const P=this.lookupOrInsertNode(A),D=this.lookupOrInsertNode(y);P.outgoing.set(this._hashFn(y),D),D.incoming.set(this._hashFn(A),P)}removeNode(A){const y=this._hashFn(A);this._nodes.delete(y);for(let P of this._nodes.values())P.outgoing.delete(y),P.incoming.delete(y)}lookupOrInsertNode(A){const y=this._hashFn(A);let P=this._nodes.get(y);return P||(P=new _(A),this._nodes.set(y,P)),P}lookup(A){return this._nodes.get(this._hashFn(A))}isEmpty(){return this._nodes.size===0}toString(){let A=[];for(let[y,P]of this._nodes)A.push(`${y}, (incoming)[${[...P.incoming.keys()].join(", ")}], (outgoing)[${[...P.outgoing.keys()].join(",")}]`);return A.join(`
           排查参考：[1]rpm -qa /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js [2]strings /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js
[43][风险] 黑客在2021-05-12 09:56:42时间，植入了恶意文件/root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py，反弹shell类： # certain interactive subprocesses, such as bash -i.
           排查参考：[1]rpm -qa /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py [2]strings /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py

初步处理方案如下(请核实后操作)：
[1] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件
[2] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/http-proxy-agent/README.md #删除恶意文件
[3] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/https-proxy-agent/README.md #删除恶意文件
[4] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/node_modules/vscode-ripgrep/node_modules/https-proxy-agent/README.md #删除恶意文件
[5] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件
[6] rm /root/.vscode-server/bin/e790b931385d72cf5669fcefc51cdf65990efa5d/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件
[7] rm /root/anaconda3/pkgs/jupyter_client-6.1.7-py_0/site-packages/jupyter_client/launcher.py #删除恶意文件
[8] rm /root/anaconda3/lib/python3.8/site-packages/jupyter_client/launcher.py #删除恶意文件
[9] rm /root/anaconda3/pkgs/conda-4.9.2-py38h06a4308_0/info/test/tests/gateways/test_logging.py #删除恶意文件
[10] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[11] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[12] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[13] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[14] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[15] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[16] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[17] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[18] vi /etc/sysconfig/iptables #删除或者更改ACCEPT配置
[19] vi /etc/resolv.conf #删除或者更改DNS境外配置
[20] rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件
[21] rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件
[22] rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件
[23] rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件
[24] rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件
[25] rm /root/.vscode-server/bin/f30a9b73e8ffc278e71575118b6bf568f04587c8/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件
[26] rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件
[27] rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件
[28] rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件
[29] rm /root/.vscode-server/bin/2b9aebd5354a3629c3aba0a5f5df49f43d6689f8/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件
[30] vi /root/.ssh/authorized_keys #删除证书设置
[31] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件
[32] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件
[33] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件
[34] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/platform/terminal/node/ptyHostMain.js #删除恶意文件
[35] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件
[36] rm /root/.vscode-server/bin/3c4e3df9e89829dce27b7b5c24508306b151f30d/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件
[37] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.node-debug/dist/nodeDebug.js #删除恶意文件
[38] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/bootloader.bundle.js #删除恶意文件
[39] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/extensions/ms-vscode.js-debug/src/extension.js #删除恶意文件
[40] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/platform/terminal/node/ptyHostMain.js #删除恶意文件
[41] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostAgent.js #删除恶意文件
[42] rm /root/.vscode-server/bin/cfa2e218100323074ac1948c885448fdf4de2a7f/out/vs/server/remoteExtensionHostProcess.js #删除恶意文件
[43] rm /root/.vscode-server/extensions/ms-toolsai.jupyter-2021.6.832593372/pythonFiles/vscode_datascience_helpers/kernel_launcher.py #删除恶意文件
