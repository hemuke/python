统筹方法(华罗庚)

阿姆达尔定律


例子：统筹方法
1）读取磁盘准备计算数据3s
2）网络下载配置数据5s
3）复杂傅里叶变换运算25s
4）生成结果报表1s
串行执行3+5+25+1 = 34s

使用统筹方法(华罗庚)
并行的执行 第一步 和 第二步
5+25+1 = 31s


如果有4核心的CPU
3-1 3-2
3-3 3-4
5 + 6.25 + 1 = 12.25s
6个线程


理论最大加速比
S(N) = 1 / ((1 - P) + P/N)
N：N个处理核 
P: 可加速时间占比
N = 4
P = 25s /31s = 0.8065
s(4) = 1 / ((1 - 0.8065) + 0.8065/4) = 1 / 0.3951 = 2.53

31/12.25 * 100% = 253.06%

因此当N增长到一定的数量时候 性能并不会优化的很厉害



线程越多，性能越好？
1）线程数和CPU核是有关系的
2）CPU密集型 推荐 N+1
3）IO密集型 推荐 2N+1

线程越多会引起线程之间竞争CPU的资源

线程过多频繁切换成本高，线程准备时间30% 线程执行时间70%
如果线程变多，线程的准备时间不会多，但是累加起来变多，导致线程准备时间50%，线程
